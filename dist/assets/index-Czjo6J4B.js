function Bq(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qq(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function a(){var s=!1;try{s=this instanceof a}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var k1={exports:{}},Gp={},O1={exports:{}},Sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3;function zq(){if(h3)return Sr;h3=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(Q){return Q===null||typeof Q!="object"?null:(Q=f&&Q[f]||Q["@@iterator"],typeof Q=="function"?Q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function x(Q,$,K){this.props=Q,this.context=$,this.refs=y,this.updater=K||v}x.prototype.isReactComponent={},x.prototype.setState=function(Q,$){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,$,"setState")},x.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function j(){}j.prototype=x.prototype;function b(Q,$,K){this.props=Q,this.context=$,this.refs=y,this.updater=K||v}var N=b.prototype=new j;N.constructor=b,g(N,x.prototype),N.isPureReactComponent=!0;var P=Array.isArray,I=Object.prototype.hasOwnProperty,w={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(Q,$,K){var te,se={},oe=null,me=null;if($!=null)for(te in $.ref!==void 0&&(me=$.ref),$.key!==void 0&&(oe=""+$.key),$)I.call($,te)&&!E.hasOwnProperty(te)&&(se[te]=$[te]);var ve=arguments.length-2;if(ve===1)se.children=K;else if(1<ve){for(var pe=Array(ve),we=0;we<ve;we++)pe[we]=arguments[we+2];se.children=pe}if(Q&&Q.defaultProps)for(te in ve=Q.defaultProps,ve)se[te]===void 0&&(se[te]=ve[te]);return{$$typeof:e,type:Q,key:oe,ref:me,props:se,_owner:w.current}}function _(Q,$){return{$$typeof:e,type:Q.type,key:$,ref:Q.ref,props:Q.props,_owner:Q._owner}}function M(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function k(Q){var $={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(K){return $[K]})}var D=/\/+/g;function R(Q,$){return typeof Q=="object"&&Q!==null&&Q.key!=null?k(""+Q.key):$.toString(36)}function F(Q,$,K,te,se){var oe=typeof Q;(oe==="undefined"||oe==="boolean")&&(Q=null);var me=!1;if(Q===null)me=!0;else switch(oe){case"string":case"number":me=!0;break;case"object":switch(Q.$$typeof){case e:case t:me=!0}}if(me)return me=Q,se=se(me),Q=te===""?"."+R(me,0):te,P(se)?(K="",Q!=null&&(K=Q.replace(D,"$&/")+"/"),F(se,$,K,"",function(we){return we})):se!=null&&(M(se)&&(se=_(se,K+(!se.key||me&&me.key===se.key?"":(""+se.key).replace(D,"$&/")+"/")+Q)),$.push(se)),1;if(me=0,te=te===""?".":te+":",P(Q))for(var ve=0;ve<Q.length;ve++){oe=Q[ve];var pe=te+R(oe,ve);me+=F(oe,$,K,pe,se)}else if(pe=p(Q),typeof pe=="function")for(Q=pe.call(Q),ve=0;!(oe=Q.next()).done;)oe=oe.value,pe=te+R(oe,ve++),me+=F(oe,$,K,pe,se);else if(oe==="object")throw $=String(Q),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return me}function z(Q,$,K){if(Q==null)return Q;var te=[],se=0;return F(Q,te,"","",function(oe){return $.call(K,oe,se++)}),te}function V(Q){if(Q._status===-1){var $=Q._result;$=$(),$.then(function(K){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=K)},function(K){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=K)}),Q._status===-1&&(Q._status=0,Q._result=$)}if(Q._status===1)return Q._result.default;throw Q._result}var B={current:null},H={transition:null},G={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:H,ReactCurrentOwner:w};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Sr.Children={map:z,forEach:function(Q,$,K){z(Q,function(){$.apply(this,arguments)},K)},count:function(Q){var $=0;return z(Q,function(){$++}),$},toArray:function(Q){return z(Q,function($){return $})||[]},only:function(Q){if(!M(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Sr.Component=x,Sr.Fragment=n,Sr.Profiler=s,Sr.PureComponent=b,Sr.StrictMode=a,Sr.Suspense=c,Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Sr.act=Z,Sr.cloneElement=function(Q,$,K){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var te=g({},Q.props),se=Q.key,oe=Q.ref,me=Q._owner;if($!=null){if($.ref!==void 0&&(oe=$.ref,me=w.current),$.key!==void 0&&(se=""+$.key),Q.type&&Q.type.defaultProps)var ve=Q.type.defaultProps;for(pe in $)I.call($,pe)&&!E.hasOwnProperty(pe)&&(te[pe]=$[pe]===void 0&&ve!==void 0?ve[pe]:$[pe])}var pe=arguments.length-2;if(pe===1)te.children=K;else if(1<pe){ve=Array(pe);for(var we=0;we<pe;we++)ve[we]=arguments[we+2];te.children=ve}return{$$typeof:e,type:Q.type,key:se,ref:oe,props:te,_owner:me}},Sr.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:i,_context:Q},Q.Consumer=Q},Sr.createElement=C,Sr.createFactory=function(Q){var $=C.bind(null,Q);return $.type=Q,$},Sr.createRef=function(){return{current:null}},Sr.forwardRef=function(Q){return{$$typeof:l,render:Q}},Sr.isValidElement=M,Sr.lazy=function(Q){return{$$typeof:h,_payload:{_status:-1,_result:Q},_init:V}},Sr.memo=function(Q,$){return{$$typeof:u,type:Q,compare:$===void 0?null:$}},Sr.startTransition=function(Q){var $=H.transition;H.transition={};try{Q()}finally{H.transition=$}},Sr.unstable_act=Z,Sr.useCallback=function(Q,$){return B.current.useCallback(Q,$)},Sr.useContext=function(Q){return B.current.useContext(Q)},Sr.useDebugValue=function(){},Sr.useDeferredValue=function(Q){return B.current.useDeferredValue(Q)},Sr.useEffect=function(Q,$){return B.current.useEffect(Q,$)},Sr.useId=function(){return B.current.useId()},Sr.useImperativeHandle=function(Q,$,K){return B.current.useImperativeHandle(Q,$,K)},Sr.useInsertionEffect=function(Q,$){return B.current.useInsertionEffect(Q,$)},Sr.useLayoutEffect=function(Q,$){return B.current.useLayoutEffect(Q,$)},Sr.useMemo=function(Q,$){return B.current.useMemo(Q,$)},Sr.useReducer=function(Q,$,K){return B.current.useReducer(Q,$,K)},Sr.useRef=function(Q){return B.current.useRef(Q)},Sr.useState=function(Q){return B.current.useState(Q)},Sr.useSyncExternalStore=function(Q,$,K){return B.current.useSyncExternalStore(Q,$,K)},Sr.useTransition=function(){return B.current.useTransition()},Sr.version="18.3.1",Sr}var m3;function rA(){return m3||(m3=1,O1.exports=zq()),O1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3;function Uq(){if(p3)return Gp;p3=1;var e=rA(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var h,f={},p=null,v=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(v=c.ref);for(h in c)a.call(c,h)&&!i.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:t,type:l,key:p,ref:v,props:f,_owner:s.current}}return Gp.Fragment=n,Gp.jsx=o,Gp.jsxs=o,Gp}var v3;function Vq(){return v3||(v3=1,k1.exports=Uq()),k1.exports}var r=Vq(),Sg={},R1={exports:{}},pi={},L1={exports:{}},F1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3;function Wq(){return x3||(x3=1,function(e){function t(H,G){var Z=H.length;H.push(G);e:for(;0<Z;){var Q=Z-1>>>1,$=H[Q];if(0<s($,G))H[Q]=G,H[Z]=$,Z=Q;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var G=H[0],Z=H.pop();if(Z!==G){H[0]=Z;e:for(var Q=0,$=H.length,K=$>>>1;Q<K;){var te=2*(Q+1)-1,se=H[te],oe=te+1,me=H[oe];if(0>s(se,Z))oe<$&&0>s(me,se)?(H[Q]=me,H[oe]=Z,Q=oe):(H[Q]=se,H[te]=Z,Q=te);else if(oe<$&&0>s(me,Z))H[Q]=me,H[oe]=Z,Q=oe;else break e}}return G}function s(H,G){var Z=H.sortIndex-G.sortIndex;return Z!==0?Z:H.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,p=3,v=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var G=n(u);G!==null;){if(G.callback===null)a(u);else if(G.startTime<=H)a(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function P(H){if(y=!1,N(H),!g)if(n(c)!==null)g=!0,V(I);else{var G=n(u);G!==null&&B(P,G.startTime-H)}}function I(H,G){g=!1,y&&(y=!1,j(C),C=-1),v=!0;var Z=p;try{for(N(G),f=n(c);f!==null&&(!(f.expirationTime>G)||H&&!k());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,p=f.priorityLevel;var $=Q(f.expirationTime<=G);G=e.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&a(c),N(G)}else a(c);f=n(c)}if(f!==null)var K=!0;else{var te=n(u);te!==null&&B(P,te.startTime-G),K=!1}return K}finally{f=null,p=Z,v=!1}}var w=!1,E=null,C=-1,_=5,M=-1;function k(){return!(e.unstable_now()-M<_)}function D(){if(E!==null){var H=e.unstable_now();M=H;var G=!0;try{G=E(!0,H)}finally{G?R():(w=!1,E=null)}}else w=!1}var R;if(typeof b=="function")R=function(){b(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=D,R=function(){z.postMessage(null)}}else R=function(){x(D,0)};function V(H){E=H,w||(w=!0,R())}function B(H,G){C=x(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,V(I))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var Z=p;p=G;try{return H()}finally{p=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=p;p=H;try{return G()}finally{p=Z}},e.unstable_scheduleCallback=function(H,G,Z){var Q=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Q+Z:Q):Z=Q,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Z+$,H={id:h++,callback:G,priorityLevel:H,startTime:Z,expirationTime:$,sortIndex:-1},Z>Q?(H.sortIndex=Z,t(u,H),n(c)===null&&H===n(u)&&(y?(j(C),C=-1):y=!0,B(P,Z-Q))):(H.sortIndex=$,t(c,H),g||v||(g=!0,V(I))),H},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(H){var G=p;return function(){var Z=p;p=G;try{return H.apply(this,arguments)}finally{p=Z}}}}(F1)),F1}var g3;function Hq(){return g3||(g3=1,L1.exports=Wq()),L1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3;function Gq(){if(y3)return pi;y3=1;var e=rA(),t=Hq();function n(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,A=1;A<arguments.length;A++)m+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(s[d]=m,d=0;d<m.length;d++)a.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(d){return c.call(f,d)?!0:c.call(h,d)?!1:u.test(d)?f[d]=!0:(h[d]=!0,!1)}function v(d,m,A,O){if(A!==null&&A.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return O?!1:A!==null?!A.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function g(d,m,A,O){if(m===null||typeof m>"u"||v(d,m,A,O))return!0;if(O)return!1;if(A!==null)switch(A.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,A,O,U,Y,ue){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=O,this.attributeNamespace=U,this.mustUseProperty=A,this.propertyName=d,this.type=m,this.sanitizeURL=Y,this.removeEmptyString=ue}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){x[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];x[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){x[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){x[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){x[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){x[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){x[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){x[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){x[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function b(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(j,b);x[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(j,b);x[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(j,b);x[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){x[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){x[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function N(d,m,A,O){var U=x.hasOwnProperty(m)?x[m]:null;(U!==null?U.type!==0:O||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(g(m,A,U,O)&&(A=null),O||U===null?p(m)&&(A===null?d.removeAttribute(m):d.setAttribute(m,""+A)):U.mustUseProperty?d[U.propertyName]=A===null?U.type===3?!1:"":A:(m=U.attributeName,O=U.attributeNamespace,A===null?d.removeAttribute(m):(U=U.type,A=U===3||U===4&&A===!0?"":""+A,O?d.setAttributeNS(O,m,A):d.setAttribute(m,A))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),H=Symbol.iterator;function G(d){return d===null||typeof d!="object"?null:(d=H&&d[H]||d["@@iterator"],typeof d=="function"?d:null)}var Z=Object.assign,Q;function $(d){if(Q===void 0)try{throw Error()}catch(A){var m=A.stack.trim().match(/\n( *(at )?)/);Q=m&&m[1]||""}return`
`+Q+d}var K=!1;function te(d,m){if(!d||K)return"";K=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ge){var O=Ge}Reflect.construct(d,[],m)}else{try{m.call()}catch(Ge){O=Ge}d.call(m.prototype)}else{try{throw Error()}catch(Ge){O=Ge}d()}}catch(Ge){if(Ge&&O&&typeof Ge.stack=="string"){for(var U=Ge.stack.split(`
`),Y=O.stack.split(`
`),ue=U.length-1,Ae=Y.length-1;1<=ue&&0<=Ae&&U[ue]!==Y[Ae];)Ae--;for(;1<=ue&&0<=Ae;ue--,Ae--)if(U[ue]!==Y[Ae]){if(ue!==1||Ae!==1)do if(ue--,Ae--,0>Ae||U[ue]!==Y[Ae]){var ke=`
`+U[ue].replace(" at new "," at ");return d.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",d.displayName)),ke}while(1<=ue&&0<=Ae);break}}}finally{K=!1,Error.prepareStackTrace=A}return(d=d?d.displayName||d.name:"")?$(d):""}function se(d){switch(d.tag){case 5:return $(d.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return d=te(d.type,!1),d;case 11:return d=te(d.type.render,!1),d;case 1:return d=te(d.type,!0),d;default:return""}}function oe(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case E:return"Fragment";case w:return"Portal";case _:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case F:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case k:return(d.displayName||"Context")+".Consumer";case M:return(d._context.displayName||"Context")+".Provider";case D:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case z:return m=d.displayName||null,m!==null?m:oe(d.type)||"Memo";case V:m=d._payload,d=d._init;try{return oe(d(m))}catch{}}return null}function me(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(m);case 8:return m===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ve(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function pe(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function we(d){var m=pe(d)?"checked":"value",A=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),O=""+d[m];if(!d.hasOwnProperty(m)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var U=A.get,Y=A.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return U.call(this)},set:function(ue){O=""+ue,Y.call(this,ue)}}),Object.defineProperty(d,m,{enumerable:A.enumerable}),{getValue:function(){return O},setValue:function(ue){O=""+ue},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Se(d){d._valueTracker||(d._valueTracker=we(d))}function Ce(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var A=m.getValue(),O="";return d&&(O=pe(d)?d.checked?"true":"false":d.value),d=O,d!==A?(m.setValue(d),!0):!1}function ze(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function He(d,m){var A=m.checked;return Z({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??d._wrapperState.initialChecked})}function ge(d,m){var A=m.defaultValue==null?"":m.defaultValue,O=m.checked!=null?m.checked:m.defaultChecked;A=ve(m.value!=null?m.value:A),d._wrapperState={initialChecked:O,initialValue:A,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function le(d,m){m=m.checked,m!=null&&N(d,"checked",m,!1)}function st(d,m){le(d,m);var A=ve(m.value),O=m.type;if(A!=null)O==="number"?(A===0&&d.value===""||d.value!=A)&&(d.value=""+A):d.value!==""+A&&(d.value=""+A);else if(O==="submit"||O==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?Ue(d,m.type,A):m.hasOwnProperty("defaultValue")&&Ue(d,m.type,ve(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function Ie(d,m,A){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var O=m.type;if(!(O!=="submit"&&O!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,A||m===d.value||(d.value=m),d.defaultValue=m}A=d.name,A!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,A!==""&&(d.name=A)}function Ue(d,m,A){(m!=="number"||ze(d.ownerDocument)!==d)&&(A==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+A&&(d.defaultValue=""+A))}var ct=Array.isArray;function xt(d,m,A,O){if(d=d.options,m){m={};for(var U=0;U<A.length;U++)m["$"+A[U]]=!0;for(A=0;A<d.length;A++)U=m.hasOwnProperty("$"+d[A].value),d[A].selected!==U&&(d[A].selected=U),U&&O&&(d[A].defaultSelected=!0)}else{for(A=""+ve(A),m=null,U=0;U<d.length;U++){if(d[U].value===A){d[U].selected=!0,O&&(d[U].defaultSelected=!0);return}m!==null||d[U].disabled||(m=d[U])}m!==null&&(m.selected=!0)}}function gt(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function kt(d,m){var A=m.value;if(A==null){if(A=m.children,m=m.defaultValue,A!=null){if(m!=null)throw Error(n(92));if(ct(A)){if(1<A.length)throw Error(n(93));A=A[0]}m=A}m==null&&(m=""),A=m}d._wrapperState={initialValue:ve(A)}}function et(d,m){var A=ve(m.value),O=ve(m.defaultValue);A!=null&&(A=""+A,A!==d.value&&(d.value=A),m.defaultValue==null&&d.defaultValue!==A&&(d.defaultValue=A)),O!=null&&(d.defaultValue=""+O)}function ht(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function Ct(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?Ct(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Gt,Vt=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,A,O,U){MSApp.execUnsafeLocalFunction(function(){return d(m,A,O,U)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(Gt=Gt||document.createElement("div"),Gt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Gt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function er(d,m){if(m){var A=d.firstChild;if(A&&A===d.lastChild&&A.nodeType===3){A.nodeValue=m;return}}d.textContent=m}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(d){Mr.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),jt[m]=jt[d]})});function xr(d,m,A){return m==null||typeof m=="boolean"||m===""?"":A||typeof m!="number"||m===0||jt.hasOwnProperty(d)&&jt[d]?(""+m).trim():m+"px"}function Zn(d,m){d=d.style;for(var A in m)if(m.hasOwnProperty(A)){var O=A.indexOf("--")===0,U=xr(A,m[A],O);A==="float"&&(A="cssFloat"),O?d.setProperty(A,U):d[A]=U}}var $r=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gr(d,m){if(m){if($r[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function Ma(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function Si(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var jn=null,$a=null,hs=null;function Cn(d){if(d=Xu(d)){if(typeof jn!="function")throw Error(n(280));var m=d.stateNode;m&&(m=yf(m),jn(d.stateNode,d.type,m))}}function fr(d){$a?hs?hs.push(d):hs=[d]:$a=d}function Br(){if($a){var d=$a,m=hs;if(hs=$a=null,Cn(d),m)for(d=0;d<m.length;d++)Cn(m[d])}}function Sl(d,m){return d(m)}function ya(){}var ti=!1;function Ci(d,m,A){if(ti)return d(m,A);ti=!0;try{return Sl(d,m,A)}finally{ti=!1,($a!==null||hs!==null)&&(ya(),Br())}}function Xt(d,m){var A=d.stateNode;if(A===null)return null;var O=yf(A);if(O===null)return null;A=O[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(d=d.type,O=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!O;break e;default:d=!1}if(d)return null;if(A&&typeof A!="function")throw Error(n(231,m,typeof A));return A}var Ls=!1;if(l)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Ls=!1}function ps(d,m,A,O,U,Y,ue,Ae,ke){var Ge=Array.prototype.slice.call(arguments,3);try{m.apply(A,Ge)}catch(vt){this.onError(vt)}}var An=!1,En=null,Ba=!1,Cl=null,Oo={onError:function(d){An=!0,En=d}};function Ai(d,m,A,O,U,Y,ue,Ae,ke){An=!1,En=null,ps.apply(Oo,arguments)}function Ei(d,m,A,O,U,Y,ue,Ae,ke){if(Ai.apply(this,arguments),An){if(An){var Ge=En;An=!1,En=null}else throw Error(n(198));Ba||(Ba=!0,Cl=Ge)}}function Ca(d){var m=d,A=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(A=m.return),d=m.return;while(d)}return m.tag===3?A:null}function Pi(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Fs(d){if(Ca(d)!==d)throw Error(n(188))}function Ji(d){var m=d.alternate;if(!m){if(m=Ca(d),m===null)throw Error(n(188));return m!==d?null:d}for(var A=d,O=m;;){var U=A.return;if(U===null)break;var Y=U.alternate;if(Y===null){if(O=U.return,O!==null){A=O;continue}break}if(U.child===Y.child){for(Y=U.child;Y;){if(Y===A)return Fs(U),d;if(Y===O)return Fs(U),m;Y=Y.sibling}throw Error(n(188))}if(A.return!==O.return)A=U,O=Y;else{for(var ue=!1,Ae=U.child;Ae;){if(Ae===A){ue=!0,A=U,O=Y;break}if(Ae===O){ue=!0,O=U,A=Y;break}Ae=Ae.sibling}if(!ue){for(Ae=Y.child;Ae;){if(Ae===A){ue=!0,A=Y,O=U;break}if(Ae===O){ue=!0,O=Y,A=U;break}Ae=Ae.sibling}if(!ue)throw Error(n(189))}}if(A.alternate!==O)throw Error(n(190))}if(A.tag!==3)throw Error(n(188));return A.stateNode.current===A?d:m}function Al(d){return d=Ji(d),d!==null?xc(d):null}function xc(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=xc(d);if(m!==null)return m;d=d.sibling}return null}var gc=t.unstable_scheduleCallback,yc=t.unstable_cancelCallback,bu=t.unstable_shouldYield,Ah=t.unstable_requestPaint,Pn=t.unstable_now,Ap=t.unstable_getCurrentPriorityLevel,El=t.unstable_ImmediatePriority,Qd=t.unstable_UserBlockingPriority,ju=t.unstable_NormalPriority,Jd=t.unstable_LowPriority,Eh=t.unstable_IdlePriority,bc=null,ri=null;function wu(d){if(ri&&typeof ri.onCommitFiberRoot=="function")try{ri.onCommitFiberRoot(bc,d,void 0,(d.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:Th,Hn=Math.log,Ph=Math.LN2;function Th(d){return d>>>=0,d===0?32:31-(Hn(d)/Ph|0)|0}var jc=64,Pl=4194304;function wc(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function vs(d,m){var A=d.pendingLanes;if(A===0)return 0;var O=0,U=d.suspendedLanes,Y=d.pingedLanes,ue=A&268435455;if(ue!==0){var Ae=ue&~U;Ae!==0?O=wc(Ae):(Y&=ue,Y!==0&&(O=wc(Y)))}else ue=A&~U,ue!==0?O=wc(ue):Y!==0&&(O=wc(Y));if(O===0)return 0;if(m!==0&&m!==O&&(m&U)===0&&(U=O&-O,Y=m&-m,U>=Y||U===16&&(Y&4194240)!==0))return m;if((O&4)!==0&&(O|=A&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=O;0<m;)A=31-Ms(m),U=1<<A,O|=d[A],m&=~U;return O}function Nu(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(d,m){for(var A=d.suspendedLanes,O=d.pingedLanes,U=d.expirationTimes,Y=d.pendingLanes;0<Y;){var ue=31-Ms(Y),Ae=1<<ue,ke=U[ue];ke===-1?((Ae&A)===0||(Ae&O)!==0)&&(U[ue]=Nu(Ae,m)):ke<=m&&(d.expiredLanes|=Ae),Y&=~Ae}}function Nc(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Zd(){var d=jc;return jc<<=1,(jc&4194240)===0&&(jc=64),d}function ef(d){for(var m=[],A=0;31>A;A++)m.push(d);return m}function Tl(d,m,A){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-Ms(m),d[m]=A}function Ep(d,m){var A=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var O=d.eventTimes;for(d=d.expirationTimes;0<A;){var U=31-Ms(A),Y=1<<U;m[U]=0,O[U]=-1,d[U]=-1,A&=~Y}}function Su(d,m){var A=d.entangledLanes|=m;for(d=d.entanglements;A;){var O=31-Ms(A),U=1<<O;U&m|d[O]&m&&(d[O]|=m),A&=~U}}var qr=0;function Cu(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Ih,tf,Dh,Zi,Sc,Il=!1,Cc=[],Tn=null,eo=null,Ti=null,nr=new Map,Ac=new Map,to=[],ro="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rf(d,m){switch(d){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":nr.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(m.pointerId)}}function Dl(d,m,A,O,U,Y){return d===null||d.nativeEvent!==Y?(d={blockedOn:m,domEventName:A,eventSystemFlags:O,nativeEvent:Y,targetContainers:[U]},m!==null&&(m=Xu(m),m!==null&&tf(m)),d):(d.eventSystemFlags|=O,m=d.targetContainers,U!==null&&m.indexOf(U)===-1&&m.push(U),d)}function Au(d,m,A,O,U){switch(m){case"focusin":return Tn=Dl(Tn,d,m,A,O,U),!0;case"dragenter":return eo=Dl(eo,d,m,A,O,U),!0;case"mouseover":return Ti=Dl(Ti,d,m,A,O,U),!0;case"pointerover":var Y=U.pointerId;return nr.set(Y,Dl(nr.get(Y)||null,d,m,A,O,U)),!0;case"gotpointercapture":return Y=U.pointerId,Ac.set(Y,Dl(Ac.get(Y)||null,d,m,A,O,U)),!0}return!1}function Eu(d){var m=zl(d.target);if(m!==null){var A=Ca(m);if(A!==null){if(m=A.tag,m===13){if(m=Pi(A),m!==null){d.blockedOn=m,Sc(d.priority,function(){Dh(A)});return}}else if(m===3&&A.stateNode.current.memoizedState.isDehydrated){d.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Pu(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var A=Iu(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(A===null){A=d.nativeEvent;var O=new A.constructor(A.type,A);Nr=O,A.target.dispatchEvent(O),Nr=null}else return m=Xu(A),m!==null&&tf(m),d.blockedOn=A,!1;m.shift()}return!0}function _h(d,m,A){Pu(d)&&A.delete(m)}function Pp(){Il=!1,Tn!==null&&Pu(Tn)&&(Tn=null),eo!==null&&Pu(eo)&&(eo=null),Ti!==null&&Pu(Ti)&&(Ti=null),nr.forEach(_h),Ac.forEach(_h)}function Ro(d,m){d.blockedOn===m&&(d.blockedOn=null,Il||(Il=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pp)))}function Ii(d){function m(U){return Ro(U,d)}if(0<Cc.length){Ro(Cc[0],d);for(var A=1;A<Cc.length;A++){var O=Cc[A];O.blockedOn===d&&(O.blockedOn=null)}}for(Tn!==null&&Ro(Tn,d),eo!==null&&Ro(eo,d),Ti!==null&&Ro(Ti,d),nr.forEach(m),Ac.forEach(m),A=0;A<to.length;A++)O=to[A],O.blockedOn===d&&(O.blockedOn=null);for(;0<to.length&&(A=to[0],A.blockedOn===null);)Eu(A),A.blockedOn===null&&to.shift()}var $s=P.ReactCurrentBatchConfig,Tu=!0;function Ec(d,m,A,O){var U=qr,Y=$s.transition;$s.transition=null;try{qr=1,_l(d,m,A,O)}finally{qr=U,$s.transition=Y}}function nf(d,m,A,O){var U=qr,Y=$s.transition;$s.transition=null;try{qr=4,_l(d,m,A,O)}finally{qr=U,$s.transition=Y}}function _l(d,m,A,O){if(Tu){var U=Iu(d,m,A,O);if(U===null)vf(d,m,O,Pc,A),rf(d,O);else if(Au(U,d,m,A,O))O.stopPropagation();else if(rf(d,O),m&4&&-1<ro.indexOf(d)){for(;U!==null;){var Y=Xu(U);if(Y!==null&&Ih(Y),Y=Iu(d,m,A,O),Y===null&&vf(d,m,O,Pc,A),Y===U)break;U=Y}U!==null&&O.stopPropagation()}else vf(d,m,O,null,A)}}var Pc=null;function Iu(d,m,A,O){if(Pc=null,d=Si(O),d=zl(d),d!==null)if(m=Ca(d),m===null)d=null;else if(A=m.tag,A===13){if(d=Pi(m),d!==null)return d;d=null}else if(A===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return Pc=d,null}function af(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case El:return 1;case Qd:return 4;case ju:case Jd:return 16;case Eh:return 536870912;default:return 16}default:return 16}}var Di=null,ni=null,ai=null;function kh(){if(ai)return ai;var d,m=ni,A=m.length,O,U="value"in Di?Di.value:Di.textContent,Y=U.length;for(d=0;d<A&&m[d]===U[d];d++);var ue=A-d;for(O=1;O<=ue&&m[A-O]===U[Y-O];O++);return ai=U.slice(d,1<O?1-O:void 0)}function _i(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function gs(){return!0}function Du(){return!1}function ca(d){function m(A,O,U,Y,ue){this._reactName=A,this._targetInst=U,this.type=O,this.nativeEvent=Y,this.target=ue,this.currentTarget=null;for(var Ae in d)d.hasOwnProperty(Ae)&&(A=d[Ae],this[Ae]=A?A(Y):Y[Ae]);return this.isDefaultPrevented=(Y.defaultPrevented!=null?Y.defaultPrevented:Y.returnValue===!1)?gs:Du,this.isPropagationStopped=Du,this}return Z(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),m}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=ca(kl),Tc=Z({},kl,{view:0,detail:0}),sf=ca(Tc),Ic,_u,no,Rl=Z({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:It,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==no&&(no&&d.type==="mousemove"?(Ic=d.screenX-no.screenX,_u=d.screenY-no.screenY):_u=Ic=0,no=d),Ic)},movementY:function(d){return"movementY"in d?d.movementY:_u}}),ku=ca(Rl),Oh=Z({},Rl,{dataTransfer:0}),Tp=ca(Oh),Ou=Z({},Tc,{relatedTarget:0}),Lo=ca(Ou),of=Z({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ll=ca(of),lf=Z({},kl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),q=ca(lf),ne=Z({},kl,{data:0}),je=ca(ne),De={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mt(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=rt[d])?!!m[d]:!1}function It(){return mt}var Kt=Z({},Tc,{key:function(d){if(d.key){var m=De[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=_i(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?$e[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:It,charCode:function(d){return d.type==="keypress"?_i(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?_i(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),gr=ca(Kt),pr=Z({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Er=ca(pr),In=Z({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:It}),$n=ca(In),ea=Z({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qa=ca(ea),ba=Z({},Rl,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),ki=ca(ba),Bs=[9,13,27,32],si=l&&"CompositionEvent"in window,Fl=null;l&&"documentMode"in document&&(Fl=document.documentMode);var cf=l&&"TextEvent"in window&&!Fl,Ru=l&&(!si||Fl&&8<Fl&&11>=Fl),Dc=" ",Lu=!1;function Fu(d,m){switch(d){case"keyup":return Bs.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _c(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Bn=!1;function Mu(d,m){switch(d){case"compositionend":return _c(m);case"keypress":return m.which!==32?null:(Lu=!0,Dc);case"textInput":return d=m.data,d===Dc&&Lu?null:d;default:return null}}function $u(d,m){if(Bn)return d==="compositionend"||!si&&Fu(d,m)?(d=kh(),ai=ni=Di=null,Bn=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Ru&&m.locale!=="ko"?null:m.data;default:return null}}var Bu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qu(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!Bu[d.type]:m==="textarea"}function Za(d,m,A,O){fr(O),m=Mh(m,"onChange"),0<m.length&&(A=new Ol("onChange","change",null,A,O),d.push({event:A,listeners:m}))}var kc=null,Fo=null;function Rh(d){mf(d,0)}function es(d){var m=zc(d);if(Ce(m))return d}function zu(d,m){if(d==="change")return m}var uf=!1;if(l){var Uu;if(l){var ao="oninput"in document;if(!ao){var Ml=document.createElement("div");Ml.setAttribute("oninput","return;"),ao=typeof Ml.oninput=="function"}Uu=ao}else Uu=!1;uf=Uu&&(!document.documentMode||9<document.documentMode)}function ts(){kc&&(kc.detachEvent("onpropertychange",za),Fo=kc=null)}function za(d){if(d.propertyName==="value"&&es(Fo)){var m=[];Za(m,Fo,d,Si(d)),Ci(Rh,m)}}function $l(d,m,A){d==="focusin"?(ts(),kc=m,Fo=A,kc.attachEvent("onpropertychange",za)):d==="focusout"&&ts()}function Mo(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return es(Fo)}function $o(d,m){if(d==="click")return es(m)}function Vu(d,m){if(d==="input"||d==="change")return es(m)}function Bo(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var zr=typeof Object.is=="function"?Object.is:Bo;function qo(d,m){if(zr(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var A=Object.keys(d),O=Object.keys(m);if(A.length!==O.length)return!1;for(O=0;O<A.length;O++){var U=A[O];if(!c.call(m,U)||!zr(d[U],m[U]))return!1}return!0}function Ua(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function qs(d,m){var A=Ua(d);d=0;for(var O;A;){if(A.nodeType===3){if(O=d+A.textContent.length,d<=m&&O>=m)return{node:A,offset:m-d};d=O}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=Ua(A)}}function Oc(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Oc(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function df(){for(var d=window,m=ze();m instanceof d.HTMLIFrameElement;){try{var A=typeof m.contentWindow.location.href=="string"}catch{A=!1}if(A)d=m.contentWindow;else break;m=ze(d.document)}return m}function Rc(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function Lc(d){var m=df(),A=d.focusedElem,O=d.selectionRange;if(m!==A&&A&&A.ownerDocument&&Oc(A.ownerDocument.documentElement,A)){if(O!==null&&Rc(A)){if(m=O.start,d=O.end,d===void 0&&(d=m),"selectionStart"in A)A.selectionStart=m,A.selectionEnd=Math.min(d,A.value.length);else if(d=(m=A.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var U=A.textContent.length,Y=Math.min(O.start,U);O=O.end===void 0?Y:Math.min(O.end,U),!d.extend&&Y>O&&(U=O,O=Y,Y=U),U=qs(A,Y);var ue=qs(A,O);U&&ue&&(d.rangeCount!==1||d.anchorNode!==U.node||d.anchorOffset!==U.offset||d.focusNode!==ue.node||d.focusOffset!==ue.offset)&&(m=m.createRange(),m.setStart(U.node,U.offset),d.removeAllRanges(),Y>O?(d.addRange(m),d.extend(ue.node,ue.offset)):(m.setEnd(ue.node,ue.offset),d.addRange(m)))}}for(m=[],d=A;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<m.length;A++)d=m[A],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Fc=l&&"documentMode"in document&&11>=document.documentMode,zs=null,zo=null,so=null,Uo=!1;function Vo(d,m,A){var O=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;Uo||zs==null||zs!==ze(O)||(O=zs,"selectionStart"in O&&Rc(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),so&&qo(so,O)||(so=O,O=Mh(zo,"onSelect"),0<O.length&&(m=new Ol("onSelect","select",null,m,A),d.push({event:m,listeners:O}),m.target=zs)))}function Bl(d,m){var A={};return A[d.toLowerCase()]=m.toLowerCase(),A["Webkit"+d]="webkit"+m,A["Moz"+d]="moz"+m,A}var Aa={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},ys={},ln={};l&&(ln=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Zr(d){if(ys[d])return ys[d];if(!Aa[d])return d;var m=Aa[d],A;for(A in m)if(m.hasOwnProperty(A)&&A in ln)return ys[d]=m[A];return d}var qn=Zr("animationend"),ta=Zr("animationiteration"),io=Zr("animationstart"),Wu=Zr("transitionend"),Mc=new Map,ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(d,m){Mc.set(d,m),i(m,[d])}for(var Hu=0;Hu<ff.length;Hu++){var rs=ff[Hu],ii=rs.toLowerCase(),Lh=rs[0].toUpperCase()+rs.slice(1);oo(ii,"on"+Lh)}oo(qn,"onAnimationEnd"),oo(ta,"onAnimationIteration"),oo(io,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(Wu,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function hf(d,m,A){var O=d.type||"unknown-event";d.currentTarget=A,Ei(O,m,void 0,d),d.currentTarget=null}function mf(d,m){m=(m&4)!==0;for(var A=0;A<d.length;A++){var O=d[A],U=O.event;O=O.listeners;e:{var Y=void 0;if(m)for(var ue=O.length-1;0<=ue;ue--){var Ae=O[ue],ke=Ae.instance,Ge=Ae.currentTarget;if(Ae=Ae.listener,ke!==Y&&U.isPropagationStopped())break e;hf(U,Ae,Ge),Y=ke}else for(ue=0;ue<O.length;ue++){if(Ae=O[ue],ke=Ae.instance,Ge=Ae.currentTarget,Ae=Ae.listener,ke!==Y&&U.isPropagationStopped())break e;hf(U,Ae,Ge),Y=ke}}}if(Ba)throw d=Cl,Ba=!1,Cl=null,d}function cn(d,m){var A=m[js];A===void 0&&(A=m[js]=new Set);var O=d+"__bubble";A.has(O)||(pf(m,d,2,!1),A.add(O))}function Fh(d,m,A){var O=0;m&&(O|=4),pf(A,d,O,m)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function $c(d){if(!d[Gu]){d[Gu]=!0,a.forEach(function(A){A!=="selectionchange"&&(Vx.has(A)||Fh(A,!1,d),Fh(A,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Gu]||(m[Gu]=!0,Fh("selectionchange",!1,m))}}function pf(d,m,A,O){switch(af(m)){case 1:var U=Ec;break;case 4:U=nf;break;default:U=_l}A=U.bind(null,m,A,d),U=void 0,!Ls||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(U=!0),O?U!==void 0?d.addEventListener(m,A,{capture:!0,passive:U}):d.addEventListener(m,A,!0):U!==void 0?d.addEventListener(m,A,{passive:U}):d.addEventListener(m,A,!1)}function vf(d,m,A,O,U){var Y=O;if((m&1)===0&&(m&2)===0&&O!==null)e:for(;;){if(O===null)return;var ue=O.tag;if(ue===3||ue===4){var Ae=O.stateNode.containerInfo;if(Ae===U||Ae.nodeType===8&&Ae.parentNode===U)break;if(ue===4)for(ue=O.return;ue!==null;){var ke=ue.tag;if((ke===3||ke===4)&&(ke=ue.stateNode.containerInfo,ke===U||ke.nodeType===8&&ke.parentNode===U))return;ue=ue.return}for(;Ae!==null;){if(ue=zl(Ae),ue===null)return;if(ke=ue.tag,ke===5||ke===6){O=Y=ue;continue e}Ae=Ae.parentNode}}O=O.return}Ci(function(){var Ge=Y,vt=Si(A),bt=[];e:{var pt=Mc.get(d);if(pt!==void 0){var Ot=Ol,Bt=d;switch(d){case"keypress":if(_i(A)===0)break e;case"keydown":case"keyup":Ot=gr;break;case"focusin":Bt="focus",Ot=Lo;break;case"focusout":Bt="blur",Ot=Lo;break;case"beforeblur":case"afterblur":Ot=Lo;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=Tp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=$n;break;case qn:case ta:case io:Ot=Ll;break;case Wu:Ot=qa;break;case"scroll":Ot=sf;break;case"wheel":Ot=ki;break;case"copy":case"cut":case"paste":Ot=q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=Er}var zt=(m&4)!==0,ha=!zt&&d==="scroll",Ve=zt?pt!==null?pt+"Capture":null:pt;zt=[];for(var Le=Ge,We;Le!==null;){We=Le;var wt=We.stateNode;if(We.tag===5&&wt!==null&&(We=wt,Ve!==null&&(wt=Xt(Le,Ve),wt!=null&&zt.push(xf(Le,wt,We)))),ha)break;Le=Le.return}0<zt.length&&(pt=new Ot(pt,Bt,null,A,vt),bt.push({event:pt,listeners:zt}))}}if((m&7)===0){e:{if(pt=d==="mouseover"||d==="pointerover",Ot=d==="mouseout"||d==="pointerout",pt&&A!==Nr&&(Bt=A.relatedTarget||A.fromElement)&&(zl(Bt)||Bt[Va]))break e;if((Ot||pt)&&(pt=vt.window===vt?vt:(pt=vt.ownerDocument)?pt.defaultView||pt.parentWindow:window,Ot?(Bt=A.relatedTarget||A.toElement,Ot=Ge,Bt=Bt?zl(Bt):null,Bt!==null&&(ha=Ca(Bt),Bt!==ha||Bt.tag!==5&&Bt.tag!==6)&&(Bt=null)):(Ot=null,Bt=Ge),Ot!==Bt)){if(zt=ku,wt="onMouseLeave",Ve="onMouseEnter",Le="mouse",(d==="pointerout"||d==="pointerover")&&(zt=Er,wt="onPointerLeave",Ve="onPointerEnter",Le="pointer"),ha=Ot==null?pt:zc(Ot),We=Bt==null?pt:zc(Bt),pt=new zt(wt,Le+"leave",Ot,A,vt),pt.target=ha,pt.relatedTarget=We,wt=null,zl(vt)===Ge&&(zt=new zt(Ve,Le+"enter",Bt,A,vt),zt.target=We,zt.relatedTarget=ha,wt=zt),ha=wt,Ot&&Bt)t:{for(zt=Ot,Ve=Bt,Le=0,We=zt;We;We=Bc(We))Le++;for(We=0,wt=Ve;wt;wt=Bc(wt))We++;for(;0<Le-We;)zt=Bc(zt),Le--;for(;0<We-Le;)Ve=Bc(Ve),We--;for(;Le--;){if(zt===Ve||Ve!==null&&zt===Ve.alternate)break t;zt=Bc(zt),Ve=Bc(Ve)}zt=null}else zt=null;Ot!==null&&Wx(bt,pt,Ot,zt,!1),Bt!==null&&ha!==null&&Wx(bt,ha,Bt,zt,!0)}}e:{if(pt=Ge?zc(Ge):window,Ot=pt.nodeName&&pt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&pt.type==="file")var Wt=zu;else if(qu(pt))if(uf)Wt=Vu;else{Wt=Mo;var tr=$l}else(Ot=pt.nodeName)&&Ot.toLowerCase()==="input"&&(pt.type==="checkbox"||pt.type==="radio")&&(Wt=$o);if(Wt&&(Wt=Wt(d,Ge))){Za(bt,Wt,A,vt);break e}tr&&tr(d,pt,Ge),d==="focusout"&&(tr=pt._wrapperState)&&tr.controlled&&pt.type==="number"&&Ue(pt,"number",pt.value)}switch(tr=Ge?zc(Ge):window,d){case"focusin":(qu(tr)||tr.contentEditable==="true")&&(zs=tr,zo=Ge,so=null);break;case"focusout":so=zo=zs=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,Vo(bt,A,vt);break;case"selectionchange":if(Fc)break;case"keydown":case"keyup":Vo(bt,A,vt)}var rr;if(si)e:{switch(d){case"compositionstart":var hr="onCompositionStart";break e;case"compositionend":hr="onCompositionEnd";break e;case"compositionupdate":hr="onCompositionUpdate";break e}hr=void 0}else Bn?Fu(d,A)&&(hr="onCompositionEnd"):d==="keydown"&&A.keyCode===229&&(hr="onCompositionStart");hr&&(Ru&&A.locale!=="ko"&&(Bn||hr!=="onCompositionStart"?hr==="onCompositionEnd"&&Bn&&(rr=kh()):(Di=vt,ni="value"in Di?Di.value:Di.textContent,Bn=!0)),tr=Mh(Ge,hr),0<tr.length&&(hr=new je(hr,d,null,A,vt),bt.push({event:hr,listeners:tr}),rr?hr.data=rr:(rr=_c(A),rr!==null&&(hr.data=rr)))),(rr=cf?Mu(d,A):$u(d,A))&&(Ge=Mh(Ge,"onBeforeInput"),0<Ge.length&&(vt=new je("onBeforeInput","beforeinput",null,A,vt),bt.push({event:vt,listeners:Ge}),vt.data=rr))}mf(bt,m)})}function xf(d,m,A){return{instance:d,listener:m,currentTarget:A}}function Mh(d,m){for(var A=m+"Capture",O=[];d!==null;){var U=d,Y=U.stateNode;U.tag===5&&Y!==null&&(U=Y,Y=Xt(d,A),Y!=null&&O.unshift(xf(d,Y,U)),Y=Xt(d,m),Y!=null&&O.push(xf(d,Y,U))),d=d.return}return O}function Bc(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Wx(d,m,A,O,U){for(var Y=m._reactName,ue=[];A!==null&&A!==O;){var Ae=A,ke=Ae.alternate,Ge=Ae.stateNode;if(ke!==null&&ke===O)break;Ae.tag===5&&Ge!==null&&(Ae=Ge,U?(ke=Xt(A,Y),ke!=null&&ue.unshift(xf(A,ke,Ae))):U||(ke=Xt(A,Y),ke!=null&&ue.push(xf(A,ke,Ae)))),A=A.return}ue.length!==0&&d.push({event:m,listeners:ue})}var Gb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function Hx(d){return(typeof d=="string"?d:""+d).replace(Gb,`
`).replace(Kb,"")}function $h(d,m,A){if(m=Hx(m),Hx(d)!==m&&A)throw Error(n(425))}function Ku(){}var gf=null,qc=null;function Ip(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Dp=typeof setTimeout=="function"?setTimeout:void 0,Gx=typeof clearTimeout=="function"?clearTimeout:void 0,Kx=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kx<"u"?function(d){return Kx.resolve(null).then(d).catch(Xb)}:Dp;function Xb(d){setTimeout(function(){throw d})}function _p(d,m){var A=m,O=0;do{var U=A.nextSibling;if(d.removeChild(A),U&&U.nodeType===8)if(A=U.data,A==="/$"){if(O===0){d.removeChild(U),Ii(m);return}O--}else A!=="$"&&A!=="$?"&&A!=="$!"||O++;A=U}while(A);Ii(m)}function ns(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function oi(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var A=d.data;if(A==="$"||A==="$!"||A==="$?"){if(m===0)return d;m--}else A==="/$"&&m++}d=d.previousSibling}return null}var bs=Math.random().toString(36).slice(2),lo="__reactFiber$"+bs,Yu="__reactProps$"+bs,Va="__reactContainer$"+bs,js="__reactEvents$"+bs,Qb="__reactListeners$"+bs,Jb="__reactHandles$"+bs;function zl(d){var m=d[lo];if(m)return m;for(var A=d.parentNode;A;){if(m=A[Va]||A[lo]){if(A=m.alternate,m.child!==null||A!==null&&A.child!==null)for(d=oi(d);d!==null;){if(A=d[lo])return A;d=oi(d)}return m}d=A,A=d.parentNode}return null}function Xu(d){return d=d[lo]||d[Va],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function zc(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function yf(d){return d[Yu]||null}var kp=[],Wo=-1;function Oi(d){return{current:d}}function en(d){0>Wo||(d.current=kp[Wo],kp[Wo]=null,Wo--)}function nn(d,m){Wo++,kp[Wo]=d.current,d.current=m}var Ul={},Ea=Oi(Ul),ws=Oi(!1),Uc=Ul;function Qu(d,m){var A=d.type.contextTypes;if(!A)return Ul;var O=d.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===m)return O.__reactInternalMemoizedMaskedChildContext;var U={},Y;for(Y in A)U[Y]=m[Y];return O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=U),U}function Ns(d){return d=d.childContextTypes,d!=null}function Bh(){en(ws),en(Ea)}function Yx(d,m,A){if(Ea.current!==Ul)throw Error(n(168));nn(Ea,m),nn(ws,A)}function Op(d,m,A){var O=d.stateNode;if(m=m.childContextTypes,typeof O.getChildContext!="function")return A;O=O.getChildContext();for(var U in O)if(!(U in m))throw Error(n(108,me(d)||"Unknown",U));return Z({},A,O)}function Vc(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ul,Uc=Ea.current,nn(Ea,d),nn(ws,ws.current),!0}function Xx(d,m,A){var O=d.stateNode;if(!O)throw Error(n(169));A?(d=Op(d,m,Uc),O.__reactInternalMemoizedMergedChildContext=d,en(ws),en(Ea),nn(Ea,d)):en(ws),nn(ws,A)}var Ho=null,bf=!1,T=!1;function L(d){Ho===null?Ho=[d]:Ho.push(d)}function W(d){bf=!0,L(d)}function J(){if(!T&&Ho!==null){T=!0;var d=0,m=qr;try{var A=Ho;for(qr=1;d<A.length;d++){var O=A[d];do O=O(!0);while(O!==null)}Ho=null,bf=!1}catch(U){throw Ho!==null&&(Ho=Ho.slice(d+1)),gc(El,J),U}finally{qr=m,T=!1}}return null}var re=[],ce=0,de=null,fe=0,he=[],xe=0,_e=null,Be=1,qe="";function Fe(d,m){re[ce++]=fe,re[ce++]=de,de=d,fe=m}function dt(d,m,A){he[xe++]=Be,he[xe++]=qe,he[xe++]=_e,_e=d;var O=Be;d=qe;var U=32-Ms(O)-1;O&=~(1<<U),A+=1;var Y=32-Ms(m)+U;if(30<Y){var ue=U-U%5;Y=(O&(1<<ue)-1).toString(32),O>>=ue,U-=ue,Be=1<<32-Ms(m)+U|A<<U|O,qe=Y+d}else Be=1<<Y|A<<U|O,qe=d}function Je(d){d.return!==null&&(Fe(d,1),dt(d,1,0))}function Oe(d){for(;d===de;)de=re[--ce],re[ce]=null,fe=re[--ce],re[ce]=null;for(;d===_e;)_e=he[--xe],he[xe]=null,qe=he[--xe],he[xe]=null,Be=he[--xe],he[xe]=null}var Re=null,at=null,nt=!1,it=null;function Dt(d,m){var A=po(5,null,null,0);A.elementType="DELETED",A.stateNode=m,A.return=d,m=d.deletions,m===null?(d.deletions=[A],d.flags|=16):m.push(A)}function St(d,m){switch(d.tag){case 5:var A=d.type;return m=m.nodeType!==1||A.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Re=d,at=ns(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Re=d,at=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(A=_e!==null?{id:Be,overflow:qe}:null,d.memoizedState={dehydrated:m,treeContext:A,retryLane:1073741824},A=po(18,null,null,0),A.stateNode=m,A.return=d,d.child=A,Re=d,at=null,!0):!1;default:return!1}}function Qt(d){return(d.mode&1)!==0&&(d.flags&128)===0}function At(d){if(nt){var m=at;if(m){var A=m;if(!St(d,m)){if(Qt(d))throw Error(n(418));m=ns(A.nextSibling);var O=Re;m&&St(d,m)?Dt(O,A):(d.flags=d.flags&-4097|2,nt=!1,Re=d)}}else{if(Qt(d))throw Error(n(418));d.flags=d.flags&-4097|2,nt=!1,Re=d}}}function Rr(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Re=d}function Lr(d){if(d!==Re)return!1;if(!nt)return Rr(d),nt=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Ip(d.type,d.memoizedProps)),m&&(m=at)){if(Qt(d))throw Pr(),Error(n(418));for(;m;)Dt(d,m),m=ns(m.nextSibling)}if(Rr(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var A=d.data;if(A==="/$"){if(m===0){at=ns(d.nextSibling);break e}m--}else A!=="$"&&A!=="$!"&&A!=="$?"||m++}d=d.nextSibling}at=null}}else at=Re?ns(d.stateNode.nextSibling):null;return!0}function Pr(){for(var d=at;d;)d=ns(d.nextSibling)}function br(){at=Re=null,nt=!1}function tn(d){it===null?it=[d]:it.push(d)}var an=P.ReactCurrentBatchConfig;function ur(d,m,A){if(d=A.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(n(309));var O=A.stateNode}if(!O)throw Error(n(147,d));var U=O,Y=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===Y?m.ref:(m=function(ue){var Ae=U.refs;ue===null?delete Ae[Y]:Ae[Y]=ue},m._stringRef=Y,m)}if(typeof d!="string")throw Error(n(284));if(!A._owner)throw Error(n(290,d))}return d}function Dn(d,m){throw d=Object.prototype.toString.call(m),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function as(d){var m=d._init;return m(d._payload)}function Gn(d){function m(Ve,Le){if(d){var We=Ve.deletions;We===null?(Ve.deletions=[Le],Ve.flags|=16):We.push(Le)}}function A(Ve,Le){if(!d)return null;for(;Le!==null;)m(Ve,Le),Le=Le.sibling;return null}function O(Ve,Le){for(Ve=new Map;Le!==null;)Le.key!==null?Ve.set(Le.key,Le):Ve.set(Le.index,Le),Le=Le.sibling;return Ve}function U(Ve,Le){return Ve=cd(Ve,Le),Ve.index=0,Ve.sibling=null,Ve}function Y(Ve,Le,We){return Ve.index=We,d?(We=Ve.alternate,We!==null?(We=We.index,We<Le?(Ve.flags|=2,Le):We):(Ve.flags|=2,Le)):(Ve.flags|=1048576,Le)}function ue(Ve){return d&&Ve.alternate===null&&(Ve.flags|=2),Ve}function Ae(Ve,Le,We,wt){return Le===null||Le.tag!==6?(Le=E1(We,Ve.mode,wt),Le.return=Ve,Le):(Le=U(Le,We),Le.return=Ve,Le)}function ke(Ve,Le,We,wt){var Wt=We.type;return Wt===E?vt(Ve,Le,We.props.children,wt,We.key):Le!==null&&(Le.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===V&&as(Wt)===Le.type)?(wt=U(Le,We.props),wt.ref=ur(Ve,Le,We),wt.return=Ve,wt):(wt=vg(We.type,We.key,We.props,null,Ve.mode,wt),wt.ref=ur(Ve,Le,We),wt.return=Ve,wt)}function Ge(Ve,Le,We,wt){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==We.containerInfo||Le.stateNode.implementation!==We.implementation?(Le=P1(We,Ve.mode,wt),Le.return=Ve,Le):(Le=U(Le,We.children||[]),Le.return=Ve,Le)}function vt(Ve,Le,We,wt,Wt){return Le===null||Le.tag!==7?(Le=Pf(We,Ve.mode,wt,Wt),Le.return=Ve,Le):(Le=U(Le,We),Le.return=Ve,Le)}function bt(Ve,Le,We){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Le=E1(""+Le,Ve.mode,We),Le.return=Ve,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case I:return We=vg(Le.type,Le.key,Le.props,null,Ve.mode,We),We.ref=ur(Ve,null,Le),We.return=Ve,We;case w:return Le=P1(Le,Ve.mode,We),Le.return=Ve,Le;case V:var wt=Le._init;return bt(Ve,wt(Le._payload),We)}if(ct(Le)||G(Le))return Le=Pf(Le,Ve.mode,We,null),Le.return=Ve,Le;Dn(Ve,Le)}return null}function pt(Ve,Le,We,wt){var Wt=Le!==null?Le.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Wt!==null?null:Ae(Ve,Le,""+We,wt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case I:return We.key===Wt?ke(Ve,Le,We,wt):null;case w:return We.key===Wt?Ge(Ve,Le,We,wt):null;case V:return Wt=We._init,pt(Ve,Le,Wt(We._payload),wt)}if(ct(We)||G(We))return Wt!==null?null:vt(Ve,Le,We,wt,null);Dn(Ve,We)}return null}function Ot(Ve,Le,We,wt,Wt){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return Ve=Ve.get(We)||null,Ae(Le,Ve,""+wt,Wt);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case I:return Ve=Ve.get(wt.key===null?We:wt.key)||null,ke(Le,Ve,wt,Wt);case w:return Ve=Ve.get(wt.key===null?We:wt.key)||null,Ge(Le,Ve,wt,Wt);case V:var tr=wt._init;return Ot(Ve,Le,We,tr(wt._payload),Wt)}if(ct(wt)||G(wt))return Ve=Ve.get(We)||null,vt(Le,Ve,wt,Wt,null);Dn(Le,wt)}return null}function Bt(Ve,Le,We,wt){for(var Wt=null,tr=null,rr=Le,hr=Le=0,Ka=null;rr!==null&&hr<We.length;hr++){rr.index>hr?(Ka=rr,rr=null):Ka=rr.sibling;var Xr=pt(Ve,rr,We[hr],wt);if(Xr===null){rr===null&&(rr=Ka);break}d&&rr&&Xr.alternate===null&&m(Ve,rr),Le=Y(Xr,Le,hr),tr===null?Wt=Xr:tr.sibling=Xr,tr=Xr,rr=Ka}if(hr===We.length)return A(Ve,rr),nt&&Fe(Ve,hr),Wt;if(rr===null){for(;hr<We.length;hr++)rr=bt(Ve,We[hr],wt),rr!==null&&(Le=Y(rr,Le,hr),tr===null?Wt=rr:tr.sibling=rr,tr=rr);return nt&&Fe(Ve,hr),Wt}for(rr=O(Ve,rr);hr<We.length;hr++)Ka=Ot(rr,Ve,hr,We[hr],wt),Ka!==null&&(d&&Ka.alternate!==null&&rr.delete(Ka.key===null?hr:Ka.key),Le=Y(Ka,Le,hr),tr===null?Wt=Ka:tr.sibling=Ka,tr=Ka);return d&&rr.forEach(function(ud){return m(Ve,ud)}),nt&&Fe(Ve,hr),Wt}function zt(Ve,Le,We,wt){var Wt=G(We);if(typeof Wt!="function")throw Error(n(150));if(We=Wt.call(We),We==null)throw Error(n(151));for(var tr=Wt=null,rr=Le,hr=Le=0,Ka=null,Xr=We.next();rr!==null&&!Xr.done;hr++,Xr=We.next()){rr.index>hr?(Ka=rr,rr=null):Ka=rr.sibling;var ud=pt(Ve,rr,Xr.value,wt);if(ud===null){rr===null&&(rr=Ka);break}d&&rr&&ud.alternate===null&&m(Ve,rr),Le=Y(ud,Le,hr),tr===null?Wt=ud:tr.sibling=ud,tr=ud,rr=Ka}if(Xr.done)return A(Ve,rr),nt&&Fe(Ve,hr),Wt;if(rr===null){for(;!Xr.done;hr++,Xr=We.next())Xr=bt(Ve,Xr.value,wt),Xr!==null&&(Le=Y(Xr,Le,hr),tr===null?Wt=Xr:tr.sibling=Xr,tr=Xr);return nt&&Fe(Ve,hr),Wt}for(rr=O(Ve,rr);!Xr.done;hr++,Xr=We.next())Xr=Ot(rr,Ve,hr,Xr.value,wt),Xr!==null&&(d&&Xr.alternate!==null&&rr.delete(Xr.key===null?hr:Xr.key),Le=Y(Xr,Le,hr),tr===null?Wt=Xr:tr.sibling=Xr,tr=Xr);return d&&rr.forEach(function($q){return m(Ve,$q)}),nt&&Fe(Ve,hr),Wt}function ha(Ve,Le,We,wt){if(typeof We=="object"&&We!==null&&We.type===E&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case I:e:{for(var Wt=We.key,tr=Le;tr!==null;){if(tr.key===Wt){if(Wt=We.type,Wt===E){if(tr.tag===7){A(Ve,tr.sibling),Le=U(tr,We.props.children),Le.return=Ve,Ve=Le;break e}}else if(tr.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===V&&as(Wt)===tr.type){A(Ve,tr.sibling),Le=U(tr,We.props),Le.ref=ur(Ve,tr,We),Le.return=Ve,Ve=Le;break e}A(Ve,tr);break}else m(Ve,tr);tr=tr.sibling}We.type===E?(Le=Pf(We.props.children,Ve.mode,wt,We.key),Le.return=Ve,Ve=Le):(wt=vg(We.type,We.key,We.props,null,Ve.mode,wt),wt.ref=ur(Ve,Le,We),wt.return=Ve,Ve=wt)}return ue(Ve);case w:e:{for(tr=We.key;Le!==null;){if(Le.key===tr)if(Le.tag===4&&Le.stateNode.containerInfo===We.containerInfo&&Le.stateNode.implementation===We.implementation){A(Ve,Le.sibling),Le=U(Le,We.children||[]),Le.return=Ve,Ve=Le;break e}else{A(Ve,Le);break}else m(Ve,Le);Le=Le.sibling}Le=P1(We,Ve.mode,wt),Le.return=Ve,Ve=Le}return ue(Ve);case V:return tr=We._init,ha(Ve,Le,tr(We._payload),wt)}if(ct(We))return Bt(Ve,Le,We,wt);if(G(We))return zt(Ve,Le,We,wt);Dn(Ve,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Le!==null&&Le.tag===6?(A(Ve,Le.sibling),Le=U(Le,We),Le.return=Ve,Ve=Le):(A(Ve,Le),Le=E1(We,Ve.mode,wt),Le.return=Ve,Ve=Le),ue(Ve)):A(Ve,Le)}return ha}var ua=Gn(!0),Kr=Gn(!1),Wa=Oi(null),Ha=null,_n=null,da=null;function Pa(){da=_n=Ha=null}function Ss(d){var m=Wa.current;en(Wa),d._currentValue=m}function li(d,m,A){for(;d!==null;){var O=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,O!==null&&(O.childLanes|=m)):O!==null&&(O.childLanes&m)!==m&&(O.childLanes|=m),d===A)break;d=d.return}}function kn(d,m){Ha=d,da=_n=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(fi=!0),d.firstContext=null)}function ra(d){var m=d._currentValue;if(da!==d)if(d={context:d,memoizedValue:m,next:null},_n===null){if(Ha===null)throw Error(n(308));_n=d,Ha.dependencies={lanes:0,firstContext:d}}else _n=_n.next=d;return m}var Us=null;function Vl(d){Us===null?Us=[d]:Us.push(d)}function Go(d,m,A,O){var U=m.interleaved;return U===null?(A.next=A,Vl(m)):(A.next=U.next,U.next=A),m.interleaved=A,Yr(d,O)}function Yr(d,m){d.lanes|=m;var A=d.alternate;for(A!==null&&(A.lanes|=m),A=d,d=d.return;d!==null;)d.childLanes|=m,A=d.alternate,A!==null&&(A.childLanes|=m),A=d,d=d.return;return A.tag===3?A.stateNode:null}var co=!1;function qh(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rp(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function ci(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function ui(d,m,A){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(Ur&2)!==0){var U=O.pending;return U===null?m.next=m:(m.next=U.next,U.next=m),O.pending=m,Yr(d,A)}return U=O.interleaved,U===null?(m.next=m,Vl(O)):(m.next=U.next,U.next=m),O.interleaved=m,Yr(d,A)}function Wc(d,m,A){if(m=m.updateQueue,m!==null&&(m=m.shared,(A&4194240)!==0)){var O=m.lanes;O&=d.pendingLanes,A|=O,m.lanes=A,Su(d,A)}}function di(d,m){var A=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,A===O)){var U=null,Y=null;if(A=A.firstBaseUpdate,A!==null){do{var ue={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};Y===null?U=Y=ue:Y=Y.next=ue,A=A.next}while(A!==null);Y===null?U=Y=m:Y=Y.next=m}else U=Y=m;A={baseState:O.baseState,firstBaseUpdate:U,lastBaseUpdate:Y,shared:O.shared,effects:O.effects},d.updateQueue=A;return}d=A.lastBaseUpdate,d===null?A.firstBaseUpdate=m:d.next=m,A.lastBaseUpdate=m}function Ko(d,m,A,O){var U=d.updateQueue;co=!1;var Y=U.firstBaseUpdate,ue=U.lastBaseUpdate,Ae=U.shared.pending;if(Ae!==null){U.shared.pending=null;var ke=Ae,Ge=ke.next;ke.next=null,ue===null?Y=Ge:ue.next=Ge,ue=ke;var vt=d.alternate;vt!==null&&(vt=vt.updateQueue,Ae=vt.lastBaseUpdate,Ae!==ue&&(Ae===null?vt.firstBaseUpdate=Ge:Ae.next=Ge,vt.lastBaseUpdate=ke))}if(Y!==null){var bt=U.baseState;ue=0,vt=Ge=ke=null,Ae=Y;do{var pt=Ae.lane,Ot=Ae.eventTime;if((O&pt)===pt){vt!==null&&(vt=vt.next={eventTime:Ot,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var Bt=d,zt=Ae;switch(pt=m,Ot=A,zt.tag){case 1:if(Bt=zt.payload,typeof Bt=="function"){bt=Bt.call(Ot,bt,pt);break e}bt=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=zt.payload,pt=typeof Bt=="function"?Bt.call(Ot,bt,pt):Bt,pt==null)break e;bt=Z({},bt,pt);break e;case 2:co=!0}}Ae.callback!==null&&Ae.lane!==0&&(d.flags|=64,pt=U.effects,pt===null?U.effects=[Ae]:pt.push(Ae))}else Ot={eventTime:Ot,lane:pt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},vt===null?(Ge=vt=Ot,ke=bt):vt=vt.next=Ot,ue|=pt;if(Ae=Ae.next,Ae===null){if(Ae=U.shared.pending,Ae===null)break;pt=Ae,Ae=pt.next,pt.next=null,U.lastBaseUpdate=pt,U.shared.pending=null}}while(!0);if(vt===null&&(ke=bt),U.baseState=ke,U.firstBaseUpdate=Ge,U.lastBaseUpdate=vt,m=U.shared.interleaved,m!==null){U=m;do ue|=U.lane,U=U.next;while(U!==m)}else Y===null&&(U.shared.lanes=0);Sf|=ue,d.lanes=ue,d.memoizedState=bt}}function Hc(d,m,A){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var O=d[m],U=O.callback;if(U!==null){if(O.callback=null,O=A,typeof U!="function")throw Error(n(191,U));U.call(O)}}}var Ju={},Vs=Oi(Ju),Zu=Oi(Ju),Wl=Oi(Ju);function Yo(d){if(d===Ju)throw Error(n(174));return d}function ed(d,m){switch(nn(Wl,m),nn(Zu,d),nn(Vs,Ju),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:_t(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=_t(m,d)}en(Vs),nn(Vs,m)}function uo(){en(Vs),en(Zu),en(Wl)}function Qx(d){Yo(Wl.current);var m=Yo(Vs.current),A=_t(m,d.type);m!==A&&(nn(Zu,d),nn(Vs,A))}function Lp(d){Zu.current===d&&(en(Vs),en(Zu))}var mn=Oi(0);function Ri(d){for(var m=d;m!==null;){if(m.tag===13){var A=m.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Fp=[];function Mp(){for(var d=0;d<Fp.length;d++)Fp[d]._workInProgressVersionPrimary=null;Fp.length=0}var zh=P.ReactCurrentDispatcher,Uh=P.ReactCurrentBatchConfig,fo=0,wn=null,na=null,Kn=null,td=!1,Xo=!1,rd=0,Zb=0;function fa(){throw Error(n(321))}function Vh(d,m){if(m===null)return!1;for(var A=0;A<m.length&&A<d.length;A++)if(!zr(d[A],m[A]))return!1;return!0}function jf(d,m,A,O,U,Y){if(fo=Y,wn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,zh.current=d===null||d.memoizedState===null?dq:fq,d=A(O,U),Xo){Y=0;do{if(Xo=!1,rd=0,25<=Y)throw Error(n(301));Y+=1,Kn=na=null,m.updateQueue=null,zh.current=hq,d=A(O,U)}while(Xo)}if(zh.current=rg,m=na!==null&&na.next!==null,fo=0,Kn=na=wn=null,td=!1,m)throw Error(n(300));return d}function ho(){var d=rd!==0;return rd=0,d}function Li(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?wn.memoizedState=Kn=d:Kn=Kn.next=d,Kn}function Ws(){if(na===null){var d=wn.alternate;d=d!==null?d.memoizedState:null}else d=na.next;var m=Kn===null?wn.memoizedState:Kn.next;if(m!==null)Kn=m,na=d;else{if(d===null)throw Error(n(310));na=d,d={memoizedState:na.memoizedState,baseState:na.baseState,baseQueue:na.baseQueue,queue:na.queue,next:null},Kn===null?wn.memoizedState=Kn=d:Kn=Kn.next=d}return Kn}function wf(d,m){return typeof m=="function"?m(d):m}function Wh(d){var m=Ws(),A=m.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=d;var O=na,U=O.baseQueue,Y=A.pending;if(Y!==null){if(U!==null){var ue=U.next;U.next=Y.next,Y.next=ue}O.baseQueue=U=Y,A.pending=null}if(U!==null){Y=U.next,O=O.baseState;var Ae=ue=null,ke=null,Ge=Y;do{var vt=Ge.lane;if((fo&vt)===vt)ke!==null&&(ke=ke.next={lane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),O=Ge.hasEagerState?Ge.eagerState:d(O,Ge.action);else{var bt={lane:vt,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null};ke===null?(Ae=ke=bt,ue=O):ke=ke.next=bt,wn.lanes|=vt,Sf|=vt}Ge=Ge.next}while(Ge!==null&&Ge!==Y);ke===null?ue=O:ke.next=Ae,zr(O,m.memoizedState)||(fi=!0),m.memoizedState=O,m.baseState=ue,m.baseQueue=ke,A.lastRenderedState=O}if(d=A.interleaved,d!==null){U=d;do Y=U.lane,wn.lanes|=Y,Sf|=Y,U=U.next;while(U!==d)}else U===null&&(A.lanes=0);return[m.memoizedState,A.dispatch]}function Hl(d){var m=Ws(),A=m.queue;if(A===null)throw Error(n(311));A.lastRenderedReducer=d;var O=A.dispatch,U=A.pending,Y=m.memoizedState;if(U!==null){A.pending=null;var ue=U=U.next;do Y=d(Y,ue.action),ue=ue.next;while(ue!==U);zr(Y,m.memoizedState)||(fi=!0),m.memoizedState=Y,m.baseQueue===null&&(m.baseState=Y),A.lastRenderedState=Y}return[Y,O]}function Jx(){}function $p(d,m){var A=wn,O=Ws(),U=m(),Y=!zr(O.memoizedState,U);if(Y&&(O.memoizedState=U,fi=!0),O=O.queue,Kh(eg.bind(null,A,O,d),[d]),O.getSnapshot!==m||Y||Kn!==null&&Kn.memoizedState.tag&1){if(A.flags|=2048,Hs(9,Bp.bind(null,A,O,U,m),void 0,null),Ga===null)throw Error(n(349));(fo&30)!==0||Zx(A,m,U)}return U}function Zx(d,m,A){d.flags|=16384,d={getSnapshot:m,value:A},m=wn.updateQueue,m===null?(m={lastEffect:null,stores:null},wn.updateQueue=m,m.stores=[d]):(A=m.stores,A===null?m.stores=[d]:A.push(d))}function Bp(d,m,A,O){m.value=A,m.getSnapshot=O,nd(m)&&Hh(d)}function eg(d,m,A){return A(function(){nd(m)&&Hh(d)})}function nd(d){var m=d.getSnapshot;d=d.value;try{var A=m();return!zr(d,A)}catch{return!0}}function Hh(d){var m=Yr(d,1);m!==null&&tl(m,d,1,-1)}function Nf(d){var m=Li();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:d},m.queue=d,d=d.dispatch=uq.bind(null,wn,d),[m.memoizedState,d]}function Hs(d,m,A,O){return d={tag:d,create:m,destroy:A,deps:O,next:null},m=wn.updateQueue,m===null?(m={lastEffect:null,stores:null},wn.updateQueue=m,m.lastEffect=d.next=d):(A=m.lastEffect,A===null?m.lastEffect=d.next=d:(O=A.next,A.next=d,d.next=O,m.lastEffect=d)),d}function Qo(){return Ws().memoizedState}function Fi(d,m,A,O){var U=Li();wn.flags|=d,U.memoizedState=Hs(1|m,A,void 0,O===void 0?null:O)}function Gc(d,m,A,O){var U=Ws();O=O===void 0?null:O;var Y=void 0;if(na!==null){var ue=na.memoizedState;if(Y=ue.destroy,O!==null&&Vh(O,ue.deps)){U.memoizedState=Hs(m,A,Y,O);return}}wn.flags|=d,U.memoizedState=Hs(1|m,A,Y,O)}function Gh(d,m){return Fi(8390656,8,d,m)}function Kh(d,m){return Gc(2048,8,d,m)}function tg(d,m){return Gc(4,2,d,m)}function Yh(d,m){return Gc(4,4,d,m)}function Xh(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function dE(d,m,A){return A=A!=null?A.concat([d]):null,Gc(4,4,Xh.bind(null,m,d),A)}function e1(){}function fE(d,m){var A=Ws();m=m===void 0?null:m;var O=A.memoizedState;return O!==null&&m!==null&&Vh(m,O[1])?O[0]:(A.memoizedState=[d,m],d)}function hE(d,m){var A=Ws();m=m===void 0?null:m;var O=A.memoizedState;return O!==null&&m!==null&&Vh(m,O[1])?O[0]:(d=d(),A.memoizedState=[d,m],d)}function mE(d,m,A){return(fo&21)===0?(d.baseState&&(d.baseState=!1,fi=!0),d.memoizedState=A):(zr(A,m)||(A=Zd(),wn.lanes|=A,Sf|=A,d.baseState=!0),m)}function lq(d,m){var A=qr;qr=A!==0&&4>A?A:4,d(!0);var O=Uh.transition;Uh.transition={};try{d(!1),m()}finally{qr=A,Uh.transition=O}}function pE(){return Ws().memoizedState}function cq(d,m,A){var O=od(d);if(A={lane:O,action:A,hasEagerState:!1,eagerState:null,next:null},vE(d))xE(m,A);else if(A=Go(d,m,A,O),A!==null){var U=Ks();tl(A,d,O,U),gE(A,m,O)}}function uq(d,m,A){var O=od(d),U={lane:O,action:A,hasEagerState:!1,eagerState:null,next:null};if(vE(d))xE(m,U);else{var Y=d.alternate;if(d.lanes===0&&(Y===null||Y.lanes===0)&&(Y=m.lastRenderedReducer,Y!==null))try{var ue=m.lastRenderedState,Ae=Y(ue,A);if(U.hasEagerState=!0,U.eagerState=Ae,zr(Ae,ue)){var ke=m.interleaved;ke===null?(U.next=U,Vl(m)):(U.next=ke.next,ke.next=U),m.interleaved=U;return}}catch{}finally{}A=Go(d,m,U,O),A!==null&&(U=Ks(),tl(A,d,O,U),gE(A,m,O))}}function vE(d){var m=d.alternate;return d===wn||m!==null&&m===wn}function xE(d,m){Xo=td=!0;var A=d.pending;A===null?m.next=m:(m.next=A.next,A.next=m),d.pending=m}function gE(d,m,A){if((A&4194240)!==0){var O=m.lanes;O&=d.pendingLanes,A|=O,m.lanes=A,Su(d,A)}}var rg={readContext:ra,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},dq={readContext:ra,useCallback:function(d,m){return Li().memoizedState=[d,m===void 0?null:m],d},useContext:ra,useEffect:Gh,useImperativeHandle:function(d,m,A){return A=A!=null?A.concat([d]):null,Fi(4194308,4,Xh.bind(null,m,d),A)},useLayoutEffect:function(d,m){return Fi(4194308,4,d,m)},useInsertionEffect:function(d,m){return Fi(4,2,d,m)},useMemo:function(d,m){var A=Li();return m=m===void 0?null:m,d=d(),A.memoizedState=[d,m],d},useReducer:function(d,m,A){var O=Li();return m=A!==void 0?A(m):m,O.memoizedState=O.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},O.queue=d,d=d.dispatch=cq.bind(null,wn,d),[O.memoizedState,d]},useRef:function(d){var m=Li();return d={current:d},m.memoizedState=d},useState:Nf,useDebugValue:e1,useDeferredValue:function(d){return Li().memoizedState=d},useTransition:function(){var d=Nf(!1),m=d[0];return d=lq.bind(null,d[1]),Li().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,A){var O=wn,U=Li();if(nt){if(A===void 0)throw Error(n(407));A=A()}else{if(A=m(),Ga===null)throw Error(n(349));(fo&30)!==0||Zx(O,m,A)}U.memoizedState=A;var Y={value:A,getSnapshot:m};return U.queue=Y,Gh(eg.bind(null,O,Y,d),[d]),O.flags|=2048,Hs(9,Bp.bind(null,O,Y,A,m),void 0,null),A},useId:function(){var d=Li(),m=Ga.identifierPrefix;if(nt){var A=qe,O=Be;A=(O&~(1<<32-Ms(O)-1)).toString(32)+A,m=":"+m+"R"+A,A=rd++,0<A&&(m+="H"+A.toString(32)),m+=":"}else A=Zb++,m=":"+m+"r"+A.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},fq={readContext:ra,useCallback:fE,useContext:ra,useEffect:Kh,useImperativeHandle:dE,useInsertionEffect:tg,useLayoutEffect:Yh,useMemo:hE,useReducer:Wh,useRef:Qo,useState:function(){return Wh(wf)},useDebugValue:e1,useDeferredValue:function(d){var m=Ws();return mE(m,na.memoizedState,d)},useTransition:function(){var d=Wh(wf)[0],m=Ws().memoizedState;return[d,m]},useMutableSource:Jx,useSyncExternalStore:$p,useId:pE,unstable_isNewReconciler:!1},hq={readContext:ra,useCallback:fE,useContext:ra,useEffect:Kh,useImperativeHandle:dE,useInsertionEffect:tg,useLayoutEffect:Yh,useMemo:hE,useReducer:Hl,useRef:Qo,useState:function(){return Hl(wf)},useDebugValue:e1,useDeferredValue:function(d){var m=Ws();return na===null?m.memoizedState=d:mE(m,na.memoizedState,d)},useTransition:function(){var d=Hl(wf)[0],m=Ws().memoizedState;return[d,m]},useMutableSource:Jx,useSyncExternalStore:$p,useId:pE,unstable_isNewReconciler:!1};function Jo(d,m){if(d&&d.defaultProps){m=Z({},m),d=d.defaultProps;for(var A in d)m[A]===void 0&&(m[A]=d[A]);return m}return m}function t1(d,m,A,O){m=d.memoizedState,A=A(O,m),A=A==null?m:Z({},m,A),d.memoizedState=A,d.lanes===0&&(d.updateQueue.baseState=A)}var ng={isMounted:function(d){return(d=d._reactInternals)?Ca(d)===d:!1},enqueueSetState:function(d,m,A){d=d._reactInternals;var O=Ks(),U=od(d),Y=ci(O,U);Y.payload=m,A!=null&&(Y.callback=A),m=ui(d,Y,U),m!==null&&(tl(m,d,U,O),Wc(m,d,U))},enqueueReplaceState:function(d,m,A){d=d._reactInternals;var O=Ks(),U=od(d),Y=ci(O,U);Y.tag=1,Y.payload=m,A!=null&&(Y.callback=A),m=ui(d,Y,U),m!==null&&(tl(m,d,U,O),Wc(m,d,U))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var A=Ks(),O=od(d),U=ci(A,O);U.tag=2,m!=null&&(U.callback=m),m=ui(d,U,O),m!==null&&(tl(m,d,O,A),Wc(m,d,O))}};function yE(d,m,A,O,U,Y,ue){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,Y,ue):m.prototype&&m.prototype.isPureReactComponent?!qo(A,O)||!qo(U,Y):!0}function bE(d,m,A){var O=!1,U=Ul,Y=m.contextType;return typeof Y=="object"&&Y!==null?Y=ra(Y):(U=Ns(m)?Uc:Ea.current,O=m.contextTypes,Y=(O=O!=null)?Qu(d,U):Ul),m=new m(A,Y),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ng,d.stateNode=m,m._reactInternals=d,O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=U,d.__reactInternalMemoizedMaskedChildContext=Y),m}function jE(d,m,A,O){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(A,O),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(A,O),m.state!==d&&ng.enqueueReplaceState(m,m.state,null)}function r1(d,m,A,O){var U=d.stateNode;U.props=A,U.state=d.memoizedState,U.refs={},qh(d);var Y=m.contextType;typeof Y=="object"&&Y!==null?U.context=ra(Y):(Y=Ns(m)?Uc:Ea.current,U.context=Qu(d,Y)),U.state=d.memoizedState,Y=m.getDerivedStateFromProps,typeof Y=="function"&&(t1(d,m,Y,A),U.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(m=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),m!==U.state&&ng.enqueueReplaceState(U,U.state,null),Ko(d,A,U,O),U.state=d.memoizedState),typeof U.componentDidMount=="function"&&(d.flags|=4194308)}function Qh(d,m){try{var A="",O=m;do A+=se(O),O=O.return;while(O);var U=A}catch(Y){U=`
Error generating stack: `+Y.message+`
`+Y.stack}return{value:d,source:m,stack:U,digest:null}}function n1(d,m,A){return{value:d,source:null,stack:A??null,digest:m??null}}function a1(d,m){try{console.error(m.value)}catch(A){setTimeout(function(){throw A})}}var mq=typeof WeakMap=="function"?WeakMap:Map;function wE(d,m,A){A=ci(-1,A),A.tag=3,A.payload={element:null};var O=m.value;return A.callback=function(){ug||(ug=!0,y1=O),a1(d,m)},A}function NE(d,m,A){A=ci(-1,A),A.tag=3;var O=d.type.getDerivedStateFromError;if(typeof O=="function"){var U=m.value;A.payload=function(){return O(U)},A.callback=function(){a1(d,m)}}var Y=d.stateNode;return Y!==null&&typeof Y.componentDidCatch=="function"&&(A.callback=function(){a1(d,m),typeof O!="function"&&(sd===null?sd=new Set([this]):sd.add(this));var ue=m.stack;this.componentDidCatch(m.value,{componentStack:ue!==null?ue:""})}),A}function SE(d,m,A){var O=d.pingCache;if(O===null){O=d.pingCache=new mq;var U=new Set;O.set(m,U)}else U=O.get(m),U===void 0&&(U=new Set,O.set(m,U));U.has(A)||(U.add(A),d=Pq.bind(null,d,m,A),m.then(d,d))}function CE(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function AE(d,m,A,O,U){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(m=ci(-1,1),m.tag=2,ui(A,m,1))),A.lanes|=1),d):(d.flags|=65536,d.lanes=U,d)}var pq=P.ReactCurrentOwner,fi=!1;function Gs(d,m,A,O){m.child=d===null?Kr(m,null,A,O):ua(m,d.child,A,O)}function EE(d,m,A,O,U){A=A.render;var Y=m.ref;return kn(m,U),O=jf(d,m,A,O,Y,U),A=ho(),d!==null&&!fi?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~U,Kc(d,m,U)):(nt&&A&&Je(m),m.flags|=1,Gs(d,m,O,U),m.child)}function PE(d,m,A,O,U){if(d===null){var Y=A.type;return typeof Y=="function"&&!A1(Y)&&Y.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(m.tag=15,m.type=Y,TE(d,m,Y,O,U)):(d=vg(A.type,null,O,m,m.mode,U),d.ref=m.ref,d.return=m,m.child=d)}if(Y=d.child,(d.lanes&U)===0){var ue=Y.memoizedProps;if(A=A.compare,A=A!==null?A:qo,A(ue,O)&&d.ref===m.ref)return Kc(d,m,U)}return m.flags|=1,d=cd(Y,O),d.ref=m.ref,d.return=m,m.child=d}function TE(d,m,A,O,U){if(d!==null){var Y=d.memoizedProps;if(qo(Y,O)&&d.ref===m.ref)if(fi=!1,m.pendingProps=O=Y,(d.lanes&U)!==0)(d.flags&131072)!==0&&(fi=!0);else return m.lanes=d.lanes,Kc(d,m,U)}return s1(d,m,A,O,U)}function IE(d,m,A){var O=m.pendingProps,U=O.children,Y=d!==null?d.memoizedState:null;if(O.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(Zh,Mi),Mi|=A;else{if((A&1073741824)===0)return d=Y!==null?Y.baseLanes|A:A,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,nn(Zh,Mi),Mi|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},O=Y!==null?Y.baseLanes:A,nn(Zh,Mi),Mi|=O}else Y!==null?(O=Y.baseLanes|A,m.memoizedState=null):O=A,nn(Zh,Mi),Mi|=O;return Gs(d,m,U,A),m.child}function DE(d,m){var A=m.ref;(d===null&&A!==null||d!==null&&d.ref!==A)&&(m.flags|=512,m.flags|=2097152)}function s1(d,m,A,O,U){var Y=Ns(A)?Uc:Ea.current;return Y=Qu(m,Y),kn(m,U),A=jf(d,m,A,O,Y,U),O=ho(),d!==null&&!fi?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~U,Kc(d,m,U)):(nt&&O&&Je(m),m.flags|=1,Gs(d,m,A,U),m.child)}function _E(d,m,A,O,U){if(Ns(A)){var Y=!0;Vc(m)}else Y=!1;if(kn(m,U),m.stateNode===null)sg(d,m),bE(m,A,O),r1(m,A,O,U),O=!0;else if(d===null){var ue=m.stateNode,Ae=m.memoizedProps;ue.props=Ae;var ke=ue.context,Ge=A.contextType;typeof Ge=="object"&&Ge!==null?Ge=ra(Ge):(Ge=Ns(A)?Uc:Ea.current,Ge=Qu(m,Ge));var vt=A.getDerivedStateFromProps,bt=typeof vt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";bt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ae!==O||ke!==Ge)&&jE(m,ue,O,Ge),co=!1;var pt=m.memoizedState;ue.state=pt,Ko(m,O,ue,U),ke=m.memoizedState,Ae!==O||pt!==ke||ws.current||co?(typeof vt=="function"&&(t1(m,A,vt,O),ke=m.memoizedState),(Ae=co||yE(m,A,Ae,O,pt,ke,Ge))?(bt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=O,m.memoizedState=ke),ue.props=O,ue.state=ke,ue.context=Ge,O=Ae):(typeof ue.componentDidMount=="function"&&(m.flags|=4194308),O=!1)}else{ue=m.stateNode,Rp(d,m),Ae=m.memoizedProps,Ge=m.type===m.elementType?Ae:Jo(m.type,Ae),ue.props=Ge,bt=m.pendingProps,pt=ue.context,ke=A.contextType,typeof ke=="object"&&ke!==null?ke=ra(ke):(ke=Ns(A)?Uc:Ea.current,ke=Qu(m,ke));var Ot=A.getDerivedStateFromProps;(vt=typeof Ot=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ae!==bt||pt!==ke)&&jE(m,ue,O,ke),co=!1,pt=m.memoizedState,ue.state=pt,Ko(m,O,ue,U);var Bt=m.memoizedState;Ae!==bt||pt!==Bt||ws.current||co?(typeof Ot=="function"&&(t1(m,A,Ot,O),Bt=m.memoizedState),(Ge=co||yE(m,A,Ge,O,pt,Bt,ke)||!1)?(vt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(O,Bt,ke),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(O,Bt,ke)),typeof ue.componentDidUpdate=="function"&&(m.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Ae===d.memoizedProps&&pt===d.memoizedState||(m.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ae===d.memoizedProps&&pt===d.memoizedState||(m.flags|=1024),m.memoizedProps=O,m.memoizedState=Bt),ue.props=O,ue.state=Bt,ue.context=ke,O=Ge):(typeof ue.componentDidUpdate!="function"||Ae===d.memoizedProps&&pt===d.memoizedState||(m.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ae===d.memoizedProps&&pt===d.memoizedState||(m.flags|=1024),O=!1)}return i1(d,m,A,O,Y,U)}function i1(d,m,A,O,U,Y){DE(d,m);var ue=(m.flags&128)!==0;if(!O&&!ue)return U&&Xx(m,A,!1),Kc(d,m,Y);O=m.stateNode,pq.current=m;var Ae=ue&&typeof A.getDerivedStateFromError!="function"?null:O.render();return m.flags|=1,d!==null&&ue?(m.child=ua(m,d.child,null,Y),m.child=ua(m,null,Ae,Y)):Gs(d,m,Ae,Y),m.memoizedState=O.state,U&&Xx(m,A,!0),m.child}function kE(d){var m=d.stateNode;m.pendingContext?Yx(d,m.pendingContext,m.pendingContext!==m.context):m.context&&Yx(d,m.context,!1),ed(d,m.containerInfo)}function OE(d,m,A,O,U){return br(),tn(U),m.flags|=256,Gs(d,m,A,O),m.child}var o1={dehydrated:null,treeContext:null,retryLane:0};function l1(d){return{baseLanes:d,cachePool:null,transitions:null}}function RE(d,m,A){var O=m.pendingProps,U=mn.current,Y=!1,ue=(m.flags&128)!==0,Ae;if((Ae=ue)||(Ae=d!==null&&d.memoizedState===null?!1:(U&2)!==0),Ae?(Y=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(U|=1),nn(mn,U&1),d===null)return At(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(ue=O.children,d=O.fallback,Y?(O=m.mode,Y=m.child,ue={mode:"hidden",children:ue},(O&1)===0&&Y!==null?(Y.childLanes=0,Y.pendingProps=ue):Y=xg(ue,O,0,null),d=Pf(d,O,A,null),Y.return=m,d.return=m,Y.sibling=d,m.child=Y,m.child.memoizedState=l1(A),m.memoizedState=o1,d):c1(m,ue));if(U=d.memoizedState,U!==null&&(Ae=U.dehydrated,Ae!==null))return vq(d,m,ue,O,Ae,U,A);if(Y){Y=O.fallback,ue=m.mode,U=d.child,Ae=U.sibling;var ke={mode:"hidden",children:O.children};return(ue&1)===0&&m.child!==U?(O=m.child,O.childLanes=0,O.pendingProps=ke,m.deletions=null):(O=cd(U,ke),O.subtreeFlags=U.subtreeFlags&14680064),Ae!==null?Y=cd(Ae,Y):(Y=Pf(Y,ue,A,null),Y.flags|=2),Y.return=m,O.return=m,O.sibling=Y,m.child=O,O=Y,Y=m.child,ue=d.child.memoizedState,ue=ue===null?l1(A):{baseLanes:ue.baseLanes|A,cachePool:null,transitions:ue.transitions},Y.memoizedState=ue,Y.childLanes=d.childLanes&~A,m.memoizedState=o1,O}return Y=d.child,d=Y.sibling,O=cd(Y,{mode:"visible",children:O.children}),(m.mode&1)===0&&(O.lanes=A),O.return=m,O.sibling=null,d!==null&&(A=m.deletions,A===null?(m.deletions=[d],m.flags|=16):A.push(d)),m.child=O,m.memoizedState=null,O}function c1(d,m){return m=xg({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function ag(d,m,A,O){return O!==null&&tn(O),ua(m,d.child,null,A),d=c1(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function vq(d,m,A,O,U,Y,ue){if(A)return m.flags&256?(m.flags&=-257,O=n1(Error(n(422))),ag(d,m,ue,O)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(Y=O.fallback,U=m.mode,O=xg({mode:"visible",children:O.children},U,0,null),Y=Pf(Y,U,ue,null),Y.flags|=2,O.return=m,Y.return=m,O.sibling=Y,m.child=O,(m.mode&1)!==0&&ua(m,d.child,null,ue),m.child.memoizedState=l1(ue),m.memoizedState=o1,Y);if((m.mode&1)===0)return ag(d,m,ue,null);if(U.data==="$!"){if(O=U.nextSibling&&U.nextSibling.dataset,O)var Ae=O.dgst;return O=Ae,Y=Error(n(419)),O=n1(Y,O,void 0),ag(d,m,ue,O)}if(Ae=(ue&d.childLanes)!==0,fi||Ae){if(O=Ga,O!==null){switch(ue&-ue){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=(U&(O.suspendedLanes|ue))!==0?0:U,U!==0&&U!==Y.retryLane&&(Y.retryLane=U,Yr(d,U),tl(O,d,U,-1))}return C1(),O=n1(Error(n(421))),ag(d,m,ue,O)}return U.data==="$?"?(m.flags|=128,m.child=d.child,m=Tq.bind(null,d),U._reactRetry=m,null):(d=Y.treeContext,at=ns(U.nextSibling),Re=m,nt=!0,it=null,d!==null&&(he[xe++]=Be,he[xe++]=qe,he[xe++]=_e,Be=d.id,qe=d.overflow,_e=m),m=c1(m,O.children),m.flags|=4096,m)}function LE(d,m,A){d.lanes|=m;var O=d.alternate;O!==null&&(O.lanes|=m),li(d.return,m,A)}function u1(d,m,A,O,U){var Y=d.memoizedState;Y===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:O,tail:A,tailMode:U}:(Y.isBackwards=m,Y.rendering=null,Y.renderingStartTime=0,Y.last=O,Y.tail=A,Y.tailMode=U)}function FE(d,m,A){var O=m.pendingProps,U=O.revealOrder,Y=O.tail;if(Gs(d,m,O.children,A),O=mn.current,(O&2)!==0)O=O&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&LE(d,A,m);else if(d.tag===19)LE(d,A,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}O&=1}if(nn(mn,O),(m.mode&1)===0)m.memoizedState=null;else switch(U){case"forwards":for(A=m.child,U=null;A!==null;)d=A.alternate,d!==null&&Ri(d)===null&&(U=A),A=A.sibling;A=U,A===null?(U=m.child,m.child=null):(U=A.sibling,A.sibling=null),u1(m,!1,U,A,Y);break;case"backwards":for(A=null,U=m.child,m.child=null;U!==null;){if(d=U.alternate,d!==null&&Ri(d)===null){m.child=U;break}d=U.sibling,U.sibling=A,A=U,U=d}u1(m,!0,A,null,Y);break;case"together":u1(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function sg(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function Kc(d,m,A){if(d!==null&&(m.dependencies=d.dependencies),Sf|=m.lanes,(A&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(n(153));if(m.child!==null){for(d=m.child,A=cd(d,d.pendingProps),m.child=A,A.return=m;d.sibling!==null;)d=d.sibling,A=A.sibling=cd(d,d.pendingProps),A.return=m;A.sibling=null}return m.child}function xq(d,m,A){switch(m.tag){case 3:kE(m),br();break;case 5:Qx(m);break;case 1:Ns(m.type)&&Vc(m);break;case 4:ed(m,m.stateNode.containerInfo);break;case 10:var O=m.type._context,U=m.memoizedProps.value;nn(Wa,O._currentValue),O._currentValue=U;break;case 13:if(O=m.memoizedState,O!==null)return O.dehydrated!==null?(nn(mn,mn.current&1),m.flags|=128,null):(A&m.child.childLanes)!==0?RE(d,m,A):(nn(mn,mn.current&1),d=Kc(d,m,A),d!==null?d.sibling:null);nn(mn,mn.current&1);break;case 19:if(O=(A&m.childLanes)!==0,(d.flags&128)!==0){if(O)return FE(d,m,A);m.flags|=128}if(U=m.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),nn(mn,mn.current),O)break;return null;case 22:case 23:return m.lanes=0,IE(d,m,A)}return Kc(d,m,A)}var ME,d1,$E,BE;ME=function(d,m){for(var A=m.child;A!==null;){if(A.tag===5||A.tag===6)d.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},d1=function(){},$E=function(d,m,A,O){var U=d.memoizedProps;if(U!==O){d=m.stateNode,Yo(Vs.current);var Y=null;switch(A){case"input":U=He(d,U),O=He(d,O),Y=[];break;case"select":U=Z({},U,{value:void 0}),O=Z({},O,{value:void 0}),Y=[];break;case"textarea":U=gt(d,U),O=gt(d,O),Y=[];break;default:typeof U.onClick!="function"&&typeof O.onClick=="function"&&(d.onclick=Ku)}Gr(A,O);var ue;A=null;for(Ge in U)if(!O.hasOwnProperty(Ge)&&U.hasOwnProperty(Ge)&&U[Ge]!=null)if(Ge==="style"){var Ae=U[Ge];for(ue in Ae)Ae.hasOwnProperty(ue)&&(A||(A={}),A[ue]="")}else Ge!=="dangerouslySetInnerHTML"&&Ge!=="children"&&Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&Ge!=="autoFocus"&&(s.hasOwnProperty(Ge)?Y||(Y=[]):(Y=Y||[]).push(Ge,null));for(Ge in O){var ke=O[Ge];if(Ae=U?.[Ge],O.hasOwnProperty(Ge)&&ke!==Ae&&(ke!=null||Ae!=null))if(Ge==="style")if(Ae){for(ue in Ae)!Ae.hasOwnProperty(ue)||ke&&ke.hasOwnProperty(ue)||(A||(A={}),A[ue]="");for(ue in ke)ke.hasOwnProperty(ue)&&Ae[ue]!==ke[ue]&&(A||(A={}),A[ue]=ke[ue])}else A||(Y||(Y=[]),Y.push(Ge,A)),A=ke;else Ge==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,Ae=Ae?Ae.__html:void 0,ke!=null&&Ae!==ke&&(Y=Y||[]).push(Ge,ke)):Ge==="children"?typeof ke!="string"&&typeof ke!="number"||(Y=Y||[]).push(Ge,""+ke):Ge!=="suppressContentEditableWarning"&&Ge!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ge)?(ke!=null&&Ge==="onScroll"&&cn("scroll",d),Y||Ae===ke||(Y=[])):(Y=Y||[]).push(Ge,ke))}A&&(Y=Y||[]).push("style",A);var Ge=Y;(m.updateQueue=Ge)&&(m.flags|=4)}},BE=function(d,m,A,O){A!==O&&(m.flags|=4)};function qp(d,m){if(!nt)switch(d.tailMode){case"hidden":m=d.tail;for(var A=null;m!==null;)m.alternate!==null&&(A=m),m=m.sibling;A===null?d.tail=null:A.sibling=null;break;case"collapsed":A=d.tail;for(var O=null;A!==null;)A.alternate!==null&&(O=A),A=A.sibling;O===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Cs(d){var m=d.alternate!==null&&d.alternate.child===d.child,A=0,O=0;if(m)for(var U=d.child;U!==null;)A|=U.lanes|U.childLanes,O|=U.subtreeFlags&14680064,O|=U.flags&14680064,U.return=d,U=U.sibling;else for(U=d.child;U!==null;)A|=U.lanes|U.childLanes,O|=U.subtreeFlags,O|=U.flags,U.return=d,U=U.sibling;return d.subtreeFlags|=O,d.childLanes=A,m}function gq(d,m,A){var O=m.pendingProps;switch(Oe(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(m),null;case 1:return Ns(m.type)&&Bh(),Cs(m),null;case 3:return O=m.stateNode,uo(),en(ws),en(Ea),Mp(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(d===null||d.child===null)&&(Lr(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,it!==null&&(w1(it),it=null))),d1(d,m),Cs(m),null;case 5:Lp(m);var U=Yo(Wl.current);if(A=m.type,d!==null&&m.stateNode!=null)$E(d,m,A,O,U),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!O){if(m.stateNode===null)throw Error(n(166));return Cs(m),null}if(d=Yo(Vs.current),Lr(m)){O=m.stateNode,A=m.type;var Y=m.memoizedProps;switch(O[lo]=m,O[Yu]=Y,d=(m.mode&1)!==0,A){case"dialog":cn("cancel",O),cn("close",O);break;case"iframe":case"object":case"embed":cn("load",O);break;case"video":case"audio":for(U=0;U<ql.length;U++)cn(ql[U],O);break;case"source":cn("error",O);break;case"img":case"image":case"link":cn("error",O),cn("load",O);break;case"details":cn("toggle",O);break;case"input":ge(O,Y),cn("invalid",O);break;case"select":O._wrapperState={wasMultiple:!!Y.multiple},cn("invalid",O);break;case"textarea":kt(O,Y),cn("invalid",O)}Gr(A,Y),U=null;for(var ue in Y)if(Y.hasOwnProperty(ue)){var Ae=Y[ue];ue==="children"?typeof Ae=="string"?O.textContent!==Ae&&(Y.suppressHydrationWarning!==!0&&$h(O.textContent,Ae,d),U=["children",Ae]):typeof Ae=="number"&&O.textContent!==""+Ae&&(Y.suppressHydrationWarning!==!0&&$h(O.textContent,Ae,d),U=["children",""+Ae]):s.hasOwnProperty(ue)&&Ae!=null&&ue==="onScroll"&&cn("scroll",O)}switch(A){case"input":Se(O),Ie(O,Y,!0);break;case"textarea":Se(O),ht(O);break;case"select":case"option":break;default:typeof Y.onClick=="function"&&(O.onclick=Ku)}O=U,m.updateQueue=O,O!==null&&(m.flags|=4)}else{ue=U.nodeType===9?U:U.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Ct(A)),d==="http://www.w3.org/1999/xhtml"?A==="script"?(d=ue.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof O.is=="string"?d=ue.createElement(A,{is:O.is}):(d=ue.createElement(A),A==="select"&&(ue=d,O.multiple?ue.multiple=!0:O.size&&(ue.size=O.size))):d=ue.createElementNS(d,A),d[lo]=m,d[Yu]=O,ME(d,m,!1,!1),m.stateNode=d;e:{switch(ue=Ma(A,O),A){case"dialog":cn("cancel",d),cn("close",d),U=O;break;case"iframe":case"object":case"embed":cn("load",d),U=O;break;case"video":case"audio":for(U=0;U<ql.length;U++)cn(ql[U],d);U=O;break;case"source":cn("error",d),U=O;break;case"img":case"image":case"link":cn("error",d),cn("load",d),U=O;break;case"details":cn("toggle",d),U=O;break;case"input":ge(d,O),U=He(d,O),cn("invalid",d);break;case"option":U=O;break;case"select":d._wrapperState={wasMultiple:!!O.multiple},U=Z({},O,{value:void 0}),cn("invalid",d);break;case"textarea":kt(d,O),U=gt(d,O),cn("invalid",d);break;default:U=O}Gr(A,U),Ae=U;for(Y in Ae)if(Ae.hasOwnProperty(Y)){var ke=Ae[Y];Y==="style"?Zn(d,ke):Y==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,ke!=null&&Vt(d,ke)):Y==="children"?typeof ke=="string"?(A!=="textarea"||ke!=="")&&er(d,ke):typeof ke=="number"&&er(d,""+ke):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?ke!=null&&Y==="onScroll"&&cn("scroll",d):ke!=null&&N(d,Y,ke,ue))}switch(A){case"input":Se(d),Ie(d,O,!1);break;case"textarea":Se(d),ht(d);break;case"option":O.value!=null&&d.setAttribute("value",""+ve(O.value));break;case"select":d.multiple=!!O.multiple,Y=O.value,Y!=null?xt(d,!!O.multiple,Y,!1):O.defaultValue!=null&&xt(d,!!O.multiple,O.defaultValue,!0);break;default:typeof U.onClick=="function"&&(d.onclick=Ku)}switch(A){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}}O&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Cs(m),null;case 6:if(d&&m.stateNode!=null)BE(d,m,d.memoizedProps,O);else{if(typeof O!="string"&&m.stateNode===null)throw Error(n(166));if(A=Yo(Wl.current),Yo(Vs.current),Lr(m)){if(O=m.stateNode,A=m.memoizedProps,O[lo]=m,(Y=O.nodeValue!==A)&&(d=Re,d!==null))switch(d.tag){case 3:$h(O.nodeValue,A,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&$h(O.nodeValue,A,(d.mode&1)!==0)}Y&&(m.flags|=4)}else O=(A.nodeType===9?A:A.ownerDocument).createTextNode(O),O[lo]=m,m.stateNode=O}return Cs(m),null;case 13:if(en(mn),O=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(nt&&at!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Pr(),br(),m.flags|=98560,Y=!1;else if(Y=Lr(m),O!==null&&O.dehydrated!==null){if(d===null){if(!Y)throw Error(n(318));if(Y=m.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(n(317));Y[lo]=m}else br(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Cs(m),Y=!1}else it!==null&&(w1(it),it=null),Y=!0;if(!Y)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=A,m):(O=O!==null,O!==(d!==null&&d.memoizedState!==null)&&O&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(mn.current&1)!==0?Ta===0&&(Ta=3):C1())),m.updateQueue!==null&&(m.flags|=4),Cs(m),null);case 4:return uo(),d1(d,m),d===null&&$c(m.stateNode.containerInfo),Cs(m),null;case 10:return Ss(m.type._context),Cs(m),null;case 17:return Ns(m.type)&&Bh(),Cs(m),null;case 19:if(en(mn),Y=m.memoizedState,Y===null)return Cs(m),null;if(O=(m.flags&128)!==0,ue=Y.rendering,ue===null)if(O)qp(Y,!1);else{if(Ta!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(ue=Ri(d),ue!==null){for(m.flags|=128,qp(Y,!1),O=ue.updateQueue,O!==null&&(m.updateQueue=O,m.flags|=4),m.subtreeFlags=0,O=A,A=m.child;A!==null;)Y=A,d=O,Y.flags&=14680066,ue=Y.alternate,ue===null?(Y.childLanes=0,Y.lanes=d,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null):(Y.childLanes=ue.childLanes,Y.lanes=ue.lanes,Y.child=ue.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=ue.memoizedProps,Y.memoizedState=ue.memoizedState,Y.updateQueue=ue.updateQueue,Y.type=ue.type,d=ue.dependencies,Y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),A=A.sibling;return nn(mn,mn.current&1|2),m.child}d=d.sibling}Y.tail!==null&&Pn()>em&&(m.flags|=128,O=!0,qp(Y,!1),m.lanes=4194304)}else{if(!O)if(d=Ri(ue),d!==null){if(m.flags|=128,O=!0,A=d.updateQueue,A!==null&&(m.updateQueue=A,m.flags|=4),qp(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!ue.alternate&&!nt)return Cs(m),null}else 2*Pn()-Y.renderingStartTime>em&&A!==1073741824&&(m.flags|=128,O=!0,qp(Y,!1),m.lanes=4194304);Y.isBackwards?(ue.sibling=m.child,m.child=ue):(A=Y.last,A!==null?A.sibling=ue:m.child=ue,Y.last=ue)}return Y.tail!==null?(m=Y.tail,Y.rendering=m,Y.tail=m.sibling,Y.renderingStartTime=Pn(),m.sibling=null,A=mn.current,nn(mn,O?A&1|2:A&1),m):(Cs(m),null);case 22:case 23:return S1(),O=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==O&&(m.flags|=8192),O&&(m.mode&1)!==0?(Mi&1073741824)!==0&&(Cs(m),m.subtreeFlags&6&&(m.flags|=8192)):Cs(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function yq(d,m){switch(Oe(m),m.tag){case 1:return Ns(m.type)&&Bh(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return uo(),en(ws),en(Ea),Mp(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return Lp(m),null;case 13:if(en(mn),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(n(340));br()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return en(mn),null;case 4:return uo(),null;case 10:return Ss(m.type._context),null;case 22:case 23:return S1(),null;case 24:return null;default:return null}}var ig=!1,As=!1,bq=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Jh(d,m){var A=d.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(O){aa(d,m,O)}else A.current=null}function f1(d,m,A){try{A()}catch(O){aa(d,m,O)}}var qE=!1;function jq(d,m){if(gf=Tu,d=df(),Rc(d)){if("selectionStart"in d)var A={start:d.selectionStart,end:d.selectionEnd};else e:{A=(A=d.ownerDocument)&&A.defaultView||window;var O=A.getSelection&&A.getSelection();if(O&&O.rangeCount!==0){A=O.anchorNode;var U=O.anchorOffset,Y=O.focusNode;O=O.focusOffset;try{A.nodeType,Y.nodeType}catch{A=null;break e}var ue=0,Ae=-1,ke=-1,Ge=0,vt=0,bt=d,pt=null;t:for(;;){for(var Ot;bt!==A||U!==0&&bt.nodeType!==3||(Ae=ue+U),bt!==Y||O!==0&&bt.nodeType!==3||(ke=ue+O),bt.nodeType===3&&(ue+=bt.nodeValue.length),(Ot=bt.firstChild)!==null;)pt=bt,bt=Ot;for(;;){if(bt===d)break t;if(pt===A&&++Ge===U&&(Ae=ue),pt===Y&&++vt===O&&(ke=ue),(Ot=bt.nextSibling)!==null)break;bt=pt,pt=bt.parentNode}bt=Ot}A=Ae===-1||ke===-1?null:{start:Ae,end:ke}}else A=null}A=A||{start:0,end:0}}else A=null;for(qc={focusedElem:d,selectionRange:A},Tu=!1,Lt=m;Lt!==null;)if(m=Lt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,Lt=d;else for(;Lt!==null;){m=Lt;try{var Bt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Bt!==null){var zt=Bt.memoizedProps,ha=Bt.memoizedState,Ve=m.stateNode,Le=Ve.getSnapshotBeforeUpdate(m.elementType===m.type?zt:Jo(m.type,zt),ha);Ve.__reactInternalSnapshotBeforeUpdate=Le}break;case 3:var We=m.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(wt){aa(m,m.return,wt)}if(d=m.sibling,d!==null){d.return=m.return,Lt=d;break}Lt=m.return}return Bt=qE,qE=!1,Bt}function zp(d,m,A){var O=m.updateQueue;if(O=O!==null?O.lastEffect:null,O!==null){var U=O=O.next;do{if((U.tag&d)===d){var Y=U.destroy;U.destroy=void 0,Y!==void 0&&f1(m,A,Y)}U=U.next}while(U!==O)}}function og(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var A=m=m.next;do{if((A.tag&d)===d){var O=A.create;A.destroy=O()}A=A.next}while(A!==m)}}function h1(d){var m=d.ref;if(m!==null){var A=d.stateNode;switch(d.tag){case 5:d=A;break;default:d=A}typeof m=="function"?m(d):m.current=d}}function zE(d){var m=d.alternate;m!==null&&(d.alternate=null,zE(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[lo],delete m[Yu],delete m[js],delete m[Qb],delete m[Jb])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function UE(d){return d.tag===5||d.tag===3||d.tag===4}function VE(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||UE(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function m1(d,m,A){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?A.nodeType===8?A.parentNode.insertBefore(d,m):A.insertBefore(d,m):(A.nodeType===8?(m=A.parentNode,m.insertBefore(d,A)):(m=A,m.appendChild(d)),A=A._reactRootContainer,A!=null||m.onclick!==null||(m.onclick=Ku));else if(O!==4&&(d=d.child,d!==null))for(m1(d,m,A),d=d.sibling;d!==null;)m1(d,m,A),d=d.sibling}function p1(d,m,A){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?A.insertBefore(d,m):A.appendChild(d);else if(O!==4&&(d=d.child,d!==null))for(p1(d,m,A),d=d.sibling;d!==null;)p1(d,m,A),d=d.sibling}var ss=null,Zo=!1;function ad(d,m,A){for(A=A.child;A!==null;)WE(d,m,A),A=A.sibling}function WE(d,m,A){if(ri&&typeof ri.onCommitFiberUnmount=="function")try{ri.onCommitFiberUnmount(bc,A)}catch{}switch(A.tag){case 5:As||Jh(A,m);case 6:var O=ss,U=Zo;ss=null,ad(d,m,A),ss=O,Zo=U,ss!==null&&(Zo?(d=ss,A=A.stateNode,d.nodeType===8?d.parentNode.removeChild(A):d.removeChild(A)):ss.removeChild(A.stateNode));break;case 18:ss!==null&&(Zo?(d=ss,A=A.stateNode,d.nodeType===8?_p(d.parentNode,A):d.nodeType===1&&_p(d,A),Ii(d)):_p(ss,A.stateNode));break;case 4:O=ss,U=Zo,ss=A.stateNode.containerInfo,Zo=!0,ad(d,m,A),ss=O,Zo=U;break;case 0:case 11:case 14:case 15:if(!As&&(O=A.updateQueue,O!==null&&(O=O.lastEffect,O!==null))){U=O=O.next;do{var Y=U,ue=Y.destroy;Y=Y.tag,ue!==void 0&&((Y&2)!==0||(Y&4)!==0)&&f1(A,m,ue),U=U.next}while(U!==O)}ad(d,m,A);break;case 1:if(!As&&(Jh(A,m),O=A.stateNode,typeof O.componentWillUnmount=="function"))try{O.props=A.memoizedProps,O.state=A.memoizedState,O.componentWillUnmount()}catch(Ae){aa(A,m,Ae)}ad(d,m,A);break;case 21:ad(d,m,A);break;case 22:A.mode&1?(As=(O=As)||A.memoizedState!==null,ad(d,m,A),As=O):ad(d,m,A);break;default:ad(d,m,A)}}function HE(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var A=d.stateNode;A===null&&(A=d.stateNode=new bq),m.forEach(function(O){var U=Iq.bind(null,d,O);A.has(O)||(A.add(O),O.then(U,U))})}}function el(d,m){var A=m.deletions;if(A!==null)for(var O=0;O<A.length;O++){var U=A[O];try{var Y=d,ue=m,Ae=ue;e:for(;Ae!==null;){switch(Ae.tag){case 5:ss=Ae.stateNode,Zo=!1;break e;case 3:ss=Ae.stateNode.containerInfo,Zo=!0;break e;case 4:ss=Ae.stateNode.containerInfo,Zo=!0;break e}Ae=Ae.return}if(ss===null)throw Error(n(160));WE(Y,ue,U),ss=null,Zo=!1;var ke=U.alternate;ke!==null&&(ke.return=null),U.return=null}catch(Ge){aa(U,m,Ge)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)GE(m,d),m=m.sibling}function GE(d,m){var A=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(el(m,d),Gl(d),O&4){try{zp(3,d,d.return),og(3,d)}catch(zt){aa(d,d.return,zt)}try{zp(5,d,d.return)}catch(zt){aa(d,d.return,zt)}}break;case 1:el(m,d),Gl(d),O&512&&A!==null&&Jh(A,A.return);break;case 5:if(el(m,d),Gl(d),O&512&&A!==null&&Jh(A,A.return),d.flags&32){var U=d.stateNode;try{er(U,"")}catch(zt){aa(d,d.return,zt)}}if(O&4&&(U=d.stateNode,U!=null)){var Y=d.memoizedProps,ue=A!==null?A.memoizedProps:Y,Ae=d.type,ke=d.updateQueue;if(d.updateQueue=null,ke!==null)try{Ae==="input"&&Y.type==="radio"&&Y.name!=null&&le(U,Y),Ma(Ae,ue);var Ge=Ma(Ae,Y);for(ue=0;ue<ke.length;ue+=2){var vt=ke[ue],bt=ke[ue+1];vt==="style"?Zn(U,bt):vt==="dangerouslySetInnerHTML"?Vt(U,bt):vt==="children"?er(U,bt):N(U,vt,bt,Ge)}switch(Ae){case"input":st(U,Y);break;case"textarea":et(U,Y);break;case"select":var pt=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!Y.multiple;var Ot=Y.value;Ot!=null?xt(U,!!Y.multiple,Ot,!1):pt!==!!Y.multiple&&(Y.defaultValue!=null?xt(U,!!Y.multiple,Y.defaultValue,!0):xt(U,!!Y.multiple,Y.multiple?[]:"",!1))}U[Yu]=Y}catch(zt){aa(d,d.return,zt)}}break;case 6:if(el(m,d),Gl(d),O&4){if(d.stateNode===null)throw Error(n(162));U=d.stateNode,Y=d.memoizedProps;try{U.nodeValue=Y}catch(zt){aa(d,d.return,zt)}}break;case 3:if(el(m,d),Gl(d),O&4&&A!==null&&A.memoizedState.isDehydrated)try{Ii(m.containerInfo)}catch(zt){aa(d,d.return,zt)}break;case 4:el(m,d),Gl(d);break;case 13:el(m,d),Gl(d),U=d.child,U.flags&8192&&(Y=U.memoizedState!==null,U.stateNode.isHidden=Y,!Y||U.alternate!==null&&U.alternate.memoizedState!==null||(g1=Pn())),O&4&&HE(d);break;case 22:if(vt=A!==null&&A.memoizedState!==null,d.mode&1?(As=(Ge=As)||vt,el(m,d),As=Ge):el(m,d),Gl(d),O&8192){if(Ge=d.memoizedState!==null,(d.stateNode.isHidden=Ge)&&!vt&&(d.mode&1)!==0)for(Lt=d,vt=d.child;vt!==null;){for(bt=Lt=vt;Lt!==null;){switch(pt=Lt,Ot=pt.child,pt.tag){case 0:case 11:case 14:case 15:zp(4,pt,pt.return);break;case 1:Jh(pt,pt.return);var Bt=pt.stateNode;if(typeof Bt.componentWillUnmount=="function"){O=pt,A=pt.return;try{m=O,Bt.props=m.memoizedProps,Bt.state=m.memoizedState,Bt.componentWillUnmount()}catch(zt){aa(O,A,zt)}}break;case 5:Jh(pt,pt.return);break;case 22:if(pt.memoizedState!==null){XE(bt);continue}}Ot!==null?(Ot.return=pt,Lt=Ot):XE(bt)}vt=vt.sibling}e:for(vt=null,bt=d;;){if(bt.tag===5){if(vt===null){vt=bt;try{U=bt.stateNode,Ge?(Y=U.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none"):(Ae=bt.stateNode,ke=bt.memoizedProps.style,ue=ke!=null&&ke.hasOwnProperty("display")?ke.display:null,Ae.style.display=xr("display",ue))}catch(zt){aa(d,d.return,zt)}}}else if(bt.tag===6){if(vt===null)try{bt.stateNode.nodeValue=Ge?"":bt.memoizedProps}catch(zt){aa(d,d.return,zt)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===d)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===d)break e;for(;bt.sibling===null;){if(bt.return===null||bt.return===d)break e;vt===bt&&(vt=null),bt=bt.return}vt===bt&&(vt=null),bt.sibling.return=bt.return,bt=bt.sibling}}break;case 19:el(m,d),Gl(d),O&4&&HE(d);break;case 21:break;default:el(m,d),Gl(d)}}function Gl(d){var m=d.flags;if(m&2){try{e:{for(var A=d.return;A!==null;){if(UE(A)){var O=A;break e}A=A.return}throw Error(n(160))}switch(O.tag){case 5:var U=O.stateNode;O.flags&32&&(er(U,""),O.flags&=-33);var Y=VE(d);p1(d,Y,U);break;case 3:case 4:var ue=O.stateNode.containerInfo,Ae=VE(d);m1(d,Ae,ue);break;default:throw Error(n(161))}}catch(ke){aa(d,d.return,ke)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function wq(d,m,A){Lt=d,KE(d)}function KE(d,m,A){for(var O=(d.mode&1)!==0;Lt!==null;){var U=Lt,Y=U.child;if(U.tag===22&&O){var ue=U.memoizedState!==null||ig;if(!ue){var Ae=U.alternate,ke=Ae!==null&&Ae.memoizedState!==null||As;Ae=ig;var Ge=As;if(ig=ue,(As=ke)&&!Ge)for(Lt=U;Lt!==null;)ue=Lt,ke=ue.child,ue.tag===22&&ue.memoizedState!==null?QE(U):ke!==null?(ke.return=ue,Lt=ke):QE(U);for(;Y!==null;)Lt=Y,KE(Y),Y=Y.sibling;Lt=U,ig=Ae,As=Ge}YE(d)}else(U.subtreeFlags&8772)!==0&&Y!==null?(Y.return=U,Lt=Y):YE(d)}}function YE(d){for(;Lt!==null;){var m=Lt;if((m.flags&8772)!==0){var A=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:As||og(5,m);break;case 1:var O=m.stateNode;if(m.flags&4&&!As)if(A===null)O.componentDidMount();else{var U=m.elementType===m.type?A.memoizedProps:Jo(m.type,A.memoizedProps);O.componentDidUpdate(U,A.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var Y=m.updateQueue;Y!==null&&Hc(m,Y,O);break;case 3:var ue=m.updateQueue;if(ue!==null){if(A=null,m.child!==null)switch(m.child.tag){case 5:A=m.child.stateNode;break;case 1:A=m.child.stateNode}Hc(m,ue,A)}break;case 5:var Ae=m.stateNode;if(A===null&&m.flags&4){A=Ae;var ke=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ke.autoFocus&&A.focus();break;case"img":ke.src&&(A.src=ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Ge=m.alternate;if(Ge!==null){var vt=Ge.memoizedState;if(vt!==null){var bt=vt.dehydrated;bt!==null&&Ii(bt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}As||m.flags&512&&h1(m)}catch(pt){aa(m,m.return,pt)}}if(m===d){Lt=null;break}if(A=m.sibling,A!==null){A.return=m.return,Lt=A;break}Lt=m.return}}function XE(d){for(;Lt!==null;){var m=Lt;if(m===d){Lt=null;break}var A=m.sibling;if(A!==null){A.return=m.return,Lt=A;break}Lt=m.return}}function QE(d){for(;Lt!==null;){var m=Lt;try{switch(m.tag){case 0:case 11:case 15:var A=m.return;try{og(4,m)}catch(ke){aa(m,A,ke)}break;case 1:var O=m.stateNode;if(typeof O.componentDidMount=="function"){var U=m.return;try{O.componentDidMount()}catch(ke){aa(m,U,ke)}}var Y=m.return;try{h1(m)}catch(ke){aa(m,Y,ke)}break;case 5:var ue=m.return;try{h1(m)}catch(ke){aa(m,ue,ke)}}}catch(ke){aa(m,m.return,ke)}if(m===d){Lt=null;break}var Ae=m.sibling;if(Ae!==null){Ae.return=m.return,Lt=Ae;break}Lt=m.return}}var Nq=Math.ceil,lg=P.ReactCurrentDispatcher,v1=P.ReactCurrentOwner,mo=P.ReactCurrentBatchConfig,Ur=0,Ga=null,ja=null,is=0,Mi=0,Zh=Oi(0),Ta=0,Up=null,Sf=0,cg=0,x1=0,Vp=null,hi=null,g1=0,em=1/0,Yc=null,ug=!1,y1=null,sd=null,dg=!1,id=null,fg=0,Wp=0,b1=null,hg=-1,mg=0;function Ks(){return(Ur&6)!==0?Pn():hg!==-1?hg:hg=Pn()}function od(d){return(d.mode&1)===0?1:(Ur&2)!==0&&is!==0?is&-is:an.transition!==null?(mg===0&&(mg=Zd()),mg):(d=qr,d!==0||(d=window.event,d=d===void 0?16:af(d.type)),d)}function tl(d,m,A,O){if(50<Wp)throw Wp=0,b1=null,Error(n(185));Tl(d,A,O),((Ur&2)===0||d!==Ga)&&(d===Ga&&((Ur&2)===0&&(cg|=A),Ta===4&&ld(d,is)),mi(d,O),A===1&&Ur===0&&(m.mode&1)===0&&(em=Pn()+500,bf&&J()))}function mi(d,m){var A=d.callbackNode;xs(d,m);var O=vs(d,d===Ga?is:0);if(O===0)A!==null&&yc(A),d.callbackNode=null,d.callbackPriority=0;else if(m=O&-O,d.callbackPriority!==m){if(A!=null&&yc(A),m===1)d.tag===0?W(ZE.bind(null,d)):L(ZE.bind(null,d)),Yb(function(){(Ur&6)===0&&J()}),A=null;else{switch(Cu(O)){case 1:A=El;break;case 4:A=Qd;break;case 16:A=ju;break;case 536870912:A=Eh;break;default:A=ju}A=o3(A,JE.bind(null,d))}d.callbackPriority=m,d.callbackNode=A}}function JE(d,m){if(hg=-1,mg=0,(Ur&6)!==0)throw Error(n(327));var A=d.callbackNode;if(tm()&&d.callbackNode!==A)return null;var O=vs(d,d===Ga?is:0);if(O===0)return null;if((O&30)!==0||(O&d.expiredLanes)!==0||m)m=pg(d,O);else{m=O;var U=Ur;Ur|=2;var Y=t3();(Ga!==d||is!==m)&&(Yc=null,em=Pn()+500,Af(d,m));do try{Aq();break}catch(Ae){e3(d,Ae)}while(!0);Pa(),lg.current=Y,Ur=U,ja!==null?m=0:(Ga=null,is=0,m=Ta)}if(m!==0){if(m===2&&(U=Nc(d),U!==0&&(O=U,m=j1(d,U))),m===1)throw A=Up,Af(d,0),ld(d,O),mi(d,Pn()),A;if(m===6)ld(d,O);else{if(U=d.current.alternate,(O&30)===0&&!Sq(U)&&(m=pg(d,O),m===2&&(Y=Nc(d),Y!==0&&(O=Y,m=j1(d,Y))),m===1))throw A=Up,Af(d,0),ld(d,O),mi(d,Pn()),A;switch(d.finishedWork=U,d.finishedLanes=O,m){case 0:case 1:throw Error(n(345));case 2:Ef(d,hi,Yc);break;case 3:if(ld(d,O),(O&130023424)===O&&(m=g1+500-Pn(),10<m)){if(vs(d,0)!==0)break;if(U=d.suspendedLanes,(U&O)!==O){Ks(),d.pingedLanes|=d.suspendedLanes&U;break}d.timeoutHandle=Dp(Ef.bind(null,d,hi,Yc),m);break}Ef(d,hi,Yc);break;case 4:if(ld(d,O),(O&4194240)===O)break;for(m=d.eventTimes,U=-1;0<O;){var ue=31-Ms(O);Y=1<<ue,ue=m[ue],ue>U&&(U=ue),O&=~Y}if(O=U,O=Pn()-O,O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3e3>O?3e3:4320>O?4320:1960*Nq(O/1960))-O,10<O){d.timeoutHandle=Dp(Ef.bind(null,d,hi,Yc),O);break}Ef(d,hi,Yc);break;case 5:Ef(d,hi,Yc);break;default:throw Error(n(329))}}}return mi(d,Pn()),d.callbackNode===A?JE.bind(null,d):null}function j1(d,m){var A=Vp;return d.current.memoizedState.isDehydrated&&(Af(d,m).flags|=256),d=pg(d,m),d!==2&&(m=hi,hi=A,m!==null&&w1(m)),d}function w1(d){hi===null?hi=d:hi.push.apply(hi,d)}function Sq(d){for(var m=d;;){if(m.flags&16384){var A=m.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var O=0;O<A.length;O++){var U=A[O],Y=U.getSnapshot;U=U.value;try{if(!zr(Y(),U))return!1}catch{return!1}}}if(A=m.child,m.subtreeFlags&16384&&A!==null)A.return=m,m=A;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function ld(d,m){for(m&=~x1,m&=~cg,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var A=31-Ms(m),O=1<<A;d[A]=-1,m&=~O}}function ZE(d){if((Ur&6)!==0)throw Error(n(327));tm();var m=vs(d,0);if((m&1)===0)return mi(d,Pn()),null;var A=pg(d,m);if(d.tag!==0&&A===2){var O=Nc(d);O!==0&&(m=O,A=j1(d,O))}if(A===1)throw A=Up,Af(d,0),ld(d,m),mi(d,Pn()),A;if(A===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Ef(d,hi,Yc),mi(d,Pn()),null}function N1(d,m){var A=Ur;Ur|=1;try{return d(m)}finally{Ur=A,Ur===0&&(em=Pn()+500,bf&&J())}}function Cf(d){id!==null&&id.tag===0&&(Ur&6)===0&&tm();var m=Ur;Ur|=1;var A=mo.transition,O=qr;try{if(mo.transition=null,qr=1,d)return d()}finally{qr=O,mo.transition=A,Ur=m,(Ur&6)===0&&J()}}function S1(){Mi=Zh.current,en(Zh)}function Af(d,m){d.finishedWork=null,d.finishedLanes=0;var A=d.timeoutHandle;if(A!==-1&&(d.timeoutHandle=-1,Gx(A)),ja!==null)for(A=ja.return;A!==null;){var O=A;switch(Oe(O),O.tag){case 1:O=O.type.childContextTypes,O!=null&&Bh();break;case 3:uo(),en(ws),en(Ea),Mp();break;case 5:Lp(O);break;case 4:uo();break;case 13:en(mn);break;case 19:en(mn);break;case 10:Ss(O.type._context);break;case 22:case 23:S1()}A=A.return}if(Ga=d,ja=d=cd(d.current,null),is=Mi=m,Ta=0,Up=null,x1=cg=Sf=0,hi=Vp=null,Us!==null){for(m=0;m<Us.length;m++)if(A=Us[m],O=A.interleaved,O!==null){A.interleaved=null;var U=O.next,Y=A.pending;if(Y!==null){var ue=Y.next;Y.next=U,O.next=ue}A.pending=O}Us=null}return d}function e3(d,m){do{var A=ja;try{if(Pa(),zh.current=rg,td){for(var O=wn.memoizedState;O!==null;){var U=O.queue;U!==null&&(U.pending=null),O=O.next}td=!1}if(fo=0,Kn=na=wn=null,Xo=!1,rd=0,v1.current=null,A===null||A.return===null){Ta=1,Up=m,ja=null;break}e:{var Y=d,ue=A.return,Ae=A,ke=m;if(m=is,Ae.flags|=32768,ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var Ge=ke,vt=Ae,bt=vt.tag;if((vt.mode&1)===0&&(bt===0||bt===11||bt===15)){var pt=vt.alternate;pt?(vt.updateQueue=pt.updateQueue,vt.memoizedState=pt.memoizedState,vt.lanes=pt.lanes):(vt.updateQueue=null,vt.memoizedState=null)}var Ot=CE(ue);if(Ot!==null){Ot.flags&=-257,AE(Ot,ue,Ae,Y,m),Ot.mode&1&&SE(Y,Ge,m),m=Ot,ke=Ge;var Bt=m.updateQueue;if(Bt===null){var zt=new Set;zt.add(ke),m.updateQueue=zt}else Bt.add(ke);break e}else{if((m&1)===0){SE(Y,Ge,m),C1();break e}ke=Error(n(426))}}else if(nt&&Ae.mode&1){var ha=CE(ue);if(ha!==null){(ha.flags&65536)===0&&(ha.flags|=256),AE(ha,ue,Ae,Y,m),tn(Qh(ke,Ae));break e}}Y=ke=Qh(ke,Ae),Ta!==4&&(Ta=2),Vp===null?Vp=[Y]:Vp.push(Y),Y=ue;do{switch(Y.tag){case 3:Y.flags|=65536,m&=-m,Y.lanes|=m;var Ve=wE(Y,ke,m);di(Y,Ve);break e;case 1:Ae=ke;var Le=Y.type,We=Y.stateNode;if((Y.flags&128)===0&&(typeof Le.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(sd===null||!sd.has(We)))){Y.flags|=65536,m&=-m,Y.lanes|=m;var wt=NE(Y,Ae,m);di(Y,wt);break e}}Y=Y.return}while(Y!==null)}n3(A)}catch(Wt){m=Wt,ja===A&&A!==null&&(ja=A=A.return);continue}break}while(!0)}function t3(){var d=lg.current;return lg.current=rg,d===null?rg:d}function C1(){(Ta===0||Ta===3||Ta===2)&&(Ta=4),Ga===null||(Sf&268435455)===0&&(cg&268435455)===0||ld(Ga,is)}function pg(d,m){var A=Ur;Ur|=2;var O=t3();(Ga!==d||is!==m)&&(Yc=null,Af(d,m));do try{Cq();break}catch(U){e3(d,U)}while(!0);if(Pa(),Ur=A,lg.current=O,ja!==null)throw Error(n(261));return Ga=null,is=0,Ta}function Cq(){for(;ja!==null;)r3(ja)}function Aq(){for(;ja!==null&&!bu();)r3(ja)}function r3(d){var m=i3(d.alternate,d,Mi);d.memoizedProps=d.pendingProps,m===null?n3(d):ja=m,v1.current=null}function n3(d){var m=d;do{var A=m.alternate;if(d=m.return,(m.flags&32768)===0){if(A=gq(A,m,Mi),A!==null){ja=A;return}}else{if(A=yq(A,m),A!==null){A.flags&=32767,ja=A;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Ta=6,ja=null;return}}if(m=m.sibling,m!==null){ja=m;return}ja=m=d}while(m!==null);Ta===0&&(Ta=5)}function Ef(d,m,A){var O=qr,U=mo.transition;try{mo.transition=null,qr=1,Eq(d,m,A,O)}finally{mo.transition=U,qr=O}return null}function Eq(d,m,A,O){do tm();while(id!==null);if((Ur&6)!==0)throw Error(n(327));A=d.finishedWork;var U=d.finishedLanes;if(A===null)return null;if(d.finishedWork=null,d.finishedLanes=0,A===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var Y=A.lanes|A.childLanes;if(Ep(d,Y),d===Ga&&(ja=Ga=null,is=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||dg||(dg=!0,o3(ju,function(){return tm(),null})),Y=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||Y){Y=mo.transition,mo.transition=null;var ue=qr;qr=1;var Ae=Ur;Ur|=4,v1.current=null,jq(d,A),GE(A,d),Lc(qc),Tu=!!gf,qc=gf=null,d.current=A,wq(A),Ah(),Ur=Ae,qr=ue,mo.transition=Y}else d.current=A;if(dg&&(dg=!1,id=d,fg=U),Y=d.pendingLanes,Y===0&&(sd=null),wu(A.stateNode),mi(d,Pn()),m!==null)for(O=d.onRecoverableError,A=0;A<m.length;A++)U=m[A],O(U.value,{componentStack:U.stack,digest:U.digest});if(ug)throw ug=!1,d=y1,y1=null,d;return(fg&1)!==0&&d.tag!==0&&tm(),Y=d.pendingLanes,(Y&1)!==0?d===b1?Wp++:(Wp=0,b1=d):Wp=0,J(),null}function tm(){if(id!==null){var d=Cu(fg),m=mo.transition,A=qr;try{if(mo.transition=null,qr=16>d?16:d,id===null)var O=!1;else{if(d=id,id=null,fg=0,(Ur&6)!==0)throw Error(n(331));var U=Ur;for(Ur|=4,Lt=d.current;Lt!==null;){var Y=Lt,ue=Y.child;if((Lt.flags&16)!==0){var Ae=Y.deletions;if(Ae!==null){for(var ke=0;ke<Ae.length;ke++){var Ge=Ae[ke];for(Lt=Ge;Lt!==null;){var vt=Lt;switch(vt.tag){case 0:case 11:case 15:zp(8,vt,Y)}var bt=vt.child;if(bt!==null)bt.return=vt,Lt=bt;else for(;Lt!==null;){vt=Lt;var pt=vt.sibling,Ot=vt.return;if(zE(vt),vt===Ge){Lt=null;break}if(pt!==null){pt.return=Ot,Lt=pt;break}Lt=Ot}}}var Bt=Y.alternate;if(Bt!==null){var zt=Bt.child;if(zt!==null){Bt.child=null;do{var ha=zt.sibling;zt.sibling=null,zt=ha}while(zt!==null)}}Lt=Y}}if((Y.subtreeFlags&2064)!==0&&ue!==null)ue.return=Y,Lt=ue;else e:for(;Lt!==null;){if(Y=Lt,(Y.flags&2048)!==0)switch(Y.tag){case 0:case 11:case 15:zp(9,Y,Y.return)}var Ve=Y.sibling;if(Ve!==null){Ve.return=Y.return,Lt=Ve;break e}Lt=Y.return}}var Le=d.current;for(Lt=Le;Lt!==null;){ue=Lt;var We=ue.child;if((ue.subtreeFlags&2064)!==0&&We!==null)We.return=ue,Lt=We;else e:for(ue=Le;Lt!==null;){if(Ae=Lt,(Ae.flags&2048)!==0)try{switch(Ae.tag){case 0:case 11:case 15:og(9,Ae)}}catch(Wt){aa(Ae,Ae.return,Wt)}if(Ae===ue){Lt=null;break e}var wt=Ae.sibling;if(wt!==null){wt.return=Ae.return,Lt=wt;break e}Lt=Ae.return}}if(Ur=U,J(),ri&&typeof ri.onPostCommitFiberRoot=="function")try{ri.onPostCommitFiberRoot(bc,d)}catch{}O=!0}return O}finally{qr=A,mo.transition=m}}return!1}function a3(d,m,A){m=Qh(A,m),m=wE(d,m,1),d=ui(d,m,1),m=Ks(),d!==null&&(Tl(d,1,m),mi(d,m))}function aa(d,m,A){if(d.tag===3)a3(d,d,A);else for(;m!==null;){if(m.tag===3){a3(m,d,A);break}else if(m.tag===1){var O=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(sd===null||!sd.has(O))){d=Qh(A,d),d=NE(m,d,1),m=ui(m,d,1),d=Ks(),m!==null&&(Tl(m,1,d),mi(m,d));break}}m=m.return}}function Pq(d,m,A){var O=d.pingCache;O!==null&&O.delete(m),m=Ks(),d.pingedLanes|=d.suspendedLanes&A,Ga===d&&(is&A)===A&&(Ta===4||Ta===3&&(is&130023424)===is&&500>Pn()-g1?Af(d,0):x1|=A),mi(d,m)}function s3(d,m){m===0&&((d.mode&1)===0?m=1:(m=Pl,Pl<<=1,(Pl&130023424)===0&&(Pl=4194304)));var A=Ks();d=Yr(d,m),d!==null&&(Tl(d,m,A),mi(d,A))}function Tq(d){var m=d.memoizedState,A=0;m!==null&&(A=m.retryLane),s3(d,A)}function Iq(d,m){var A=0;switch(d.tag){case 13:var O=d.stateNode,U=d.memoizedState;U!==null&&(A=U.retryLane);break;case 19:O=d.stateNode;break;default:throw Error(n(314))}O!==null&&O.delete(m),s3(d,A)}var i3;i3=function(d,m,A){if(d!==null)if(d.memoizedProps!==m.pendingProps||ws.current)fi=!0;else{if((d.lanes&A)===0&&(m.flags&128)===0)return fi=!1,xq(d,m,A);fi=(d.flags&131072)!==0}else fi=!1,nt&&(m.flags&1048576)!==0&&dt(m,fe,m.index);switch(m.lanes=0,m.tag){case 2:var O=m.type;sg(d,m),d=m.pendingProps;var U=Qu(m,Ea.current);kn(m,A),U=jf(null,m,O,d,U,A);var Y=ho();return m.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Ns(O)?(Y=!0,Vc(m)):Y=!1,m.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,qh(m),U.updater=ng,m.stateNode=U,U._reactInternals=m,r1(m,O,d,A),m=i1(null,m,O,!0,Y,A)):(m.tag=0,nt&&Y&&Je(m),Gs(null,m,U,A),m=m.child),m;case 16:O=m.elementType;e:{switch(sg(d,m),d=m.pendingProps,U=O._init,O=U(O._payload),m.type=O,U=m.tag=_q(O),d=Jo(O,d),U){case 0:m=s1(null,m,O,d,A);break e;case 1:m=_E(null,m,O,d,A);break e;case 11:m=EE(null,m,O,d,A);break e;case 14:m=PE(null,m,O,Jo(O.type,d),A);break e}throw Error(n(306,O,""))}return m;case 0:return O=m.type,U=m.pendingProps,U=m.elementType===O?U:Jo(O,U),s1(d,m,O,U,A);case 1:return O=m.type,U=m.pendingProps,U=m.elementType===O?U:Jo(O,U),_E(d,m,O,U,A);case 3:e:{if(kE(m),d===null)throw Error(n(387));O=m.pendingProps,Y=m.memoizedState,U=Y.element,Rp(d,m),Ko(m,O,null,A);var ue=m.memoizedState;if(O=ue.element,Y.isDehydrated)if(Y={element:O,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},m.updateQueue.baseState=Y,m.memoizedState=Y,m.flags&256){U=Qh(Error(n(423)),m),m=OE(d,m,O,A,U);break e}else if(O!==U){U=Qh(Error(n(424)),m),m=OE(d,m,O,A,U);break e}else for(at=ns(m.stateNode.containerInfo.firstChild),Re=m,nt=!0,it=null,A=Kr(m,null,O,A),m.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(br(),O===U){m=Kc(d,m,A);break e}Gs(d,m,O,A)}m=m.child}return m;case 5:return Qx(m),d===null&&At(m),O=m.type,U=m.pendingProps,Y=d!==null?d.memoizedProps:null,ue=U.children,Ip(O,U)?ue=null:Y!==null&&Ip(O,Y)&&(m.flags|=32),DE(d,m),Gs(d,m,ue,A),m.child;case 6:return d===null&&At(m),null;case 13:return RE(d,m,A);case 4:return ed(m,m.stateNode.containerInfo),O=m.pendingProps,d===null?m.child=ua(m,null,O,A):Gs(d,m,O,A),m.child;case 11:return O=m.type,U=m.pendingProps,U=m.elementType===O?U:Jo(O,U),EE(d,m,O,U,A);case 7:return Gs(d,m,m.pendingProps,A),m.child;case 8:return Gs(d,m,m.pendingProps.children,A),m.child;case 12:return Gs(d,m,m.pendingProps.children,A),m.child;case 10:e:{if(O=m.type._context,U=m.pendingProps,Y=m.memoizedProps,ue=U.value,nn(Wa,O._currentValue),O._currentValue=ue,Y!==null)if(zr(Y.value,ue)){if(Y.children===U.children&&!ws.current){m=Kc(d,m,A);break e}}else for(Y=m.child,Y!==null&&(Y.return=m);Y!==null;){var Ae=Y.dependencies;if(Ae!==null){ue=Y.child;for(var ke=Ae.firstContext;ke!==null;){if(ke.context===O){if(Y.tag===1){ke=ci(-1,A&-A),ke.tag=2;var Ge=Y.updateQueue;if(Ge!==null){Ge=Ge.shared;var vt=Ge.pending;vt===null?ke.next=ke:(ke.next=vt.next,vt.next=ke),Ge.pending=ke}}Y.lanes|=A,ke=Y.alternate,ke!==null&&(ke.lanes|=A),li(Y.return,A,m),Ae.lanes|=A;break}ke=ke.next}}else if(Y.tag===10)ue=Y.type===m.type?null:Y.child;else if(Y.tag===18){if(ue=Y.return,ue===null)throw Error(n(341));ue.lanes|=A,Ae=ue.alternate,Ae!==null&&(Ae.lanes|=A),li(ue,A,m),ue=Y.sibling}else ue=Y.child;if(ue!==null)ue.return=Y;else for(ue=Y;ue!==null;){if(ue===m){ue=null;break}if(Y=ue.sibling,Y!==null){Y.return=ue.return,ue=Y;break}ue=ue.return}Y=ue}Gs(d,m,U.children,A),m=m.child}return m;case 9:return U=m.type,O=m.pendingProps.children,kn(m,A),U=ra(U),O=O(U),m.flags|=1,Gs(d,m,O,A),m.child;case 14:return O=m.type,U=Jo(O,m.pendingProps),U=Jo(O.type,U),PE(d,m,O,U,A);case 15:return TE(d,m,m.type,m.pendingProps,A);case 17:return O=m.type,U=m.pendingProps,U=m.elementType===O?U:Jo(O,U),sg(d,m),m.tag=1,Ns(O)?(d=!0,Vc(m)):d=!1,kn(m,A),bE(m,O,U),r1(m,O,U,A),i1(null,m,O,!0,d,A);case 19:return FE(d,m,A);case 22:return IE(d,m,A)}throw Error(n(156,m.tag))};function o3(d,m){return gc(d,m)}function Dq(d,m,A,O){this.tag=d,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function po(d,m,A,O){return new Dq(d,m,A,O)}function A1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function _q(d){if(typeof d=="function")return A1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===D)return 11;if(d===z)return 14}return 2}function cd(d,m){var A=d.alternate;return A===null?(A=po(d.tag,m,d.key,d.mode),A.elementType=d.elementType,A.type=d.type,A.stateNode=d.stateNode,A.alternate=d,d.alternate=A):(A.pendingProps=m,A.type=d.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=d.flags&14680064,A.childLanes=d.childLanes,A.lanes=d.lanes,A.child=d.child,A.memoizedProps=d.memoizedProps,A.memoizedState=d.memoizedState,A.updateQueue=d.updateQueue,m=d.dependencies,A.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},A.sibling=d.sibling,A.index=d.index,A.ref=d.ref,A}function vg(d,m,A,O,U,Y){var ue=2;if(O=d,typeof d=="function")A1(d)&&(ue=1);else if(typeof d=="string")ue=5;else e:switch(d){case E:return Pf(A.children,U,Y,m);case C:ue=8,U|=8;break;case _:return d=po(12,A,m,U|2),d.elementType=_,d.lanes=Y,d;case R:return d=po(13,A,m,U),d.elementType=R,d.lanes=Y,d;case F:return d=po(19,A,m,U),d.elementType=F,d.lanes=Y,d;case B:return xg(A,U,Y,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case M:ue=10;break e;case k:ue=9;break e;case D:ue=11;break e;case z:ue=14;break e;case V:ue=16,O=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return m=po(ue,A,m,U),m.elementType=d,m.type=O,m.lanes=Y,m}function Pf(d,m,A,O){return d=po(7,d,O,m),d.lanes=A,d}function xg(d,m,A,O){return d=po(22,d,O,m),d.elementType=B,d.lanes=A,d.stateNode={isHidden:!1},d}function E1(d,m,A){return d=po(6,d,null,m),d.lanes=A,d}function P1(d,m,A){return m=po(4,d.children!==null?d.children:[],d.key,m),m.lanes=A,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function kq(d,m,A,O,U){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ef(0),this.expirationTimes=ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ef(0),this.identifierPrefix=O,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function T1(d,m,A,O,U,Y,ue,Ae,ke){return d=new kq(d,m,A,Ae,ke),m===1?(m=1,Y===!0&&(m|=8)):m=0,Y=po(3,null,null,m),d.current=Y,Y.stateNode=d,Y.memoizedState={element:O,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},qh(Y),d}function Oq(d,m,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w,key:O==null?null:""+O,children:d,containerInfo:m,implementation:A}}function l3(d){if(!d)return Ul;d=d._reactInternals;e:{if(Ca(d)!==d||d.tag!==1)throw Error(n(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Ns(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(d.tag===1){var A=d.type;if(Ns(A))return Op(d,A,m)}return m}function c3(d,m,A,O,U,Y,ue,Ae,ke){return d=T1(A,O,!0,d,U,Y,ue,Ae,ke),d.context=l3(null),A=d.current,O=Ks(),U=od(A),Y=ci(O,U),Y.callback=m??null,ui(A,Y,U),d.current.lanes=U,Tl(d,U,O),mi(d,O),d}function gg(d,m,A,O){var U=m.current,Y=Ks(),ue=od(U);return A=l3(A),m.context===null?m.context=A:m.pendingContext=A,m=ci(Y,ue),m.payload={element:d},O=O===void 0?null:O,O!==null&&(m.callback=O),d=ui(U,m,ue),d!==null&&(tl(d,U,ue,Y),Wc(d,U,ue)),ue}function yg(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function u3(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var A=d.retryLane;d.retryLane=A!==0&&A<m?A:m}}function I1(d,m){u3(d,m),(d=d.alternate)&&u3(d,m)}function Rq(){return null}var d3=typeof reportError=="function"?reportError:function(d){console.error(d)};function D1(d){this._internalRoot=d}bg.prototype.render=D1.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(n(409));gg(d,m,null,null)},bg.prototype.unmount=D1.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Cf(function(){gg(null,d,null,null)}),m[Va]=null}};function bg(d){this._internalRoot=d}bg.prototype.unstable_scheduleHydration=function(d){if(d){var m=Zi();d={blockedOn:null,target:d,priority:m};for(var A=0;A<to.length&&m!==0&&m<to[A].priority;A++);to.splice(A,0,d),A===0&&Eu(d)}};function _1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function jg(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function f3(){}function Lq(d,m,A,O,U){if(U){if(typeof O=="function"){var Y=O;O=function(){var Ge=yg(ue);Y.call(Ge)}}var ue=c3(m,O,d,0,null,!1,!1,"",f3);return d._reactRootContainer=ue,d[Va]=ue.current,$c(d.nodeType===8?d.parentNode:d),Cf(),ue}for(;U=d.lastChild;)d.removeChild(U);if(typeof O=="function"){var Ae=O;O=function(){var Ge=yg(ke);Ae.call(Ge)}}var ke=T1(d,0,!1,null,null,!1,!1,"",f3);return d._reactRootContainer=ke,d[Va]=ke.current,$c(d.nodeType===8?d.parentNode:d),Cf(function(){gg(m,ke,A,O)}),ke}function wg(d,m,A,O,U){var Y=A._reactRootContainer;if(Y){var ue=Y;if(typeof U=="function"){var Ae=U;U=function(){var ke=yg(ue);Ae.call(ke)}}gg(m,ue,d,U)}else ue=Lq(A,m,d,U,O);return yg(ue)}Ih=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var A=wc(m.pendingLanes);A!==0&&(Su(m,A|1),mi(m,Pn()),(Ur&6)===0&&(em=Pn()+500,J()))}break;case 13:Cf(function(){var O=Yr(d,1);if(O!==null){var U=Ks();tl(O,d,1,U)}}),I1(d,1)}},tf=function(d){if(d.tag===13){var m=Yr(d,134217728);if(m!==null){var A=Ks();tl(m,d,134217728,A)}I1(d,134217728)}},Dh=function(d){if(d.tag===13){var m=od(d),A=Yr(d,m);if(A!==null){var O=Ks();tl(A,d,m,O)}I1(d,m)}},Zi=function(){return qr},Sc=function(d,m){var A=qr;try{return qr=d,m()}finally{qr=A}},jn=function(d,m,A){switch(m){case"input":if(st(d,A),m=A.name,A.type==="radio"&&m!=null){for(A=d;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<A.length;m++){var O=A[m];if(O!==d&&O.form===d.form){var U=yf(O);if(!U)throw Error(n(90));Ce(O),st(O,U)}}}break;case"textarea":et(d,A);break;case"select":m=A.value,m!=null&&xt(d,!!A.multiple,m,!1)}},Sl=N1,ya=Cf;var Fq={usingClientEntryPoint:!1,Events:[Xu,zc,yf,fr,Br,N1]},Hp={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mq={bundleType:Hp.bundleType,version:Hp.version,rendererPackageName:Hp.rendererPackageName,rendererConfig:Hp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Al(d),d===null?null:d.stateNode},findFiberByHostInstance:Hp.findFiberByHostInstance||Rq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{bc=Ng.inject(Mq),ri=Ng}catch{}}return pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fq,pi.createPortal=function(d,m){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_1(m))throw Error(n(200));return Oq(d,m,null,A)},pi.createRoot=function(d,m){if(!_1(d))throw Error(n(299));var A=!1,O="",U=d3;return m!=null&&(m.unstable_strictMode===!0&&(A=!0),m.identifierPrefix!==void 0&&(O=m.identifierPrefix),m.onRecoverableError!==void 0&&(U=m.onRecoverableError)),m=T1(d,1,!1,null,null,A,!1,O,U),d[Va]=m.current,$c(d.nodeType===8?d.parentNode:d),new D1(m)},pi.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Al(m),d=d===null?null:d.stateNode,d},pi.flushSync=function(d){return Cf(d)},pi.hydrate=function(d,m,A){if(!jg(m))throw Error(n(200));return wg(null,d,m,!0,A)},pi.hydrateRoot=function(d,m,A){if(!_1(d))throw Error(n(405));var O=A!=null&&A.hydratedSources||null,U=!1,Y="",ue=d3;if(A!=null&&(A.unstable_strictMode===!0&&(U=!0),A.identifierPrefix!==void 0&&(Y=A.identifierPrefix),A.onRecoverableError!==void 0&&(ue=A.onRecoverableError)),m=c3(m,null,d,1,A??null,U,!1,Y,ue),d[Va]=m.current,$c(d),O)for(d=0;d<O.length;d++)A=O[d],U=A._getVersion,U=U(A._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[A,U]:m.mutableSourceEagerHydrationData.push(A,U);return new bg(m)},pi.render=function(d,m,A){if(!jg(m))throw Error(n(200));return wg(null,d,m,!1,A)},pi.unmountComponentAtNode=function(d){if(!jg(d))throw Error(n(40));return d._reactRootContainer?(Cf(function(){wg(null,null,d,!1,function(){d._reactRootContainer=null,d[Va]=null})}),!0):!1},pi.unstable_batchedUpdates=N1,pi.unstable_renderSubtreeIntoContainer=function(d,m,A,O){if(!jg(A))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return wg(d,m,A,!1,O)},pi.version="18.3.1-next-f1338f8080-20240426",pi}var b3;function JR(){if(b3)return R1.exports;b3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),R1.exports=Gq(),R1.exports}var j3;function Kq(){if(j3)return Sg;j3=1;var e=JR();return Sg.createRoot=e.createRoot,Sg.hydrateRoot=e.hydrateRoot,Sg}var Yq=Kq();const Xq=rn(Yq);var S=rA();const Ne=rn(S),uc=Bq({__proto__:null,default:Ne},[S]);var pu=JR();const nA=rn(pu);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Dv.apply(this,arguments)}var jd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jd||(jd={}));const w3="popstate";function Qq(e){e===void 0&&(e={});function t(a,s){let{pathname:i,search:o,hash:l}=a.location;return O5("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:b0(s)}return Zq(t,n,null,e)}function ga(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ZR(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jq(){return Math.random().toString(36).substr(2,8)}function N3(e,t){return{usr:e.state,key:e.key,idx:t}}function O5(e,t,n,a){return n===void 0&&(n=null),Dv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ap(t):t,{state:n,key:t&&t.key||a||Jq()})}function b0(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ap(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Zq(e,t,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l=jd.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Dv({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=jd.Pop;let x=h(),j=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:j})}function p(x,j){l=jd.Push;let b=O5(y.location,x,j);u=h()+1;let N=N3(b,u),P=y.createHref(b);try{o.pushState(N,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(P)}i&&c&&c({action:l,location:y.location,delta:1})}function v(x,j){l=jd.Replace;let b=O5(y.location,x,j);u=h();let N=N3(b,u),P=y.createHref(b);o.replaceState(N,"",P),i&&c&&c({action:l,location:y.location,delta:0})}function g(x){let j=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof x=="string"?x:b0(x);return b=b.replace(/ $/,"%20"),ga(j,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,j)}let y={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(w3,f),c=x,()=>{s.removeEventListener(w3,f),c=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let j=g(x);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:p,replace:v,go(x){return o.go(x)}};return y}var S3;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(S3||(S3={}));function ez(e,t,n){return n===void 0&&(n="/"),tz(e,t,n)}function tz(e,t,n,a){let s=typeof t=="string"?ap(t):t,i=aA(s.pathname||"/",n);if(i==null)return null;let o=eL(e);rz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=mz(i);l=dz(o[c],u)}return l}function eL(e,t,n,a){t===void 0&&(t=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ga(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=Ad([a,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(ga(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eL(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:cz(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of tL(i.path))s(i,o,c)}),t}function tL(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=tL(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function rz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uz(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const nz=/^:[\w-]+$/,az=3,sz=2,iz=1,oz=10,lz=-2,C3=e=>e==="*";function cz(e,t){let n=e.split("/"),a=n.length;return n.some(C3)&&(a+=lz),t&&(a+=sz),n.filter(s=>!C3(s)).reduce((s,i)=>s+(nz.test(i)?az:i===""?iz:oz),a)}function uz(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function dz(e,t,n){let{routesMeta:a}=e,s={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],u=l===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=fz({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ad([i,f.pathname]),pathnameBase:gz(Ad([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ad([i,f.pathnameBase]))}return o}function fz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=hz(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((u,h,f)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let y=l[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[f];return v&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function hz(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ZR(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function mz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ZR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function pz(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?ap(e):e;return{pathname:n?n.startsWith("/")?n:vz(n,t):t,search:yz(a),hash:bz(s)}}function vz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function M1(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xz(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sA(e,t){let n=xz(e);return t?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function iA(e,t,n,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=ap(e):(s=Dv({},e),ga(!s.pathname||!s.pathname.includes("?"),M1("?","pathname","search",s)),ga(!s.pathname||!s.pathname.includes("#"),M1("#","pathname","hash",s)),ga(!s.search||!s.search.includes("#"),M1("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!a&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=pz(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Ad=e=>e.join("/").replace(/\/\/+/g,"/"),gz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rL=["post","put","patch","delete"];new Set(rL);const wz=["get",...rL];new Set(wz);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_v.apply(this,arguments)}const oA=S.createContext(null),Nz=S.createContext(null),zd=S.createContext(null),qy=S.createContext(null),Ud=S.createContext({outlet:null,matches:[],isDataRoute:!1}),nL=S.createContext(null);function Sz(e,t){let{relative:n}=t===void 0?{}:t;sp()||ga(!1);let{basename:a,navigator:s}=S.useContext(zd),{hash:i,pathname:o,search:l}=sL(e,{relative:n}),c=o;return a!=="/"&&(c=o==="/"?a:Ad([a,o])),s.createHref({pathname:c,search:l,hash:i})}function sp(){return S.useContext(qy)!=null}function ip(){return sp()||ga(!1),S.useContext(qy).location}function aL(e){S.useContext(zd).static||S.useLayoutEffect(e)}function lA(){let{isDataRoute:e}=S.useContext(Ud);return e?Fz():Cz()}function Cz(){sp()||ga(!1);let e=S.useContext(oA),{basename:t,future:n,navigator:a}=S.useContext(zd),{matches:s}=S.useContext(Ud),{pathname:i}=ip(),o=JSON.stringify(sA(s,n.v7_relativeSplatPath)),l=S.useRef(!1);return aL(()=>{l.current=!0}),S.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){a.go(u);return}let f=iA(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ad([t,f.pathname])),(h.replace?a.replace:a.push)(f,h.state,h)},[t,a,o,i,e])}function sL(e,t){let{relative:n}=t===void 0?{}:t,{future:a}=S.useContext(zd),{matches:s}=S.useContext(Ud),{pathname:i}=ip(),o=JSON.stringify(sA(s,a.v7_relativeSplatPath));return S.useMemo(()=>iA(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Az(e,t){return Ez(e,t)}function Ez(e,t,n,a){sp()||ga(!1);let{navigator:s}=S.useContext(zd),{matches:i}=S.useContext(Ud),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ip(),h;if(t){var f;let x=typeof t=="string"?ap(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||ga(!1),h=x}else h=u;let p=h.pathname||"/",v=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=ez(e,{pathname:v}),y=_z(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ad([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ad([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,a);return t&&y?S.createElement(qy.Provider,{value:{location:_v({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:jd.Pop}},y):y}function Pz(){let e=Lz(),t=jz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const Tz=S.createElement(Pz,null);class Iz extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Ud.Provider,{value:this.props.routeContext},S.createElement(nL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dz(e){let{routeContext:t,match:n,children:a}=e,s=S.useContext(oA);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Ud.Provider,{value:t},a)}function _z(e,t,n,a){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);h>=0||ga(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:v}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let v,g=!1,y=null,x=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||Tz,c&&(u<0&&p===0?(Mz("route-fallback"),g=!0,x=null):u===p&&(g=!0,x=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,p+1)),b=()=>{let N;return v?N=y:g?N=x:f.route.Component?N=S.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=h,S.createElement(Dz,{match:f,routeContext:{outlet:h,matches:j,isDataRoute:n!=null},children:N})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?S.createElement(Iz,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}var iL=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iL||{}),oL=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oL||{});function kz(e){let t=S.useContext(oA);return t||ga(!1),t}function Oz(e){let t=S.useContext(Nz);return t||ga(!1),t}function Rz(e){let t=S.useContext(Ud);return t||ga(!1),t}function lL(e){let t=Rz(),n=t.matches[t.matches.length-1];return n.route.id||ga(!1),n.route.id}function Lz(){var e;let t=S.useContext(nL),n=Oz(),a=lL();return t!==void 0?t:(e=n.errors)==null?void 0:e[a]}function Fz(){let{router:e}=kz(iL.UseNavigateStable),t=lL(oL.UseNavigateStable),n=S.useRef(!1);return aL(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,_v({fromRouteId:t},i)))},[e,t])}const A3={};function Mz(e,t,n){A3[e]||(A3[e]=!0)}function $z(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Bz(e){let{to:t,replace:n,state:a,relative:s}=e;sp()||ga(!1);let{future:i,static:o}=S.useContext(zd),{matches:l}=S.useContext(Ud),{pathname:c}=ip(),u=lA(),h=iA(t,sA(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return S.useEffect(()=>u(JSON.parse(f),{replace:n,state:a,relative:s}),[u,f,s,n,a]),null}function vr(e){ga(!1)}function qz(e){let{basename:t="/",children:n=null,location:a,navigationType:s=jd.Pop,navigator:i,static:o=!1,future:l}=e;sp()&&ga(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:o,future:_v({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof a=="string"&&(a=ap(a));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:g="default"}=a,y=S.useMemo(()=>{let x=aA(h,c);return x==null?null:{location:{pathname:x,search:f,hash:p,state:v,key:g},navigationType:s}},[c,h,f,p,v,g,s]);return y==null?null:S.createElement(zd.Provider,{value:u},S.createElement(qy.Provider,{children:n,value:y}))}function ei(e){let{children:t,location:n}=e;return Az(R5(t),n)}new Promise(()=>{});function R5(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(a,s)=>{if(!S.isValidElement(a))return;let i=[...t,s];if(a.type===S.Fragment){n.push.apply(n,R5(a.props.children,i));return}a.type!==vr&&ga(!1),!a.props.index||!a.props.children||ga(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=R5(a.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L5(){return L5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},L5.apply(this,arguments)}function zz(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Uz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Vz(e,t){return e.button===0&&(!t||t==="_self")&&!Uz(e)}const Wz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hz="6";try{window.__reactRouterVersion=Hz}catch{}const Gz="startTransition",E3=uc[Gz];function Kz(e){let{basename:t,children:n,future:a,window:s}=e,i=S.useRef();i.current==null&&(i.current=Qq({window:s,v5Compat:!0}));let o=i.current,[l,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},h=S.useCallback(f=>{u&&E3?E3(()=>c(f)):c(f)},[c,u]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.useEffect(()=>$z(a),[a]),S.createElement(qz,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:a})}const Yz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P3=S.forwardRef(function(t,n){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=t,p=zz(t,Wz),{basename:v}=S.useContext(zd),g,y=!1;if(typeof u=="string"&&Xz.test(u)&&(g=u,Yz))try{let N=new URL(window.location.href),P=u.startsWith("//")?new URL(N.protocol+u):new URL(u),I=aA(P.pathname,v);P.origin===N.origin&&I!=null?u=I+P.search+P.hash:y=!0}catch{}let x=Sz(u,{relative:s}),j=Qz(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function b(N){a&&a(N),N.defaultPrevented||j(N)}return S.createElement("a",L5({},p,{href:g||x,onClick:y||i?a:b,ref:n,target:c}))});var T3;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(T3||(T3={}));var I3;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(I3||(I3={}));function Qz(e,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=lA(),u=ip(),h=sL(e,{relative:o});return S.useCallback(f=>{if(Vz(f,n)){f.preventDefault();let p=a!==void 0?a:b0(u)===b0(h);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,h,a,s,n,e,i,o,l])}function zn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function D3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cL(...e){return t=>{let n=!1;const a=e.map(s=>{const i=D3(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():D3(e[s],null)}}}}function To(...e){return S.useCallback(cL(...e),e)}function fh(e,t=[]){let n=[];function a(i,o){const l=S.createContext(o),c=n.length;n=[...n,o];const u=f=>{const{scope:p,children:v,...g}=f,y=p?.[e]?.[c]||l,x=S.useMemo(()=>g,Object.values(g));return r.jsx(y.Provider,{value:x,children:v})};u.displayName=i+"Provider";function h(f,p){const v=p?.[e]?.[c]||l,g=S.useContext(v);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(l){const c=l?.[e]||i;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,Jz(s,...t)]}function Jz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Cm(e){const t=eU(e),n=S.forwardRef((a,s)=>{const{children:i,...o}=a,l=S.Children.toArray(i),c=l.find(rU);if(c){const u=c.props.children,h=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return r.jsx(t,{...o,ref:s,children:S.isValidElement(u)?S.cloneElement(u,void 0,h):null})}return r.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var Zz=Cm("Slot");function eU(e){const t=S.forwardRef((n,a)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const o=aU(s),l=nU(i,s.props);return s.type!==S.Fragment&&(l.ref=a?cL(a,o):o),S.cloneElement(s,l)}return S.Children.count(s)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tU=Symbol("radix.slottable");function rU(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tU}function nU(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function aU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function sU(e){const t=e+"CollectionProvider",[n,a]=fh(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:j}=y,b=Ne.useRef(null),N=Ne.useRef(new Map).current;return r.jsx(s,{scope:x,itemMap:N,collectionRef:b,children:j})};o.displayName=t;const l=e+"CollectionSlot",c=Cm(l),u=Ne.forwardRef((y,x)=>{const{scope:j,children:b}=y,N=i(l,j),P=To(x,N.collectionRef);return r.jsx(c,{ref:P,children:b})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=Cm(h),v=Ne.forwardRef((y,x)=>{const{scope:j,children:b,...N}=y,P=Ne.useRef(null),I=To(x,P),w=i(h,j);return Ne.useEffect(()=>(w.itemMap.set(P,{ref:P,...N}),()=>void w.itemMap.delete(P))),r.jsx(p,{[f]:"",ref:I,children:b})});v.displayName=h;function g(y){const x=i(e+"CollectionConsumer",y);return Ne.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const N=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((w,E)=>N.indexOf(w.ref.current)-N.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},g,a]}var iU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],la=iU.reduce((e,t)=>{const n=Cm(`Primitive.${t}`),a=S.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function uL(e,t){e&&pu.flushSync(()=>e.dispatchEvent(t))}function ah(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>t.current?.(...n),[])}function oU(e,t=globalThis?.document){const n=ah(e);S.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[n,t])}var lU="DismissableLayer",F5="dismissableLayer.update",cU="dismissableLayer.pointerDownOutside",uU="dismissableLayer.focusOutside",_3,dL=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fL=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=S.useContext(dL),[h,f]=S.useState(null),p=h?.ownerDocument??globalThis?.document,[,v]=S.useState({}),g=To(t,E=>f(E)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=y.indexOf(x),b=h?y.indexOf(h):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,P=b>=j,I=fU(E=>{const C=E.target,_=[...u.branches].some(M=>M.contains(C));!P||_||(s?.(E),o?.(E),E.defaultPrevented||l?.())},p),w=hU(E=>{const C=E.target;[...u.branches].some(M=>M.contains(C))||(i?.(E),o?.(E),E.defaultPrevented||l?.())},p);return oU(E=>{b===u.layers.size-1&&(a?.(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},p),S.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_3=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),k3(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=_3)}},[h,p,n,u]),S.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),k3())},[h,u]),S.useEffect(()=>{const E=()=>v({});return document.addEventListener(F5,E),()=>document.removeEventListener(F5,E)},[]),r.jsx(la.div,{...c,ref:g,style:{pointerEvents:N?P?"auto":"none":void 0,...e.style},onFocusCapture:zn(e.onFocusCapture,w.onFocusCapture),onBlurCapture:zn(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:zn(e.onPointerDownCapture,I.onPointerDownCapture)})});fL.displayName=lU;var dU="DismissableLayerBranch",hL=S.forwardRef((e,t)=>{const n=S.useContext(dL),a=S.useRef(null),s=To(t,a);return S.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(la.div,{...e,ref:s})});hL.displayName=dU;function fU(e,t=globalThis?.document){const n=ah(e),a=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){mL(cU,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function hU(e,t=globalThis?.document){const n=ah(e),a=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!a.current&&mL(uU,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function k3(){const e=new CustomEvent(F5);document.dispatchEvent(e)}function mL(e,t,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?uL(s,i):s.dispatchEvent(i)}var mU=fL,pU=hL,Od=globalThis?.document?S.useLayoutEffect:()=>{},vU="Portal",pL=S.forwardRef((e,t)=>{const{container:n,...a}=e,[s,i]=S.useState(!1);Od(()=>i(!0),[]);const o=n||s&&globalThis?.document?.body;return o?nA.createPortal(r.jsx(la.div,{...a,ref:t}),o):null});pL.displayName=vU;function xU(e,t){return S.useReducer((n,a)=>t[n][a]??n,e)}var zy=e=>{const{present:t,children:n}=e,a=gU(t),s=typeof n=="function"?n({present:a.isPresent}):S.Children.only(n),i=To(a.ref,yU(s));return typeof n=="function"||a.isPresent?S.cloneElement(s,{ref:i}):null};zy.displayName="Presence";function gU(e){const[t,n]=S.useState(),a=S.useRef(null),s=S.useRef(e),i=S.useRef("none"),o=e?"mounted":"unmounted",[l,c]=xU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=Cg(a.current);i.current=l==="mounted"?u:"none"},[l]),Od(()=>{const u=a.current,h=s.current;if(h!==e){const p=i.current,v=Cg(u);e?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(h&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Od(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=v=>{const y=Cg(a.current).includes(v.animationName);if(v.target===t&&y&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=v=>{v.target===t&&(i.current=Cg(a.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(u=>{a.current=u?getComputedStyle(u):null,n(u)},[])}}function Cg(e){return e?.animationName||"none"}function yU(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bU=uc[" useInsertionEffect ".trim().toString()]||Od;function Uy({prop:e,defaultProp:t,onChange:n=()=>{},caller:a}){const[s,i,o]=jU({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=S.useRef(e!==void 0);S.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${a} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,a])}const u=S.useCallback(h=>{if(l){const f=wU(h)?h(e):h;f!==e&&o.current?.(f)}else i(h)},[l,e,i,o]);return[c,u]}function jU({defaultProp:e,onChange:t}){const[n,a]=S.useState(e),s=S.useRef(n),i=S.useRef(t);return bU(()=>{i.current=t},[t]),S.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,a,i]}function wU(e){return typeof e=="function"}var NU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SU="VisuallyHidden",cA=S.forwardRef((e,t)=>r.jsx(la.span,{...e,ref:t,style:{...NU,...e.style}}));cA.displayName=SU;var uA="ToastProvider",[dA,CU,AU]=sU("Toast"),[vL,Jje]=fh("Toast",[AU]),[EU,Vy]=vL(uA),xL=e=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=S.useState(null),[u,h]=S.useState(0),f=S.useRef(!1),p=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uA}\`. Expected non-empty \`string\`.`),r.jsx(dA.Provider,{scope:t,children:r.jsx(EU,{scope:t,label:n,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:S.useCallback(()=>h(v=>v+1),[]),onToastRemove:S.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};xL.displayName=uA;var gL="ToastViewport",PU=["F8"],M5="toast.viewportPause",$5="toast.viewportResume",yL=S.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:a=PU,label:s="Notifications ({hotkey})",...i}=e,o=Vy(gL,n),l=CU(n),c=S.useRef(null),u=S.useRef(null),h=S.useRef(null),f=S.useRef(null),p=To(t,f,o.onViewportChange),v=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;S.useEffect(()=>{const x=j=>{a.length!==0&&a.every(N=>j[N]||j.code===N)&&f.current?.focus()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[a]),S.useEffect(()=>{const x=c.current,j=f.current;if(g&&x&&j){const b=()=>{if(!o.isClosePausedRef.current){const w=new CustomEvent(M5);j.dispatchEvent(w),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const w=new CustomEvent($5);j.dispatchEvent(w),o.isClosePausedRef.current=!1}},P=w=>{!x.contains(w.relatedTarget)&&N()},I=()=>{x.contains(document.activeElement)||N()};return x.addEventListener("focusin",b),x.addEventListener("focusout",P),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",I),window.addEventListener("blur",b),window.addEventListener("focus",N),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",P),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",I),window.removeEventListener("blur",b),window.removeEventListener("focus",N)}}},[g,o.isClosePausedRef]);const y=S.useCallback(({tabbingDirection:x})=>{const b=l().map(N=>{const P=N.ref.current,I=[P,...qU(P)];return x==="forwards"?I:I.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return S.useEffect(()=>{const x=f.current;if(x){const j=b=>{const N=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!N){const I=document.activeElement,w=b.shiftKey;if(b.target===x&&w){u.current?.focus();return}const _=y({tabbingDirection:w?"backwards":"forwards"}),M=_.findIndex(k=>k===I);$1(_.slice(M+1))?b.preventDefault():w?u.current?.focus():h.current?.focus()}};return x.addEventListener("keydown",j),()=>x.removeEventListener("keydown",j)}},[l,y]),r.jsxs(pU,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&r.jsx(B5,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});$1(x)}}),r.jsx(dA.Slot,{scope:n,children:r.jsx(la.ol,{tabIndex:-1,...i,ref:p})}),g&&r.jsx(B5,{ref:h,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});$1(x)}})]})});yL.displayName=gL;var bL="ToastFocusProxy",B5=S.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...s}=e,i=Vy(bL,n);return r.jsx(cA,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!i.viewport?.contains(l)&&a()}})});B5.displayName=bL;var Ax="Toast",TU="toast.swipeStart",IU="toast.swipeMove",DU="toast.swipeCancel",_U="toast.swipeEnd",jL=S.forwardRef((e,t)=>{const{forceMount:n,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=Uy({prop:a,defaultProp:s??!0,onChange:i,caller:Ax});return r.jsx(zy,{present:n||l,children:r.jsx(RU,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ah(e.onPause),onResume:ah(e.onResume),onSwipeStart:zn(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:zn(e.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:zn(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:zn(e.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});jL.displayName=Ax;var[kU,OU]=vL(Ax,{onClose(){}}),RU=S.forwardRef((e,t)=>{const{__scopeToast:n,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:v,...g}=e,y=Vy(Ax,n),[x,j]=S.useState(null),b=To(t,F=>j(F)),N=S.useRef(null),P=S.useRef(null),I=s||y.duration,w=S.useRef(0),E=S.useRef(I),C=S.useRef(0),{onToastAdd:_,onToastRemove:M}=y,k=ah(()=>{x?.contains(document.activeElement)&&y.viewport?.focus(),o()}),D=S.useCallback(F=>{!F||F===1/0||(window.clearTimeout(C.current),w.current=new Date().getTime(),C.current=window.setTimeout(k,F))},[k]);S.useEffect(()=>{const F=y.viewport;if(F){const z=()=>{D(E.current),u?.()},V=()=>{const B=new Date().getTime()-w.current;E.current=E.current-B,window.clearTimeout(C.current),c?.()};return F.addEventListener(M5,V),F.addEventListener($5,z),()=>{F.removeEventListener(M5,V),F.removeEventListener($5,z)}}},[y.viewport,I,c,u,D]),S.useEffect(()=>{i&&!y.isClosePausedRef.current&&D(I)},[i,I,y.isClosePausedRef,D]),S.useEffect(()=>(_(),()=>M()),[_,M]);const R=S.useMemo(()=>x?PL(x):null,[x]);return y.viewport?r.jsxs(r.Fragment,{children:[R&&r.jsx(LU,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),r.jsx(kU,{scope:n,onClose:k,children:pu.createPortal(r.jsx(dA.ItemSlot,{scope:n,children:r.jsx(mU,{asChild:!0,onEscapeKeyDown:zn(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(la.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:zn(e.onKeyDown,F=>{F.key==="Escape"&&(l?.(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:zn(e.onPointerDown,F=>{F.button===0&&(N.current={x:F.clientX,y:F.clientY})}),onPointerMove:zn(e.onPointerMove,F=>{if(!N.current)return;const z=F.clientX-N.current.x,V=F.clientY-N.current.y,B=!!P.current,H=["left","right"].includes(y.swipeDirection),G=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Z=H?G(0,z):0,Q=H?0:G(0,V),$=F.pointerType==="touch"?10:2,K={x:Z,y:Q},te={originalEvent:F,delta:K};B?(P.current=K,Ag(IU,f,te,{discrete:!1})):O3(K,y.swipeDirection,$)?(P.current=K,Ag(TU,h,te,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(z)>$||Math.abs(V)>$)&&(N.current=null)}),onPointerUp:zn(e.onPointerUp,F=>{const z=P.current,V=F.target;if(V.hasPointerCapture(F.pointerId)&&V.releasePointerCapture(F.pointerId),P.current=null,N.current=null,z){const B=F.currentTarget,H={originalEvent:F,delta:z};O3(z,y.swipeDirection,y.swipeThreshold)?Ag(_U,v,H,{discrete:!0}):Ag(DU,p,H,{discrete:!0}),B.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),LU=e=>{const{__scopeToast:t,children:n,...a}=e,s=Vy(Ax,t),[i,o]=S.useState(!1),[l,c]=S.useState(!1);return $U(()=>o(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:r.jsx(pL,{asChild:!0,children:r.jsx(cA,{...a,children:i&&r.jsxs(r.Fragment,{children:[s.label," ",n]})})})},FU="ToastTitle",wL=S.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return r.jsx(la.div,{...a,ref:t})});wL.displayName=FU;var MU="ToastDescription",NL=S.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e;return r.jsx(la.div,{...a,ref:t})});NL.displayName=MU;var SL="ToastAction",CL=S.forwardRef((e,t)=>{const{altText:n,...a}=e;return n.trim()?r.jsx(EL,{altText:n,asChild:!0,children:r.jsx(fA,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${SL}\`. Expected non-empty \`string\`.`),null)});CL.displayName=SL;var AL="ToastClose",fA=S.forwardRef((e,t)=>{const{__scopeToast:n,...a}=e,s=OU(AL,n);return r.jsx(EL,{asChild:!0,children:r.jsx(la.button,{type:"button",...a,ref:t,onClick:zn(e.onClick,s.onClose)})})});fA.displayName=AL;var EL=S.forwardRef((e,t)=>{const{__scopeToast:n,altText:a,...s}=e;return r.jsx(la.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function PL(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),BU(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...PL(a))}}),t}function Ag(e,t,n,{discrete:a}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?uL(s,i):s.dispatchEvent(i)}var O3=(e,t,n=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return t==="left"||t==="right"?i&&a>n:!i&&s>n};function $U(e=()=>{}){const t=ah(e);Od(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[t])}function BU(e){return e.nodeType===e.ELEMENT_NODE}function qU(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $1(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var zU=xL,TL=yL,IL=jL,DL=wL,_L=NL,kL=CL,OL=fA;function RL(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=RL(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function LL(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=RL(e))&&(a&&(a+=" "),a+=t);return a}const R3=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,L3=LL,Wy=(e,t)=>n=>{var a;if(t?.variants==null)return L3(e,n?.class,n?.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const h=n?.[u],f=i?.[u];if(h===null)return null;const p=R3(h)||R3(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((u,h)=>{let{class:f,className:p,...v}=h;return Object.entries(v).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...i,...l}[y]):{...i,...l}[y]===x})?[...u,f,p]:u},[]);return L3(e,o,c,n?.class,n?.className)};var UU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WU=(e,t)=>{const n=S.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...c},u)=>S.createElement("svg",{ref:u,...UU,width:s,height:s,stroke:a,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${VU(e)}`,...c},[...t.map(([h,f])=>S.createElement(h,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var Tt=WU;const Ff=Tt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),xm=Tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Vi=Tt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Xl=Tt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),HU=Tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ql=Tt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Oa=Tt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),FL=Tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Jl=Tt("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),j0=Tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),sh=Tt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),gn=Tt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Zc=Tt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),yn=Tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),hA=Tt("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Hy=Tt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ML=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),GU=Tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ih=Tt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),q5=Tt("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),Ar=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),KU=Tt("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]),mA=Tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Zs=Tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),lr=Tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),bi=Tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),YU=Tt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),iu=Tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),l0=Tt("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),Qs=Tt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ji=Tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ex=Tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),XU=Tt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),B1=Tt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),QU=Tt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Am=Tt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),JU=Tt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),ZU=Tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),eV=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Mn=Tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ou=Tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),tV=Tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Un=Tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Rs=Tt("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),$L=Tt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),rV=Tt("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),bn=Tt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Eg=Tt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),kv=Tt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),op=Tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),q1=Tt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),qt=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),hh=Tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),BL=Tt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),ma=Tt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),z5=Tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),dn=Tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),La=Tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),sc=Tt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Px=Tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pA=Tt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),vA=Tt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),yi=Tt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),nV=Tt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),aV=Tt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),oa=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),gm=Tt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ar=Tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),xi=Tt("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),xA=Tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fs=Tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Na=Tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),w0=Tt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),F3=Tt("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]),Mf=Tt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),Ao=Tt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),cr=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sV=Tt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function iV(){for(var e=0,t,n,a="";e<arguments.length;)(t=arguments[e++])&&(n=qL(t))&&(a&&(a+=" "),a+=n);return a}function qL(e){if(typeof e=="string")return e;for(var t,n="",a=0;a<e.length;a++)e[a]&&(t=qL(e[a]))&&(n&&(n+=" "),n+=t);return n}var gA="-";function oV(e){var t=cV(e),n=e.conflictingClassGroups,a=e.conflictingClassGroupModifiers,s=a===void 0?{}:a;function i(l){var c=l.split(gA);return c[0]===""&&c.length!==1&&c.shift(),zL(c,t)||lV(l)}function o(l,c){var u=n[l]||[];return c&&s[l]?[].concat(u,s[l]):u}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function zL(e,t){if(e.length===0)return t.classGroupId;var n=e[0],a=t.nextPart.get(n),s=a?zL(e.slice(1),a):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(gA);return t.validators.find(function(o){var l=o.validator;return l(i)})?.classGroupId}}var M3=/^\[(.+)\]$/;function lV(e){if(M3.test(e)){var t=M3.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function cV(e){var t=e.theme,n=e.prefix,a={nextPart:new Map,validators:[]},s=dV(Object.entries(e.classGroups),n);return s.forEach(function(i){var o=i[0],l=i[1];U5(l,a,o,t)}),a}function U5(e,t,n,a){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:$3(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(uV(s)){U5(s(a),t,n,a);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var l=o[0],c=o[1];U5(c,$3(t,l),n,a)})})}function $3(e,t){var n=e;return t.split(gA).forEach(function(a){n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n}function uV(e){return e.isThemeGetter}function dV(e,t){return t?e.map(function(n){var a=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],u=l[1];return[t+c,u]})):o});return[a,i]}):e}function fV(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,a=new Map;function s(i,o){n.set(i,o),t++,t>e&&(t=0,a=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=a.get(o))!==void 0)return s(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):s(o,l)}}}var UL="!";function hV(e){var t=e.separator||":",n=t.length===1,a=t[0],s=t.length;return function(o){for(var l=[],c=0,u=0,h,f=0;f<o.length;f++){var p=o[f];if(c===0){if(p===a&&(n||o.slice(f,f+s)===t)){l.push(o.slice(u,f)),u=f+s;continue}if(p==="/"){h=f;continue}}p==="["?c++:p==="]"&&c--}var v=l.length===0?o:o.substring(u),g=v.startsWith(UL),y=g?v.substring(1):v,x=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}}}function mV(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(a){var s=a[0]==="[";s?(t.push.apply(t,n.sort().concat([a])),n=[]):n.push(a)}),t.push.apply(t,n.sort()),t}function pV(e){return{cache:fV(e.cacheSize),splitModifiers:hV(e),...oV(e)}}var vV=/\s+/;function xV(e,t){var n=t.splitModifiers,a=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(vV).map(function(o){var l=n(o),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,f=l.maybePostfixModifierPosition,p=a(f?h.substring(0,f):h),v=!!f;if(!p){if(!f)return{isTailwindClass:!1,originalClassName:o};if(p=a(h),!p)return{isTailwindClass:!1,originalClassName:o};v=!1}var g=mV(c).join(":"),y=u?g+UL:g;return{isTailwindClass:!0,modifierId:y,classGroupId:p,originalClassName:o,hasPostfixModifier:v}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,h=l+c;return i.has(h)?!1:(i.add(h),s(c,u).forEach(function(f){return i.add(l+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function gV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a,s,i,o=l;function l(u){var h=t[0],f=t.slice(1),p=f.reduce(function(v,g){return g(v)},h());return a=pV(p),s=a.cache.get,i=a.cache.set,o=c,c(u)}function c(u){var h=s(u);if(h)return h;var f=xV(u,a);return i(u,f),f}return function(){return o(iV.apply(null,arguments))}}function On(e){var t=function(a){return a[e]||[]};return t.isThemeGetter=!0,t}var VL=/^\[(?:([a-z-]+):)?(.+)\]$/i,yV=/^\d+\/\d+$/,bV=new Set(["px","full","screen"]),jV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NV=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function rl(e){return $f(e)||bV.has(e)||yV.test(e)||V5(e)}function V5(e){return mh(e,"length",TV)}function SV(e){return mh(e,"size",WL)}function CV(e){return mh(e,"position",WL)}function AV(e){return mh(e,"url",IV)}function Pg(e){return mh(e,"number",$f)}function $f(e){return!Number.isNaN(Number(e))}function EV(e){return e.endsWith("%")&&$f(e.slice(0,-1))}function Kp(e){return B3(e)||mh(e,"number",B3)}function Tr(e){return VL.test(e)}function Yp(){return!0}function dd(e){return jV.test(e)}function PV(e){return mh(e,"",DV)}function mh(e,t,n){var a=VL.exec(e);return a?a[1]?a[1]===t:n(a[2]):!1}function TV(e){return wV.test(e)}function WL(){return!1}function IV(e){return e.startsWith("url(")}function B3(e){return Number.isInteger(Number(e))}function DV(e){return NV.test(e)}function _V(){var e=On("colors"),t=On("spacing"),n=On("blur"),a=On("brightness"),s=On("borderColor"),i=On("borderRadius"),o=On("borderSpacing"),l=On("borderWidth"),c=On("contrast"),u=On("grayscale"),h=On("hueRotate"),f=On("invert"),p=On("gap"),v=On("gradientColorStops"),g=On("gradientColorStopPositions"),y=On("inset"),x=On("margin"),j=On("opacity"),b=On("padding"),N=On("saturate"),P=On("scale"),I=On("sepia"),w=On("skew"),E=On("space"),C=On("translate"),_=function(){return["auto","contain","none"]},M=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",Tr,t]},D=function(){return[Tr,t]},R=function(){return["",rl]},F=function(){return["auto",$f,Tr]},z=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},B=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},H=function(){return["start","end","center","between","around","evenly","stretch"]},G=function(){return["","0",Tr]},Z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},Q=function(){return[$f,Pg]},$=function(){return[$f,Tr]};return{cacheSize:500,theme:{colors:[Yp],spacing:[rl],blur:["none","",dd,Tr],brightness:Q(),borderColor:[e],borderRadius:["none","","full",dd,Tr],borderSpacing:D(),borderWidth:R(),contrast:Q(),grayscale:G(),hueRotate:$(),invert:G(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[EV,V5],inset:k(),margin:k(),opacity:Q(),padding:D(),saturate:Q(),scale:Q(),sepia:G(),skew:$(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Tr]}],container:["container"],columns:[{columns:[dd]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(z(),[Tr])}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kp]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Tr]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Kp]}],"grid-cols":[{"grid-cols":[Yp]}],"col-start-end":[{col:["auto",{span:["full",Kp]},Tr]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Yp]}],"row-start-end":[{row:["auto",{span:[Kp]},Tr]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Tr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Tr]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(H())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(H(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(H(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Tr,t]}],"min-w":[{"min-w":["min","max","fit",Tr,rl]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[dd]},dd,Tr]}],h:[{h:[Tr,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Tr,rl]}],"max-h":[{"max-h":[Tr,t,"min","max","fit"]}],"font-size":[{text:["base",dd,V5]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pg]}],"font-family":[{font:[Yp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Tr]}],"line-clamp":[{"line-clamp":["none",$f,Pg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tr,rl]}],"list-image":[{"list-image":["none",Tr]}],"list-style-type":[{list:["none","disc","decimal",Tr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",rl]}],"underline-offset":[{"underline-offset":["auto",Tr,rl]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Tr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Tr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(z(),[CV])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AV]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[Tr,rl]}],"outline-w":[{outline:[rl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[rl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",dd,PV]}],"shadow-color":[{shadow:[Yp]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":B()}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",dd,Tr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Tr]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Tr]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Tr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Kp,Tr]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Tr]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Tr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Tr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[rl,Pg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var kV=gV(_V);function ot(...e){return kV(LL(e))}function Me(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function Et(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function Sn(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error("Failed to save to localStorage:",n)}}function Qn(e,t){try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.error("Failed to load from localStorage:",n),t}}function OV(e){try{localStorage.removeItem(e)}catch(t){console.error("Failed to remove from localStorage:",t)}}const RV=zU,HL=S.forwardRef(({className:e,...t},n)=>r.jsx(TL,{ref:n,className:ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));HL.displayName=TL.displayName;const LV=Wy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),GL=S.forwardRef(({className:e,variant:t,...n},a)=>r.jsx(IL,{ref:a,className:ot(LV({variant:t}),e),...n}));GL.displayName=IL.displayName;const FV=S.forwardRef(({className:e,...t},n)=>r.jsx(kL,{ref:n,className:ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));FV.displayName=kL.displayName;const KL=S.forwardRef(({className:e,...t},n)=>r.jsx(OL,{ref:n,className:ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(cr,{className:"h-4 w-4"})}));KL.displayName=OL.displayName;const YL=S.forwardRef(({className:e,...t},n)=>r.jsx(DL,{ref:n,className:ot("text-sm font-semibold",e),...t}));YL.displayName=DL.displayName;const XL=S.forwardRef(({className:e,...t},n)=>r.jsx(_L,{ref:n,className:ot("text-sm opacity-90",e),...t}));XL.displayName=_L.displayName;const MV=1,$V=1e6;let z1=0;function BV(){return z1=(z1+1)%Number.MAX_SAFE_INTEGER,z1.toString()}const U1=new Map,q3=e=>{if(U1.has(e))return;const t=setTimeout(()=>{U1.delete(e),gv({type:"REMOVE_TOAST",toastId:e})},$V);U1.set(e,t)},qV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,MV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?q3(n):e.toasts.forEach(a=>{q3(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},c0=[];let u0={toasts:[]};function gv(e){u0=qV(u0,e),c0.forEach(t=>{t(u0)})}function zV({...e}){const t=BV(),n=s=>gv({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>gv({type:"DISMISS_TOAST",toastId:t});return gv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:n}}function Ht(){const[e,t]=S.useState(u0);return S.useEffect(()=>(c0.push(t),()=>{const n=c0.indexOf(t);n>-1&&c0.splice(n,1)}),[e]),{...e,toast:zV,dismiss:n=>gv({type:"DISMISS_TOAST",toastId:n})}}function UV(){const{toasts:e}=Ht();return r.jsxs(RV,{children:[e.map(function({id:t,title:n,description:a,action:s,...i}){return r.jsxs(GL,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(YL,{children:n}),a&&r.jsx(XL,{children:a})]}),s,r.jsx(KL,{})]},t)}),r.jsx(HL,{})]})}var ul=(e=>(e.ADMIN="admin",e.MANAGER="manager",e.SALES="sales",e.SERVICE="service",e.USER="user",e))(ul||{}),bo=(e=>(e.TEXT="text",e.NUMBER="number",e.DATE="date",e.BOOLEAN="boolean",e.SELECT="select",e.MULTISELECT="multiselect",e))(bo||{}),os=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(os||{}),Rt=(e=>(e.RV="rv",e.MOTORHOME="motorhome",e.TRAVEL_TRAILER="travel_trailer",e.FIFTH_WHEEL="fifth_wheel",e.TOY_HAULER="toy_hauler",e.SINGLE_WIDE="single_wide",e.DOUBLE_WIDE="double_wide",e.TRIPLE_WIDE="triple_wide",e.PARK_MODEL="park_model",e.MODULAR_HOME="modular_home",e))(Rt||{}),jr=(e=>(e.AVAILABLE="available",e.RESERVED="reserved",e.SOLD="sold",e.SERVICE="service",e.DELIVERED="delivered",e))(jr||{}),jo=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.ACCEPTED="accepted",e.REJECTED="rejected",e.EXPIRED="expired",e))(jo||{}),Bf=(e=>(e.PURCHASE="purchase",e.LEASE="lease",e.SERVICE="service",e.WARRANTY="warranty",e))(Bf||{}),il=(e=>(e.DRAFT="draft",e.PENDING="pending",e.SIGNED="signed",e.ACTIVE="active",e.EXPIRED="expired",e.CANCELLED="cancelled",e))(il||{}),Ln=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent",e))(Ln||{}),Ir=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.WAITING_PARTS="waiting_parts",e.COMPLETED="completed",e.CANCELLED="cancelled",e))(Ir||{}),mr=(e=>(e.SCHEDULED="scheduled",e.IN_TRANSIT="in_transit",e.DELIVERED="delivered",e.CANCELLED="cancelled",e))(mr||{}),Vr=(e=>(e.FLAT="flat",e.PERCENTAGE="percentage",e.TIERED="tiered",e))(Vr||{}),ir=(e=>(e.PENDING="pending",e.APPROVED="approved",e.PAID="paid",e.CANCELLED="cancelled",e))(ir||{}),dr=(e=>(e.DRAFT="draft",e.SENT="sent",e.VIEWED="viewed",e.PAID="paid",e.OVERDUE="overdue",e.CANCELLED="cancelled",e))(dr||{}),wo=(e=>(e.CASH="cash",e.CHECK="check",e.CREDIT_CARD="credit_card",e.BANK_TRANSFER="bank_transfer",e.FINANCING="financing",e))(wo||{}),fl=(e=>(e.PENDING="pending",e.PROCESSING="processing",e.COMPLETED="completed",e.FAILED="failed",e.REFUNDED="refunded",e))(fl||{}),vn=(e=>(e.SALES="sales",e.INVENTORY="inventory",e.SERVICE="service",e.FINANCIAL="financial",e.CUSTOM="custom",e))(vn||{});const QL=S.createContext(void 0);function lp(){const e=S.useContext(QL);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function VV({children:e}){const[t,n]=S.useState(null),[a,s]=S.useState(!0);S.useEffect(()=>{Qn("auth_token",null)&&n({id:"1",email:"admin@renterinsight.com",name:"Admin User",role:ul.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date}),s(!1)},[]);const u={user:t,login:async(h,f)=>{s(!0);try{if(await new Promise(p=>setTimeout(p,1e3)),h==="admin@renterinsight.com"&&f==="password"){const p={id:"1",email:h,name:"Admin User",role:ul.ADMIN,tenantId:"tenant-1",permissions:[{id:"1",name:"All Access",resource:"*",action:"*"}],createdAt:new Date,updatedAt:new Date};n(p),Sn("auth_token","mock-token")}else throw new Error("Invalid credentials")}catch(p){throw console.error("Login error:",p),new Error("Login failed")}finally{s(!1)}},logout:()=>{n(null),OV("auth_token")},isLoading:a,hasPermission:(h,f)=>t?t.permissions.some(p=>(p.resource==="*"||p.resource===h)&&(p.action==="*"||p.action===f)):!1,hasRole:h=>t?t.role===h||t.role===ul.ADMIN:!1};return r.jsx(QL.Provider,{value:u,children:e})}const JL=S.createContext(void 0);function ph(){const e=S.useContext(JL);if(e===void 0)throw new Error("useTenant must be used within a TenantProvider");return e}function WV({children:e}){const[t,n]=S.useState(null),[a,s]=S.useState([]);S.useEffect(()=>{const f={id:"tenant-1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",settings:{timezone:"America/New_York",currency:"USD",dateFormat:"MM/dd/yyyy",businessHours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"18:00",closed:!1},saturday:{open:"09:00",close:"17:00",closed:!1},sunday:{open:"12:00",close:"17:00",closed:!1}},features:{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},customFields:[],branding:{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"},createdAt:new Date,updatedAt:new Date};n(f),s(f.customFields)},[]);const h={tenant:t,customFields:a,getCustomFields:(f,p)=>a.filter(v=>v.module===f&&(p?v.section===p:!0)),updateTenantSettings:async f=>{if(!t)return;const p={...t,settings:{...t.settings,...f},updatedAt:new Date};n(p)},addCustomField:async f=>{const p={...f,id:Math.random().toString(36).substr(2,9)};s(v=>[...v,p])},updateCustomField:async(f,p)=>{s(v=>v.map(g=>g.id===f?{...g,...p}:g))},deleteCustomField:async f=>{s(p=>p.filter(v=>v.id!==f))}};return r.jsx(JL.Provider,{value:h,children:e})}const HV={theme:"system",setTheme:()=>null},GV=S.createContext(HV);function KV({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...a}){const[s,i]=S.useState(()=>localStorage.getItem(n)||t);S.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem(n,l),i(l)}};return r.jsx(GV.Provider,{...a,value:o,children:e})}var YV=Object.defineProperty,XV=(e,t,n)=>t in e?YV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V1=(e,t,n)=>(XV(e,typeof t!="symbol"?t+"":t,n),n);let QV=class{constructor(){V1(this,"current",this.detect()),V1(this,"handoffState","pending"),V1(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ru=new QV,Io=(e,t)=>{ru.isServer?S.useEffect(e,t):S.useLayoutEffect(e,t)};function nu(e){let t=S.useRef(e);return Io(()=>{t.current=e},[e]),t}let Vn=function(e){let t=nu(e);return Ne.useCallback((...n)=>t.current(...n),[t])};function Gy(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function vh(){let e=[],t={addEventListener(n,a,s,i){return n.addEventListener(a,s,i),t.add(()=>n.removeEventListener(a,s,i))},requestAnimationFrame(...n){let a=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(a))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let a=setTimeout(...n);return t.add(()=>clearTimeout(a))},microTask(...n){let a={current:!0};return Gy(()=>{a.current&&n[0]()}),t.add(()=>{a.current=!1})},style(n,a,s){let i=n.style.getPropertyValue(a);return Object.assign(n.style,{[a]:s}),this.add(()=>{Object.assign(n.style,{[a]:i})})},group(n){let a=vh();return n(a),this.add(()=>a.dispose())},add(n){return e.push(n),()=>{let a=e.indexOf(n);if(a>=0)for(let s of e.splice(a,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function yA(){let[e]=S.useState(vh);return S.useEffect(()=>()=>e.dispose(),[e]),e}function JV(){let e=typeof document>"u";return"useSyncExternalStore"in uc?(t=>t.useSyncExternalStore)(uc)(()=>()=>{},()=>!1,()=>!e):!1}function cp(){let e=JV(),[t,n]=S.useState(ru.isHandoffComplete);return t&&ru.isHandoffComplete===!1&&n(!1),S.useEffect(()=>{t!==!0&&n(!0)},[t]),S.useEffect(()=>ru.handoff(),[]),e?!1:t}var z3;let up=(z3=Ne.useId)!=null?z3:function(){let e=cp(),[t,n]=Ne.useState(e?()=>ru.nextId():null);return Io(()=>{t===null&&n(ru.nextId())},[t]),t!=null?""+t:void 0};function Os(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Os),a}function ZL(e){return ru.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let W5=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Rf=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Rf||{}),eF=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(eF||{}),ZV=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ZV||{});function eW(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(W5)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var tF=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(tF||{});function tW(e,t=0){var n;return e===((n=ZL(e))==null?void 0:n.body)?!1:Os(t,{0(){return e.matches(W5)},1(){let a=e;for(;a!==null;){if(a.matches(W5))return!0;a=a.parentElement}return!1}})}var rW=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(rW||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Yf(e){e?.focus({preventScroll:!0})}let nW=["textarea","input"].join(",");function aW(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,nW))!=null?n:!1}function sW(e,t=n=>n){return e.slice().sort((n,a)=>{let s=t(n),i=t(a);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function d0(e,t,{sorted:n=!0,relativeTo:a=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?sW(e):e:eW(e);s.length>0&&o.length>1&&(o=o.filter(v=>!s.includes(v))),a=a??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(a))-1;if(t&4)return Math.max(0,o.indexOf(a))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},h=0,f=o.length,p;do{if(h>=f||h+f<=0)return 0;let v=c+h;if(t&16)v=(v+f)%f;else{if(v<0)return 3;if(v>=f)return 1}p=o[v],p?.focus(u),h+=l}while(p!==i.activeElement);return t&6&&aW(p)&&p.select(),2}function rF(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function iW(){return/Android/gi.test(window.navigator.userAgent)}function oW(){return rF()||iW()}function Tg(e,t,n){let a=nu(t);S.useEffect(()=>{function s(i){a.current(i)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[e,n])}function nF(e,t,n){let a=nu(t);S.useEffect(()=>{function s(i){a.current(i)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[e,n])}function lW(e,t,n=!0){let a=S.useRef(!1);S.useEffect(()=>{requestAnimationFrame(()=>{a.current=n})},[n]);function s(o,l){if(!a.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let h of u){if(h===null)continue;let f=h instanceof HTMLElement?h:h.current;if(f!=null&&f.contains(c)||o.composed&&o.composedPath().includes(f))return}return!tW(c,tF.Loose)&&c.tabIndex!==-1&&o.preventDefault(),t(o,c)}let i=S.useRef(null);Tg("pointerdown",o=>{var l,c;a.current&&(i.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Tg("mousedown",o=>{var l,c;a.current&&(i.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Tg("click",o=>{oW()||i.current&&(s(o,()=>i.current),i.current=null)},!0),Tg("touchend",o=>s(o,()=>o.target instanceof HTMLElement?o.target:null),!0),nF("blur",o=>s(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Tx(...e){return S.useMemo(()=>ZL(...e),[...e])}let aF=Symbol();function cW(e,t=!0){return Object.assign(e,{[aF]:t})}function gl(...e){let t=S.useRef(e);S.useEffect(()=>{t.current=e},[e]);let n=Vn(a=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(a):s.current=a)});return e.every(a=>a==null||a?.[aF])?void 0:n}function bA(e,t){let n=S.useRef([]),a=Vn(e);S.useEffect(()=>{let s=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let l=a(t,s);return n.current=t,l}},[a,...t])}function N0(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var S0=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(S0||{}),wd=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(wd||{});function _o({ourProps:e,theirProps:t,slot:n,defaultTag:a,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??uW;let c=sF(t,e);if(i)return Ig(c,n,a,o,l);let u=s??0;if(u&2){let{static:h=!1,...f}=c;if(h)return Ig(f,n,a,o,l)}if(u&1){let{unmount:h=!0,...f}=c;return Os(h?0:1,{0(){return null},1(){return Ig({...f,hidden:!0,style:{display:"none"}},n,a,o,l)}})}return Ig(c,n,a,o,l)}function Ig(e,t={},n,a,s){let{as:i=n,children:o,refName:l="ref",...c}=W1(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},h=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let f={};if(t){let p=!1,v=[];for(let[g,y]of Object.entries(t))typeof y=="boolean"&&(p=!0),y===!0&&v.push(g);p&&(f["data-headlessui-state"]=v.join(" "))}if(i===S.Fragment&&Object.keys(U3(c)).length>0){if(!S.isValidElement(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let p=h.props,v=typeof p?.className=="function"?(...y)=>N0(p?.className(...y),c.className):N0(p?.className,c.className),g=v?{className:v}:{};return S.cloneElement(h,Object.assign({},sF(h.props,U3(W1(c,["ref"]))),f,u,{ref:s(h.ref,u.ref)},g))}return S.createElement(i,Object.assign({},W1(c,["ref"]),i!==S.Fragment&&u,i!==S.Fragment&&f),h)}function uW(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function sF(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let a of e)for(let s in a)s.startsWith("on")&&typeof a[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(a[s])):t[s]=a[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(a=>[a,void 0])));for(let a in n)Object.assign(t,{[a](s,...i){let o=n[a];for(let l of o){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function Qi(e){var t;return Object.assign(S.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function U3(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function W1(e,t=[]){let n=Object.assign({},e);for(let a of t)a in n&&delete n[a];return n}let dW="div";var C0=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(C0||{});function fW(e,t){var n;let{features:a=1,...s}=e,i={ref:t,"aria-hidden":(a&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return _o({ourProps:i,theirProps:s,slot:{},defaultTag:dW,name:"Hidden"})}let H5=Qi(fW),jA=S.createContext(null);jA.displayName="OpenClosedContext";var qi=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(qi||{});function wA(){return S.useContext(jA)}function hW({value:e,children:t}){return Ne.createElement(jA.Provider,{value:e},t)}function mW(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let yd=[];mW(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&yd[0]!==t.target&&(yd.unshift(t.target),yd=yd.filter(n=>n!=null&&n.isConnected),yd.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function pW(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let a=t?.getAttribute("disabled")==="";return a&&vW(n)?!1:a}function vW(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var iF=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(iF||{});function oF(e,t,n,a){let s=nu(n);S.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i,a)},[e,t,a])}function Ix(){let e=S.useRef(!1);return Io(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function lF(e){let t=Vn(e),n=S.useRef(!1);S.useEffect(()=>(n.current=!1,()=>{n.current=!0,Gy(()=>{n.current&&t()})}),[t])}var mv=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(mv||{});function xW(){let e=S.useRef(0);return nF("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function cF(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let gW="div";var uF=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(uF||{});function yW(e,t){let n=S.useRef(null),a=gl(n,t),{initialFocus:s,containers:i,features:o=30,...l}=e;cp()||(o=1);let c=Tx(n);wW({ownerDocument:c},!!(o&16));let u=NW({ownerDocument:c,container:n,initialFocus:s},!!(o&2));SW({ownerDocument:c,container:n,containers:i,previousActiveElement:u},!!(o&8));let h=xW(),f=Vn(y=>{let x=n.current;x&&(j=>j())(()=>{Os(h.current,{[mv.Forwards]:()=>{d0(x,Rf.First,{skipElements:[y.relatedTarget]})},[mv.Backwards]:()=>{d0(x,Rf.Last,{skipElements:[y.relatedTarget]})}})})}),p=yA(),v=S.useRef(!1),g={ref:a,onKeyDown(y){y.key=="Tab"&&(v.current=!0,p.requestAnimationFrame(()=>{v.current=!1}))},onBlur(y){let x=cF(i);n.current instanceof HTMLElement&&x.add(n.current);let j=y.relatedTarget;j instanceof HTMLElement&&j.dataset.headlessuiFocusGuard!=="true"&&(dF(x,j)||(v.current?d0(n.current,Os(h.current,{[mv.Forwards]:()=>Rf.Next,[mv.Backwards]:()=>Rf.Previous})|Rf.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Yf(y.target)))}};return Ne.createElement(Ne.Fragment,null,!!(o&4)&&Ne.createElement(H5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:C0.Focusable}),_o({ourProps:g,theirProps:l,defaultTag:gW,name:"FocusTrap"}),!!(o&4)&&Ne.createElement(H5,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:C0.Focusable}))}let bW=Qi(yW),Xp=Object.assign(bW,{features:uF});function jW(e=!0){let t=S.useRef(yd.slice());return bA(([n],[a])=>{a===!0&&n===!1&&Gy(()=>{t.current.splice(0)}),a===!1&&n===!0&&(t.current=yd.slice())},[e,yd,t]),Vn(()=>{var n;return(n=t.current.find(a=>a!=null&&a.isConnected))!=null?n:null})}function wW({ownerDocument:e},t){let n=jW(t);bA(()=>{t||e?.activeElement===e?.body&&Yf(n())},[t]),lF(()=>{t&&Yf(n())})}function NW({ownerDocument:e,container:t,initialFocus:n},a){let s=S.useRef(null),i=Ix();return bA(()=>{if(!a)return;let o=t.current;o&&Gy(()=>{if(!i.current)return;let l=e?.activeElement;if(n!=null&&n.current){if(n?.current===l){s.current=l;return}}else if(o.contains(l)){s.current=l;return}n!=null&&n.current?Yf(n.current):d0(o,Rf.First)===eF.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e?.activeElement})},[a]),s}function SW({ownerDocument:e,container:t,containers:n,previousActiveElement:a},s){let i=Ix();oF(e?.defaultView,"focus",o=>{if(!s||!i.current)return;let l=cF(n);t.current instanceof HTMLElement&&l.add(t.current);let c=a.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?dF(l,u)?(a.current=u,Yf(u)):(o.preventDefault(),o.stopPropagation(),Yf(c)):Yf(a.current)},!0)}function dF(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let fF=S.createContext(!1);function CW(){return S.useContext(fF)}function G5(e){return Ne.createElement(fF.Provider,{value:e.force},e.children)}function AW(e){let t=CW(),n=S.useContext(hF),a=Tx(e),[s,i]=S.useState(()=>{if(!t&&n!==null||ru.isServer)return null;let o=a?.getElementById("headlessui-portal-root");if(o)return o;if(a===null)return null;let l=a.createElement("div");return l.setAttribute("id","headlessui-portal-root"),a.body.appendChild(l)});return S.useEffect(()=>{s!==null&&(a!=null&&a.body.contains(s)||a==null||a.body.appendChild(s))},[s,a]),S.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),s}let EW=S.Fragment;function PW(e,t){let n=e,a=S.useRef(null),s=gl(cW(h=>{a.current=h}),t),i=Tx(a),o=AW(a),[l]=S.useState(()=>{var h;return ru.isServer?null:(h=i?.createElement("div"))!=null?h:null}),c=S.useContext(K5),u=cp();return Io(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),Io(()=>{if(l&&c)return c.register(l)},[c,l]),lF(()=>{var h;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((h=o.parentElement)==null||h.removeChild(o)))}),u?!o||!l?null:pu.createPortal(_o({ourProps:{ref:s},theirProps:n,defaultTag:EW,name:"Portal"}),l):null}let TW=S.Fragment,hF=S.createContext(null);function IW(e,t){let{target:n,...a}=e,s={ref:gl(t)};return Ne.createElement(hF.Provider,{value:n},_o({ourProps:s,theirProps:a,defaultTag:TW,name:"Popover.Group"}))}let K5=S.createContext(null);function DW(){let e=S.useContext(K5),t=S.useRef([]),n=Vn(i=>(t.current.push(i),e&&e.register(i),()=>a(i))),a=Vn(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=S.useMemo(()=>({register:n,unregister:a,portals:t}),[n,a,t]);return[t,S.useMemo(()=>function({children:i}){return Ne.createElement(K5.Provider,{value:s},i)},[s])]}let _W=Qi(PW),kW=Qi(IW),Y5=Object.assign(_W,{Group:kW});function OW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const RW=typeof Object.is=="function"?Object.is:OW,{useState:LW,useEffect:FW,useLayoutEffect:MW,useDebugValue:$W}=uc;function BW(e,t,n){const a=t(),[{inst:s},i]=LW({inst:{value:a,getSnapshot:t}});return MW(()=>{s.value=a,s.getSnapshot=t,H1(s)&&i({inst:s})},[e,a,t]),FW(()=>(H1(s)&&i({inst:s}),e(()=>{H1(s)&&i({inst:s})})),[e]),$W(a),a}function H1(e){const t=e.getSnapshot,n=e.value;try{const a=t();return!RW(n,a)}catch{return!0}}function qW(e,t,n){return t()}const zW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UW=!zW,VW=UW?qW:BW,WW="useSyncExternalStore"in uc?(e=>e.useSyncExternalStore)(uc):VW;function HW(e){return WW(e.subscribe,e.getSnapshot,e.getSnapshot)}function GW(e,t){let n=e(),a=new Set;return{getSnapshot(){return n},subscribe(s){return a.add(s),()=>a.delete(s)},dispatch(s,...i){let o=t[s].call(n,...i);o&&(n=o,a.forEach(l=>l()))}}}function KW(){let e;return{before({doc:t}){var n;let a=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-a.clientWidth},after({doc:t,d:n}){let a=t.documentElement,s=a.clientWidth-a.offsetWidth,i=e-s;n.style(a,"paddingRight",`${i}px`)}}}function YW(){return rF()?{before({doc:e,d:t,meta:n}){function a(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=vh();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),h=e.querySelector(u);h&&!a(h)&&(o=h)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(a(l.target)){let c=l.target;for(;c.parentElement&&a(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(a(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function XW(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function QW(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let qf=GW(()=>new Map,{PUSH(e,t){var n;let a=(n=this.get(e))!=null?n:{doc:e,count:0,d:vh(),meta:new Set};return a.count++,a.meta.add(t),this.set(e,a),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let a={doc:e,d:t,meta:QW(n)},s=[YW(),KW(),XW()];s.forEach(({before:i})=>i?.(a)),s.forEach(({after:i})=>i?.(a))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});qf.subscribe(()=>{let e=qf.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let a=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!a||!s&&a)&&qf.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&qf.dispatch("TEARDOWN",n)}});function JW(e,t,n){let a=HW(qf),s=e?a.get(e):void 0,i=s?s.count>0:!1;return Io(()=>{if(!(!e||!t))return qf.dispatch("PUSH",e,n),()=>qf.dispatch("POP",e,n)},[t,e]),i}let G1=new Map,Qp=new Map;function V3(e,t=!0){Io(()=>{var n;if(!t)return;let a=typeof e=="function"?e():e.current;if(!a)return;function s(){var o;if(!a)return;let l=(o=Qp.get(a))!=null?o:1;if(l===1?Qp.delete(a):Qp.set(a,l-1),l!==1)return;let c=G1.get(a);c&&(c["aria-hidden"]===null?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",c["aria-hidden"]),a.inert=c.inert,G1.delete(a))}let i=(n=Qp.get(a))!=null?n:0;return Qp.set(a,i+1),i!==0||(G1.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0),s},[e,t])}function ZW({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var a;let s=S.useRef((a=n?.current)!=null?a:null),i=Tx(s),o=Vn(()=>{var l,c,u;let h=[];for(let f of e)f!==null&&(f instanceof HTMLElement?h.push(f):"current"in f&&f.current instanceof HTMLElement&&h.push(f.current));if(t!=null&&t.current)for(let f of t.current)h.push(f);for(let f of(l=i?.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(s.current)||f.contains((u=(c=s.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||h.some(p=>f.contains(p))||h.push(f));return h});return{resolveContainers:o,contains:Vn(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:s,MainTreeNode:S.useMemo(()=>function(){return n!=null?null:Ne.createElement(H5,{features:C0.Hidden,ref:s})},[s,n])}}let NA=S.createContext(()=>{});NA.displayName="StackContext";var X5=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(X5||{});function eH(){return S.useContext(NA)}function tH({children:e,onUpdate:t,type:n,element:a,enabled:s}){let i=eH(),o=Vn((...l)=>{t?.(...l),i(...l)});return Io(()=>{let l=s===void 0||s===!0;return l&&o(0,n,a),()=>{l&&o(1,n,a)}},[o,n,a,s]),Ne.createElement(NA.Provider,{value:o},e)}let mF=S.createContext(null);function pF(){let e=S.useContext(mF);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,pF),t}return e}function rH(){let[e,t]=S.useState([]);return[e.length>0?e.join(" "):void 0,S.useMemo(()=>function(n){let a=Vn(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=S.useMemo(()=>({register:a,slot:n.slot,name:n.name,props:n.props}),[a,n.slot,n.name,n.props]);return Ne.createElement(mF.Provider,{value:s},n.children)},[t])]}let nH="p";function aH(e,t){let n=up(),{id:a=`headlessui-description-${n}`,...s}=e,i=pF(),o=gl(t);Io(()=>i.register(a),[a,i.register]);let l={ref:o,...i.props,id:a};return _o({ourProps:l,theirProps:s,slot:i.slot||{},defaultTag:nH,name:i.name||"Description"})}let sH=Qi(aH),iH=Object.assign(sH,{});var oH=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oH||{}),lH=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(lH||{});let cH={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},A0=S.createContext(null);A0.displayName="DialogContext";function Dx(e){let t=S.useContext(A0);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dx),n}return t}function uH(e,t,n=()=>[document.body]){JW(e,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],n]}})}function dH(e,t){return Os(t.type,cH,e,t)}let fH="div",hH=S0.RenderStrategy|S0.Static;function mH(e,t){let n=up(),{id:a=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=e,[h,f]=S.useState(0),p=S.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(p.current||(p.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=wA();s===void 0&&v!==null&&(s=(v&qi.Open)===qi.Open);let g=S.useRef(null),y=gl(g,t),x=Tx(g),j=e.hasOwnProperty("open")||v!==null,b=e.hasOwnProperty("onClose");if(!j&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!j)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let N=s?0:1,[P,I]=S.useReducer(dH,{titleId:null,descriptionId:null,panelRef:S.createRef()}),w=Vn(()=>i(!1)),E=Vn(Se=>I({type:0,id:Se})),C=cp()?c?!1:N===0:!1,_=h>1,M=S.useContext(A0)!==null,[k,D]=DW(),R={get current(){var Se;return(Se=P.panelRef.current)!=null?Se:g.current}},{resolveContainers:F,mainTreeNodeRef:z,MainTreeNode:V}=ZW({portals:k,defaultContainers:[R]}),B=_?"parent":"leaf",H=v!==null?(v&qi.Closing)===qi.Closing:!1,G=M||H?!1:C,Z=S.useCallback(()=>{var Se,Ce;return(Ce=Array.from((Se=x?.querySelectorAll("body > *"))!=null?Se:[]).find(ze=>ze.id==="headlessui-portal-root"?!1:ze.contains(z.current)&&ze instanceof HTMLElement))!=null?Ce:null},[z]);V3(Z,G);let Q=_?!0:C,$=S.useCallback(()=>{var Se,Ce;return(Ce=Array.from((Se=x?.querySelectorAll("[data-headlessui-portal]"))!=null?Se:[]).find(ze=>ze.contains(z.current)&&ze instanceof HTMLElement))!=null?Ce:null},[z]);V3($,Q),lW(F,Se=>{Se.preventDefault(),w()},!(!C||_));let te=!(_||N!==0);oF(x?.defaultView,"keydown",Se=>{te&&(Se.defaultPrevented||Se.key===iF.Escape&&(Se.preventDefault(),Se.stopPropagation(),w()))}),uH(x,!(H||N!==0||M),F),S.useEffect(()=>{if(N!==0||!g.current)return;let Se=new ResizeObserver(Ce=>{for(let ze of Ce){let He=ze.target.getBoundingClientRect();He.x===0&&He.y===0&&He.width===0&&He.height===0&&w()}});return Se.observe(g.current),()=>Se.disconnect()},[N,g,w]);let[oe,me]=rH(),ve=S.useMemo(()=>[{dialogState:N,close:w,setTitleId:E},P],[N,P,w,E]),pe=S.useMemo(()=>({open:N===0}),[N]),we={ref:y,id:a,role:l,"aria-modal":N===0?!0:void 0,"aria-labelledby":P.titleId,"aria-describedby":oe};return Ne.createElement(tH,{type:"Dialog",enabled:N===0,element:g,onUpdate:Vn((Se,Ce)=>{Ce==="Dialog"&&Os(Se,{[X5.Add]:()=>f(ze=>ze+1),[X5.Remove]:()=>f(ze=>ze-1)})})},Ne.createElement(G5,{force:!0},Ne.createElement(Y5,null,Ne.createElement(A0.Provider,{value:ve},Ne.createElement(Y5.Group,{target:g},Ne.createElement(G5,{force:!1},Ne.createElement(me,{slot:pe,name:"Dialog.Description"},Ne.createElement(Xp,{initialFocus:o,containers:F,features:C?Os(B,{parent:Xp.features.RestoreFocus,leaf:Xp.features.All&~Xp.features.FocusLock}):Xp.features.None},Ne.createElement(D,null,_o({ourProps:we,theirProps:u,slot:pe,defaultTag:fH,features:hH,visible:N===0,name:"Dialog"}))))))))),Ne.createElement(V,null))}let pH="div";function vH(e,t){let n=up(),{id:a=`headlessui-dialog-overlay-${n}`,...s}=e,[{dialogState:i,close:o}]=Dx("Dialog.Overlay"),l=gl(t),c=Vn(h=>{if(h.target===h.currentTarget){if(pW(h.currentTarget))return h.preventDefault();h.preventDefault(),h.stopPropagation(),o()}}),u=S.useMemo(()=>({open:i===0}),[i]);return _o({ourProps:{ref:l,id:a,"aria-hidden":!0,onClick:c},theirProps:s,slot:u,defaultTag:pH,name:"Dialog.Overlay"})}let xH="div";function gH(e,t){let n=up(),{id:a=`headlessui-dialog-backdrop-${n}`,...s}=e,[{dialogState:i},o]=Dx("Dialog.Backdrop"),l=gl(t);S.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=S.useMemo(()=>({open:i===0}),[i]);return Ne.createElement(G5,{force:!0},Ne.createElement(Y5,null,_o({ourProps:{ref:l,id:a,"aria-hidden":!0},theirProps:s,slot:c,defaultTag:xH,name:"Dialog.Backdrop"})))}let yH="div";function bH(e,t){let n=up(),{id:a=`headlessui-dialog-panel-${n}`,...s}=e,[{dialogState:i},o]=Dx("Dialog.Panel"),l=gl(t,o.panelRef),c=S.useMemo(()=>({open:i===0}),[i]),u=Vn(h=>{h.stopPropagation()});return _o({ourProps:{ref:l,id:a,onClick:u},theirProps:s,slot:c,defaultTag:yH,name:"Dialog.Panel"})}let jH="h2";function wH(e,t){let n=up(),{id:a=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:o}]=Dx("Dialog.Title"),l=gl(t);S.useEffect(()=>(o(a),()=>o(null)),[a,o]);let c=S.useMemo(()=>({open:i===0}),[i]);return _o({ourProps:{ref:l,id:a},theirProps:s,slot:c,defaultTag:jH,name:"Dialog.Title"})}let NH=Qi(mH),SH=Qi(gH),CH=Qi(bH),AH=Qi(vH),EH=Qi(wH),W3=Object.assign(NH,{Backdrop:SH,Panel:CH,Overlay:AH,Title:EH,Description:iH});function PH(e=0){let[t,n]=S.useState(e),a=Ix(),s=S.useCallback(c=>{a.current&&n(u=>u|c)},[t,a]),i=S.useCallback(c=>!!(t&c),[t]),o=S.useCallback(c=>{a.current&&n(u=>u&~c)},[n,a]),l=S.useCallback(c=>{a.current&&n(u=>u^c)},[n]);return{flags:t,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}function TH(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function K1(e,...t){e&&t.length>0&&e.classList.add(...t)}function Y1(e,...t){e&&t.length>0&&e.classList.remove(...t)}function IH(e,t){let n=vh();if(!e)return n.dispose;let{transitionDuration:a,transitionDelay:s}=getComputedStyle(e),[i,o]=[a,s].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(h=>h.includes("ms")?parseFloat(h):parseFloat(h)*1e3).sort((h,f)=>f-h);return u}),l=i+o;if(l!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",h=>{h.target===h.currentTarget&&u.dispose()})});let c=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function DH(e,t,n,a){let s=n?"enter":"leave",i=vh(),o=a!==void 0?TH(a):()=>{};s==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Os(s,{enter:()=>t.enter,leave:()=>t.leave}),c=Os(s,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Os(s,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Y1(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),K1(e,...t.base,...l,...u),i.nextFrame(()=>{Y1(e,...t.base,...l,...u),K1(e,...t.base,...l,...c),IH(e,()=>(Y1(e,...t.base,...l),K1(e,...t.base,...t.entered),o()))}),i.dispose}function _H({immediate:e,container:t,direction:n,classes:a,onStart:s,onStop:i}){let o=Ix(),l=yA(),c=nu(n);Io(()=>{e&&(c.current="enter")},[e]),Io(()=>{let u=vh();l.add(u.dispose);let h=t.current;if(h&&c.current!=="idle"&&o.current)return u.dispose(),s.current(c.current),u.add(DH(h,a.current,c.current==="enter",()=>{u.dispose(),i.current(c.current)})),u.dispose},[n])}function fd(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let Ky=S.createContext(null);Ky.displayName="TransitionContext";var kH=(e=>(e.Visible="visible",e.Hidden="hidden",e))(kH||{});function OH(){let e=S.useContext(Ky);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function RH(){let e=S.useContext(Yy);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Yy=S.createContext(null);Yy.displayName="NestingContext";function Xy(e){return"children"in e?Xy(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function vF(e,t){let n=nu(e),a=S.useRef([]),s=Ix(),i=yA(),o=Vn((v,g=wd.Hidden)=>{let y=a.current.findIndex(({el:x})=>x===v);y!==-1&&(Os(g,{[wd.Unmount](){a.current.splice(y,1)},[wd.Hidden](){a.current[y].state="hidden"}}),i.microTask(()=>{var x;!Xy(a)&&s.current&&((x=n.current)==null||x.call(n))}))}),l=Vn(v=>{let g=a.current.find(({el:y})=>y===v);return g?g.state!=="visible"&&(g.state="visible"):a.current.push({el:v,state:"visible"}),()=>o(v,wd.Unmount)}),c=S.useRef([]),u=S.useRef(Promise.resolve()),h=S.useRef({enter:[],leave:[],idle:[]}),f=Vn((v,g,y)=>{c.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([x])=>x!==v)),t?.chains.current[g].push([v,new Promise(x=>{c.current.push(x)})]),t?.chains.current[g].push([v,new Promise(x=>{Promise.all(h.current[g].map(([j,b])=>b)).then(()=>x())})]),g==="enter"?u.current=u.current.then(()=>t?.wait.current).then(()=>y(g)):y(g)}),p=Vn((v,g,y)=>{Promise.all(h.current[g].splice(0).map(([x,j])=>j)).then(()=>{var x;(x=c.current.shift())==null||x()}).then(()=>y(g))});return S.useMemo(()=>({children:a,register:l,unregister:o,onStart:f,onStop:p,wait:u,chains:h}),[l,o,a,f,p,h,u])}function LH(){}let FH=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function H3(e){var t;let n={};for(let a of FH)n[a]=(t=e[a])!=null?t:LH;return n}function MH(e){let t=S.useRef(H3(e));return S.useEffect(()=>{t.current=H3(e)},[e]),t}let $H="div",xF=S0.RenderStrategy;function BH(e,t){var n,a;let{beforeEnter:s,afterEnter:i,beforeLeave:o,afterLeave:l,enter:c,enterFrom:u,enterTo:h,entered:f,leave:p,leaveFrom:v,leaveTo:g,...y}=e,x=S.useRef(null),j=gl(x,t),b=(n=y.unmount)==null||n?wd.Unmount:wd.Hidden,{show:N,appear:P,initial:I}=OH(),[w,E]=S.useState(N?"visible":"hidden"),C=RH(),{register:_,unregister:M}=C;S.useEffect(()=>_(x),[_,x]),S.useEffect(()=>{if(b===wd.Hidden&&x.current){if(N&&w!=="visible"){E("visible");return}return Os(w,{hidden:()=>M(x),visible:()=>_(x)})}},[w,x,_,M,N,b]);let k=nu({base:fd(y.className),enter:fd(c),enterFrom:fd(u),enterTo:fd(h),entered:fd(f),leave:fd(p),leaveFrom:fd(v),leaveTo:fd(g)}),D=MH({beforeEnter:s,afterEnter:i,beforeLeave:o,afterLeave:l}),R=cp();S.useEffect(()=>{if(R&&w==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,w,R]);let F=I&&!P,z=P&&N&&I,V=!R||F?"idle":N?"enter":"leave",B=PH(0),H=Vn(te=>Os(te,{enter:()=>{B.addFlag(qi.Opening),D.current.beforeEnter()},leave:()=>{B.addFlag(qi.Closing),D.current.beforeLeave()},idle:()=>{}})),G=Vn(te=>Os(te,{enter:()=>{B.removeFlag(qi.Opening),D.current.afterEnter()},leave:()=>{B.removeFlag(qi.Closing),D.current.afterLeave()},idle:()=>{}})),Z=vF(()=>{E("hidden"),M(x)},C),Q=S.useRef(!1);_H({immediate:z,container:x,classes:k,direction:V,onStart:nu(te=>{Q.current=!0,Z.onStart(x,te,H)}),onStop:nu(te=>{Q.current=!1,Z.onStop(x,te,G),te==="leave"&&!Xy(Z)&&(E("hidden"),M(x))})});let $=y,K={ref:j};return z?$={...$,className:N0(y.className,...k.current.enter,...k.current.enterFrom)}:Q.current&&($.className=N0(y.className,(a=x.current)==null?void 0:a.className),$.className===""&&delete $.className),Ne.createElement(Yy.Provider,{value:Z},Ne.createElement(hW,{value:Os(w,{visible:qi.Open,hidden:qi.Closed})|B.flags},_o({ourProps:K,theirProps:$,defaultTag:$H,features:xF,visible:w==="visible",name:"Transition.Child"})))}function qH(e,t){let{show:n,appear:a=!1,unmount:s=!0,...i}=e,o=S.useRef(null),l=gl(o,t);cp();let c=wA();if(n===void 0&&c!==null&&(n=(c&qi.Open)===qi.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=S.useState(n?"visible":"hidden"),f=vF(()=>{h("hidden")}),[p,v]=S.useState(!0),g=S.useRef([n]);Io(()=>{p!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),v(!1))},[g,n]);let y=S.useMemo(()=>({show:n,appear:a,initial:p}),[n,a,p]);S.useEffect(()=>{if(n)h("visible");else if(!Xy(f))h("hidden");else{let N=o.current;if(!N)return;let P=N.getBoundingClientRect();P.x===0&&P.y===0&&P.width===0&&P.height===0&&h("hidden")}},[n,f]);let x={unmount:s},j=Vn(()=>{var N;p&&v(!1),(N=e.beforeEnter)==null||N.call(e)}),b=Vn(()=>{var N;p&&v(!1),(N=e.beforeLeave)==null||N.call(e)});return Ne.createElement(Yy.Provider,{value:f},Ne.createElement(Ky.Provider,{value:y},_o({ourProps:{...x,as:S.Fragment,children:Ne.createElement(gF,{ref:l,...x,...i,beforeEnter:j,beforeLeave:b})},theirProps:{},defaultTag:S.Fragment,features:xF,visible:u==="visible",name:"Transition"})))}function zH(e,t){let n=S.useContext(Ky)!==null,a=wA()!==null;return Ne.createElement(Ne.Fragment,null,!n&&a?Ne.createElement(Q5,{ref:t,...e}):Ne.createElement(gF,{ref:t,...e}))}let Q5=Qi(qH),gF=Qi(BH),UH=Qi(zH),Dg=Object.assign(Q5,{Child:UH,Root:Q5});const G3=[{name:"Dashboard",href:"/",icon:QU},{name:"CRM & Prospecting",href:"/crm",icon:Na},{name:"Inventory Management",href:"/inventory",icon:Rs},{name:"Sales Deals",href:"/deals",icon:yi},{name:"Finance",href:"/finance",icon:lr},{name:"Quote Builder",href:"/quotes",icon:Qs},{name:"Agreement Vault",href:"/agreements",icon:l0},{name:"PDI Checklist",href:"/pdi",icon:ih},{name:"Service Operations",href:"/service",icon:Mf},{name:"Delivery Tracker",href:"/delivery",icon:xi},{name:"Commission Engine",href:"/commissions",icon:lr},{name:"Client Portal",href:"/portal",icon:Ex},{name:"Invoice & Payments",href:"/invoices",icon:ma},{name:"Company Settings",href:"/settings",icon:Px},{name:"Platform Admin",href:"/admin",icon:pA},{name:"Platform Settings",href:"/admin/settings",icon:KU},{name:"Reporting Suite",href:"/reports",icon:Oa}];function VH({sidebarOpen:e,setSidebarOpen:t}){const n=ip();return r.jsxs(r.Fragment,{children:[r.jsx(Dg.Root,{show:e,as:S.Fragment,children:r.jsxs(W3,{as:"div",className:"relative z-50 lg:hidden",onClose:t,children:[r.jsx(Dg.Child,{as:S.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"fixed inset-0 bg-black/80"})}),r.jsx("div",{className:"fixed inset-0 flex",children:r.jsx(Dg.Child,{as:S.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:r.jsxs(W3.Panel,{className:"relative mr-16 flex w-full max-w-xs flex-1",children:[r.jsx(Dg.Child,{as:S.Fragment,enter:"ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"absolute left-full top-0 flex w-16 justify-center pt-5",children:r.jsxs("button",{type:"button",className:"-m-2.5 p-2.5",onClick:()=>t(!1),children:[r.jsx("span",{className:"sr-only",children:"Close sidebar"}),r.jsx(cr,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})})}),r.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-border bg-card px-6 pb-4",children:[r.jsx("div",{className:"flex h-16 shrink-0 items-center",children:r.jsx("h1",{className:"text-xl font-bold text-primary",children:"Renter Insight"})}),r.jsx("nav",{className:"flex flex-1 flex-col",children:r.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:r.jsx("li",{children:r.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:G3.map(a=>{const s=n.pathname===a.href||a.href!=="/"&&n.pathname.startsWith(a.href);return r.jsx("li",{children:r.jsxs(P3,{to:a.href,className:ot("group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors",s?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),onClick:()=>t(!1),children:[r.jsx(a.icon,{className:ot("h-6 w-6 shrink-0",s?"text-primary-foreground":"text-muted-foreground group-hover:text-foreground"),"aria-hidden":"true"}),a.name]})},a.name)})})})})})]})]})})})]})}),r.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-64 lg:flex-col",children:r.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-border bg-card px-6 pb-4",children:[r.jsx("div",{className:"flex h-16 shrink-0 items-center",children:r.jsx("h1",{className:"text-xl font-bold text-primary",children:"Renter Insight"})}),r.jsx("nav",{className:"flex flex-1 flex-col",children:r.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:r.jsx("li",{children:r.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:G3.map(a=>{const s=n.pathname===a.href||a.href!=="/"&&n.pathname.startsWith(a.href);return r.jsx("li",{children:r.jsxs(P3,{to:a.href,className:ot("group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold transition-colors",s?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[r.jsx(a.icon,{className:ot("h-6 w-6 shrink-0",s?"text-primary-foreground":"text-muted-foreground group-hover:text-foreground"),"aria-hidden":"true"}),a.name]})},a.name)})})})})})]})})]})}const WH=Wy("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=S.forwardRef(({className:e,variant:t,size:n,asChild:a=!1,...s},i)=>{const o=a?Zz:"button";return r.jsx(o,{className:ot(WH({variant:t,size:n,className:e})),ref:i,...s})});ae.displayName="Button";function HH({onMenuButtonClick:e}){const{user:t,logout:n}=lp(),{tenant:a}=ph();return r.jsxs("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-border bg-background px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[r.jsxs("button",{type:"button",className:"-m-2.5 p-2.5 text-muted-foreground lg:hidden",onClick:e,children:[r.jsx("span",{className:"sr-only",children:"Open sidebar"}),r.jsx(tV,{className:"h-6 w-6","aria-hidden":"true"})]}),r.jsxs("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[r.jsx("div",{className:"flex flex-1 items-center",children:r.jsx("h2",{className:"text-lg font-semibold text-foreground",children:a?.name||"Renter Insight CRM/DMS"})}),r.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[r.jsxs("div",{className:"flex items-center gap-x-2",children:[r.jsx(fs,{className:"h-5 w-5 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium text-foreground",children:t?.name})]}),r.jsxs(ae,{variant:"ghost",size:"sm",onClick:n,className:"flex items-center gap-x-2",children:[r.jsx(eV,{className:"h-4 w-4"}),"Logout"]})]})]})]})}function GH({children:e}){const[t,n]=S.useState(!1);return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(VH,{sidebarOpen:t,setSidebarOpen:n}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsx(HH,{onMenuButtonClick:()=>n(!0)}),r.jsx("main",{className:"py-6",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})]})]})}const ye=S.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ot("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ye.displayName="Card";const Pe=S.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ot("flex flex-col space-y-1.5 p-6",e),...t}));Pe.displayName="CardHeader";const Te=S.forwardRef(({className:e,...t},n)=>r.jsx("h3",{ref:n,className:ot("text-2xl font-semibold leading-none tracking-tight",e),...t}));Te.displayName="CardTitle";const tt=S.forwardRef(({className:e,...t},n)=>r.jsx("p",{ref:n,className:ot("text-sm text-muted-foreground",e),...t}));tt.displayName="CardDescription";const be=S.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ot("p-6 pt-0",e),...t}));be.displayName="CardContent";const KH=S.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:ot("flex items-center p-6 pt-0",e),...t}));KH.displayName="CardFooter";const Ee=S.forwardRef(({className:e,type:t,...n},a)=>r.jsx("input",{type:t,className:ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...n}));Ee.displayName="Input";const wr=S.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:ot("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));wr.displayName="Textarea";function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},yt.apply(null,arguments)}function K3(e,[t,n]){return Math.min(n,Math.max(t,e))}function Xs(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function YH(e,t=[]){let n=[];function a(i,o){const l=S.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:p,children:v,...g}=f,y=p?.[e][c]||l,x=S.useMemo(()=>g,Object.values(g));return S.createElement(y.Provider,{value:x},v)}function h(f,p){const v=p?.[e][c]||l,g=S.useContext(v);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(l){const c=l?.[e]||i;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,XH(s,...t)]}function XH(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function QH(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function yF(...e){return t=>e.forEach(n=>QH(n,t))}function Y3(...e){return S.useCallback(yF(...e),e)}const J5=S.forwardRef((e,t)=>{const{children:n,...a}=e,s=S.Children.toArray(n),i=s.find(ZH);if(i){const o=i.props.children,l=s.map(c=>c===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:c);return S.createElement(Z5,yt({},a,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,l):null)}return S.createElement(Z5,yt({},a,{ref:t}),n)});J5.displayName="Slot";const Z5=S.forwardRef((e,t)=>{const{children:n,...a}=e;return S.isValidElement(n)?S.cloneElement(n,{...eG(a,n.props),ref:t?yF(t,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});Z5.displayName="SlotClone";const JH=({children:e})=>S.createElement(S.Fragment,null,e);function ZH(e){return S.isValidElement(e)&&e.type===JH}function eG(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function tG(e){const t=e+"CollectionProvider",[n,a]=YH(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:g,children:y}=v,x=Ne.useRef(null),j=Ne.useRef(new Map).current;return Ne.createElement(s,{scope:g,itemMap:j,collectionRef:x},y)},l=e+"CollectionSlot",c=Ne.forwardRef((v,g)=>{const{scope:y,children:x}=v,j=i(l,y),b=Y3(g,j.collectionRef);return Ne.createElement(J5,{ref:b},x)}),u=e+"CollectionItemSlot",h="data-radix-collection-item",f=Ne.forwardRef((v,g)=>{const{scope:y,children:x,...j}=v,b=Ne.useRef(null),N=Y3(g,b),P=i(u,y);return Ne.useEffect(()=>(P.itemMap.set(b,{ref:b,...j}),()=>void P.itemMap.delete(b))),Ne.createElement(J5,{[h]:"",ref:N},x)});function p(v){const g=i(e+"CollectionConsumer",v);return Ne.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const j=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(g.itemMap.values()).sort((P,I)=>j.indexOf(P.ref.current)-j.indexOf(I.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},p,a]}function rG(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bF(...e){return t=>e.forEach(n=>rG(n,t))}function hc(...e){return S.useCallback(bF(...e),e)}function nG(e,t=[]){let n=[];function a(i,o){const l=S.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:p,children:v,...g}=f,y=p?.[e][c]||l,x=S.useMemo(()=>g,Object.values(g));return S.createElement(y.Provider,{value:x},v)}function h(f,p){const v=p?.[e][c]||l,g=S.useContext(v);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(l){const c=l?.[e]||i;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,aG(s,...t)]}function aG(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}const sG=S.createContext(void 0);function iG(e){const t=S.useContext(sG);return e||t||"ltr"}function X1(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function oG(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function jF(...e){return t=>e.forEach(n=>oG(n,t))}function lG(...e){return S.useCallback(jF(...e),e)}const wF=S.forwardRef((e,t)=>{const{children:n,...a}=e,s=S.Children.toArray(n),i=s.find(uG);if(i){const o=i.props.children,l=s.map(c=>c===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:c);return S.createElement(eS,yt({},a,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,l):null)}return S.createElement(eS,yt({},a,{ref:t}),n)});wF.displayName="Slot";const eS=S.forwardRef((e,t)=>{const{children:n,...a}=e;return S.isValidElement(n)?S.cloneElement(n,{...dG(a,n.props),ref:t?jF(t,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});eS.displayName="SlotClone";const cG=({children:e})=>S.createElement(S.Fragment,null,e);function uG(e){return S.isValidElement(e)&&e.type===cG}function dG(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}const fG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],hG=fG.reduce((e,t)=>{const n=S.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?wF:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(l,yt({},o,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function mG(e,t){e&&pu.flushSync(()=>e.dispatchEvent(t))}function lu(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var a;return(a=t.current)===null||a===void 0?void 0:a.call(t,...n)},[])}function pG(e,t=globalThis?.document){const n=lu(e);S.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",a),()=>t.removeEventListener("keydown",a)},[n,t])}const tS="dismissableLayer.update",vG="dismissableLayer.pointerDownOutside",xG="dismissableLayer.focusOutside";let X3;const gG=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yG=S.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=e,h=S.useContext(gG),[f,p]=S.useState(null),v=(n=f?.ownerDocument)!==null&&n!==void 0?n:globalThis?.document,[,g]=S.useState({}),y=lG(t,C=>p(C)),x=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(j),N=f?x.indexOf(f):-1,P=h.layersWithOutsidePointerEventsDisabled.size>0,I=N>=b,w=bG(C=>{const _=C.target,M=[...h.branches].some(k=>k.contains(_));!I||M||(i?.(C),l?.(C),C.defaultPrevented||c?.())},v),E=jG(C=>{const _=C.target;[...h.branches].some(k=>k.contains(_))||(o?.(C),l?.(C),C.defaultPrevented||c?.())},v);return pG(C=>{N===h.layers.size-1&&(s?.(C),!C.defaultPrevented&&c&&(C.preventDefault(),c()))},v),S.useEffect(()=>{if(f)return a&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(X3=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Q3(),()=>{a&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=X3)}},[f,v,a,h]),S.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Q3())},[f,h]),S.useEffect(()=>{const C=()=>g({});return document.addEventListener(tS,C),()=>document.removeEventListener(tS,C)},[]),S.createElement(hG.div,yt({},u,{ref:y,style:{pointerEvents:P?I?"auto":"none":void 0,...e.style},onFocusCapture:X1(e.onFocusCapture,E.onFocusCapture),onBlurCapture:X1(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:X1(e.onPointerDownCapture,w.onPointerDownCapture)}))});function bG(e,t=globalThis?.document){const n=lu(e),a=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let u=function(){NF(vG,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=u,t.addEventListener("click",s.current,{once:!0})):u()}a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}function jG(e,t=globalThis?.document){const n=lu(e),a=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!a.current&&NF(xG,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Q3(){const e=new CustomEvent(tS);document.dispatchEvent(e)}function NF(e,t,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),a?mG(s,i):s.dispatchEvent(i)}let Q1=0;function wG(){S.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:J3()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:J3()),Q1++,()=>{Q1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Q1--}},[])}function J3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}function NG(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function SF(...e){return t=>e.forEach(n=>NG(n,t))}function SG(...e){return S.useCallback(SF(...e),e)}const CF=S.forwardRef((e,t)=>{const{children:n,...a}=e,s=S.Children.toArray(n),i=s.find(AG);if(i){const o=i.props.children,l=s.map(c=>c===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:c);return S.createElement(rS,yt({},a,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,l):null)}return S.createElement(rS,yt({},a,{ref:t}),n)});CF.displayName="Slot";const rS=S.forwardRef((e,t)=>{const{children:n,...a}=e;return S.isValidElement(n)?S.cloneElement(n,{...EG(a,n.props),ref:t?SF(t,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});rS.displayName="SlotClone";const CG=({children:e})=>S.createElement(S.Fragment,null,e);function AG(e){return S.isValidElement(e)&&e.type===CG}function EG(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}const PG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],TG=PG.reduce((e,t)=>{const n=S.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?CF:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(l,yt({},o,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),J1="focusScope.autoFocusOnMount",Z1="focusScope.autoFocusOnUnmount",Z3={bubbles:!1,cancelable:!0},IG=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=S.useState(null),u=lu(s),h=lu(i),f=S.useRef(null),p=SG(t,y=>c(y)),v=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(a){let y=function(N){if(v.paused||!l)return;const P=N.target;l.contains(P)?f.current=P:pd(f.current,{select:!0})},x=function(N){if(v.paused||!l)return;const P=N.relatedTarget;P!==null&&(l.contains(P)||pd(f.current,{select:!0}))},j=function(N){const P=document.activeElement;for(const I of N)I.removedNodes.length>0&&(l!=null&&l.contains(P)||pd(l))};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const b=new MutationObserver(j);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),b.disconnect()}}},[a,l,v.paused]),S.useEffect(()=>{if(l){tP.add(v);const y=document.activeElement;if(!l.contains(y)){const j=new CustomEvent(J1,Z3);l.addEventListener(J1,u),l.dispatchEvent(j),j.defaultPrevented||(DG(LG(AF(l)),{select:!0}),document.activeElement===y&&pd(l))}return()=>{l.removeEventListener(J1,u),setTimeout(()=>{const j=new CustomEvent(Z1,Z3);l.addEventListener(Z1,h),l.dispatchEvent(j),j.defaultPrevented||pd(y??document.body,{select:!0}),l.removeEventListener(Z1,h),tP.remove(v)},0)}}},[l,u,h,v]);const g=S.useCallback(y=>{if(!n&&!a||v.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,j=document.activeElement;if(x&&j){const b=y.currentTarget,[N,P]=_G(b);N&&P?!y.shiftKey&&j===P?(y.preventDefault(),n&&pd(N,{select:!0})):y.shiftKey&&j===N&&(y.preventDefault(),n&&pd(P,{select:!0})):j===b&&y.preventDefault()}},[n,a,v.paused]);return S.createElement(TG.div,yt({tabIndex:-1},o,{ref:p,onKeyDown:g}))});function DG(e,{select:t=!1}={}){const n=document.activeElement;for(const a of e)if(pd(a,{select:t}),document.activeElement!==n)return}function _G(e){const t=AF(e),n=eP(t,e),a=eP(t.reverse(),e);return[n,a]}function AF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eP(e,t){for(const n of e)if(!kG(n,{upTo:t}))return n}function kG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function OG(e){return e instanceof HTMLInputElement&&"select"in e}function pd(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&OG(e)&&t&&e.select()}}const tP=RG();function RG(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=rP(e,t),e.unshift(t)},remove(t){var n;e=rP(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function rP(e,t){const n=[...e],a=n.indexOf(t);return a!==-1&&n.splice(a,1),n}function LG(e){return e.filter(t=>t.tagName!=="A")}const FG=globalThis?.document?S.useLayoutEffect:()=>{},MG=uc.useId||(()=>{});let $G=0;function EF(e){const[t,n]=S.useState(MG());return FG(()=>{n(a=>a??String($G++))},[e]),t?`radix-${t}`:""}const BG=["top","right","bottom","left"],Rd=Math.min,zi=Math.max,E0=Math.round,_g=Math.floor,ic=e=>({x:e,y:e}),qG={left:"right",right:"left",bottom:"top",top:"bottom"},zG={start:"end",end:"start"};function nS(e,t,n){return zi(e,Rd(t,n))}function cu(e,t){return typeof e=="function"?e(t):e}function uu(e){return e.split("-")[0]}function dp(e){return e.split("-")[1]}function SA(e){return e==="x"?"y":"x"}function CA(e){return e==="y"?"height":"width"}const UG=new Set(["top","bottom"]);function tc(e){return UG.has(uu(e))?"y":"x"}function AA(e){return SA(tc(e))}function VG(e,t,n){n===void 0&&(n=!1);const a=dp(e),s=AA(e),i=CA(s);let o=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=P0(o)),[o,P0(o)]}function WG(e){const t=P0(e);return[aS(e),t,aS(t)]}function aS(e){return e.replace(/start|end/g,t=>zG[t])}const nP=["left","right"],aP=["right","left"],HG=["top","bottom"],GG=["bottom","top"];function KG(e,t,n){switch(e){case"top":case"bottom":return n?t?aP:nP:t?nP:aP;case"left":case"right":return t?HG:GG;default:return[]}}function YG(e,t,n,a){const s=dp(e);let i=KG(uu(e),n==="start",a);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(aS)))),i}function P0(e){return e.replace(/left|right|bottom|top/g,t=>qG[t])}function XG(e){return{top:0,right:0,bottom:0,left:0,...e}}function PF(e){return typeof e!="number"?XG(e):{top:e,right:e,bottom:e,left:e}}function T0(e){const{x:t,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:t,right:t+a,bottom:n+s,x:t,y:n}}function sP(e,t,n){let{reference:a,floating:s}=e;const i=tc(t),o=AA(t),l=CA(o),c=uu(t),u=i==="y",h=a.x+a.width/2-s.width/2,f=a.y+a.height/2-s.height/2,p=a[l]/2-s[l]/2;let v;switch(c){case"top":v={x:h,y:a.y-s.height};break;case"bottom":v={x:h,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:f};break;case"left":v={x:a.x-s.width,y:f};break;default:v={x:a.x,y:a.y}}switch(dp(t)){case"start":v[o]-=p*(n&&u?-1:1);break;case"end":v[o]+=p*(n&&u?-1:1);break}return v}const QG=async(e,t,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=sP(u,a,c),p=a,v={},g=0;for(let y=0;y<l.length;y++){const{name:x,fn:j}=l[y],{x:b,y:N,data:P,reset:I}=await j({x:h,y:f,initialPlacement:a,placement:p,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});h=b??h,f=N??f,v={...v,[x]:{...v[x],...P}},I&&g<=50&&(g++,typeof I=="object"&&(I.placement&&(p=I.placement),I.rects&&(u=I.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):I.rects),{x:h,y:f}=sP(u,p,c)),y=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:v}};async function Ov(e,t){var n;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=cu(t,e),g=PF(v),x=l[p?f==="floating"?"reference":"floating":f],j=T0(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),b=f==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),P=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},I=T0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:N,strategy:c}):b);return{top:(j.top-I.top+g.top)/P.y,bottom:(I.bottom-j.bottom+g.bottom)/P.y,left:(j.left-I.left+g.left)/P.x,right:(I.right-j.right+g.right)/P.x}}const JG=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=cu(e,t)||{};if(u==null)return{};const f=PF(h),p={x:n,y:a},v=AA(s),g=CA(v),y=await o.getDimensions(u),x=v==="y",j=x?"top":"left",b=x?"bottom":"right",N=x?"clientHeight":"clientWidth",P=i.reference[g]+i.reference[v]-p[v]-i.floating[g],I=p[v]-i.reference[v],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=w?w[N]:0;(!E||!await(o.isElement==null?void 0:o.isElement(w)))&&(E=l.floating[N]||i.floating[g]);const C=P/2-I/2,_=E/2-y[g]/2-1,M=Rd(f[j],_),k=Rd(f[b],_),D=M,R=E-y[g]-k,F=E/2-y[g]/2+C,z=nS(D,F,R),V=!c.arrow&&dp(s)!=null&&F!==z&&i.reference[g]/2-(F<D?M:k)-y[g]/2<0,B=V?F<D?F-D:F-R:0;return{[v]:p[v]+B,data:{[v]:z,centerOffset:F-z-B,...V&&{alignmentOffset:B}},reset:V}}}),ZG=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=cu(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const j=uu(s),b=tc(l),N=uu(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(u.floating)),I=p||(N||!y?[P0(l)]:WG(l)),w=g!=="none";!p&&w&&I.push(...YG(l,y,g,P));const E=[l,...I],C=await Ov(t,x),_=[];let M=((a=i.flip)==null?void 0:a.overflows)||[];if(h&&_.push(C[j]),f){const F=VG(s,o,P);_.push(C[F[0]],C[F[1]])}if(M=[...M,{placement:s,overflows:_}],!_.every(F=>F<=0)){var k,D;const F=(((k=i.flip)==null?void 0:k.index)||0)+1,z=E[F];if(z&&(!(f==="alignment"?b!==tc(z):!1)||M.every(H=>H.overflows[0]>0&&tc(H.placement)===b)))return{data:{index:F,overflows:M},reset:{placement:z}};let V=(D=M.filter(B=>B.overflows[0]<=0).sort((B,H)=>B.overflows[1]-H.overflows[1])[0])==null?void 0:D.placement;if(!V)switch(v){case"bestFit":{var R;const B=(R=M.filter(H=>{if(w){const G=tc(H.placement);return G===b||G==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(G=>G>0).reduce((G,Z)=>G+Z,0)]).sort((H,G)=>H[1]-G[1])[0])==null?void 0:R[0];B&&(V=B);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function iP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oP(e){return BG.some(t=>e[t]>=0)}const eK=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:a="referenceHidden",...s}=cu(e,t);switch(a){case"referenceHidden":{const i=await Ov(t,{...s,elementContext:"reference"}),o=iP(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:oP(o)}}}case"escaped":{const i=await Ov(t,{...s,altBoundary:!0}),o=iP(i,n.floating);return{data:{escapedOffsets:o,escaped:oP(o)}}}default:return{}}}}},TF=new Set(["left","top"]);async function tK(e,t){const{placement:n,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=uu(n),l=dp(n),c=tc(n)==="y",u=TF.has(o)?-1:1,h=i&&c?-1:1,f=cu(t,e);let{mainAxis:p,crossAxis:v,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(v=l==="end"?g*-1:g),c?{x:v*h,y:p*u}:{x:p*u,y:v*h}}const rK=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,a;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await tK(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},nK=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:j,y:b}=x;return{x:j,y:b}}},...c}=cu(e,t),u={x:n,y:a},h=await Ov(t,c),f=tc(uu(s)),p=SA(f);let v=u[p],g=u[f];if(i){const x=p==="y"?"top":"left",j=p==="y"?"bottom":"right",b=v+h[x],N=v-h[j];v=nS(b,v,N)}if(o){const x=f==="y"?"top":"left",j=f==="y"?"bottom":"right",b=g+h[x],N=g-h[j];g=nS(b,g,N)}const y=l.fn({...t,[p]:v,[f]:g});return{...y,data:{x:y.x-n,y:y.y-a,enabled:{[p]:i,[f]:o}}}}}},aK=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:a,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=cu(e,t),h={x:n,y:a},f=tc(s),p=SA(f);let v=h[p],g=h[f];const y=cu(l,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=p==="y"?"height":"width",P=i.reference[p]-i.floating[N]+x.mainAxis,I=i.reference[p]+i.reference[N]-x.mainAxis;v<P?v=P:v>I&&(v=I)}if(u){var j,b;const N=p==="y"?"width":"height",P=TF.has(uu(s)),I=i.reference[f]-i.floating[N]+(P&&((j=o.offset)==null?void 0:j[f])||0)+(P?0:x.crossAxis),w=i.reference[f]+i.reference[N]+(P?0:((b=o.offset)==null?void 0:b[f])||0)-(P?x.crossAxis:0);g<I?g=I:g>w&&(g=w)}return{[p]:v,[f]:g}}}},sK=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,a;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=cu(e,t),h=await Ov(t,u),f=uu(s),p=dp(s),v=tc(s)==="y",{width:g,height:y}=i.floating;let x,j;f==="top"||f==="bottom"?(x=f,j=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,x=p==="end"?"top":"bottom");const b=y-h.top-h.bottom,N=g-h.left-h.right,P=Rd(y-h[x],b),I=Rd(g-h[j],N),w=!t.middlewareData.shift;let E=P,C=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=N),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(E=b),w&&!p){const M=zi(h.left,0),k=zi(h.right,0),D=zi(h.top,0),R=zi(h.bottom,0);v?C=g-2*(M!==0||k!==0?M+k:zi(h.left,h.right)):E=y-2*(D!==0||R!==0?D+R:zi(h.top,h.bottom))}await c({...t,availableWidth:C,availableHeight:E});const _=await o.getDimensions(l.floating);return g!==_.width||y!==_.height?{reset:{rects:!0}}:{}}}};function Qy(){return typeof window<"u"}function fp(e){return IF(e)?(e.nodeName||"").toLowerCase():"#document"}function Gi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mc(e){var t;return(t=(IF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IF(e){return Qy()?e instanceof Node||e instanceof Gi(e).Node:!1}function vl(e){return Qy()?e instanceof Element||e instanceof Gi(e).Element:!1}function dc(e){return Qy()?e instanceof HTMLElement||e instanceof Gi(e).HTMLElement:!1}function lP(e){return!Qy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gi(e).ShadowRoot}const iK=new Set(["inline","contents"]);function _x(e){const{overflow:t,overflowX:n,overflowY:a,display:s}=xl(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+n)&&!iK.has(s)}const oK=new Set(["table","td","th"]);function lK(e){return oK.has(fp(e))}const cK=[":popover-open",":modal"];function Jy(e){return cK.some(t=>{try{return e.matches(t)}catch{return!1}})}const uK=["transform","translate","scale","rotate","perspective"],dK=["transform","translate","scale","rotate","perspective","filter"],fK=["paint","layout","strict","content"];function EA(e){const t=PA(),n=vl(e)?xl(e):e;return uK.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||dK.some(a=>(n.willChange||"").includes(a))||fK.some(a=>(n.contain||"").includes(a))}function hK(e){let t=Ld(e);for(;dc(t)&&!Em(t);){if(EA(t))return t;if(Jy(t))return null;t=Ld(t)}return null}function PA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mK=new Set(["html","body","#document"]);function Em(e){return mK.has(fp(e))}function xl(e){return Gi(e).getComputedStyle(e)}function Zy(e){return vl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ld(e){if(fp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lP(e)&&e.host||mc(e);return lP(t)?t.host:t}function DF(e){const t=Ld(e);return Em(t)?e.ownerDocument?e.ownerDocument.body:e.body:dc(t)&&_x(t)?t:DF(t)}function Rv(e,t,n){var a;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=DF(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=Gi(s);if(i){const l=sS(o);return t.concat(o,o.visualViewport||[],_x(s)?s:[],l&&n?Rv(l):[])}return t.concat(s,Rv(s,[],n))}function sS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _F(e){const t=xl(e);let n=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=dc(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:a,l=E0(n)!==i||E0(a)!==o;return l&&(n=i,a=o),{width:n,height:a,$:l}}function TA(e){return vl(e)?e:e.contextElement}function ym(e){const t=TA(e);if(!dc(t))return ic(1);const n=t.getBoundingClientRect(),{width:a,height:s,$:i}=_F(t);let o=(i?E0(n.width):n.width)/a,l=(i?E0(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const pK=ic(0);function kF(e){const t=Gi(e);return!PA()||!t.visualViewport?pK:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vK(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gi(e)?!1:t}function oh(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=TA(e);let o=ic(1);t&&(a?vl(a)&&(o=ym(a)):o=ym(e));const l=vK(i,n,a)?kF(i):ic(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=Gi(i),v=a&&vl(a)?Gi(a):a;let g=p,y=sS(g);for(;y&&a&&v!==g;){const x=ym(y),j=y.getBoundingClientRect(),b=xl(y),N=j.left+(y.clientLeft+parseFloat(b.paddingLeft))*x.x,P=j.top+(y.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,f*=x.y,c+=N,u+=P,g=Gi(y),y=sS(g)}}return T0({width:h,height:f,x:c,y:u})}function IA(e,t){const n=Zy(e).scrollLeft;return t?t.left+n:oh(mc(e)).left+n}function OF(e,t,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=a.left+t.scrollLeft-(n?0:IA(e,a)),i=a.top+t.scrollTop;return{x:s,y:i}}function xK(e){let{elements:t,rect:n,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=mc(a),l=t?Jy(t.floating):!1;if(a===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=ic(1);const h=ic(0),f=dc(a);if((f||!f&&!i)&&((fp(a)!=="body"||_x(o))&&(c=Zy(a)),dc(a))){const v=oh(a);u=ym(a),h.x=v.x+a.clientLeft,h.y=v.y+a.clientTop}const p=o&&!f&&!i?OF(o,c,!0):ic(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-c.scrollTop*u.y+h.y+p.y}}function gK(e){return Array.from(e.getClientRects())}function yK(e){const t=mc(e),n=Zy(e),a=e.ownerDocument.body,s=zi(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=zi(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+IA(e);const l=-n.scrollTop;return xl(a).direction==="rtl"&&(o+=zi(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}function bK(e,t){const n=Gi(e),a=mc(e),s=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=PA();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}const jK=new Set(["absolute","fixed"]);function wK(e,t){const n=oh(e,!0,t==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,i=dc(e)?ym(e):ic(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=a*i.y;return{width:o,height:l,x:c,y:u}}function cP(e,t,n){let a;if(t==="viewport")a=bK(e,n);else if(t==="document")a=yK(mc(e));else if(vl(t))a=wK(t,n);else{const s=kF(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return T0(a)}function RF(e,t){const n=Ld(e);return n===t||!vl(n)||Em(n)?!1:xl(n).position==="fixed"||RF(n,t)}function NK(e,t){const n=t.get(e);if(n)return n;let a=Rv(e,[],!1).filter(l=>vl(l)&&fp(l)!=="body"),s=null;const i=xl(e).position==="fixed";let o=i?Ld(e):e;for(;vl(o)&&!Em(o);){const l=xl(o),c=EA(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&jK.has(s.position)||_x(o)&&!c&&RF(e,o))?a=a.filter(h=>h!==o):s=l,o=Ld(o)}return t.set(e,a),a}function SK(e){let{element:t,boundary:n,rootBoundary:a,strategy:s}=e;const o=[...n==="clippingAncestors"?Jy(t)?[]:NK(t,this._c):[].concat(n),a],l=o[0],c=o.reduce((u,h)=>{const f=cP(t,h,s);return u.top=zi(f.top,u.top),u.right=Rd(f.right,u.right),u.bottom=Rd(f.bottom,u.bottom),u.left=zi(f.left,u.left),u},cP(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function CK(e){const{width:t,height:n}=_F(e);return{width:t,height:n}}function AK(e,t,n){const a=dc(t),s=mc(t),i=n==="fixed",o=oh(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ic(0);function u(){c.x=IA(s)}if(a||!a&&!i)if((fp(t)!=="body"||_x(s))&&(l=Zy(t)),a){const v=oh(t,!0,i,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&u();i&&!a&&s&&u();const h=s&&!a&&!i?OF(s,l):ic(0),f=o.left+l.scrollLeft-c.x-h.x,p=o.top+l.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function ej(e){return xl(e).position==="static"}function uP(e,t){if(!dc(e)||xl(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mc(e)===n&&(n=n.ownerDocument.body),n}function LF(e,t){const n=Gi(e);if(Jy(e))return n;if(!dc(e)){let s=Ld(e);for(;s&&!Em(s);){if(vl(s)&&!ej(s))return s;s=Ld(s)}return n}let a=uP(e,t);for(;a&&lK(a)&&ej(a);)a=uP(a,t);return a&&Em(a)&&ej(a)&&!EA(a)?n:a||hK(e)||n}const EK=async function(e){const t=this.getOffsetParent||LF,n=this.getDimensions,a=await n(e.floating);return{reference:AK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function PK(e){return xl(e).direction==="rtl"}const TK={convertOffsetParentRelativeRectToViewportRelativeRect:xK,getDocumentElement:mc,getClippingRect:SK,getOffsetParent:LF,getElementRects:EK,getClientRects:gK,getDimensions:CK,getScale:ym,isElement:vl,isRTL:PK};function FF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function IK(e,t){let n=null,a;const s=mc(e);function i(){var l;clearTimeout(a),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:h,top:f,width:p,height:v}=u;if(l||t(),!p||!v)return;const g=_g(f),y=_g(s.clientWidth-(h+p)),x=_g(s.clientHeight-(f+v)),j=_g(h),N={rootMargin:-g+"px "+-y+"px "+-x+"px "+-j+"px",threshold:zi(0,Rd(1,c))||1};let P=!0;function I(w){const E=w[0].intersectionRatio;if(E!==c){if(!P)return o();E?o(!1,E):a=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!FF(u,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(I,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(I,N)}n.observe(e)}return o(!0),i}function DK(e,t,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,u=TA(e),h=s||i?[...u?Rv(u):[],...Rv(t)]:[];h.forEach(j=>{s&&j.addEventListener("scroll",n,{passive:!0}),i&&j.addEventListener("resize",n)});const f=u&&l?IK(u,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(j=>{let[b]=j;b&&b.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=v)==null||N.observe(t)})),n()}),u&&!c&&v.observe(u),v.observe(t));let g,y=c?oh(e):null;c&&x();function x(){const j=oh(e);y&&!FF(y,j)&&n(),y=j,g=requestAnimationFrame(x)}return n(),()=>{var j;h.forEach(b=>{s&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f?.(),(j=v)==null||j.disconnect(),v=null,c&&cancelAnimationFrame(g)}}const _K=rK,kK=nK,OK=ZG,RK=sK,LK=eK,dP=JG,FK=aK,MK=(e,t,n)=>{const a=new Map,s={platform:TK,...n},i={...s.platform,_c:a};return QG(e,t,{...s,platform:i})};var $K=typeof document<"u",BK=function(){},f0=$K?S.useLayoutEffect:BK;function I0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(a=n;a--!==0;)if(!I0(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=n;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!I0(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function MF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fP(e,t){const n=MF(e);return Math.round(t*n)/n}function tj(e){const t=S.useRef(e);return f0(()=>{t.current=e}),t}function qK(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,v]=S.useState(a);I0(p,a)||v(a);const[g,y]=S.useState(null),[x,j]=S.useState(null),b=S.useCallback(H=>{H!==w.current&&(w.current=H,y(H))},[]),N=S.useCallback(H=>{H!==E.current&&(E.current=H,j(H))},[]),P=i||g,I=o||x,w=S.useRef(null),E=S.useRef(null),C=S.useRef(h),_=c!=null,M=tj(c),k=tj(s),D=tj(u),R=S.useCallback(()=>{if(!w.current||!E.current)return;const H={placement:t,strategy:n,middleware:p};k.current&&(H.platform=k.current),MK(w.current,E.current,H).then(G=>{const Z={...G,isPositioned:D.current!==!1};F.current&&!I0(C.current,Z)&&(C.current=Z,pu.flushSync(()=>{f(Z)}))})},[p,t,n,k,D]);f0(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const F=S.useRef(!1);f0(()=>(F.current=!0,()=>{F.current=!1}),[]),f0(()=>{if(P&&(w.current=P),I&&(E.current=I),P&&I){if(M.current)return M.current(P,I,R);R()}},[P,I,R,M,_]);const z=S.useMemo(()=>({reference:w,floating:E,setReference:b,setFloating:N}),[b,N]),V=S.useMemo(()=>({reference:P,floating:I}),[P,I]),B=S.useMemo(()=>{const H={position:n,left:0,top:0};if(!V.floating)return H;const G=fP(V.floating,h.x),Z=fP(V.floating,h.y);return l?{...H,transform:"translate("+G+"px, "+Z+"px)",...MF(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:Z}},[n,l,V.floating,h.x,h.y]);return S.useMemo(()=>({...h,update:R,refs:z,elements:V,floatingStyles:B}),[h,R,z,V,B])}const zK=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&t(a)?a.current!=null?dP({element:a.current,padding:s}).fn(n):{}:a?dP({element:a,padding:s}).fn(n):{}}}},UK=(e,t)=>({..._K(e),options:[e,t]}),VK=(e,t)=>({...kK(e),options:[e,t]}),WK=(e,t)=>({...FK(e),options:[e,t]}),HK=(e,t)=>({...OK(e),options:[e,t]}),GK=(e,t)=>({...RK(e),options:[e,t]}),KK=(e,t)=>({...LK(e),options:[e,t]}),YK=(e,t)=>({...zK(e),options:[e,t]});function XK(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function QK(...e){return t=>e.forEach(n=>XK(n,t))}const $F=S.forwardRef((e,t)=>{const{children:n,...a}=e,s=S.Children.toArray(n),i=s.find(ZK);if(i){const o=i.props.children,l=s.map(c=>c===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:c);return S.createElement(iS,yt({},a,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,l):null)}return S.createElement(iS,yt({},a,{ref:t}),n)});$F.displayName="Slot";const iS=S.forwardRef((e,t)=>{const{children:n,...a}=e;return S.isValidElement(n)?S.cloneElement(n,{...eY(a,n.props),ref:t?QK(t,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});iS.displayName="SlotClone";const JK=({children:e})=>S.createElement(S.Fragment,null,e);function ZK(e){return S.isValidElement(e)&&e.type===JK}function eY(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}const tY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ewe=tY.reduce((e,t)=>{const n=S.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?$F:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(l,yt({},o,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function rY(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function BF(...e){return t=>e.forEach(n=>rY(n,t))}function qF(...e){return S.useCallback(BF(...e),e)}function nY(e,t=[]){let n=[];function a(i,o){const l=S.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:p,children:v,...g}=f,y=p?.[e][c]||l,x=S.useMemo(()=>g,Object.values(g));return S.createElement(y.Provider,{value:x},v)}function h(f,p){const v=p?.[e][c]||l,g=S.useContext(v);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(l){const c=l?.[e]||i;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[a,aY(s,...t)]}function aY(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}const zF=S.forwardRef((e,t)=>{const{children:n,...a}=e,s=S.Children.toArray(n),i=s.find(iY);if(i){const o=i.props.children,l=s.map(c=>c===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:c);return S.createElement(oS,yt({},a,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,l):null)}return S.createElement(oS,yt({},a,{ref:t}),n)});zF.displayName="Slot";const oS=S.forwardRef((e,t)=>{const{children:n,...a}=e;return S.isValidElement(n)?S.cloneElement(n,{...oY(a,n.props),ref:t?BF(t,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});oS.displayName="SlotClone";const sY=({children:e})=>S.createElement(S.Fragment,null,e);function iY(e){return S.isValidElement(e)&&e.type===sY}function oY(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}const lY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],UF=lY.reduce((e,t)=>{const n=S.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?zF:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(l,yt({},o,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),lS=globalThis?.document?S.useLayoutEffect:()=>{};function cY(e){const[t,n]=S.useState(void 0);return lS(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}const VF="Popper",[WF,HF]=nY(VF),[uY,GF]=WF(VF),dY=e=>{const{__scopePopper:t,children:n}=e,[a,s]=S.useState(null);return S.createElement(uY,{scope:t,anchor:a,onAnchorChange:s},n)},fY="PopperAnchor",hY=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:a,...s}=e,i=GF(fY,n),o=S.useRef(null),l=qF(t,o);return S.useEffect(()=>{i.onAnchorChange(a?.current||o.current)}),a?null:S.createElement(UF.div,yt({},s,{ref:l}))}),KF="PopperContent",[mY,twe]=WF(KF),pY=S.forwardRef((e,t)=>{var n,a,s,i,o,l,c,u;const{__scopePopper:h,side:f="bottom",sideOffset:p=0,align:v="center",alignOffset:g=0,arrowPadding:y=0,collisionBoundary:x=[],collisionPadding:j=0,sticky:b="partial",hideWhenDetached:N=!1,avoidCollisions:P=!0,onPlaced:I,...w}=e,E=GF(KF,h),[C,_]=S.useState(null),M=qF(t,He=>_(He)),[k,D]=S.useState(null),R=cY(k),F=(n=R?.width)!==null&&n!==void 0?n:0,z=(a=R?.height)!==null&&a!==void 0?a:0,V=f+(v!=="center"?"-"+v:""),B=typeof j=="number"?j:{top:0,right:0,bottom:0,left:0,...j},H=Array.isArray(x)?x:[x],G=H.length>0,Z={padding:B,boundary:H.filter(vY),altBoundary:G},{refs:Q,floatingStyles:$,placement:K,isPositioned:te,middlewareData:se}=qK({strategy:"fixed",placement:V,whileElementsMounted:DK,elements:{reference:E.anchor},middleware:[UK({mainAxis:p+z,alignmentAxis:g}),P&&VK({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?WK():void 0,...Z}),P&&HK({...Z}),GK({...Z,apply:({elements:He,rects:ge,availableWidth:le,availableHeight:st})=>{const{width:Ie,height:Ue}=ge.reference,ct=He.floating.style;ct.setProperty("--radix-popper-available-width",`${le}px`),ct.setProperty("--radix-popper-available-height",`${st}px`),ct.setProperty("--radix-popper-anchor-width",`${Ie}px`),ct.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),k&&YK({element:k,padding:y}),xY({arrowWidth:F,arrowHeight:z}),N&&KK({strategy:"referenceHidden"})]}),[oe,me]=YF(K),ve=lu(I);lS(()=>{te&&ve?.()},[te,ve]);const pe=(s=se.arrow)===null||s===void 0?void 0:s.x,we=(i=se.arrow)===null||i===void 0?void 0:i.y,Se=((o=se.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Ce,ze]=S.useState();return lS(()=>{C&&ze(window.getComputedStyle(C).zIndex)},[C]),S.createElement("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:te?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(l=se.transformOrigin)===null||l===void 0?void 0:l.x,(c=se.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},S.createElement(mY,{scope:h,placedSide:oe,onArrowChange:D,arrowX:pe,arrowY:we,shouldHideArrow:Se},S.createElement(UF.div,yt({"data-side":oe,"data-align":me},w,{ref:M,style:{...w.style,animation:te?void 0:"none",opacity:(u=se.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function vY(e){return e!==null}const xY=e=>({name:"transformOrigin",options:e,fn(t){var n,a,s,i,o;const{placement:l,rects:c,middlewareData:u}=t,f=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=f?0:e.arrowWidth,v=f?0:e.arrowHeight,[g,y]=YF(l),x={start:"0%",center:"50%",end:"100%"}[y],j=((a=(s=u.arrow)===null||s===void 0?void 0:s.x)!==null&&a!==void 0?a:0)+p/2,b=((i=(o=u.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+v/2;let N="",P="";return g==="bottom"?(N=f?x:`${j}px`,P=`${-v}px`):g==="top"?(N=f?x:`${j}px`,P=`${c.floating.height+v}px`):g==="right"?(N=`${-v}px`,P=f?x:`${b}px`):g==="left"&&(N=`${c.floating.width+v}px`,P=f?x:`${b}px`),{data:{x:N,y:P}}}});function YF(e){const[t,n="center"]=e.split("-");return[t,n]}const gY=dY,yY=hY,bY=pY;function jY(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function wY(...e){return t=>e.forEach(n=>jY(n,t))}const XF=S.forwardRef((e,t)=>{const{children:n,...a}=e,s=S.Children.toArray(n),i=s.find(SY);if(i){const o=i.props.children,l=s.map(c=>c===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:c);return S.createElement(cS,yt({},a,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,l):null)}return S.createElement(cS,yt({},a,{ref:t}),n)});XF.displayName="Slot";const cS=S.forwardRef((e,t)=>{const{children:n,...a}=e;return S.isValidElement(n)?S.cloneElement(n,{...CY(a,n.props),ref:t?wY(t,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});cS.displayName="SlotClone";const NY=({children:e})=>S.createElement(S.Fragment,null,e);function SY(e){return S.isValidElement(e)&&e.type===NY}function CY(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}const AY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],EY=AY.reduce((e,t)=>{const n=S.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?XF:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(l,yt({},o,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),PY=S.forwardRef((e,t)=>{var n;const{container:a=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return a?nA.createPortal(S.createElement(EY.div,yt({},s,{ref:t})),a):null}),DA=S.forwardRef((e,t)=>{const{children:n,...a}=e,s=S.Children.toArray(n),i=s.find(IY);if(i){const o=i.props.children,l=s.map(c=>c===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:c);return S.createElement(uS,yt({},a,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,l):null)}return S.createElement(uS,yt({},a,{ref:t}),n)});DA.displayName="Slot";const uS=S.forwardRef((e,t)=>{const{children:n,...a}=e;return S.isValidElement(n)?S.cloneElement(n,{...DY(a,n.props),ref:t?bF(t,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});uS.displayName="SlotClone";const TY=({children:e})=>S.createElement(S.Fragment,null,e);function IY(e){return S.isValidElement(e)&&e.type===TY}function DY(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}const _Y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],yl=_Y.reduce((e,t)=>{const n=S.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?DA:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(l,yt({},o,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hP({prop:e,defaultProp:t,onChange:n=()=>{}}){const[a,s]=kY({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:a,l=lu(n),c=S.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[i,e,s,l]);return[o,c]}function kY({defaultProp:e,onChange:t}){const n=S.useState(e),[a]=n,s=S.useRef(a),i=lu(t);return S.useEffect(()=>{s.current!==a&&(i(a),s.current=a)},[a,s,i]),n}const Fd=globalThis?.document?S.useLayoutEffect:()=>{};function OY(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function RY(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function LY(...e){return t=>e.forEach(n=>RY(n,t))}const QF=S.forwardRef((e,t)=>{const{children:n,...a}=e,s=S.Children.toArray(n),i=s.find(MY);if(i){const o=i.props.children,l=s.map(c=>c===i?S.Children.count(o)>1?S.Children.only(null):S.isValidElement(o)?o.props.children:null:c);return S.createElement(dS,yt({},a,{ref:t}),S.isValidElement(o)?S.cloneElement(o,void 0,l):null)}return S.createElement(dS,yt({},a,{ref:t}),n)});QF.displayName="Slot";const dS=S.forwardRef((e,t)=>{const{children:n,...a}=e;return S.isValidElement(n)?S.cloneElement(n,{...$Y(a,n.props),ref:t?LY(t,n.ref):n.ref}):S.Children.count(n)>1?S.Children.only(null):null});dS.displayName="SlotClone";const FY=({children:e})=>S.createElement(S.Fragment,null,e);function MY(e){return S.isValidElement(e)&&e.type===FY}function $Y(e,t){const n={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{i(...l),s(...l)}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}const BY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],qY=BY.reduce((e,t)=>{const n=S.forwardRef((a,s)=>{const{asChild:i,...o}=a,l=i?QF:t;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(l,yt({},o,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),zY=S.forwardRef((e,t)=>S.createElement(qY.span,yt({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));var UY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rm=new WeakMap,kg=new WeakMap,Og={},rj=0,JF=function(e){return e&&(e.host||JF(e.parentNode))},VY=function(e,t){return t.map(function(n){if(e.contains(n))return n;var a=JF(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},WY=function(e,t,n,a){var s=VY(t,Array.isArray(e)?e:[e]);Og[n]||(Og[n]=new WeakMap);var i=Og[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))h(p);else try{var v=p.getAttribute(a),g=v!==null&&v!=="false",y=(rm.get(p)||0)+1,x=(i.get(p)||0)+1;rm.set(p,y),i.set(p,x),o.push(p),y===1&&g&&kg.set(p,!0),x===1&&p.setAttribute(n,"true"),g||p.setAttribute(a,"true")}catch(j){console.error("aria-hidden: cannot operate on ",p,j)}})};return h(t),l.clear(),rj++,function(){o.forEach(function(f){var p=rm.get(f)-1,v=i.get(f)-1;rm.set(f,p),i.set(f,v),p||(kg.has(f)||f.removeAttribute(a),kg.delete(f)),v||f.removeAttribute(n)}),rj--,rj||(rm=new WeakMap,rm=new WeakMap,kg=new WeakMap,Og={})}},HY=function(e,t,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=UY(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),WY(a,s,n,"aria-hidden")):function(){return null}},Zl=function(){return Zl=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Zl.apply(this,arguments)};function ZF(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function xh(e,t,n,a){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(h){try{u(a.next(h))}catch(f){o(f)}}function c(h){try{u(a.throw(h))}catch(f){o(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((a=a.apply(e,t||[])).next())})}function GY(e,t,n){if(n||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var h0="right-scroll-bar-position",m0="width-before-scroll-bar",KY="with-scroll-bars-hidden",YY="--removed-body-scroll-bar-size";function nj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XY(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=t,n.facade}var QY=typeof window<"u"?S.useLayoutEffect:S.useEffect,mP=new WeakMap;function JY(e,t){var n=XY(null,function(a){return e.forEach(function(s){return nj(s,a)})});return QY(function(){var a=mP.get(n);if(a){var s=new Set(a),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||nj(l,null)}),i.forEach(function(l){s.has(l)||nj(l,o)})}mP.set(n,e)},[e]),n}function ZY(e){return e}function eX(e,t){t===void 0&&(t=ZY);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,a);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){a=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function tX(e){e===void 0&&(e={});var t=eX(null);return t.options=Zl({async:!0,ssr:!1},e),t}var eM=function(e){var t=e.sideCar,n=ZF(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return S.createElement(a,Zl({},n))};eM.isSideCarExport=!0;function rX(e,t){return e.useMedium(t),eM}var tM=tX(),aj=function(){},eb=S.forwardRef(function(e,t){var n=S.useRef(null),a=S.useState({onScrollCapture:aj,onWheelCapture:aj,onTouchMoveCapture:aj}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,p=e.sideCar,v=e.noIsolation,g=e.inert,y=e.allowPinchZoom,x=e.as,j=x===void 0?"div":x,b=ZF(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),N=p,P=JY([n,t]),I=Zl(Zl({},b),s);return S.createElement(S.Fragment,null,h&&S.createElement(N,{sideCar:tM,removeScrollBar:u,shards:f,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n}),o?S.cloneElement(S.Children.only(l),Zl(Zl({},I),{ref:P})):S.createElement(j,Zl({},I,{className:c,ref:P}),l))});eb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eb.classNames={fullWidth:m0,zeroRight:h0};var nX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nX();return t&&e.setAttribute("nonce",t),e}function sX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function iX(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var oX=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aX())&&(sX(t,n),iX(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lX=function(){var e=oX();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},rM=function(){var e=lX(),t=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return t},cX={left:0,top:0,right:0,gap:0},sj=function(e){return parseInt(e||"",10)||0},uX=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[sj(n),sj(a),sj(s)]},dX=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cX;var t=uX(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-n+t[2]-t[0])}},fX=rM(),bm="data-scroll-locked",hX=function(e,t,n,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(KY,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(bm,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(h0,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(m0,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(h0," .").concat(h0,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(m0," .").concat(m0,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(bm,`] {
    `).concat(YY,": ").concat(l,`px;
  }
`)},pP=function(){var e=parseInt(document.body.getAttribute(bm)||"0",10);return isFinite(e)?e:0},mX=function(){S.useEffect(function(){return document.body.setAttribute(bm,(pP()+1).toString()),function(){var e=pP()-1;e<=0?document.body.removeAttribute(bm):document.body.setAttribute(bm,e.toString())}},[])},pX=function(e){var t=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;mX();var i=S.useMemo(function(){return dX(s)},[s]);return S.createElement(fX,{styles:hX(i,!t,s,n?"":"!important")})},fS=!1;if(typeof window<"u")try{var Rg=Object.defineProperty({},"passive",{get:function(){return fS=!0,!0}});window.addEventListener("test",Rg,Rg),window.removeEventListener("test",Rg,Rg)}catch{fS=!1}var nm=fS?{passive:!1}:!1,vX=function(e){return e.tagName==="TEXTAREA"},nM=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!vX(e)&&n[t]==="visible")},xX=function(e){return nM(e,"overflowY")},gX=function(e){return nM(e,"overflowX")},vP=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=aM(e,n);if(a){var s=sM(e,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},yX=function(e){var t=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[t,n,a]},bX=function(e){var t=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[t,n,a]},aM=function(e,t){return e==="v"?xX(t):gX(t)},sM=function(e,t){return e==="v"?yX(t):bX(t)},jX=function(e,t){return e==="h"&&t==="rtl"?-1:1},wX=function(e,t,n,a,s){var i=jX(e,window.getComputedStyle(t).direction),o=i*a,l=n.target,c=t.contains(l),u=!1,h=o>0,f=0,p=0;do{var v=sM(e,l),g=v[0],y=v[1],x=v[2],j=y-x-i*g;(g||j)&&aM(e,l)&&(f+=j,p+=g),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&f===0||!h&&p===0)&&(u=!0),u},Lg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xP=function(e){return[e.deltaX,e.deltaY]},gP=function(e){return e&&"current"in e?e.current:e},NX=function(e,t){return e[0]===t[0]&&e[1]===t[1]},SX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},CX=0,am=[];function AX(e){var t=S.useRef([]),n=S.useRef([0,0]),a=S.useRef(),s=S.useState(CX++)[0],i=S.useState(function(){return rM()})[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=GY([e.lockRef.current],(e.shards||[]).map(gP),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=S.useCallback(function(y,x){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var j=Lg(y),b=n.current,N="deltaX"in y?y.deltaX:b[0]-j[0],P="deltaY"in y?y.deltaY:b[1]-j[1],I,w=y.target,E=Math.abs(N)>Math.abs(P)?"h":"v";if("touches"in y&&E==="h"&&w.type==="range")return!1;var C=vP(E,w);if(!C)return!0;if(C?I=E:(I=E==="v"?"h":"v",C=vP(E,w)),!C)return!1;if(!a.current&&"changedTouches"in y&&(N||P)&&(a.current=I),!I)return!0;var _=a.current||I;return wX(_,x,y,_==="h"?N:P)},[]),c=S.useCallback(function(y){var x=y;if(!(!am.length||am[am.length-1]!==i)){var j="deltaY"in x?xP(x):Lg(x),b=t.current.filter(function(I){return I.name===x.type&&I.target===x.target&&NX(I.delta,j)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var N=(o.current.shards||[]).map(gP).filter(Boolean).filter(function(I){return I.contains(x.target)}),P=N.length>0?l(x,N[0]):!o.current.noIsolation;P&&x.cancelable&&x.preventDefault()}}},[]),u=S.useCallback(function(y,x,j,b){var N={name:y,delta:x,target:j,should:b};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(P){return P!==N})},1)},[]),h=S.useCallback(function(y){n.current=Lg(y),a.current=void 0},[]),f=S.useCallback(function(y){u(y.type,xP(y),y.target,l(y,e.lockRef.current))},[]),p=S.useCallback(function(y){u(y.type,Lg(y),y.target,l(y,e.lockRef.current))},[]);S.useEffect(function(){return am.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,nm),document.addEventListener("touchmove",c,nm),document.addEventListener("touchstart",h,nm),function(){am=am.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,nm),document.removeEventListener("touchmove",c,nm),document.removeEventListener("touchstart",h,nm)}},[]);var v=e.removeScrollBar,g=e.inert;return S.createElement(S.Fragment,null,g?S.createElement(i,{styles:SX(s)}):null,v?S.createElement(pX,{gapMode:"margin"}):null)}const EX=rX(tM,AX);var iM=S.forwardRef(function(e,t){return S.createElement(eb,Zl({},e,{ref:t,sideCar:EX}))});iM.classNames=eb.classNames;const PX=[" ","Enter","ArrowUp","ArrowDown"],TX=[" ","Enter"],tb="Select",[rb,nb,IX]=tG(tb),[hp,rwe]=nG(tb,[IX,HF]),_A=HF(),[DX,gh]=hp(tb),[_X,kX]=hp(tb),OX=e=>{const{__scopeSelect:t,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:p,required:v}=e,g=_A(t),[y,x]=S.useState(null),[j,b]=S.useState(null),[N,P]=S.useState(!1),I=iG(u),[w=!1,E]=hP({prop:a,defaultProp:s,onChange:i}),[C,_]=hP({prop:o,defaultProp:l,onChange:c}),M=S.useRef(null),k=y?!!y.closest("form"):!0,[D,R]=S.useState(new Set),F=Array.from(D).map(z=>z.props.value).join(";");return S.createElement(gY,g,S.createElement(DX,{required:v,scope:t,trigger:y,onTriggerChange:x,valueNode:j,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:P,contentId:EF(),value:C,onValueChange:_,open:w,onOpenChange:E,dir:I,triggerPointerDownPosRef:M,disabled:p},S.createElement(rb.Provider,{scope:t},S.createElement(_X,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(z=>{R(V=>new Set(V).add(z))},[]),onNativeOptionRemove:S.useCallback(z=>{R(V=>{const B=new Set(V);return B.delete(z),B})},[])},n)),k?S.createElement(uM,{key:F,"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:z=>_(z.target.value),disabled:p},C===void 0?S.createElement("option",{value:""}):null,Array.from(D)):null))},RX="SelectTrigger",LX=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,i=_A(n),o=gh(RX,n),l=o.disabled||a,c=hc(t,o.onTriggerChange),u=nb(n),[h,f,p]=dM(g=>{const y=u().filter(b=>!b.disabled),x=y.find(b=>b.value===o.value),j=fM(y,g,x);j!==void 0&&o.onValueChange(j.value)}),v=()=>{l||(o.onOpenChange(!0),p())};return S.createElement(yY,yt({asChild:!0},i),S.createElement(yl.button,yt({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":o.value===void 0?"":void 0},s,{ref:c,onClick:Xs(s.onClick,g=>{g.currentTarget.focus()}),onPointerDown:Xs(s.onPointerDown,g=>{const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(v(),o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:Xs(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&PX.includes(g.key)&&(v(),g.preventDefault())})})))}),FX="SelectValue",MX=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:o,...l}=e,c=gh(FX,n),{onValueNodeHasChildrenChange:u}=c,h=i!==void 0,f=hc(t,c.onValueNodeChange);return Fd(()=>{u(h)},[u,h]),S.createElement(yl.span,yt({},l,{ref:f,style:{pointerEvents:"none"}}),c.value===void 0&&o!==void 0?o:i)}),$X=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:a,...s}=e;return S.createElement(yl.span,yt({"aria-hidden":!0},s,{ref:t}),a||"▼")}),BX=e=>S.createElement(PY,yt({asChild:!0},e)),Pm="SelectContent",qX=S.forwardRef((e,t)=>{const n=gh(Pm,e.__scopeSelect),[a,s]=S.useState();if(Fd(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?pu.createPortal(S.createElement(oM,{scope:e.__scopeSelect},S.createElement(rb.Slot,{scope:e.__scopeSelect},S.createElement("div",null,e.children))),i):null}return S.createElement(zX,yt({},e,{ref:t}))}),Jc=10,[oM,yh]=hp(Pm),zX=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:g,hideWhenDetached:y,avoidCollisions:x,...j}=e,b=gh(Pm,n),[N,P]=S.useState(null),[I,w]=S.useState(null),E=hc(t,me=>P(me)),[C,_]=S.useState(null),[M,k]=S.useState(null),D=nb(n),[R,F]=S.useState(!1),z=S.useRef(!1);S.useEffect(()=>{if(N)return HY(N)},[N]),wG();const V=S.useCallback(me=>{const[ve,...pe]=D().map(Ce=>Ce.ref.current),[we]=pe.slice(-1),Se=document.activeElement;for(const Ce of me)if(Ce===Se||(Ce?.scrollIntoView({block:"nearest"}),Ce===ve&&I&&(I.scrollTop=0),Ce===we&&I&&(I.scrollTop=I.scrollHeight),Ce?.focus(),document.activeElement!==Se))return},[D,I]),B=S.useCallback(()=>V([C,N]),[V,C,N]);S.useEffect(()=>{R&&B()},[R,B]);const{onOpenChange:H,triggerPointerDownPosRef:G}=b;S.useEffect(()=>{if(N){let me={x:0,y:0};const ve=we=>{var Se,Ce,ze,He;me={x:Math.abs(Math.round(we.pageX)-((Se=(Ce=G.current)===null||Ce===void 0?void 0:Ce.x)!==null&&Se!==void 0?Se:0)),y:Math.abs(Math.round(we.pageY)-((ze=(He=G.current)===null||He===void 0?void 0:He.y)!==null&&ze!==void 0?ze:0))}},pe=we=>{me.x<=10&&me.y<=10?we.preventDefault():N.contains(we.target)||H(!1),document.removeEventListener("pointermove",ve),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",pe,{capture:!0})}}},[N,H,G]),S.useEffect(()=>{const me=()=>H(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[H]);const[Z,Q]=dM(me=>{const ve=D().filter(Se=>!Se.disabled),pe=ve.find(Se=>Se.ref.current===document.activeElement),we=fM(ve,me,pe);we&&setTimeout(()=>we.ref.current.focus())}),$=S.useCallback((me,ve,pe)=>{const we=!z.current&&!pe;(b.value!==void 0&&b.value===ve||we)&&(_(me),we&&(z.current=!0))},[b.value]),K=S.useCallback(()=>N?.focus(),[N]),te=S.useCallback((me,ve,pe)=>{const we=!z.current&&!pe;(b.value!==void 0&&b.value===ve||we)&&k(me)},[b.value]),se=a==="popper"?yP:UX,oe=se===yP?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:g,hideWhenDetached:y,avoidCollisions:x}:{};return S.createElement(oM,{scope:n,content:N,viewport:I,onViewportChange:w,itemRefCallback:$,selectedItem:C,onItemLeave:K,itemTextRefCallback:te,focusSelectedItem:B,selectedItemText:M,position:a,isPositioned:R,searchRef:Z},S.createElement(iM,{as:DA,allowPinchZoom:!0},S.createElement(IG,{asChild:!0,trapped:b.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Xs(s,me=>{var ve;(ve=b.trigger)===null||ve===void 0||ve.focus({preventScroll:!0}),me.preventDefault()})},S.createElement(yG,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},S.createElement(se,yt({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:me=>me.preventDefault()},j,oe,{onPlaced:()=>F(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Xs(j.onKeyDown,me=>{const ve=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!ve&&me.key.length===1&&Q(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let we=D().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(me.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Se=me.target,Ce=we.indexOf(Se);we=we.slice(Ce+1)}setTimeout(()=>V(we)),me.preventDefault()}})}))))))}),UX=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,i=gh(Pm,n),o=yh(Pm,n),[l,c]=S.useState(null),[u,h]=S.useState(null),f=hc(t,E=>h(E)),p=nb(n),v=S.useRef(!1),g=S.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:j,focusSelectedItem:b}=o,N=S.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&x&&j){const E=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),M=j.getBoundingClientRect();if(i.dir!=="rtl"){const Se=M.left-C.left,Ce=_.left-Se,ze=E.left-Ce,He=E.width+ze,ge=Math.max(He,C.width),le=window.innerWidth-Jc,st=K3(Ce,[Jc,le-ge]);l.style.minWidth=He+"px",l.style.left=st+"px"}else{const Se=C.right-M.right,Ce=window.innerWidth-_.right-Se,ze=window.innerWidth-E.right-Ce,He=E.width+ze,ge=Math.max(He,C.width),le=window.innerWidth-Jc,st=K3(Ce,[Jc,le-ge]);l.style.minWidth=He+"px",l.style.right=st+"px"}const k=p(),D=window.innerHeight-Jc*2,R=y.scrollHeight,F=window.getComputedStyle(u),z=parseInt(F.borderTopWidth,10),V=parseInt(F.paddingTop,10),B=parseInt(F.borderBottomWidth,10),H=parseInt(F.paddingBottom,10),G=z+V+R+H+B,Z=Math.min(x.offsetHeight*5,G),Q=window.getComputedStyle(y),$=parseInt(Q.paddingTop,10),K=parseInt(Q.paddingBottom,10),te=E.top+E.height/2-Jc,se=D-te,oe=x.offsetHeight/2,me=x.offsetTop+oe,ve=z+V+me,pe=G-ve;if(ve<=te){const Se=x===k[k.length-1].ref.current;l.style.bottom="0px";const Ce=u.clientHeight-y.offsetTop-y.offsetHeight,ze=Math.max(se,oe+(Se?K:0)+Ce+B),He=ve+ze;l.style.height=He+"px"}else{const Se=x===k[0].ref.current;l.style.top="0px";const ze=Math.max(te,z+y.offsetTop+(Se?$:0)+oe)+pe;l.style.height=ze+"px",y.scrollTop=ve-te+y.offsetTop}l.style.margin=`${Jc}px 0`,l.style.minHeight=Z+"px",l.style.maxHeight=D+"px",a?.(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,l,u,y,x,j,i.dir,a]);Fd(()=>N(),[N]);const[P,I]=S.useState();Fd(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const w=S.useCallback(E=>{E&&g.current===!0&&(N(),b?.(),g.current=!1)},[N,b]);return S.createElement(VX,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:w},S.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P}},S.createElement(yl.div,yt({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),yP=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=Jc,...i}=e,o=_A(n);return S.createElement(bY,yt({},o,i,{ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[VX,kA]=hp(Pm,{}),bP="SelectViewport",WX=S.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=yh(bP,n),i=kA(bP,n),o=hc(t,s.onViewportChange),l=S.useRef(0);return S.createElement(S.Fragment,null,S.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),S.createElement(rb.Slot,{scope:n},S.createElement(yl.div,yt({"data-radix-select-viewport":"",role:"presentation"},a,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...a.style},onScroll:Xs(a.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const p=Math.abs(l.current-u.scrollTop);if(p>0){const v=window.innerHeight-Jc*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(g,y);if(x<v){const j=x+p,b=Math.min(v,j),N=j-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})}))))}),HX="SelectGroup",[nwe,GX]=hp(HX),KX="SelectLabel",YX=S.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e,s=GX(KX,n);return S.createElement(yl.div,yt({id:s.id},a,{ref:t}))}),hS="SelectItem",[XX,lM]=hp(hS),QX=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...o}=e,l=gh(hS,n),c=yh(hS,n),u=l.value===a,[h,f]=S.useState(i??""),[p,v]=S.useState(!1),g=hc(t,j=>{var b;return(b=c.itemRefCallback)===null||b===void 0?void 0:b.call(c,j,a,s)}),y=EF(),x=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};return S.createElement(XX,{scope:n,value:a,disabled:s,textId:y,isSelected:u,onItemTextChange:S.useCallback(j=>{f(b=>{var N;return b||((N=j?.textContent)!==null&&N!==void 0?N:"").trim()})},[])},S.createElement(rb.ItemSlot,{scope:n,value:a,disabled:s,textValue:h},S.createElement(yl.div,yt({role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},o,{ref:g,onFocus:Xs(o.onFocus,()=>v(!0)),onBlur:Xs(o.onBlur,()=>v(!1)),onPointerUp:Xs(o.onPointerUp,x),onPointerMove:Xs(o.onPointerMove,j=>{if(s){var b;(b=c.onItemLeave)===null||b===void 0||b.call(c)}else j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xs(o.onPointerLeave,j=>{if(j.currentTarget===document.activeElement){var b;(b=c.onItemLeave)===null||b===void 0||b.call(c)}}),onKeyDown:Xs(o.onKeyDown,j=>{var b;((b=c.searchRef)===null||b===void 0?void 0:b.current)!==""&&j.key===" "||(TX.includes(j.key)&&x(),j.key===" "&&j.preventDefault())})}))))}),Fg="SelectItemText",JX=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:s,...i}=e,o=gh(Fg,n),l=yh(Fg,n),c=lM(Fg,n),u=kX(Fg,n),[h,f]=S.useState(null),p=hc(t,j=>f(j),c.onItemTextChange,j=>{var b;return(b=l.itemTextRefCallback)===null||b===void 0?void 0:b.call(l,j,c.value,c.disabled)}),v=h?.textContent,g=S.useMemo(()=>S.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},v),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=u;return Fd(()=>(y(g),()=>x(g)),[y,x,g]),S.createElement(S.Fragment,null,S.createElement(yl.span,yt({id:c.textId},i,{ref:p})),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pu.createPortal(i.children,o.valueNode):null)}),ZX="SelectItemIndicator",eQ=S.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return lM(ZX,n).isSelected?S.createElement(yl.span,yt({"aria-hidden":!0},a,{ref:t})):null}),jP="SelectScrollUpButton",tQ=S.forwardRef((e,t)=>{const n=yh(jP,e.__scopeSelect),a=kA(jP,e.__scopeSelect),[s,i]=S.useState(!1),o=hc(t,a.onScrollButtonChange);return Fd(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?S.createElement(cM,yt({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null}),wP="SelectScrollDownButton",rQ=S.forwardRef((e,t)=>{const n=yh(wP,e.__scopeSelect),a=kA(wP,e.__scopeSelect),[s,i]=S.useState(!1),o=hc(t,a.onScrollButtonChange);return Fd(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;i(h)};const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?S.createElement(cM,yt({},e,{ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null}),cM=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,i=yh("SelectScrollButton",n),o=S.useRef(null),l=nb(n),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),Fd(()=>{var u;const h=l().find(f=>f.ref.current===document.activeElement);h==null||(u=h.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[l]),S.createElement(yl.div,yt({"aria-hidden":!0},s,{ref:t,style:{flexShrink:0,...s.style},onPointerDown:Xs(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Xs(s.onPointerMove,()=>{var u;(u=i.onItemLeave)===null||u===void 0||u.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Xs(s.onPointerLeave,()=>{c()})}))}),nQ=S.forwardRef((e,t)=>{const{__scopeSelect:n,...a}=e;return S.createElement(yl.div,yt({"aria-hidden":!0},a,{ref:t}))}),uM=S.forwardRef((e,t)=>{const{value:n,...a}=e,s=S.useRef(null),i=hc(t,s),o=OY(n);return S.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(f)}},[o,n]),S.createElement(zY,{asChild:!0},S.createElement("select",yt({},a,{ref:i,defaultValue:n})))});uM.displayName="BubbleSelect";function dM(e){const t=lu(e),n=S.useRef(""),a=S.useRef(0),s=S.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=S.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function fM(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=aQ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function aQ(e,t){return e.map((n,a)=>e[(t+a)%e.length])}const sQ=OX,hM=LX,iQ=MX,oQ=$X,lQ=BX,mM=qX,cQ=WX,pM=YX,vM=QX,uQ=JX,dQ=eQ,xM=tQ,gM=rQ,yM=nQ,Xe=sQ,Qe=iQ,Ke=S.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(hM,{ref:a,className:ot("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(oQ,{asChild:!0,children:r.jsx(ML,{className:"h-4 w-4 opacity-50"})})]}));Ke.displayName=hM.displayName;const bM=S.forwardRef(({className:e,...t},n)=>r.jsx(xM,{ref:n,className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(GU,{className:"h-4 w-4"})}));bM.displayName=xM.displayName;const jM=S.forwardRef(({className:e,...t},n)=>r.jsx(gM,{ref:n,className:ot("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ML,{className:"h-4 w-4"})}));jM.displayName=gM.displayName;const Ye=S.forwardRef(({className:e,children:t,position:n="popper",...a},s)=>r.jsx(lQ,{children:r.jsxs(mM,{ref:s,className:ot("relative z-50 max-h-96 min-w-[8rem] overflow-auto rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[r.jsx(bM,{}),r.jsx(cQ,{className:ot("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(jM,{})]})}));Ye.displayName=mM.displayName;const fQ=S.forwardRef(({className:e,...t},n)=>r.jsx(pM,{ref:n,className:ot("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fQ.displayName=pM.displayName;const ee=S.forwardRef(({className:e,children:t,...n},a)=>r.jsxs(vM,{ref:a,className:ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(dQ,{children:r.jsx(Hy,{className:"h-4 w-4"})})}),r.jsx(uQ,{children:t})]}));ee.displayName=vM.displayName;const hQ=S.forwardRef(({className:e,...t},n)=>r.jsx(yM,{ref:n,className:ot("-mx-1 my-1 h-px bg-muted",e),...t}));hQ.displayName=yM.displayName;var mQ="Label",wM=S.forwardRef((e,t)=>r.jsx(la.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));wM.displayName=mQ;var NM=wM;const pQ=Wy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ie=S.forwardRef(({className:e,...t},n)=>r.jsx(NM,{ref:n,className:ot(pQ(),e),...t}));ie.displayName=NM.displayName;var _a=(e=>(e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(_a||{});function bl(){const[e,t]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState([]),[c,u]=S.useState([]),[h,f]=S.useState([]),[p,v]=S.useState(!1);S.useEffect(()=>{g()},[]);const g=()=>{const D=[{id:"1",name:"Website Contact Form",type:"website",isActive:!0,trackingCode:"WEB_CONTACT",conversionRate:15.5,createdAt:new Date("2024-01-01")},{id:"2",name:"Facebook Ads",type:"advertising",isActive:!0,trackingCode:"FB_ADS",conversionRate:8.2,createdAt:new Date("2024-01-01")},{id:"3",name:"Customer Referral",type:"referral",isActive:!0,conversionRate:35.8,createdAt:new Date("2024-01-01")},{id:"4",name:"RV Show",type:"event",isActive:!0,trackingCode:"RV_SHOW_2024",conversionRate:22.1,createdAt:new Date("2024-01-01")},{id:"5",name:"Google Ads",type:"advertising",isActive:!0,trackingCode:"GOOGLE_ADS",conversionRate:12.3,createdAt:new Date("2024-01-01")},{id:"6",name:"Walk-in",type:"other",isActive:!0,conversionRate:45.2,createdAt:new Date("2024-01-01")}],R=[{id:"rep-001",name:"John Smith",email:"john.smith@dealership.com",phone:"(555) 123-4567",territory:"North Region",isActive:!0,targets:{monthly:10,quarterly:30,annual:120}},{id:"rep-002",name:"Sarah Johnson",email:"sarah.johnson@dealership.com",phone:"(555) 987-6543",territory:"South Region",isActive:!0,targets:{monthly:12,quarterly:36,annual:144}},{id:"rep-003",name:"Mike Davis",email:"mike.davis@dealership.com",phone:"(555) 456-7890",territory:"East Region",isActive:!0,targets:{monthly:8,quarterly:24,annual:96}}],F=Qn("renter-insight-leads",[{id:"1",firstName:"John",lastName:"Smith",email:"john.smith@email.com",phone:"(555) 123-4567",source:"Website Contact Form",sourceId:"1",status:_a.NEW,assignedTo:"rep-001",notes:"Interested in Class A Motorhome, budget $150k-200k",score:85,lastActivity:new Date("2024-01-20"),customFields:{budget:"$150k-200k",timeframe:"3-6 months",experience:"First-time buyer"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",firstName:"Sarah",lastName:"Johnson",email:"sarah.j@email.com",phone:"(555) 987-6543",source:"Customer Referral",sourceId:"3",status:_a.QUALIFIED,assignedTo:"rep-002",notes:"Looking for travel trailer under $50k, referred by Mike Davis",score:92,lastActivity:new Date("2024-01-18"),customFields:{budget:"Under $50k",timeframe:"1-3 months",experience:"Experienced RVer"},createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-18")}]),z=Qn("renter-insight-activities",[{id:"1",leadId:"1",type:"call",description:"Initial qualification call",outcome:"positive",duration:25,completedDate:new Date("2024-01-20"),userId:"rep-001",createdAt:new Date("2024-01-20")},{id:"2",leadId:"2",type:"email",description:"Sent product brochures",outcome:"positive",completedDate:new Date("2024-01-18"),userId:"rep-002",createdAt:new Date("2024-01-18")}]),V=[{leadId:"1",totalScore:85,demographicScore:30,behaviorScore:25,engagementScore:30,lastCalculated:new Date("2024-01-20"),factors:[{factor:"Budget Match",points:25,reason:"Budget aligns with inventory"},{factor:"Response Time",points:20,reason:"Quick response to outreach"},{factor:"Engagement Level",points:15,reason:"High email open rates"}]}],B=[{id:"1",leadId:"1",userId:"rep-001",type:"follow_up",title:"Follow up on motorhome interest",description:"Schedule showroom visit",dueDate:new Date("2024-01-25"),isCompleted:!1,priority:"high",createdAt:new Date("2024-01-20")}];a(D),f(R),t(F),i(z),l(V),u(B)},y=D=>{Sn("renter-insight-leads",D)},x=D=>{Sn("renter-insight-activities",D)},j=async D=>{v(!0);try{const R={id:Math.random().toString(36).substr(2,9),firstName:D.firstName||"",lastName:D.lastName||"",email:D.email||"",phone:D.phone||"",source:D.source||"",sourceId:D.sourceId||"",status:_a.NEW,assignedTo:D.assignedTo,notes:D.notes||"",score:0,lastActivity:new Date,customFields:D.customFields||{},createdAt:new Date,updatedAt:new Date},F=[...e,R];return t(F),y(F),await P({leadId:R.id,type:"note",description:`Lead created from ${R.source}`,userId:"current-user"}),await I(R.id),R}finally{v(!1)}},b=async(D,R)=>{const F=e.map(z=>z.id===D?{...z,status:R,updatedAt:new Date}:z);t(F),y(F),await P({leadId:D,type:"status_change",description:`Status changed to ${R}`,userId:"current-user"})},N=async(D,R)=>{const F=e.map(z=>z.id===D?{...z,assignedTo:R,updatedAt:new Date}:z);t(F),y(F),await P({leadId:D,type:"note",description:`Lead assigned to ${h.find(z=>z.id===R)?.name}`,userId:"current-user"})},P=async D=>{const R={id:Math.random().toString(36).substr(2,9),leadId:D.leadId||"",type:D.type||"note",description:D.description||"",outcome:D.outcome,duration:D.duration,scheduledDate:D.scheduledDate,completedDate:D.completedDate||new Date,userId:D.userId||"current-user",metadata:D.metadata,createdAt:new Date},F=[...s,R];i(F),x(F);const z=e.map(V=>V.id===R.leadId?{...V,lastActivity:new Date,updatedAt:new Date}:V);t(z),y(z),await I(R.leadId)},I=async D=>{const R=e.find(oe=>oe.id===D);if(!R)return;const F=s.filter(oe=>oe.leadId===D);let z=0,V=0,B=0;const H=[];R.customFields?.budget&&(z+=20,H.push({factor:"Budget Provided",points:20,reason:"Customer provided budget information"})),R.customFields?.timeframe==="1-3 months"?(z+=25,H.push({factor:"Short Timeframe",points:25,reason:"Ready to purchase soon"})):R.customFields?.timeframe==="3-6 months"&&(z+=15,H.push({factor:"Medium Timeframe",points:15,reason:"Moderate purchase timeline"})),F.filter(oe=>oe.type==="call").length>0&&(V+=30,H.push({factor:"Phone Engagement",points:30,reason:"Participated in phone calls"})),F.filter(oe=>oe.type==="email").length>2&&(V+=20,H.push({factor:"Email Engagement",points:20,reason:"Active email communication"})),F.filter(oe=>new Date(oe.createdAt).getTime()>Date.now()-7*24*60*60*1e3).length>0&&(B+=25,H.push({factor:"Recent Activity",points:25,reason:"Active in the last 7 days"}));const $=F.filter(oe=>oe.outcome==="positive").length;$>0&&(B+=$*10,H.push({factor:"Positive Interactions",points:$*10,reason:`${$} positive interactions`}));const K=z+V+B,te={leadId:D,totalScore:K,demographicScore:z,behaviorScore:V,engagementScore:B,lastCalculated:new Date,factors:H};l(oe=>oe.filter(me=>me.leadId!==D).concat(te));const se=e.map(oe=>oe.id===D?{...oe,score:K,updatedAt:new Date}:oe);t(se),y(se)};return{leads:e,sources:n,activities:s,scores:o,reminders:c,salesReps:h,loading:p,createLead:j,updateLeadStatus:b,assignLead:N,logActivity:P,calculateLeadScore:I,createReminder:async D=>{const R={id:Math.random().toString(36).substr(2,9),leadId:D.leadId||"",userId:D.userId||"current-user",type:D.type||"follow_up",title:D.title||"",description:D.description||"",dueDate:D.dueDate||new Date,isCompleted:!1,priority:D.priority||"medium",createdAt:new Date};return u(F=>[...F,R]),R},completeReminder:async D=>{u(R=>R.map(F=>F.id===D?{...F,isCompleted:!0}:F))},getLeadsByRep:D=>e.filter(R=>R.assignedTo===D),getActivitiesByLead:D=>s.filter(R=>R.leadId===D),getRemindersByUser:D=>c.filter(R=>R.userId===D&&!R.isCompleted),getLeadScore:D=>o.find(R=>R.leadId===D)}}function mp({onClose:e,onSuccess:t}){const{sources:n,salesReps:a,createLead:s}=bl(),{toast:i}=Ht(),[o,l]=S.useState(!1),[c,u]=S.useState({firstName:"",lastName:"",email:"",phone:"",source:"",sourceId:"",assignedTo:"",notes:"",customFields:{budget:"",timeframe:"",experience:"",interests:"",preferredContact:"email"}}),[h,f]=S.useState({}),p=()=>{const x={};return c.firstName.trim()||(x.firstName="First name is required"),c.lastName.trim()||(x.lastName="Last name is required"),c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(x.email="Please enter a valid email address"):x.email="Email is required",c.phone.trim()||(x.phone="Phone number is required"),c.sourceId||(x.sourceId="Lead source is required"),f(x),Object.keys(x).length===0},v=async x=>{if(x.preventDefault(),!p()){i({title:"Validation Error",description:"Please fill in all required fields correctly.",variant:"destructive"});return}l(!0);try{const j=n.find(P=>P.id===c.sourceId),b={firstName:c.firstName.trim(),lastName:c.lastName.trim(),email:c.email.trim().toLowerCase(),phone:c.phone.trim(),source:j?.name||"",sourceId:c.sourceId,assignedTo:c.assignedTo||void 0,notes:c.notes.trim(),customFields:{...c.customFields,interests:c.customFields.interests.trim()}},N=await s(b);i({title:"Lead Created Successfully!",description:`${N.firstName} ${N.lastName} has been added to your CRM.`,variant:"default"}),t(N),e()}catch(j){console.error("Error creating lead:",j),i({title:"Error Creating Lead",description:"There was a problem creating the lead. Please try again.",variant:"destructive"})}finally{l(!1)}},g=(x,j)=>{u(b=>({...b,[x]:j})),h[x]&&f(b=>({...b,[x]:""}))},y=(x,j)=>{u(b=>({...b,customFields:{...b.customFields,[x]:j}}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl flex items-center",children:[r.jsx(fs,{className:"h-5 w-5 mr-2 text-blue-500"}),"Add New Lead"]}),r.jsx(tt,{children:"Create a new lead and start the sales process"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:e,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(fs,{className:"h-4 w-4 mr-2"}),"Contact Information"]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"firstName",children:"First Name *"}),r.jsx(Ee,{id:"firstName",value:c.firstName,onChange:x=>g("firstName",x.target.value),placeholder:"Enter first name",className:h.firstName?"border-red-500":""}),h.firstName&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.firstName})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"lastName",children:"Last Name *"}),r.jsx(Ee,{id:"lastName",value:c.lastName,onChange:x=>g("lastName",x.target.value),placeholder:"Enter last name",className:h.lastName?"border-red-500":""}),h.lastName&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.lastName})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"email",children:"Email Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"email",type:"email",value:c.email,onChange:x=>g("email",x.target.value),placeholder:"Enter email address",className:`pl-10 ${h.email?"border-red-500":""}`})]}),h.email&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.email})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"phone",children:"Phone Number *"}),r.jsxs("div",{className:"relative",children:[r.jsx(op,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"phone",type:"tel",value:c.phone,onChange:x=>g("phone",x.target.value),placeholder:"Enter phone number",className:`pl-10 ${h.phone?"border-red-500":""}`})]}),h.phone&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.phone})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(vA,{className:"h-4 w-4 mr-2"}),"Lead Details"]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"source",children:"Lead Source *"}),r.jsxs(Xe,{value:c.sourceId,onValueChange:x=>g("sourceId",x),children:[r.jsx(Ke,{className:h.sourceId?"border-red-500":"",children:r.jsx(Qe,{placeholder:"Select lead source"})}),r.jsx(Ye,{children:n.map(x=>r.jsx(ee,{value:x.id,children:x.name},x.id))})]}),h.sourceId&&r.jsx("p",{className:"text-sm text-red-500 mt-1",children:h.sourceId})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"assignedTo",children:"Assign to Sales Rep"}),r.jsxs(Xe,{value:c.assignedTo,onValueChange:x=>g("assignedTo",x),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select sales rep (optional)"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"Unassigned"}),a.map(x=>r.jsx(ee,{value:x.id,children:x.name},x.id))]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(lr,{className:"h-4 w-4 mr-2"}),"Additional Information"]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"budget",children:"Budget Range"}),r.jsxs(Xe,{value:c.customFields.budget,onValueChange:x=>y("budget",x),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select budget range"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"Under $50k",children:"Under $50k"}),r.jsx(ee,{value:"$50k-$100k",children:"$50k-$100k"}),r.jsx(ee,{value:"$100k-$150k",children:"$100k-$150k"}),r.jsx(ee,{value:"$150k-$200k",children:"$150k-$200k"}),r.jsx(ee,{value:"$200k+",children:"$200k+"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"timeframe",children:"Purchase Timeframe"}),r.jsxs(Xe,{value:c.customFields.timeframe,onValueChange:x=>y("timeframe",x),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select timeframe"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"Immediate",children:"Immediate (within 1 month)"}),r.jsx(ee,{value:"1-3 months",children:"1-3 months"}),r.jsx(ee,{value:"3-6 months",children:"3-6 months"}),r.jsx(ee,{value:"6-12 months",children:"6-12 months"}),r.jsx(ee,{value:"12+ months",children:"12+ months"})]})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"experience",children:"RV Experience"}),r.jsxs(Xe,{value:c.customFields.experience,onValueChange:x=>y("experience",x),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select experience level"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"First-time buyer",children:"First-time buyer"}),r.jsx(ee,{value:"Some experience",children:"Some experience"}),r.jsx(ee,{value:"Experienced RVer",children:"Experienced RVer"}),r.jsx(ee,{value:"Expert/Full-timer",children:"Expert/Full-timer"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"preferredContact",children:"Preferred Contact Method"}),r.jsxs(Xe,{value:c.customFields.preferredContact,onValueChange:x=>y("preferredContact",x),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select contact method"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"email",children:"Email"}),r.jsx(ee,{value:"phone",children:"Phone"}),r.jsx(ee,{value:"text",children:"Text/SMS"}),r.jsx(ee,{value:"any",children:"Any method"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"interests",children:"Interests/Requirements"}),r.jsx(Ee,{id:"interests",value:c.customFields.interests,onChange:x=>y("interests",x.target.value),placeholder:"e.g., Class A Motorhome, Solar panels, Pet-friendly"})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Notes"}),r.jsx(wr,{id:"notes",value:c.notes,onChange:x=>g("notes",x.target.value),placeholder:"Add any additional notes about this lead...",rows:3})]})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:e,disabled:o,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Lead..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Create Lead"]})})]})]})})]})})}const vQ=[{name:"Total Leads",value:"2,651",change:"+4.75%",changeType:"positive",icon:Na},{name:"Inventory Units",value:"847",change:"+54.02%",changeType:"positive",icon:Rs},{name:"Active Quotes",value:"124",change:"-1.39%",changeType:"negative",icon:Qs},{name:"Monthly Revenue",value:"$405,091",change:"+10.18%",changeType:"positive",icon:lr}],xQ=[{id:1,type:"lead",title:"New lead from website",description:"John Smith interested in Class A Motorhome",time:"2 minutes ago"},{id:2,type:"quote",title:"Quote sent to customer",description:"Quote #Q-2024-001 sent to Sarah Johnson",time:"15 minutes ago"},{id:3,type:"service",title:"Service appointment scheduled",description:"Annual maintenance for RV #VIN123456",time:"1 hour ago"},{id:4,type:"delivery",title:"Delivery completed",description:"Travel Trailer delivered to Mike Davis",time:"2 hours ago"}];function gQ(){const[e,t]=S.useState(!1),n=s=>{console.log("New lead created from dashboard:",s)},a=s=>{switch(s){case"add-lead":t(!0);break;case"add-inventory":window.location.href="/inventory";break;case"create-quote":window.location.href="/quotes";break;case"schedule-service":window.location.href="/service";break}};return r.jsxs("div",{className:"space-y-6",children:[e&&r.jsx(mp,{onClose:()=>t(!1),onSuccess:n}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Welcome to your Renter Insight CRM/DMS dashboard"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:vQ.map(s=>r.jsxs(ye,{children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium",children:s.name}),r.jsx(s.icon,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s.value}),r.jsxs("p",{className:`text-xs ${s.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[s.change," from last month"]})]})]},s.name))}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Recent Activity"}),r.jsx(tt,{children:"Latest updates from your dealership"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:xQ.map(s=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-2 w-2 bg-primary rounded-full mt-2"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:s.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.time})]})]},s.id))})})]}),r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Quick Actions"}),r.jsx(tt,{children:"Common tasks and shortcuts"})]}),r.jsx(be,{children:r.jsxs("div",{className:"grid gap-3",children:[r.jsxs("button",{onClick:()=>a("add-lead"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Na,{className:"h-5 w-5 text-primary"}),r.jsx("span",{className:"font-medium",children:"Add New Lead"})]}),r.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs("button",{onClick:()=>a("add-inventory"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Rs,{className:"h-5 w-5 text-primary"}),r.jsx("span",{className:"font-medium",children:"Add Inventory"})]}),r.jsx("span",{className:"text-muted-foreground",children:"→"})]}),r.jsxs("button",{onClick:()=>a("create-quote"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Qs,{className:"h-5 w-5 text-primary"}),r.jsx("span",{className:"font-medium",children:"Create Quote"})]}),r.jsx("span",{className:"text-muted-foreground",children:"→"})]}),r.jsxs("button",{onClick:()=>a("schedule-service"),className:"flex items-center justify-between p-3 text-left border rounded-lg hover:bg-accent transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(gn,{className:"h-5 w-5 text-primary"}),r.jsx("span",{className:"font-medium",children:"Schedule Service"})]}),r.jsx("span",{className:"text-muted-foreground",children:"→"})]})]})})]})]})]})}function yQ(){const[e,t]=S.useState("admin@renterinsight.com"),[n,a]=S.useState("password"),{login:s,isLoading:i}=lp(),{toast:o}=Ht(),l=lA(),c=async u=>{u.preventDefault();try{await s(e,n),l("/")}catch{o({title:"Login Failed",description:"Invalid email or password",variant:"destructive"})}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsxs(Pe,{className:"text-center",children:[r.jsx(Te,{className:"text-2xl font-bold text-primary",children:"Renter Insight CRM/DMS"}),r.jsx(tt,{children:"Sign in to your account to continue"})]}),r.jsxs(be,{children:[r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsx("div",{children:r.jsx(Ee,{type:"email",placeholder:"Email",value:e,onChange:u=>t(u.target.value),required:!0,autoComplete:"username"})}),r.jsx("div",{children:r.jsx(Ee,{type:"password",placeholder:"Password",value:n,onChange:u=>a(u.target.value),required:!0,autoComplete:"current-password"})}),r.jsx(ae,{type:"submit",className:"w-full",disabled:i,children:i?"Signing in...":"Sign In"})]}),r.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:"Demo credentials: admin@renterinsight.com / password"})]})]})})}function bQ({children:e}){const{user:t,isLoading:n}=lp();return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):t?r.jsx(r.Fragment,{children:e}):r.jsx(Bz,{to:"/login",replace:!0})}function jQ(e){const t=e+"CollectionProvider",[n,a]=fh(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:j}=y,b=Ne.useRef(null),N=Ne.useRef(new Map).current;return r.jsx(s,{scope:x,itemMap:N,collectionRef:b,children:j})};o.displayName=t;const l=e+"CollectionSlot",c=Cm(l),u=Ne.forwardRef((y,x)=>{const{scope:j,children:b}=y,N=i(l,j),P=To(x,N.collectionRef);return r.jsx(c,{ref:P,children:b})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",p=Cm(h),v=Ne.forwardRef((y,x)=>{const{scope:j,children:b,...N}=y,P=Ne.useRef(null),I=To(x,P),w=i(h,j);return Ne.useEffect(()=>(w.itemMap.set(P,{ref:P,...N}),()=>void w.itemMap.delete(P))),r.jsx(p,{[f]:"",ref:I,children:b})});v.displayName=h;function g(y){const x=i(e+"CollectionConsumer",y);return Ne.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const N=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((w,E)=>N.indexOf(w.ref.current)-N.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},g,a]}var wQ=uc[" useId ".trim().toString()]||(()=>{}),NQ=0;function SQ(e){const[t,n]=S.useState(wQ());return Od(()=>{n(a=>a??String(NQ++))},[e]),t?`radix-${t}`:""}function CQ(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>t.current?.(...n),[])}var AQ=S.createContext(void 0);function EQ(e){const t=S.useContext(AQ);return e||t||"ltr"}var ij="rovingFocusGroup.onEntryFocus",PQ={bubbles:!1,cancelable:!0},kx="RovingFocusGroup",[mS,SM,TQ]=jQ(kx),[IQ,CM]=fh(kx,[TQ]),[DQ,_Q]=IQ(kx),AM=S.forwardRef((e,t)=>r.jsx(mS.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(mS.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(kQ,{...e,ref:t})})}));AM.displayName=kx;var kQ=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,p=S.useRef(null),v=To(t,p),g=EQ(i),[y,x]=Uy({prop:o,defaultProp:l??null,onChange:c,caller:kx}),[j,b]=S.useState(!1),N=CQ(u),P=SM(n),I=S.useRef(!1),[w,E]=S.useState(0);return S.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(ij,N),()=>C.removeEventListener(ij,N)},[N]),r.jsx(DQ,{scope:n,orientation:a,dir:g,loop:s,currentTabStopId:y,onItemFocus:S.useCallback(C=>x(C),[x]),onItemShiftTab:S.useCallback(()=>b(!0),[]),onFocusableItemAdd:S.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>E(C=>C-1),[]),children:r.jsx(la.div,{tabIndex:j||w===0?-1:0,"data-orientation":a,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:zn(e.onMouseDown,()=>{I.current=!0}),onFocus:zn(e.onFocus,C=>{const _=!I.current;if(C.target===C.currentTarget&&_&&!j){const M=new CustomEvent(ij,PQ);if(C.currentTarget.dispatchEvent(M),!M.defaultPrevented){const k=P().filter(V=>V.focusable),D=k.find(V=>V.active),R=k.find(V=>V.id===y),z=[D,R,...k].filter(Boolean).map(V=>V.ref.current);TM(z,h)}}I.current=!1}),onBlur:zn(e.onBlur,()=>b(!1))})})}),EM="RovingFocusGroupItem",PM=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=SQ(),u=i||c,h=_Q(EM,n),f=h.currentTabStopId===u,p=SM(n),{onFocusableItemAdd:v,onFocusableItemRemove:g,currentTabStopId:y}=h;return S.useEffect(()=>{if(a)return v(),()=>g()},[a,v,g]),r.jsx(mS.ItemSlot,{scope:n,id:u,focusable:a,active:s,children:r.jsx(la.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:zn(e.onMouseDown,x=>{a?h.onItemFocus(u):x.preventDefault()}),onFocus:zn(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:zn(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const j=LQ(x,h.orientation,h.dir);if(j!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let N=p().filter(P=>P.focusable).map(P=>P.ref.current);if(j==="last")N.reverse();else if(j==="prev"||j==="next"){j==="prev"&&N.reverse();const P=N.indexOf(x.currentTarget);N=h.loop?FQ(N,P+1):N.slice(P+1)}setTimeout(()=>TM(N))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});PM.displayName=EM;var OQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LQ(e,t,n){const a=RQ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return OQ[a]}function TM(e,t=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}function FQ(e,t){return e.map((n,a)=>e[(t+a)%e.length])}var MQ=AM,$Q=PM,BQ=S.createContext(void 0);function qQ(e){const t=S.useContext(BQ);return e||t||"ltr"}var zQ=uc[" useId ".trim().toString()]||(()=>{}),UQ=0;function VQ(e){const[t,n]=S.useState(zQ());return Od(()=>{n(a=>a??String(UQ++))},[e]),e||(t?`radix-${t}`:"")}var ab="Tabs",[WQ,awe]=fh(ab,[CM]),IM=CM(),[HQ,OA]=WQ(ab),DM=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=qQ(l),[f,p]=Uy({prop:a,onChange:s,defaultProp:i??"",caller:ab});return r.jsx(HQ,{scope:n,baseId:VQ(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:r.jsx(la.div,{dir:h,"data-orientation":o,...u,ref:t})})});DM.displayName=ab;var _M="TabsList",kM=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=OA(_M,n),o=IM(n);return r.jsx(MQ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:r.jsx(la.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});kM.displayName=_M;var OM="TabsTrigger",RM=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,o=OA(OM,n),l=IM(n),c=MM(o.baseId,a),u=$M(o.baseId,a),h=a===o.value;return r.jsx($Q,{asChild:!0,...l,focusable:!s,active:h,children:r.jsx(la.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:zn(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(a):f.preventDefault()}),onKeyDown:zn(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(a)}),onFocus:zn(e.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(a)})})})});RM.displayName=OM;var LM="TabsContent",FM=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...o}=e,l=OA(LM,n),c=MM(l.baseId,a),u=$M(l.baseId,a),h=a===l.value,f=S.useRef(h);return S.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),r.jsx(zy,{present:s||h,children:({present:p})=>r.jsx(la.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});FM.displayName=LM;function MM(e,t){return`${e}-trigger-${t}`}function $M(e,t){return`${e}-content-${t}`}var GQ=DM,BM=kM,qM=RM,zM=FM;const Or=GQ,kr=S.forwardRef(({className:e,...t},n)=>r.jsx(BM,{ref:n,className:ot("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));kr.displayName=BM.displayName;const ut=S.forwardRef(({className:e,...t},n)=>r.jsx(qM,{ref:n,className:ot("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ut.displayName=qM.displayName;const ft=S.forwardRef(({className:e,...t},n)=>r.jsx(zM,{ref:n,className:ot("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ft.displayName=zM.displayName;function KQ(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function YQ(e){const[t,n]=S.useState(void 0);return Od(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),t}var sb="Checkbox",[XQ,swe]=fh(sb),[QQ,RA]=XQ(sb);function JQ(e){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=e,[p,v]=Uy({prop:n,defaultProp:s??!1,onChange:c,caller:sb}),[g,y]=S.useState(null),[x,j]=S.useState(null),b=S.useRef(!1),N=g?!!o||!!g.closest("form"):!0,P={checked:p,disabled:i,setChecked:v,control:g,setControl:y,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ed(s)?!1:s,isFormControl:N,bubbleInput:x,setBubbleInput:j};return r.jsx(QQ,{scope:t,...P,children:ZQ(f)?f(P):a})}var UM="CheckboxTrigger",VM=S.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...a},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:g}=RA(UM,e),y=To(s,h),x=S.useRef(c);return S.useEffect(()=>{const j=i?.form;if(j){const b=()=>f(x.current);return j.addEventListener("reset",b),()=>j.removeEventListener("reset",b)}},[i,f]),r.jsx(la.button,{type:"button",role:"checkbox","aria-checked":Ed(c)?"mixed":c,"aria-required":u,"data-state":YM(c),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:y,onKeyDown:zn(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:zn(n,j=>{f(b=>Ed(b)?!0:!b),g&&v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})})});VM.displayName=UM;var LA=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:h,...f}=e;return r.jsx(JQ,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:a,form:h,value:c,internal_do_not_use_render:({isFormControl:p})=>r.jsxs(r.Fragment,{children:[r.jsx(VM,{...f,ref:t,__scopeCheckbox:n}),p&&r.jsx(KM,{__scopeCheckbox:n})]})})});LA.displayName=sb;var WM="CheckboxIndicator",HM=S.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,i=RA(WM,n);return r.jsx(zy,{present:a||Ed(i.checked)||i.checked===!0,children:r.jsx(la.span,{"data-state":YM(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});HM.displayName=WM;var GM="CheckboxBubbleInput",KM=S.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:p,setBubbleInput:v}=RA(GM,e),g=To(n,v),y=KQ(i),x=YQ(a);S.useEffect(()=>{const b=p;if(!b)return;const N=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(N,"checked").set,w=!s.current;if(y!==i&&I){const E=new Event("click",{bubbles:w});b.indeterminate=Ed(i),I.call(b,Ed(i)?!1:i),b.dispatchEvent(E)}},[p,y,i,s]);const j=S.useRef(Ed(i)?!1:i);return r.jsx(la.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:u,value:h,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});KM.displayName=GM;function ZQ(e){return typeof e=="function"}function Ed(e){return e==="indeterminate"}function YM(e){return Ed(e)?"indeterminate":e?"checked":"unchecked"}const Ut=S.forwardRef(({className:e,...t},n)=>r.jsx(LA,{ref:n,className:ot("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(HM,{className:ot("flex items-center justify-center text-current"),children:r.jsx(Hy,{className:"h-4 w-4"})})}));Ut.displayName=LA.displayName;function eJ({settings:e,onChange:t}){const n=(o,l)=>{t({[o]:l})},a=[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"America/Anchorage",label:"Alaska Time (AKT)"},{value:"Pacific/Honolulu",label:"Hawaii Time (HT)"},{value:"UTC",label:"Universal Time (UTC)"}],s=[{value:"user",label:"User"},{value:"sales",label:"Sales"},{value:"service",label:"Service"},{value:"manager",label:"Manager"},{value:"admin",label:"Admin"}],i=[{value:"minimal",label:"Minimal"},{value:"standard",label:"Standard"},{value:"verbose",label:"Verbose"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"systemName",children:"System Name"}),r.jsx(Ee,{id:"systemName",value:e.systemName||"",onChange:o=>n("systemName",o.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"systemVersion",children:"System Version"}),r.jsx(Ee,{id:"systemVersion",value:e.systemVersion||"",onChange:o=>n("systemVersion",o.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"supportEmail",children:"Support Email"}),r.jsx(Ee,{id:"supportEmail",type:"email",value:e.supportEmail||"",onChange:o=>n("supportEmail",o.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"supportPhone",children:"Support Phone"}),r.jsx(Ee,{id:"supportPhone",value:e.supportPhone||"",onChange:o=>n("supportPhone",o.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"timezone",children:"Default Timezone"}),r.jsxs(Xe,{value:e.timezone||"America/New_York",onValueChange:o=>n("timezone",o),children:[r.jsx(Ke,{className:"max-w-md",children:r.jsx(Qe,{})}),r.jsx(Ye,{children:a.map(o=>r.jsx(ee,{value:o.value,children:o.label},o.value))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"defaultUserRole",children:"Default User Role"}),r.jsxs(Xe,{value:e.defaultUserRole||"user",onValueChange:o=>n("defaultUserRole",o),children:[r.jsx(Ke,{className:"max-w-md",children:r.jsx(Qe,{})}),r.jsx(Ye,{children:s.map(o=>r.jsx(ee,{value:o.value,children:o.label},o.value))})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Maintenance Mode"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"maintenanceMode",checked:e.maintenanceMode||!1,onCheckedChange:o=>n("maintenanceMode",!!o)}),r.jsx(ie,{htmlFor:"maintenanceMode",children:"Enable Maintenance Mode"})]}),e.maintenanceMode&&r.jsxs("div",{className:"bg-yellow-50 p-4 rounded-md flex items-start space-x-2",children:[r.jsx(Vi,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-800",children:"Warning"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Enabling maintenance mode will prevent all users from accessing the system except for administrators."})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"maintenanceMessage",children:"Maintenance Message"}),r.jsx(wr,{id:"maintenanceMessage",value:e.maintenanceMessage||"",onChange:o=>n("maintenanceMessage",o.target.value),placeholder:"Enter message to display during maintenance",className:"max-w-md"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Audit Logging"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"auditLogRetentionDays",children:"Audit Log Retention (Days)"}),r.jsx(Ee,{id:"auditLogRetentionDays",type:"number",value:e.auditLogRetentionDays||0,onChange:o=>n("auditLogRetentionDays",parseInt(o.target.value)),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"auditLogLevel",children:"Audit Log Level"}),r.jsxs(Xe,{value:e.auditLogLevel||"standard",onValueChange:o=>n("auditLogLevel",o),children:[r.jsx(Ke,{className:"max-w-md",children:r.jsx(Qe,{})}),r.jsx(Ye,{children:i.map(o=>r.jsx(ee,{value:o.value,children:o.label},o.value))})]})]})]})]})]})}function tJ({settings:e,onChange:t}){const n=(i,o)=>{t({[i]:o})},a=[{value:"USD",label:"US Dollar (USD)"},{value:"EUR",label:"Euro (EUR)"},{value:"GBP",label:"British Pound (GBP)"},{value:"CAD",label:"Canadian Dollar (CAD)"},{value:"AUD",label:"Australian Dollar (AUD)"}],s=[{value:"none",label:"None"},{value:"stripe",label:"Stripe"},{value:"paypal",label:"PayPal"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Currency Settings"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"currency",children:"Default Currency"}),r.jsxs(Xe,{value:e.currency||"USD",onValueChange:i=>n("currency",i),children:[r.jsx(Ke,{className:"max-w-md",children:r.jsx(Qe,{})}),r.jsx(Ye,{children:a.map(i=>r.jsx(ee,{value:i.value,children:i.label},i.value))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"currencySymbol",children:"Currency Symbol"}),r.jsx(Ee,{id:"currencySymbol",value:e.currencySymbol||"$",onChange:i=>n("currencySymbol",i.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"taxRate",children:"Default Tax Rate (%)"}),r.jsx(Ee,{id:"taxRate",type:"number",step:"0.01",value:e.taxRate*100||0,onChange:i=>n("taxRate",parseFloat(i.target.value)/100),className:"max-w-md"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Gateway Integration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"paymentGateway",children:"Select Payment Gateway"}),r.jsxs(Xe,{value:e.paymentGateway||"none",onValueChange:i=>n("paymentGateway",i),children:[r.jsx(Ke,{className:"max-w-md",children:r.jsx(Qe,{})}),r.jsx(Ye,{children:s.map(i=>r.jsx(ee,{value:i.value,children:i.label},i.value))})]})]}),e.paymentGateway==="stripe"&&r.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[r.jsx("h4",{className:"font-medium",children:"Stripe Configuration"}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"stripePublishableKey",children:"Stripe Publishable Key"}),r.jsx(Ee,{id:"stripePublishableKey",value:e.stripePublishableKey||"",onChange:i=>n("stripePublishableKey",i.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"stripeSecretKey",children:"Stripe Secret Key"}),r.jsx(Ee,{id:"stripeSecretKey",type:"password",value:e.stripeSecretKey||"",onChange:i=>n("stripeSecretKey",i.target.value),className:"max-w-md"})]})]}),e.paymentGateway==="paypal"&&r.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[r.jsx("h4",{className:"font-medium",children:"PayPal Configuration"}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"paypalClientId",children:"PayPal Client ID"}),r.jsx(Ee,{id:"paypalClientId",value:e.paypalClientId||"",onChange:i=>n("paypalClientId",i.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"paypalClientSecret",children:"PayPal Client Secret"}),r.jsx(Ee,{id:"paypalClientSecret",type:"password",value:e.paypalClientSecret||"",onChange:i=>n("paypalClientSecret",i.target.value),className:"max-w-md"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"enableSubscriptions",checked:e.enableSubscriptions||!1,onCheckedChange:i=>n("enableSubscriptions",!!i)}),r.jsx(ie,{htmlFor:"enableSubscriptions",children:"Enable Subscription Payments"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"enableInvoiceGeneration",checked:e.enableInvoiceGeneration||!1,onCheckedChange:i=>n("enableInvoiceGeneration",!!i)}),r.jsx(ie,{htmlFor:"enableInvoiceGeneration",children:"Enable Automatic Invoice Generation"})]})]})]})]})}function rJ({settings:e,onChange:t}){const n=(s,i)=>{t({[s]:i})},a=[{value:"none",label:"None"},{value:"twilio",label:"Twilio"},{value:"messagebird",label:"MessageBird"},{value:"vonage",label:"Vonage (Nexmo)"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"SMS Provider Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smsProvider",children:"SMS Provider"}),r.jsxs(Xe,{value:e.smsProvider||"none",onValueChange:s=>n("smsProvider",s),children:[r.jsx(Ke,{className:"max-w-md",children:r.jsx(Qe,{})}),r.jsx(Ye,{children:a.map(s=>r.jsx(ee,{value:s.value,children:s.label},s.value))})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"smsEnabled",checked:e.smsEnabled||!1,onCheckedChange:s=>n("smsEnabled",!!s)}),r.jsx(ie,{htmlFor:"smsEnabled",children:"Enable SMS Notifications"})]}),e.smsProvider==="twilio"&&r.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[r.jsx("h4",{className:"font-medium",children:"Twilio Configuration"}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"twilioAccountSid",children:"Twilio Account SID"}),r.jsx(Ee,{id:"twilioAccountSid",value:e.twilioAccountSid||"",onChange:s=>n("twilioAccountSid",s.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"twilioAuthToken",children:"Twilio Auth Token"}),r.jsx(Ee,{id:"twilioAuthToken",type:"password",value:e.twilioAuthToken||"",onChange:s=>n("twilioAuthToken",s.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"twilioPhoneNumber",children:"Twilio Phone Number"}),r.jsx(Ee,{id:"twilioPhoneNumber",value:e.twilioPhoneNumber||"",onChange:s=>n("twilioPhoneNumber",s.target.value),placeholder:"+15551234567",className:"max-w-md"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Must be in E.164 format (e.g., +15551234567)"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"SMS Templates"}),r.jsx("div",{className:"bg-muted/30 p-4 rounded-md",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Un,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"SMS Templates"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"SMS templates can be configured in the Company Settings area under Notification Templates."})]})]})})]})]})}function nJ({settings:e,onChange:t}){const n=(s,i)=>{t({[s]:i})},a=[{value:"none",label:"None"},{value:"smtp",label:"SMTP"},{value:"sendgrid",label:"SendGrid"},{value:"mailgun",label:"Mailgun"},{value:"ses",label:"Amazon SES"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Email Provider Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailProvider",children:"Email Provider"}),r.jsxs(Xe,{value:e.emailProvider||"none",onValueChange:s=>n("emailProvider",s),children:[r.jsx(Ke,{className:"max-w-md",children:r.jsx(Qe,{})}),r.jsx(Ye,{children:a.map(s=>r.jsx(ee,{value:s.value,children:s.label},s.value))})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"emailEnabled",checked:e.emailEnabled||!1,onCheckedChange:s=>n("emailEnabled",!!s)}),r.jsx(ie,{htmlFor:"emailEnabled",children:"Enable Email Notifications"})]}),e.emailProvider==="smtp"&&r.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[r.jsx("h4",{className:"font-medium",children:"SMTP Configuration"}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smtpHost",children:"SMTP Host"}),r.jsx(Ee,{id:"smtpHost",value:e.smtpHost||"",onChange:s=>n("smtpHost",s.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smtpPort",children:"SMTP Port"}),r.jsx(Ee,{id:"smtpPort",type:"number",value:e.smtpPort||587,onChange:s=>n("smtpPort",parseInt(s.target.value)),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smtpUsername",children:"SMTP Username"}),r.jsx(Ee,{id:"smtpUsername",value:e.smtpUsername||"",onChange:s=>n("smtpUsername",s.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smtpPassword",children:"SMTP Password"}),r.jsx(Ee,{id:"smtpPassword",type:"password",value:e.smtpPassword||"",onChange:s=>n("smtpPassword",s.target.value),className:"max-w-md"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"smtpSecure",checked:e.smtpSecure||!1,onCheckedChange:s=>n("smtpSecure",!!s)}),r.jsx(ie,{htmlFor:"smtpSecure",children:"Use SSL/TLS (Secure Connection)"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailFromAddress",children:"From Email Address"}),r.jsx(Ee,{id:"emailFromAddress",type:"email",value:e.emailFromAddress||"",onChange:s=>n("emailFromAddress",s.target.value),placeholder:"noreply@example.com",className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailFromName",children:"From Name"}),r.jsx(Ee,{id:"emailFromName",value:e.emailFromName||"",onChange:s=>n("emailFromName",s.target.value),placeholder:"Your Company Name",className:"max-w-md"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Email Templates"}),r.jsx("div",{className:"bg-muted/30 p-4 rounded-md",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Mn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Email Templates"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Email templates can be configured in the Company Settings area under Notification Templates."})]})]})})]})]})}function aJ({settings:e,onChange:t}){const n=(s,i)=>{t({[s]:i})},a=[{value:"none",label:"None"},{value:"twilio",label:"Twilio"}];return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Voice Provider Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"voiceProvider",children:"Voice Provider"}),r.jsxs(Xe,{value:e.voiceProvider||"none",onValueChange:s=>n("voiceProvider",s),children:[r.jsx(Ke,{className:"max-w-md",children:r.jsx(Qe,{})}),r.jsx(Ye,{children:a.map(s=>r.jsx(ee,{value:s.value,children:s.label},s.value))})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"voiceEnabled",checked:e.voiceEnabled||!1,onCheckedChange:s=>n("voiceEnabled",!!s)}),r.jsx(ie,{htmlFor:"voiceEnabled",children:"Enable Voice Features"})]}),e.voiceProvider==="twilio"&&r.jsxs("div",{className:"space-y-4 border p-4 rounded-md",children:[r.jsx("h4",{className:"font-medium",children:"Twilio Voice Configuration"}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"twilioVoiceSid",children:"Twilio Account SID"}),r.jsx(Ee,{id:"twilioVoiceSid",value:e.twilioVoiceSid||"",onChange:s=>n("twilioVoiceSid",s.target.value),className:"max-w-md"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"twilioVoiceAuthToken",children:"Twilio Auth Token"}),r.jsx(Ee,{id:"twilioVoiceAuthToken",type:"password",value:e.twilioVoiceAuthToken||"",onChange:s=>n("twilioVoiceAuthToken",s.target.value),className:"max-w-md"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"This is typically the same Account SID and Auth Token used for SMS, but can be different if needed."})]})]})]})})}const oj={appName:"Renter Insight",appLogo:"/logo.svg",contactEmail:"support@renterinsight.com",contactPhone:"+1 (555) 123-4567",address:"123 Main St, Anytown, USA",website:"https://www.renterinsight.com",timezone:"America/Los_Angeles",dateFormat:"MM/DD/YYYY",timeFormat:"hh:mm A",currency:"USD",currencySymbol:"$",language:"en",maintenanceMode:!1,welcomeMessage:"Welcome to Renter Insight!",paymentGateway:"stripe",stripePublishableKey:"",stripeSecretKey:"",paypalClientId:"",paypalClientSecret:"",enableSubscriptions:!0,taxRate:.05,enableInvoiceGeneration:!0,smsProvider:"twilio",twilioAccountSid:"",twilioAuthToken:"",twilioPhoneNumber:"",smsEnabled:!0,smsTemplates:[],emailProvider:"smtp",smtpHost:"",smtpPort:587,smtpUsername:"",smtpPassword:"",smtpSecure:!1,emailFromAddress:"noreply@example.com",emailFromName:"Renter Insight",emailEnabled:!0,emailTemplates:[],voiceProvider:"twilio",twilioVoiceSid:"",twilioVoiceAuthToken:"",voiceEnabled:!1,passwordMinLength:8,passwordRequiresUppercase:!0,passwordRequiresLowercase:!0,passwordRequiresNumber:!0,passwordRequiresSymbol:!0,twoFactorAuthEnabled:!1,sessionTimeout:3600,failedLoginAttemptsLockout:5,lockoutDuration:300,googleMapsApiKey:"",slackWebhookUrl:"",googleAnalyticsTrackingId:"",mixpanelProjectId:"",primaryColor:"#4F46E5",secondaryColor:"#10B981",fontFamily:"Inter, sans-serif",termsOfServiceUrl:"/terms",privacyPolicyUrl:"/privacy",supportPageUrl:"/support"};function sJ(){const[e,t]=S.useState(oj),[n,a]=S.useState(!0),[s,i]=S.useState(null);S.useEffect(()=>{try{const c=localStorage.getItem("platformSettings");c&&t({...oj,...JSON.parse(c)})}catch(c){console.error("Failed to load settings from local storage",c),i("Failed to load settings.")}finally{a(!1)}},[]);const o=S.useCallback(c=>{t(u=>{const h={...u,...c};try{localStorage.setItem("platformSettings",JSON.stringify(h))}catch(f){console.error("Failed to save settings to local storage",f),i("Failed to save settings.")}return h})},[]),l=S.useCallback(()=>{t(oj);try{localStorage.removeItem("platformSettings")}catch(c){console.error("Failed to clear settings from local storage",c),i("Failed to reset settings.")}},[]);return{settings:e,updateSettings:o,resetSettings:l,loading:n,error:s}}function iJ(){const{settings:e,updateSettings:t,resetSettings:n,loading:a,error:s}=sJ(),{toast:i}=Ht(),[o,l]=S.useState("general"),c=f=>{t(f)},u=()=>{console.log("Saving settings:",e),i({title:"Settings Saved",description:"Your platform settings have been updated."})},h=()=>{n(),i({title:"Settings Reset",description:"All settings have been reset to their default values."})};return a?r.jsx("div",{children:"Loading settings..."}):s?r.jsxs("div",{className:"text-red-500",children:["Error: ",s]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Platform Settings"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage global platform configurations."})]}),r.jsxs("div",{className:"space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:h,children:"Reset to Defaults"}),r.jsx(ae,{onClick:u,children:"Save Changes"})]})]}),r.jsxs(ye,{children:[r.jsx(Pe,{children:r.jsx(Te,{children:"Configuration"})}),r.jsx(be,{children:r.jsxs(Or,{value:o,onValueChange:l,className:"w-full",children:[r.jsxs(kr,{className:"grid w-full grid-cols-5",children:[" ",r.jsx(ut,{value:"general",children:"General"}),r.jsx(ut,{value:"payment",children:"Payment"}),r.jsx(ut,{value:"sms",children:"SMS"}),r.jsx(ut,{value:"email",children:"Email"}),r.jsx(ut,{value:"voice",children:"Voice"})]}),r.jsx(ft,{value:"general",children:r.jsx(eJ,{settings:e,onChange:c})}),r.jsx(ft,{value:"payment",children:r.jsx(tJ,{settings:e,onChange:c})}),r.jsx(ft,{value:"sms",children:r.jsx(rJ,{settings:e,onChange:c})}),r.jsx(ft,{value:"email",children:r.jsx(nJ,{settings:e,onChange:c})}),r.jsx(ft,{value:"voice",children:r.jsx(aJ,{settings:e,onChange:c})})]})})]})]})}const oJ=Wy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...n}){return r.jsx("div",{className:ot(oJ({variant:t}),e),...n})}const lj=[{id:"1",name:"New",order:1,probability:10,isActive:!0,color:"bg-blue-500"},{id:"2",name:"Contacted",order:2,probability:25,isActive:!0,color:"bg-yellow-500"},{id:"3",name:"Qualified",order:3,probability:50,isActive:!0,color:"bg-orange-500"},{id:"4",name:"Proposal",order:4,probability:75,isActive:!0,color:"bg-purple-500"},{id:"5",name:"Negotiation",order:5,probability:90,isActive:!0,color:"bg-indigo-500"},{id:"6",name:"Closed Won",order:6,probability:100,isActive:!0,color:"bg-green-500"},{id:"7",name:"Closed Lost",order:7,probability:0,isActive:!0,color:"bg-red-500"}];function lJ(){const{leads:e,salesReps:t,activities:n}=bl(),[a,s]=S.useState("all"),[i,o]=S.useState("30"),l=S.useMemo(()=>{const f=a==="all"?e:e.filter(v=>v.assignedTo===a);return lj.map(v=>{const g=f.filter(x=>{switch(v.name.toLowerCase()){case"new":return x.status===_a.NEW;case"contacted":return x.status===_a.CONTACTED;case"qualified":return x.status===_a.QUALIFIED;case"proposal":return x.status===_a.PROPOSAL;case"negotiation":return x.status===_a.NEGOTIATION;case"closed won":return x.status===_a.CLOSED_WON;case"closed lost":return x.status===_a.CLOSED_LOST;default:return!1}}),y=g.reduce((x,j)=>{const b=parseFloat(j.customFields?.budget?.replace(/[^0-9]/g,"")||"0");return x+b*v.probability/100},0);return{stage:v.name,count:g.length,value:y,averageTime:7,conversionRate:v.probability}})},[e,a]),c=S.useMemo(()=>t.map(p=>{const v=e.filter(E=>E.assignedTo===p.id),y=n.filter(E=>E.userId===p.id).filter(E=>{const C=new Date(E.createdAt),_=new Date;return _.setDate(_.getDate()-7),C>=_}),x=v.filter(E=>[_a.QUALIFIED,_a.PROPOSAL,_a.NEGOTIATION,_a.CLOSED_WON].includes(E.status)),j=v.filter(E=>E.status===_a.CLOSED_WON),b=v.filter(E=>E.status===_a.CLOSED_LOST),N=v.reduce((E,C)=>{if(C.status===_a.CLOSED_WON||C.status===_a.CLOSED_LOST)return E;const _=parseFloat(C.customFields?.budget?.replace(/[^0-9]/g,"")||"0"),M=lj.find(k=>k.name.toLowerCase()===C.status.replace("_"," "));return E+_*(M?.probability||0)/100},0),P=j.length+b.length,I=P>0?j.length/P*100:0,w=j.length>0?j.reduce((E,C)=>{const _=parseFloat(C.customFields?.budget?.replace(/[^0-9]/g,"")||"0");return E+_},0)/j.length:0;return{repId:p.id,repName:p.name,totalLeads:v.length,qualifiedLeads:x.length,closedWon:j.length,closedLost:b.length,pipelineValue:N,conversionRate:I,averageDealSize:w,activitiesThisWeek:y.length}}),[e,t,n]),u=l.reduce((f,p)=>f+p.value,0),h=l.reduce((f,p)=>f+p.count,0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs(Xe,{value:a,onValueChange:s,children:[r.jsx(Ke,{className:"w-48",children:r.jsx(Qe,{placeholder:"Select sales rep"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Sales Reps"}),t.map(f=>r.jsx(ee,{value:f.id,children:f.name},f.id))]})]}),r.jsxs(Xe,{value:i,onValueChange:o,children:[r.jsx(Ke,{className:"w-32",children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"7",children:"7 days"}),r.jsx(ee,{value:"30",children:"30 days"}),r.jsx(ee,{value:"90",children:"90 days"}),r.jsx(ee,{value:"365",children:"1 year"})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),r.jsx(lr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Me(u)}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),h," active leads"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Qualified Leads"}),r.jsx(yi,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:l.find(f=>f.stage==="Qualified")?.count||0}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Ready for proposal"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Conversion Rate"}),r.jsx(yi,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[Math.round(a==="all"?c.reduce((f,p)=>f+p.conversionRate,0)/c.length||0:c.find(f=>f.repId===a)?.conversionRate||0),"%"]}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Win rate"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),r.jsx(lr,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Me(a==="all"?c.reduce((f,p)=>f+p.averageDealSize,0)/c.length||0:c.find(f=>f.repId===a)?.averageDealSize||0)}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(lr,{className:"h-3 w-3 mr-1"}),"Per closed deal"]})]})]})]}),r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Sales Pipeline"}),r.jsx(tt,{children:"Lead distribution across pipeline stages"})]}),r.jsx(be,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:l.map((f,p)=>{const v=lj[p];return r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:ot("w-full h-24 rounded-lg flex items-center justify-center text-white font-bold text-lg mb-2",v.color),children:f.count}),r.jsx("h3",{className:"font-semibold text-sm",children:v.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:Me(f.value)}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.probability,"% probability"]})]},v.id)})})})]}),r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Sales Rep Performance"}),r.jsx(tt,{children:"Individual performance metrics and activity levels"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:c.map(f=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold",children:f.repName}),r.jsxs(Ze,{variant:"secondary",children:[f.totalLeads," leads"]}),r.jsxs(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:[f.conversionRate.toFixed(1),"% conversion"]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Pipeline Value:"}),r.jsx("div",{className:"font-bold text-primary",children:Me(f.pipelineValue)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Qualified:"}),r.jsx("div",{className:"font-bold text-green-600",children:f.qualifiedLeads})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Closed Won:"}),r.jsx("div",{className:"font-bold text-blue-600",children:f.closedWon})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Activities (7d):"}),r.jsx("div",{className:"font-bold text-purple-600",children:f.activitiesThisWeek})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{variant:"outline",size:"sm",children:[r.jsx(Na,{className:"h-3 w-3 mr-1"}),"View Leads"]}),r.jsxs(ae,{variant:"outline",size:"sm",children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Activities"]})]})]},f.repId))})})]})]})}var FA="Progress",MA=100,[cJ,iwe]=fh(FA),[uJ,dJ]=cJ(FA),XM=S.forwardRef((e,t)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:i=fJ,...o}=e;(s||s===0)&&!NP(s)&&console.error(hJ(`${s}`,"Progress"));const l=NP(s)?s:MA;a!==null&&!SP(a,l)&&console.error(mJ(`${a}`,"Progress"));const c=SP(a,l)?a:null,u=D0(c)?i(c,l):void 0;return r.jsx(uJ,{scope:n,value:c,max:l,children:r.jsx(la.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":D0(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":ZM(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});XM.displayName=FA;var QM="ProgressIndicator",JM=S.forwardRef((e,t)=>{const{__scopeProgress:n,...a}=e,s=dJ(QM,n);return r.jsx(la.div,{"data-state":ZM(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:t})});JM.displayName=QM;function fJ(e,t){return`${Math.round(e/t*100)}%`}function ZM(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function D0(e){return typeof e=="number"}function NP(e){return D0(e)&&!isNaN(e)&&e>0}function SP(e,t){return D0(e)&&!isNaN(e)&&e<=t&&e>=0}function hJ(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${MA}\`.`}function mJ(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${MA} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var e7=XM,pJ=JM;const Xf=S.forwardRef(({className:e,value:t,...n},a)=>r.jsx(e7,{ref:a,className:ot("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:r.jsx(pJ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Xf.displayName=e7.displayName;function vJ({score:e,className:t}){const n=i=>i>=80?"text-green-600":i>=60?"text-yellow-600":i>=40?"text-orange-600":"text-red-600",a=i=>i>=80?"bg-green-50 text-green-700 border-green-200":i>=60?"bg-yellow-50 text-yellow-700 border-yellow-200":i>=40?"bg-orange-50 text-orange-700 border-orange-200":"bg-red-50 text-red-700 border-red-200",s=i=>i>=80?"Hot Lead":i>=60?"Warm Lead":i>=40?"Cool Lead":"Cold Lead";return r.jsxs(ye,{className:ot("shadow-sm",t),children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg",children:"Lead Score"}),r.jsxs(tt,{children:["Last calculated: ",e.lastCalculated.toLocaleDateString()]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:ot("text-3xl font-bold",n(e.totalScore)),children:e.totalScore}),r.jsx(Ze,{className:ot("ri-badge-status",a(e.totalScore)),children:s(e.totalScore)})]})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fs,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Demographics"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xf,{value:e.demographicScore/50*100,className:"w-20"}),r.jsx("span",{className:"text-sm font-bold w-8",children:e.demographicScore})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ff,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Behavior"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xf,{value:e.behaviorScore/50*100,className:"w-20"}),r.jsx("span",{className:"text-sm font-bold w-8",children:e.behaviorScore})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(XU,{className:"h-4 w-4 text-purple-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Engagement"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xf,{value:e.engagementScore/50*100,className:"w-20"}),r.jsx("span",{className:"text-sm font-bold w-8",children:e.engagementScore})]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(ar,{className:"h-4 w-4 mr-2"}),"Score Factors"]}),r.jsx("div",{className:"space-y-2",children:e.factors.map((i,o)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:i.factor}),r.jsx("p",{className:"text-xs text-muted-foreground",children:i.reason})]}),r.jsxs(Ze,{variant:"secondary",className:"text-xs",children:["+",i.points]})]},o))})]}),r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:"Recommendations"}),r.jsxs("div",{className:"space-y-1 text-xs text-blue-700",children:[e.totalScore>=80&&r.jsx("p",{children:"• High priority lead - schedule immediate follow-up"}),e.totalScore>=60&&e.totalScore<80&&r.jsx("p",{children:"• Good potential - maintain regular contact"}),e.totalScore>=40&&e.totalScore<60&&r.jsx("p",{children:"• Nurture with educational content"}),e.totalScore<40&&r.jsx("p",{children:"• Low priority - add to drip campaign"}),e.behaviorScore<20&&r.jsx("p",{children:"• Increase engagement with personalized outreach"}),e.engagementScore<20&&r.jsx("p",{children:"• Try different communication channels"})]})]})]})]})}function xJ({leadId:e,activities:t}){const{logActivity:n}=bl(),[a,s]=S.useState(!1),[i,o]=S.useState({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),l=p=>{switch(p){case"call":return op;case"email":return Mn;case"meeting":return gn;case"note":return Un;case"status_change":return fs;default:return Un}},c=p=>{switch(p){case"call":return"text-green-500";case"email":return"text-blue-500";case"meeting":return"text-purple-500";case"note":return"text-gray-500";case"status_change":return"text-orange-500";default:return"text-gray-500"}},u=p=>{switch(p){case"positive":return"bg-green-50 text-green-700 border-green-200";case"neutral":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"negative":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},h=async()=>{i.description.trim()&&(await n({leadId:e,type:i.type,description:i.description,outcome:i.outcome,duration:i.duration,scheduledDate:i.scheduledDate,userId:"current-user"}),o({type:"note",description:"",outcome:void 0,duration:void 0,scheduledDate:void 0}),s(!1))},f=[...t].sort((p,v)=>new Date(v.createdAt).getTime()-new Date(p.createdAt).getTime());return r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg",children:"Activity Timeline"}),r.jsx(tt,{children:"Track all interactions and activities for this lead"})]}),r.jsxs(ae,{onClick:()=>s(!0),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Activity"]})]})}),r.jsxs(be,{children:[a&&r.jsx(ye,{className:"mb-6 border-dashed",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Activity Type"}),r.jsxs(Xe,{value:i.type,onValueChange:p=>o(v=>({...v,type:p})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"call",children:"Phone Call"}),r.jsx(ee,{value:"email",children:"Email"}),r.jsx(ee,{value:"meeting",children:"Meeting"}),r.jsx(ee,{value:"note",children:"Note"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Outcome"}),r.jsxs(Xe,{value:i.outcome||"",onValueChange:p=>o(v=>({...v,outcome:p||void 0})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select outcome"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"positive",children:"Positive"}),r.jsx(ee,{value:"neutral",children:"Neutral"}),r.jsx(ee,{value:"negative",children:"Negative"})]})]})]})]}),i.type==="call"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Duration (minutes)"}),r.jsx(Ee,{type:"number",value:i.duration||"",onChange:p=>o(v=>({...v,duration:p.target.value?parseInt(p.target.value):void 0})),placeholder:"e.g., 15"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Description"}),r.jsx(wr,{value:i.description,onChange:p=>o(v=>({...v,description:p.target.value})),placeholder:"Describe the activity...",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),r.jsx(ae,{onClick:h,children:"Add Activity"})]})]})})}),r.jsx("div",{className:"space-y-4",children:f.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activities recorded yet"}):f.map((p,v)=>{const g=l(p.type),y=v===f.length-1;return r.jsxs("div",{className:"relative",children:[!y&&r.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:ot("flex-shrink-0 w-8 h-8 rounded-full bg-background border-2 flex items-center justify-center",c(p.type)),children:r.jsx(g,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium text-sm capitalize",children:p.type.replace("_"," ")}),p.outcome&&r.jsx(Ze,{className:ot("ri-badge-status text-xs",u(p.outcome)),children:p.outcome}),p.duration&&r.jsxs(Ze,{variant:"secondary",className:"text-xs",children:[r.jsx(Ar,{className:"h-3 w-3 mr-1"}),p.duration,"m"]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:Et(p.createdAt)})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:p.description}),p.scheduledDate&&r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Scheduled for: ",Et(p.scheduledDate)]})]})]})]},p.id)})})]})]})}function gJ({leadId:e,reminders:t}){const{createReminder:n,completeReminder:a}=bl(),[s,i]=S.useState(!1),[o,l]=S.useState({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),c=y=>{switch(y){case"urgent":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=y=>{switch(y){case"call":return"📞";case"email":return"📧";case"meeting":return"🤝";case"deadline":return"⏰";default:return"📋"}},h=y=>new Date(y)<new Date,f=async()=>{!o.title.trim()||!o.dueDate||(await n({leadId:e,type:o.type,title:o.title,description:o.description,dueDate:new Date(o.dueDate),priority:o.priority,userId:"current-user"}),l({type:"follow_up",title:"",description:"",dueDate:"",priority:"medium"}),i(!1))},p=async y=>{await a(y)},v=t.filter(y=>!y.isCompleted),g=t.filter(y=>y.isCompleted);return r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-lg flex items-center",children:[r.jsx(FL,{className:"h-5 w-5 mr-2"}),"Reminders"]}),r.jsx(tt,{children:"Set follow-up reminders and track completion"})]}),r.jsxs(ae,{onClick:()=>i(!0),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Reminder"]})]})}),r.jsxs(be,{children:[s&&r.jsx(ye,{className:"mb-6 border-dashed",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Reminder Type"}),r.jsxs(Xe,{value:o.type,onValueChange:y=>l(x=>({...x,type:y})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"follow_up",children:"Follow Up"}),r.jsx(ee,{value:"call",children:"Call"}),r.jsx(ee,{value:"email",children:"Email"}),r.jsx(ee,{value:"meeting",children:"Meeting"}),r.jsx(ee,{value:"deadline",children:"Deadline"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Priority"}),r.jsxs(Xe,{value:o.priority,onValueChange:y=>l(x=>({...x,priority:y})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"low",children:"Low"}),r.jsx(ee,{value:"medium",children:"Medium"}),r.jsx(ee,{value:"high",children:"High"}),r.jsx(ee,{value:"urgent",children:"Urgent"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Title"}),r.jsx(Ee,{value:o.title,onChange:y=>l(x=>({...x,title:y.target.value})),placeholder:"e.g., Follow up on pricing questions"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),r.jsx(Ee,{type:"datetime-local",value:o.dueDate,onChange:y=>l(x=>({...x,dueDate:y.target.value}))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Description"}),r.jsx(wr,{value:o.description,onChange:y=>l(x=>({...x,description:y.target.value})),placeholder:"Additional details...",rows:2})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),r.jsx(ae,{onClick:f,children:"Add Reminder"})]})]})})}),r.jsxs("div",{className:"space-y-6",children:[v.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center",children:[r.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Active Reminders (",v.length,")"]}),r.jsx("div",{className:"space-y-3",children:v.sort((y,x)=>new Date(y.dueDate).getTime()-new Date(x.dueDate).getTime()).map(y=>r.jsxs("div",{className:ot("flex items-start space-x-3 p-3 border rounded-lg",h(y.dueDate)?"border-red-200 bg-red-50":"hover:bg-accent/50"),children:[r.jsx(Ut,{checked:!1,onCheckedChange:()=>p(y.id),className:"mt-1"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:u(y.type)}),r.jsx("span",{className:"font-medium text-sm",children:y.title}),r.jsx(Ze,{className:ot("ri-badge-status text-xs",c(y.priority)),children:y.priority}),h(y.dueDate)&&r.jsxs(Ze,{className:"bg-red-50 text-red-700 border-red-200 text-xs",children:[r.jsx(Vi,{className:"h-3 w-3 mr-1"}),"Overdue"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:y.description}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[r.jsx(gn,{className:"h-3 w-3"}),r.jsxs("span",{children:["Due: ",Et(y.dueDate)]})]})]})]},y.id))})]}),g.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-sm mb-3 text-muted-foreground",children:["Completed (",g.length,")"]}),r.jsx("div",{className:"space-y-2",children:g.sort((y,x)=>new Date(x.dueDate).getTime()-new Date(y.dueDate).getTime()).slice(0,5).map(y=>r.jsxs("div",{className:"flex items-center space-x-3 p-2 text-sm text-muted-foreground",children:[r.jsx(Ut,{checked:!0,disabled:!0}),r.jsx("span",{className:"line-through",children:y.title}),r.jsx("span",{className:"text-xs",children:Et(y.dueDate)})]},y.id))})]}),v.length===0&&g.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reminders set for this lead"})]})]})]})}function yJ({template:e,type:t,onSave:n,onCancel:a}){const{toast:s}=Ht(),[i,o]=S.useState(!1),[l,c]=S.useState({name:e?.name||"",subject:e?.subject||"",body:e?.body||e?.message||"",type:e?.type||"custom",variables:e?.variables||[],isActive:e?.isActive??!0}),[u,h]=S.useState(""),f=[{value:"welcome",label:"Welcome"},{value:"follow_up",label:"Follow Up"},{value:"nurture",label:"Nurture"},{value:"proposal",label:"Proposal"},{value:"reminder",label:"Reminder"},{value:"custom",label:"Custom"}],p=["first_name","last_name","company_name","rep_name","rep_phone","rep_email","website_url","budget","timeframe"],v=async()=>{if(!l.name.trim()){s({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!l.body.trim()){s({title:"Validation Error",description:`${t==="email"?"Email body":"SMS message"} is required`,variant:"destructive"});return}if(t==="email"&&!l.subject.trim()){s({title:"Validation Error",description:"Email subject is required",variant:"destructive"});return}if(t==="sms"&&l.body.length>160){s({title:"Validation Error",description:"SMS message must be 160 characters or less",variant:"destructive"});return}o(!0);try{const j=t==="email"?{name:l.name,subject:l.subject,body:l.body,type:l.type,variables:l.variables,isActive:l.isActive}:{name:l.name,message:l.body,type:l.type,variables:l.variables,isActive:l.isActive};await n(j),s({title:"Success",description:`${t==="email"?"Email":"SMS"} template ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{o(!1)}},g=()=>{u.trim()&&!l.variables.includes(u.trim())&&(c(j=>({...j,variables:[...j.variables,u.trim()]})),h(""))},y=j=>{c(b=>({...b,variables:b.variables.filter(N=>N!==j)}))},x=j=>{const b=`{{${j}}}`;c(N=>({...N,body:N.body+b}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl flex items-center",children:[t==="email"?r.jsx(Mn,{className:"h-5 w-5 mr-2 text-blue-500"}):r.jsx(Un,{className:"h-5 w-5 mr-2 text-green-500"}),e?"Edit":"Create"," ",t==="email"?"Email":"SMS"," Template"]}),r.jsx(tt,{children:e?"Update the template details":"Create a new template for automated communications"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:a,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Template Name *"}),r.jsx(Ee,{id:"name",value:l.name,onChange:j=>c(b=>({...b,name:j.target.value})),placeholder:"e.g., Welcome New Lead"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"type",children:"Template Type"}),r.jsxs(Xe,{value:l.type,onValueChange:j=>c(b=>({...b,type:j})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsx(Ye,{children:f.map(j=>r.jsx(ee,{value:j.value,children:j.label},j.value))})]})]})]}),t==="email"&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"subject",children:"Subject Line *"}),r.jsx(Ee,{id:"subject",value:l.subject,onChange:j=>c(b=>({...b,subject:j.target.value})),placeholder:"e.g., Welcome to {{company_name}}, {{first_name}}!"})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs(ie,{htmlFor:"body",children:[t==="email"?"Email Body":"SMS Message"," *"]}),r.jsx(wr,{id:"body",value:l.body,onChange:j=>c(b=>({...b,body:j.target.value})),placeholder:t==="email"?`Hi {{first_name}},

Thank you for your interest in our RV inventory!

Best regards,
{{rep_name}}`:"Hi {{first_name}}! Thanks for your interest. Call us at {{rep_phone}} - {{rep_name}}",rows:t==="email"?12:4,maxLength:t==="sms"?160:void 0}),t==="sms"&&r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.body.length,"/160 characters"]}),r.jsx("div",{className:`text-xs ${l.body.length>160?"text-red-500":"text-muted-foreground"}`,children:l.body.length>160&&"Message too long"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Variables"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Common Variables:"}),r.jsx("div",{className:"space-y-1",children:p.map(j=>r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full justify-start text-xs",onClick:()=>x(j),children:[r.jsx(qt,{className:"h-3 w-3 mr-1"}),j]},j))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Custom Variables:"}),r.jsxs("div",{className:"flex space-x-1 mb-2",children:[r.jsx(Ee,{value:u,onChange:j=>h(j.target.value),placeholder:"variable_name",className:"text-xs",onKeyPress:j=>j.key==="Enter"&&g()}),r.jsx(ae,{size:"sm",onClick:g,children:r.jsx(qt,{className:"h-3 w-3"})})]}),r.jsx("div",{className:"space-y-1",children:l.variables.map(j=>r.jsxs("div",{className:"flex items-center justify-between p-1 bg-muted rounded text-xs",children:[r.jsx("span",{children:j}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>y(j),className:"h-4 w-4 p-0",children:r.jsx(oa,{className:"h-3 w-3"})})]},j))})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isActive",checked:l.isActive,onCheckedChange:j=>c(b=>({...b,isActive:!!j}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active template"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Preview"}),r.jsxs("div",{className:"mt-2 p-4 bg-muted/30 rounded-lg",children:[t==="email"&&r.jsxs("div",{className:"mb-2",children:[r.jsx("strong",{children:"Subject:"})," ",l.subject||"No subject"]}),r.jsx("div",{className:"whitespace-pre-wrap text-sm",children:l.body||`No ${t==="email"?"content":"message"}`})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:a,disabled:i,children:"Cancel"}),r.jsx(ae,{onClick:v,disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})]})})}function bJ({sequence:e,emailTemplates:t,smsTemplates:n,onSave:a,onCancel:s}){const{toast:i}=Ht(),[o,l]=S.useState(!1),[c,u]=S.useState({name:e?.name||"",description:e?.description||"",targetAudience:e?.targetAudience||"",steps:e?.steps||[],isActive:e?.isActive??!0}),[h,f]=S.useState(!1),[p,v]=S.useState({type:"email",delay:0,content:{body:""},isActive:!0}),g=[{value:"email",label:"Email",icon:Mn,color:"text-blue-500"},{value:"sms",label:"SMS",icon:Un,color:"text-green-500"},{value:"wait",label:"Wait",icon:Ar,color:"text-orange-500"},{value:"task",label:"Task",icon:Na,color:"text-purple-500"}],y=w=>g.find(C=>C.value===w)?.icon||Mn,x=w=>g.find(C=>C.value===w)?.color||"text-gray-500",j=async()=>{if(!c.name.trim()){i({title:"Validation Error",description:"Sequence name is required",variant:"destructive"});return}if(c.steps.length===0){i({title:"Validation Error",description:"At least one step is required",variant:"destructive"});return}l(!0);try{const w={...c,steps:c.steps.map((E,C)=>({...E,order:C+1}))};await a(w),i({title:"Success",description:`Sequence ${e?"updated":"created"} successfully`})}catch{i({title:"Error",description:`Failed to ${e?"update":"create"} sequence`,variant:"destructive"})}finally{l(!1)}},b=()=>{if(!p.content?.body?.trim()&&p.type!=="wait"){i({title:"Validation Error",description:"Step content is required",variant:"destructive"});return}const w={id:Math.random().toString(36).substr(2,9),type:p.type||"email",delay:p.delay||0,content:p.content||{body:""},isActive:!0};u(E=>({...E,steps:[...E.steps,w]})),v({type:"email",delay:0,content:{body:""},isActive:!0}),f(!1)},N=w=>{u(E=>({...E,steps:E.steps.filter(C=>C.id!==w)}))},P=(w,E)=>{const C=[...c.steps],_=C.findIndex(M=>M.id===w);E==="up"&&_>0?[C[_],C[_-1]]=[C[_-1],C[_]]:E==="down"&&_<C.length-1&&([C[_],C[_+1]]=[C[_+1],C[_]]),u(M=>({...M,steps:C}))},I=w=>{if(w<24)return`${w} hours`;const E=Math.floor(w/24),C=w%24;return C===0?`${E} days`:`${E} days ${C} hours`};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl",children:[e?"Edit":"Create"," Nurture Sequence"]}),r.jsx(tt,{children:e?"Update the sequence details and steps":"Create an automated sequence for lead nurturing"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Sequence Name *"}),r.jsx(Ee,{id:"name",value:c.name,onChange:w=>u(E=>({...E,name:w.target.value})),placeholder:"e.g., New Lead Welcome Series"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"targetAudience",children:"Target Audience"}),r.jsx(Ee,{id:"targetAudience",value:c.targetAudience,onChange:w=>u(E=>({...E,targetAudience:w.target.value})),placeholder:"e.g., New website leads"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"description",children:"Description"}),r.jsx(wr,{id:"description",value:c.description,onChange:w=>u(E=>({...E,description:w.target.value})),placeholder:"Describe the purpose and goals of this sequence",rows:3})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs(ie,{children:["Sequence Steps (",c.steps.length,")"]}),r.jsxs(ae,{onClick:()=>f(!0),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Step"]})]}),h&&r.jsx(ye,{className:"mb-4 border-dashed",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Step Type"}),r.jsxs(Xe,{value:p.type,onValueChange:w=>v(E=>({...E,type:w})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsx(Ye,{children:g.map(w=>r.jsx(ee,{value:w.value,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(w.icon,{className:ot("h-4 w-4 mr-2",w.color)}),r.jsx("span",{children:w.label})]})},w.value))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Delay (hours)"}),r.jsx(Ee,{type:"number",value:p.delay||0,onChange:w=>v(E=>({...E,delay:parseInt(w.target.value)||0})),placeholder:"0",min:"0"})]}),p.type==="email"&&r.jsxs("div",{children:[r.jsx(ie,{children:"Email Template"}),r.jsxs(Xe,{value:p.content?.template||"",onValueChange:w=>{const E=t.find(C=>C.id===w);v(C=>({...C,content:{...C.content,template:w,subject:E?.subject||"",body:E?.body||""}}))},children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select template"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"Custom Content"}),t.filter(w=>w.isActive).map(w=>r.jsx(ee,{value:w.id,children:w.name},w.id))]})]})]}),p.type==="sms"&&r.jsxs("div",{children:[r.jsx(ie,{children:"SMS Template"}),r.jsxs(Xe,{value:p.content?.template||"",onValueChange:w=>{const E=n.find(C=>C.id===w);v(C=>({...C,content:{...C.content,template:w,body:E?.message||""}}))},children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select template"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"Custom Content"}),n.filter(w=>w.isActive).map(w=>r.jsx(ee,{value:w.id,children:w.name},w.id))]})]})]})]}),p.type==="email"&&r.jsxs("div",{children:[r.jsx(ie,{children:"Subject"}),r.jsx(Ee,{value:p.content?.subject||"",onChange:w=>v(E=>({...E,content:{...E.content,subject:w.target.value}})),placeholder:"Email subject line"})]}),(p.type==="email"||p.type==="sms"||p.type==="task")&&r.jsxs("div",{children:[r.jsx(ie,{children:p.type==="email"?"Email Body":p.type==="sms"?"SMS Message":"Task Description"}),r.jsx(wr,{value:p.content?.body||"",onChange:w=>v(E=>({...E,content:{...E.content,body:w.target.value}})),placeholder:p.type==="email"?"Email content...":p.type==="sms"?"SMS message...":"Task description...",rows:p.type==="email"?6:3,maxLength:p.type==="sms"?160:void 0}),p.type==="sms"&&r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[(p.content?.body||"").length,"/160 characters"]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),r.jsx(ae,{onClick:b,children:"Add Step"})]})]})})}),r.jsxs("div",{className:"space-y-4",children:[c.steps.map((w,E)=>{const C=y(w.type),_=E===c.steps.length-1;return r.jsxs("div",{className:"relative",children:[!_&&r.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsx("div",{className:ot("flex-shrink-0 w-12 h-12 rounded-full bg-background border-2 flex items-center justify-center",x(w.type)),children:r.jsx(C,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"font-medium capitalize",children:w.type}),w.delay>0&&r.jsxs(Ze,{variant:"secondary",className:"text-xs",children:[r.jsx(Ar,{className:"h-3 w-3 mr-1"}),I(w.delay)]})]}),w.type==="email"&&r.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[r.jsx("p",{className:"font-medium text-sm text-blue-900",children:w.content.subject||"No subject"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1 line-clamp-2",children:w.content.body||"No content"})]}),w.type==="sms"&&r.jsx("div",{className:"bg-green-50 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-green-700",children:w.content.body||"No message"})}),w.type==="wait"&&r.jsx("div",{className:"bg-orange-50 p-3 rounded-md",children:r.jsxs("p",{className:"text-sm text-orange-700",children:["Wait ",I(w.delay)," before next step"]})}),w.type==="task"&&r.jsx("div",{className:"bg-purple-50 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-purple-700",children:w.content.body||"No task description"})})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>P(w.id,"up"),disabled:E===0,children:r.jsx(Ql,{className:"h-3 w-3"})}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>P(w.id,"down"),disabled:E===c.steps.length-1,children:r.jsx(Xl,{className:"h-3 w-3"})}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>N(w.id),children:r.jsx(oa,{className:"h-3 w-3"})})]})]})]},w.id)}),c.steps.length===0&&r.jsx("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:'No steps added yet. Click "Add Step" to get started.'})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isActive",checked:c.isActive,onCheckedChange:w=>u(E=>({...E,isActive:!!w}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active sequence"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:s,disabled:o,children:"Cancel"}),r.jsx(ae,{onClick:j,disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Sequence"]})})]})]})]})})}const jJ=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",isActive:!0,targetAudience:"New website leads",steps:[{id:"1",type:"email",delay:0},{id:"2",type:"wait",delay:72},{id:"3",type:"email",delay:0},{id:"4",type:"sms",delay:48}]}],wJ=[{id:"1",name:"Welcome New Lead",subject:"Welcome to our RV dealership!",body:"Thank you for your interest...",type:"welcome",isActive:!0}],NJ=[{id:"1",name:"Quick Follow-up",message:"Hi! Just wanted to check if you have any questions.",type:"follow_up",isActive:!0}];function CP(){const[e,t]=S.useState(jJ),[n,a]=S.useState(wJ),[s,i]=S.useState(NJ),[o]=S.useState([]),[l,c]=S.useState(null),[u,h]=S.useState(!1),[f,p]=S.useState(!1),[v,g]=S.useState(null),[y,x]=S.useState(null),[j,b]=S.useState("email"),N=D=>{switch(D){case"email":return Mn;case"sms":return Un;case"wait":return Ar;case"task":return Na;default:return sV}},P=D=>{switch(D){case"email":return"text-blue-500 bg-blue-50";case"sms":return"text-green-500 bg-green-50";case"wait":return"text-orange-500 bg-orange-50";case"task":return"text-purple-500 bg-purple-50";default:return"text-gray-500 bg-gray-50"}},I=D=>{if(D<24)return`${D} hours`;const R=Math.floor(D/24),F=D%24;return F===0?`${R} days`:`${R} days ${F} hours`},w=D=>{const R=o.filter(F=>F.sequenceId===D);return{total:R.length,active:R.filter(F=>F.status==="active").length,completed:R.filter(F=>F.status==="completed").length,paused:R.filter(F=>F.status==="paused").length}},E=(D,R)=>{x({template:D,type:R}),p(!0)},C=async D=>{if(y)y.type==="email"?a(R=>R.map(F=>F.id===y.template.id?{...F,...D}:F)):i(R=>R.map(F=>F.id===y.template.id?{...F,...D}:F));else{const R={id:Math.random().toString(36).substr(2,9),...D,isActive:!0};j==="email"?a(F=>[...F,R]):i(F=>[...F,R])}p(!1),x(null)},_=()=>{h(!0),g(null)},M=D=>{g(D),h(!0)},k=async D=>{if(v)t(R=>R.map(F=>F.id===v.id?{...F,...D}:F));else{const R={id:Math.random().toString(36).substr(2,9),...D,steps:D.steps||[]};t(F=>[...F,R])}h(!1),g(null)};return r.jsxs("div",{className:"space-y-6",children:[f&&r.jsx(yJ,{template:y?.template,type:y?.type||j,onSave:C,onCancel:()=>{p(!1),x(null)}}),u&&r.jsx(bJ,{sequence:v,emailTemplates:n,smsTemplates:s,onSave:k,onCancel:()=>{h(!1),g(null)}}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Nurture Sequences"}),r.jsx("p",{className:"text-muted-foreground",children:"Automate lead nurturing with email and SMS sequences"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ae,{variant:"outline",onClick:()=>p(!0),children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Template"]}),r.jsxs(ae,{onClick:_,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Sequence"]})]})]}),r.jsxs(Or,{defaultValue:"sequences",className:"space-y-6",children:[r.jsxs(kr,{children:[r.jsx(ut,{value:"sequences",children:"Sequences"}),r.jsx(ut,{value:"templates",children:"Templates"}),r.jsx(ut,{value:"analytics",children:"Analytics"})]}),r.jsxs(ft,{value:"sequences",className:"space-y-6",children:[r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(D=>{const R=w(D.id);return r.jsxs(ye,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(D),children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg",children:D.name}),r.jsx(tt,{className:"mt-1",children:D.description})]}),r.jsx(Ze,{className:D.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:D.isActive?"Active":"Inactive"})]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Na,{className:"h-4 w-4 text-blue-500"}),r.jsxs("span",{children:[R.total," enrolled"]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(q1,{className:"h-4 w-4 text-green-500"}),r.jsxs("span",{children:[R.active," active"]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.steps.slice(0,4).map((F,z)=>{const V=N(F.type);return r.jsx("div",{className:ot("flex items-center justify-center w-8 h-8 rounded-full",P(F.type)),children:r.jsx(V,{className:"h-4 w-4"})},F.id)}),D.steps.length>4&&r.jsxs("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-500 text-xs",children:["+",D.steps.length-4]})]}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Target: ",D.targetAudience]})]})})]},D.id)})}),l&&r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-xl",children:l.name}),r.jsx(tt,{children:l.description})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>M(l),children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit"]}),r.jsxs(ae,{variant:"outline",size:"sm",children:[l.isActive?r.jsx(rV,{className:"h-4 w-4 mr-2"}):r.jsx(q1,{className:"h-4 w-4 mr-2"}),l.isActive?"Pause":"Activate"]})]})]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Sequence Steps"}),r.jsx("div",{className:"space-y-4",children:l.steps.map((D,R)=>{const F=N(D.type),z=R===l.steps.length-1;return r.jsxs("div",{className:"relative",children:[!z&&r.jsx("div",{className:"absolute left-6 top-12 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:ot("flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",P(D.type)),children:r.jsx(F,{className:"h-5 w-5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"font-medium capitalize",children:D.type}),D.delay>0&&r.jsxs(Ze,{variant:"outline",className:"flex items-center space-x-1",children:[r.jsx(Ar,{className:"h-3 w-3"}),r.jsxs("span",{children:["Wait ",I(D.delay)]})]})]}),D.type==="email"&&r.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:D.type==="email"?"Email step":D.type==="sms"?"SMS step":D.type==="wait"?"Wait step":"Step"})})]})]})]},D.id)})})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Performance"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Object.entries(w(l.id)).map(([D,R])=>r.jsxs("div",{className:"text-center p-3 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold",children:R}),r.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:D})]},D))})]})]})})]})]}),r.jsx(ft,{value:"templates",className:"space-y-6",children:r.jsxs(Or,{defaultValue:"email",className:"space-y-4",children:[r.jsxs(kr,{children:[r.jsx(ut,{value:"email",children:"Email Templates"}),r.jsx(ut,{value:"sms",children:"SMS Templates"})]}),f&&!y&&r.jsx("div",{className:"mb-4",children:r.jsx(Or,{value:j,onValueChange:D=>b(D),children:r.jsxs(kr,{children:[r.jsx(ut,{value:"email",children:"Email Template"}),r.jsx(ut,{value:"sms",children:"SMS Template"})]})})}),r.jsx(ft,{value:"email",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(D=>r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg",children:D.name}),r.jsx(Ze,{variant:"secondary",className:"mt-1",children:D.type})]}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>E(D,"email"),children:r.jsx(bn,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:D.subject||D.body}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(D.variables||["first_name","company_name"]).map(R=>r.jsx(Ze,{variant:"outline",className:"text-xs",children:R},R))})]})]})})]},D.id))})}),r.jsx(ft,{value:"sms",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(D=>r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg",children:D.name}),r.jsx(Ze,{variant:"secondary",className:"mt-1",children:D.type})]}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>E(D,"sms"),children:r.jsx(bn,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:D.message}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Variables:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(D.variables||["first_name"]).map(R=>r.jsx(Ze,{variant:"outline",className:"text-xs",children:R},R))})]})]})})]},D.id))})})]})}),r.jsxs(ft,{value:"analytics",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Enrollments"}),r.jsx(Na,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:"0"}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Across all sequences"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Active Sequences"}),r.jsx(q1,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(D=>D.isActive).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Currently running"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Completion Rate"}),r.jsx(ar,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"0%"}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Average completion"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Templates"}),r.jsx(Mn,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:n.length+s.length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(Mn,{className:"h-3 w-3 mr-1"}),"Email & SMS templates"]})]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Sequence Performance"}),r.jsx(tt,{children:"Detailed analytics for each nurture sequence"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:e.map(D=>(w(D.id),r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:D.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold",children:"0"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Enrolled"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-green-600",children:"0"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Active"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-lg font-bold text-blue-600",children:"0"}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[0 .toFixed(1),"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Rate"})]})]})]},D.id)))})})]})]})]})]})}function t7(){const[e,t]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState([]),[c,u]=S.useState([]),[h,f]=S.useState([]),[p,v]=S.useState([]),[g,y]=S.useState([]),[x,j]=S.useState(!1);S.useEffect(()=>{b()},[]);const b=()=>{const Z=Qn("renter-insight-email-templates",[]),Q=Qn("renter-insight-sms-templates",[]),$=Qn("renter-insight-sequences",[]),K=Qn("renter-insight-enrollments",[]),te=Qn("renter-insight-communication-logs",[]),se=Qn("renter-insight-ai-insights",[]);if(Z.length===0){const oe=[{id:"1",name:"Welcome New Lead",subject:"Welcome to {{company_name}}, {{first_name}}!",body:`Hi {{first_name}},

Thank you for your interest in our RV inventory! We're excited to help you find the perfect recreational vehicle for your adventures.

Here's what happens next:
- One of our RV specialists will contact you within 24 hours
- We'll schedule a personalized tour of our showroom
- You'll receive our latest inventory updates and special offers

In the meantime, feel free to browse our current inventory at {{website_url}}.

Best regards,
{{rep_name}}
{{company_name}}`,type:"welcome",variables:["first_name","company_name","website_url","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Follow-up After 3 Days",subject:"Still looking for the perfect RV, {{first_name}}?",body:`Hi {{first_name}},

I wanted to follow up on your recent inquiry about our RV inventory. Have you had a chance to think about what type of RV would best suit your needs?

Based on your interests, I'd love to show you:
- {{suggested_models}}

We also have some exciting financing options that might interest you. Would you like to schedule a call this week to discuss your options?

You can reply to this email or call me directly at {{rep_phone}}.

Best regards,
{{rep_name}}`,type:"follow_up",variables:["first_name","suggested_models","rep_phone","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];i(oe),Sn("renter-insight-email-templates",oe)}else i(Z);if(Q.length===0){const oe=[{id:"1",name:"Quick Follow-up",message:"Hi {{first_name}}! This is {{rep_name}} from {{company_name}}. Just wanted to check if you have any questions about the RVs you viewed. Reply STOP to opt out.",type:"follow_up",variables:["first_name","rep_name","company_name"],isActive:!0,createdAt:new Date("2024-01-01")},{id:"2",name:"Appointment Reminder",message:"Hi {{first_name}}! Reminder: Your RV showroom appointment is tomorrow at {{appointment_time}}. See you then! - {{rep_name}}",type:"reminder",variables:["first_name","appointment_time","rep_name"],isActive:!0,createdAt:new Date("2024-01-01")}];l(oe),Sn("renter-insight-sms-templates",oe)}else l(Q);if($.length===0){const oe=[{id:"1",name:"New Lead Welcome Series",description:"Automated welcome sequence for new leads",triggerConditions:[{type:"lead_status",operator:"equals",value:"new"}],steps:[{id:"1",sequenceId:"1",order:1,type:"email",delay:0,content:{subject:"Welcome to {{company_name}}, {{first_name}}!",body:mockEmailTemplates[0].body,template:"1"},isActive:!0},{id:"2",sequenceId:"1",order:2,type:"wait",delay:72,content:{body:"Wait 3 days"},isActive:!0},{id:"3",sequenceId:"1",order:3,type:"email",delay:0,content:{subject:"Still looking for the perfect RV, {{first_name}}?",body:mockEmailTemplates[1].body,template:"2"},isActive:!0},{id:"4",sequenceId:"1",order:4,type:"sms",delay:48,content:{body:mockSmsTemplates[0].message},isActive:!0}],isActive:!0,targetAudience:"New website leads",createdBy:"admin",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}];t(oe),Sn("renter-insight-sequences",oe)}else t($);if(se.length===0){const oe=[{id:"1",leadId:"1",type:"next_action",title:"Optimal Contact Time Identified",description:"Based on lead behavior patterns, the best time to contact this lead is Tuesday-Thursday between 2-4 PM.",confidence:85,actionable:!0,suggestedActions:["Schedule call for Tuesday 2-4 PM","Send follow-up email on Wednesday morning","Avoid Friday afternoon contact"],metadata:{timeZone:"EST",preferredDays:["Tuesday","Wednesday","Thursday"],preferredHours:[14,15,16]},generatedAt:new Date("2024-01-20"),isRead:!1},{id:"2",leadId:"1",type:"communication_style",title:"Communication Preference Analysis",description:"This lead responds better to detailed, educational content rather than high-pressure sales tactics.",confidence:78,actionable:!0,suggestedActions:["Share educational RV buying guides","Focus on features and benefits","Provide comparison charts","Avoid aggressive closing techniques"],metadata:{preferredStyle:"educational",responseRate:.65,engagementType:"content-focused"},generatedAt:new Date("2024-01-20"),isRead:!1}];f(oe),Sn("renter-insight-ai-insights",oe)}else f(se);a(K),u(te)},N=async(Z,Q)=>{j(!0);try{const $={id:Math.random().toString(36).substr(2,9),leadId:Z,sequenceId:Q,currentStepId:e.find(K=>K.id===Q)?.steps[0]?.id||"",status:"active",enrolledAt:new Date,nextActionAt:new Date};return a(K=>[...K,$]),await P($),$}finally{j(!1)}},P=async Z=>{const Q=e.find(te=>te.id===Z.sequenceId);if(!Q)return;const $=Q.steps.find(te=>te.id===Z.currentStepId);if(!$)return;switch($.type){case"email":await I(Z.leadId,$);break;case"sms":await w(Z.leadId,$);break;case"wait":const te=new Date;te.setHours(te.getHours()+$.delay),a(se=>se.map(oe=>oe.id===Z.id?{...oe,nextActionAt:te}:oe));break}const K=Q.steps.findIndex(te=>te.id===$.id)+1;if(K<Q.steps.length){const te=Q.steps[K];a(se=>se.map(oe=>oe.id===Z.id?{...oe,currentStepId:te.id}:oe))}else a(te=>te.map(se=>se.id===Z.id?{...se,status:"completed",completedAt:new Date}:se))},I=async(Z,Q)=>{const $={id:Math.random().toString(36).substr(2,9),leadId:Z,type:"email",direction:"outbound",subject:Q.content.subject,content:Q.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:Q.id,template:Q.content.template}};u(K=>[...K,$]),setTimeout(()=>{u(K=>K.map(te=>te.id===$.id?{...te,status:"delivered",deliveredAt:new Date}:te))},2e3),setTimeout(()=>{u(K=>K.map(te=>te.id===$.id?{...te,status:"opened",openedAt:new Date}:te))},5e3)},w=async(Z,Q)=>{const $={id:Math.random().toString(36).substr(2,9),leadId:Z,type:"sms",direction:"outbound",content:Q.content.body,status:"sent",sentAt:new Date,metadata:{sequenceStep:Q.id}};u(K=>[...K,$]),setTimeout(()=>{u(K=>K.map(te=>te.id===$.id?{...te,status:"delivered",deliveredAt:new Date}:te))},1e3)};return{sequences:e,enrollments:n,emailTemplates:s,smsTemplates:o,communicationLogs:c,aiInsights:h,automationRules:p,analytics:g,loading:x,enrollLeadInSequence:N,processNextStep:P,generateAIInsights:async(Z,Q)=>{j(!0);try{const $=[];Q.score>70&&$.push({id:Math.random().toString(36).substr(2,9),leadId:Z,type:"next_action",title:"High-Priority Lead - Immediate Action Recommended",description:"This lead has a high score and recent activity. Schedule a personal call within 24 hours.",confidence:92,actionable:!0,suggestedActions:["Schedule personal phone call","Send personalized video message","Invite to exclusive showroom tour"],generatedAt:new Date,isRead:!1});const K=new Date(Q.lastActivity),te=Math.floor((Date.now()-K.getTime())/(1e3*60*60*24));return te>7&&$.push({id:Math.random().toString(36).substr(2,9),leadId:Z,type:"timing",title:"Re-engagement Opportunity",description:`No activity for ${te} days. Consider a re-engagement campaign.`,confidence:75,actionable:!0,suggestedActions:['Send "We miss you" email',"Offer special incentive","Share new inventory updates"],generatedAt:new Date,isRead:!1}),Q.customFields?.budget&&$.push({id:Math.random().toString(36).substr(2,9),leadId:Z,type:"content_suggestion",title:"Personalized Content Recommendation",description:`Based on budget range ${Q.customFields.budget}, suggest specific RV models and financing options.`,confidence:88,actionable:!0,suggestedActions:["Send budget-specific inventory","Share financing calculator","Provide trade-in valuation"],generatedAt:new Date,isRead:!1}),f(se=>[...se.filter(oe=>oe.leadId!==Z),...$]),$}finally{j(!1)}},createEmailTemplate:async Z=>{const Q={id:Math.random().toString(36).substr(2,9),name:Z.name||"",subject:Z.subject||"",body:Z.body||"",type:Z.type||"custom",variables:Z.variables||[],isActive:!0,createdAt:new Date},$=[...s,Q];return i($),Sn("renter-insight-email-templates",$),Q},createSMSTemplate:async Z=>{const Q={id:Math.random().toString(36).substr(2,9),name:Z.name||"",message:Z.message||"",type:Z.type||"custom",variables:Z.variables||[],isActive:!0,createdAt:new Date},$=[...o,Q];return l($),Sn("renter-insight-sms-templates",$),Q},createNurtureSequence:async Z=>{const Q={id:Math.random().toString(36).substr(2,9),name:Z.name||"",description:Z.description||"",triggerConditions:Z.triggerConditions||[],steps:Z.steps||[],isActive:!0,targetAudience:Z.targetAudience||"",createdBy:"current-user",createdAt:new Date,updatedAt:new Date},$=[...e,Q];return t($),Sn("renter-insight-sequences",$),Q},updateNurtureSequence:async(Z,Q)=>{const $=e.map(K=>K.id===Z?{...K,...Q,updatedAt:new Date}:K);t($),Sn("renter-insight-sequences",$)},updateEmailTemplate:async(Z,Q)=>{const $=s.map(K=>K.id===Z?{...K,...Q}:K);i($),Sn("renter-insight-email-templates",$)},updateSMSTemplate:async(Z,Q)=>{const $=o.map(K=>K.id===Z?{...K,...Q}:K);l($),Sn("renter-insight-sms-templates",$)},getEnrollmentsByLead:Z=>n.filter(Q=>Q.leadId===Z),getCommunicationHistory:Z=>c.filter(Q=>Q.leadId===Z).sort((Q,$)=>new Date($.sentAt).getTime()-new Date(Q.sentAt).getTime()),getAIInsightsByLead:Z=>h.filter(Q=>Q.leadId===Z&&!Q.isRead),markInsightAsRead:async Z=>{f(Q=>Q.map($=>$.id===Z?{...$,isRead:!0}:$))},pauseEnrollment:async Z=>{a(Q=>Q.map($=>$.id===Z?{...$,status:"paused"}:$))},resumeEnrollment:async Z=>{a(Q=>Q.map($=>$.id===Z?{...$,status:"active"}:$))}}}function SJ({leadId:e,leadData:t}){const{aiInsights:n,generateAIInsights:a,markInsightAsRead:s,enrollLeadInSequence:i,sequences:o}=t7(),[l,c]=S.useState(!1),[u,h]=S.useState("insights"),f=n.filter(I=>I.leadId===e),p=f.filter(I=>!I.isRead),v=I=>{switch(I){case"next_action":return yi;case"communication_style":return Un;case"timing":return Ar;case"content_suggestion":return JU;case"risk_assessment":return ar;default:return Jl}},g=I=>{switch(I){case"next_action":return"from-blue-50 to-blue-100/50";case"communication_style":return"from-green-50 to-green-100/50";case"timing":return"from-orange-50 to-orange-100/50";case"content_suggestion":return"from-purple-50 to-purple-100/50";case"risk_assessment":return"from-red-50 to-red-100/50";default:return"from-gray-50 to-gray-100/50"}},y=I=>I>=80?"text-green-600 bg-green-50":I>=60?"text-yellow-600 bg-yellow-50":"text-orange-600 bg-orange-50",x=async()=>{c(!0);try{await a(e,t)}finally{c(!1)}},j=async I=>{await s(I)},b=async I=>{await i(e,I)},P=(I=>{const w=[];if(I.score>80?w.push({type:"High Priority Action",suggestion:"This lead has excellent potential. Schedule a personal call within 24 hours and prepare a customized presentation.",confidence:95,actions:["Schedule immediate call","Prepare custom presentation","Send calendar invite"]}):I.score>60?w.push({type:"Warm Lead Nurturing",suggestion:"Good engagement level. Send educational content about RV ownership and schedule a follow-up in 3-5 days.",confidence:85,actions:["Send RV buying guide","Share customer testimonials","Schedule follow-up"]}):w.push({type:"Lead Warming",suggestion:"Lower engagement detected. Enroll in nurture sequence and focus on value-driven content.",confidence:75,actions:["Enroll in email sequence","Send value content","Monitor engagement"]}),I.customFields?.budget){const C=I.customFields.budget;w.push({type:"Budget-Matched Recommendations",suggestion:`Based on ${C} budget, focus on specific inventory that matches their price range and financing options.`,confidence:90,actions:["Send matching inventory","Discuss financing","Offer trade-in evaluation"]})}const E=Math.floor((Date.now()-new Date(I.createdAt).getTime())/(1e3*60*60*24));return E>7&&w.push({type:"Re-engagement Strategy",suggestion:`Lead is ${E} days old. Implement re-engagement tactics with special offers or new inventory alerts.`,confidence:80,actions:["Send special offer","Share new arrivals","Offer exclusive preview"]}),I.source.toLowerCase().includes("website")&&w.push({type:"Digital-First Approach",suggestion:"Lead came from website - they prefer digital communication. Use email and video messages before phone calls.",confidence:85,actions:["Send welcome email","Create video message","Share virtual tour"]}),w})(t);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(Jl,{className:"h-5 w-5 mr-2 text-purple-500"}),"AI Insights & Suggestions"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"AI-powered recommendations for lead engagement"})]}),r.jsxs(ae,{onClick:x,disabled:l,size:"sm",children:[r.jsx(Jl,{className:"h-4 w-4 mr-2"}),l?"Analyzing...":"Generate Insights"]})]}),r.jsxs(Or,{value:u,onValueChange:h,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsxs(ut,{value:"insights",className:"relative",children:["AI Insights",p.length>0&&r.jsx(Ze,{className:"ml-2 h-5 w-5 rounded-full p-0 text-xs bg-red-500",children:p.length})]}),r.jsx(ut,{value:"chatgpt",children:"ChatGPT Suggestions"}),r.jsx(ut,{value:"automation",children:"Automation"})]}),r.jsx(ft,{value:"insights",className:"space-y-4",children:f.length===0?r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Jl,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No AI Insights Yet"}),r.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Generate AI-powered insights to get personalized recommendations for this lead."}),r.jsxs(ae,{onClick:x,disabled:l,children:[r.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Generate First Insights"]})]})}):r.jsx("div",{className:"space-y-4",children:f.sort((I,w)=>new Date(w.generatedAt).getTime()-new Date(I.generatedAt).getTime()).map(I=>{const w=v(I.type);return r.jsxs(ye,{className:ot("shadow-sm border-0 bg-gradient-to-br",g(I.type),!I.isRead&&"ring-2 ring-blue-200"),children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(w,{className:"h-6 w-6 text-primary mt-1"}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg",children:I.title}),r.jsx(tt,{className:"mt-1",children:I.description})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Ze,{className:ot("ri-badge-status",y(I.confidence)),children:[I.confidence,"% confidence"]}),!I.isRead&&r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>j(I.id),children:[r.jsx(yn,{className:"h-3 w-3 mr-1"}),"Mark Read"]})]})]})}),I.actionable&&I.suggestedActions&&r.jsx(be,{children:r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Suggested Actions:"}),r.jsx("div",{className:"space-y-2",children:I.suggestedActions.map((E,C)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white/50 rounded-md",children:[r.jsx("span",{className:"text-sm",children:E}),r.jsx(ae,{variant:"outline",size:"sm",children:"Execute"})]},C))})]})})]},I.id)})})}),r.jsxs(ft,{value:"chatgpt",className:"space-y-4",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:r.jsx(Jl,{className:"h-4 w-4 text-white"})}),r.jsxs("div",{children:[r.jsx(Te,{className:"text-green-900",children:"ChatGPT Analysis"}),r.jsx(tt,{className:"text-green-700",children:"AI-powered lead analysis and action recommendations"})]})]})}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:P.map((I,w)=>r.jsxs("div",{className:"bg-white/70 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-green-900",children:I.type}),r.jsxs(Ze,{className:"bg-green-100 text-green-700 border-green-200",children:[I.confidence,"% confidence"]})]}),r.jsx("p",{className:"text-sm text-green-800 mb-3",children:I.suggestion}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Recommended Actions:"}),r.jsx("div",{className:"grid gap-2 md:grid-cols-3",children:I.actions.map((E,C)=>r.jsx(ae,{variant:"outline",size:"sm",className:"justify-start text-xs bg-white/50 hover:bg-white/80",children:E},C))})]})]},w))})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs(Te,{className:"flex items-center",children:[r.jsx(yi,{className:"h-5 w-5 mr-2 text-blue-500"}),"Lead Scoring Analysis"]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-blue-900",children:["Current Score: ",t.score]}),r.jsx("p",{className:"text-sm text-blue-700",children:t.score>=80?"Hot Lead - High Priority":t.score>=60?"Warm Lead - Good Potential":t.score>=40?"Cool Lead - Needs Nurturing":"Cold Lead - Long-term Nurturing"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.score}),r.jsx("div",{className:"text-xs text-blue-500",children:"/ 100"})]})]}),r.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("h5",{className:"font-semibold text-green-900 mb-1",children:"Strengths"}),r.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[t.customFields?.budget&&r.jsx("li",{children:"• Budget information provided"}),t.customFields?.timeframe&&r.jsx("li",{children:"• Clear purchase timeline"}),t.score>60&&r.jsx("li",{children:"• Good engagement level"}),t.source==="Customer Referral"&&r.jsx("li",{children:"• High-quality referral source"})]})]}),r.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[r.jsx("h5",{className:"font-semibold text-orange-900 mb-1",children:"Improvement Areas"}),r.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[!t.customFields?.budget&&r.jsx("li",{children:"• No budget information"}),t.score<60&&r.jsx("li",{children:"• Low engagement level"}),!t.assignedTo&&r.jsx("li",{children:"• No sales rep assigned"}),r.jsx("li",{children:"• Limited activity history"})]})]})]})]})})]})]}),r.jsxs(ft,{value:"automation",className:"space-y-4",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Un,{className:"h-5 w-5 mr-2 text-purple-500"}),"Nurture Sequences"]}),r.jsx(tt,{children:"Enroll this lead in automated nurturing sequences"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:o.filter(I=>I.isActive).map(I=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:I.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:I.description}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsxs(Ze,{variant:"secondary",className:"text-xs",children:[I.steps.length," steps"]}),r.jsx(Ze,{variant:"outline",className:"text-xs",children:I.targetAudience})]})]}),r.jsx(ae,{onClick:()=>b(I.id),size:"sm",children:"Enroll Lead"})]},I.id))})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Ar,{className:"h-5 w-5 mr-2 text-orange-500"}),"Smart Timing Recommendations"]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-blue-900",children:"Best Contact Times"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Based on lead behavior: Tuesday-Thursday, 2-4 PM"})]}),r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-green-900",children:"Email Timing"}),r.jsx("p",{className:"text-sm text-green-700",children:"Send emails Tuesday/Wednesday mornings for best open rates"})]}),r.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-purple-900",children:"Follow-up Schedule"}),r.jsx("p",{className:"text-sm text-purple-700",children:"Next follow-up recommended in 2-3 days based on engagement"})]})]})})]})]})]})]})}function CJ({leadId:e,leadData:t}){const{emailTemplates:n,smsTemplates:a,getCommunicationHistory:s}=t7(),[i,o]=S.useState("history"),[l,c]=S.useState(""),[u,h]=S.useState(""),[f,p]=S.useState(""),[v,g]=S.useState(""),[y,x]=S.useState(""),[j,b]=S.useState(!1),N=s(e),P=M=>{switch(M){case"sent":return r.jsx(sc,{className:"h-3 w-3 text-blue-500"});case"delivered":return r.jsx(yn,{className:"h-3 w-3 text-green-500"});case"opened":return r.jsx(Mn,{className:"h-3 w-3 text-purple-500"});case"clicked":return r.jsx(yn,{className:"h-3 w-3 text-green-600"});case"replied":return r.jsx(Un,{className:"h-3 w-3 text-blue-600"});case"failed":return r.jsx(xm,{className:"h-3 w-3 text-red-500"});default:return r.jsx(Ar,{className:"h-3 w-3 text-gray-500"})}},I=M=>{switch(M){case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"delivered":return"bg-green-50 text-green-700 border-green-200";case"opened":return"bg-purple-50 text-purple-700 border-purple-200";case"clicked":return"bg-green-50 text-green-700 border-green-200";case"replied":return"bg-blue-50 text-blue-700 border-blue-200";case"failed":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},w=(M,k)=>M.replace(/\{\{first_name\}\}/g,k.firstName).replace(/\{\{last_name\}\}/g,k.lastName).replace(/\{\{company_name\}\}/g,"Renter Insight RV").replace(/\{\{rep_name\}\}/g,"Your Sales Representative").replace(/\{\{rep_phone\}\}/g,"(555) 123-4567").replace(/\{\{website_url\}\}/g,"https://renterinsight.com").replace(/\{\{budget\}\}/g,k.customFields?.budget||"your budget"),E=async()=>{b(!0);try{let M=f,k=v;if(l){const D=n.find(R=>R.id===l);D&&(M=w(D.subject,t),k=w(D.body,t))}await new Promise(D=>setTimeout(D,2e3)),p(""),g(""),c(""),console.log("Email sent:",{subject:M,body:k,to:t.email})}finally{b(!1)}},C=async()=>{b(!0);try{let M=y;if(u){const k=a.find(D=>D.id===u);k&&(M=w(k.message,t))}await new Promise(k=>setTimeout(k,1500)),x(""),h(""),console.log("SMS sent:",{message:M,to:t.phone})}finally{b(!1)}},_=(M,k)=>{if(k==="email"){c(M);const D=n.find(R=>R.id===M);D&&(p(w(D.subject,t)),g(w(D.body,t)))}else{h(M);const D=a.find(R=>R.id===M);D&&x(w(D.message,t))}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(Un,{className:"h-5 w-5 mr-2 text-blue-500"}),"Communication Center"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Send emails, SMS, and track communication history"})]}),r.jsxs(Or,{value:i,onValueChange:o,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"history",children:"History"}),r.jsx(ut,{value:"email",children:"Send Email"}),r.jsx(ut,{value:"sms",children:"Send SMS"})]}),r.jsx(ft,{value:"history",className:"space-y-4",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Ar,{className:"h-5 w-5 mr-2"}),"Communication History"]}),r.jsx(tt,{children:"All email and SMS communications with this lead"})]}),r.jsx(be,{children:N.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Un,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No communication history yet"}),r.jsx("p",{className:"text-sm",children:"Start by sending an email or SMS"})]}):r.jsx("div",{className:"space-y-4",children:N.map((M,k)=>r.jsxs("div",{className:"relative",children:[k<N.length-1&&r.jsx("div",{className:"absolute left-4 top-12 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:ot("flex-shrink-0 w-8 h-8 rounded-full border-2 bg-background flex items-center justify-center",M.type==="email"?"border-blue-200":"border-green-200"),children:M.type==="email"?r.jsx(Mn,{className:"h-4 w-4 text-blue-500"}):r.jsx(Un,{className:"h-4 w-4 text-green-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"font-medium text-sm capitalize",children:[M.type," ",M.direction]}),r.jsxs(Ze,{className:ot("ri-badge-status text-xs",I(M.status)),children:[P(M.status),r.jsx("span",{className:"ml-1",children:M.status})]})]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:Et(M.sentAt)})]}),M.subject&&r.jsx("p",{className:"font-medium text-sm mb-1",children:M.subject}),r.jsx("div",{className:"bg-muted/30 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:M.content})}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[r.jsxs("span",{children:["Sent: ",Et(M.sentAt)]}),M.deliveredAt&&r.jsxs("span",{children:["Delivered: ",Et(M.deliveredAt)]}),M.openedAt&&r.jsxs("span",{children:["Opened: ",Et(M.openedAt)]}),M.clickedAt&&r.jsxs("span",{children:["Clicked: ",Et(M.clickedAt)]})]})]})]})]},M.id))})})]})}),r.jsx(ft,{value:"email",className:"space-y-4",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Mn,{className:"h-5 w-5 mr-2 text-blue-500"}),"Send Email"]}),r.jsx(tt,{children:"Send personalized emails using templates or custom content"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email Template (Optional)"}),r.jsxs(Xe,{value:l,onValueChange:M=>_(M,"email"),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Choose a template or write custom email"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"Custom Email"}),n.filter(M=>M.isActive).map(M=>r.jsxs(ee,{value:M.id,children:[M.name," (",M.type,")"]},M.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"To"}),r.jsx(Ee,{value:t.email,disabled:!0,className:"bg-muted/50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Subject"}),r.jsx(Ee,{value:f,onChange:M=>p(M.target.value),placeholder:"Enter email subject"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx(wr,{value:v,onChange:M=>g(M.target.value),placeholder:"Enter your email message",rows:8})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{last_name},", ",{company_name},", ",{rep_name}]}),r.jsxs(ae,{onClick:E,disabled:j||!f||!v,children:[r.jsx(sc,{className:"h-4 w-4 mr-2"}),j?"Sending...":"Send Email"]})]})]})]})}),r.jsx(ft,{value:"sms",className:"space-y-4",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Un,{className:"h-5 w-5 mr-2 text-green-500"}),"Send SMS"]}),r.jsx(tt,{children:"Send text messages using templates or custom content"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"SMS Template (Optional)"}),r.jsxs(Xe,{value:u,onValueChange:M=>_(M,"sms"),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Choose a template or write custom SMS"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"Custom SMS"}),a.filter(M=>M.isActive).map(M=>r.jsxs(ee,{value:M.id,children:[M.name," (",M.type,")"]},M.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"To"}),r.jsx(Ee,{value:t.phone,disabled:!0,className:"bg-muted/50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx(wr,{value:y,onChange:M=>x(M.target.value),placeholder:"Enter your SMS message",rows:4,maxLength:160}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.length,"/160 characters"]}),r.jsx("div",{className:ot("text-xs",y.length>160?"text-red-500":"text-muted-foreground"),children:y.length>160&&"Message too long"})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Available variables: ",{first_name},", ",{company_name},", ",{rep_name}]}),r.jsxs(ae,{onClick:C,disabled:j||!y||y.length>160,children:[r.jsx(sc,{className:"h-4 w-4 mr-2"}),j?"Sending...":"Send SMS"]})]})]})]})})]})]})}var p0={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var AJ=p0.exports,AP;function EJ(){return AP||(AP=1,function(e,t){((n,a)=>{e.exports=a()})(AJ,function n(){var a=typeof self<"u"?self:typeof window<"u"?window:a!==void 0?a:{},s,i=!a.document&&!!a.postMessage,o=a.IS_PAPA_WORKER||!1,l={},c=0,u={};function h(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var M=I(_);M.chunkSize=parseInt(M.chunkSize),_.step||_.chunk||(M.chunkSize=null),this._handle=new y(M),(this._handle.streamer=this)._config=M}).call(this,C),this.parseChunk=function(_,M){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let R=this._config.newline;R||(D=this._config.quoteChar||'"',R=this._handle.guessLineEndings(_,D)),_=[..._.split(R).slice(k)].join(R)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(_))!==void 0&&(_=D),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+_,D=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=D.meta.cursor,k=(this._finished||(this._partialLine=k.substring(_-this._baseIndex),this._baseIndex=_),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)a.postMessage({results:D,workerId:u.WORKER_ID,finished:k});else if(E(this._config.chunk)&&!M){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!k||!E(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(_){E(this._config.error)?this._config.error(_):o&&this._config.error&&a.postMessage({workerId:u.WORKER_ID,error:_,finished:!1})}}function f(C){var _;(C=C||{}).chunkSize||(C.chunkSize=u.RemoteChunkSize),h.call(this,C),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),i||(_.onload=w(this._chunkLoaded,this),_.onerror=w(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var M,k=this._config.downloadRequestHeaders;for(M in k)_.setRequestHeader(M,k[M])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+D));try{_.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}i&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(M){M=_.statusText||M,this._sendError(new Error(M))}}function p(C){(C=C||{}).chunkSize||(C.chunkSize=u.LocalChunkSize),h.call(this,C);var _,M,k=typeof FileReader<"u";this.stream=function(D){this._input=D,M=D.slice||D.webkitSlice||D.mozSlice,k?((_=new FileReader).onload=w(this._chunkLoaded,this),_.onerror=w(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),D=M.call(D,this._start,R)),_.readAsText(D,this._config.encoding));k||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(_.error)}}function v(C){var _;h.call(this,C=C||{}),this.stream=function(M){return _=M,this._nextChunk()},this._nextChunk=function(){var M,k;if(!this._finished)return M=this._config.chunkSize,_=M?(k=_.substring(0,M),_.substring(M)):(k=_,""),this._finished=!_,this.parseChunk(k)}}function g(C){h.call(this,C=C||{});var _=[],M=!0,k=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):M=!0},this._streamData=w(function(D){try{_.push(typeof D=="string"?D:D.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(R){this._streamError(R)}},this),this._streamError=w(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=w(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(C){var _,M,k,D,R=Math.pow(2,53),F=-R,z=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,H=0,G=0,Z=!1,Q=!1,$=[],K={data:[],errors:[],meta:{}};function te(ve){return C.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function se(){if(K&&k&&(me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),k=!1),C.skipEmptyLines&&(K.data=K.data.filter(function(Se){return!te(Se)})),oe()){let Se=function(Ce,ze){E(C.transformHeader)&&(Ce=C.transformHeader(Ce,ze)),$.push(Ce)};if(K)if(Array.isArray(K.data[0])){for(var ve=0;oe()&&ve<K.data.length;ve++)K.data[ve].forEach(Se);K.data.splice(0,1)}else K.data.forEach(Se)}function pe(Se,Ce){for(var ze=C.header?{}:[],He=0;He<Se.length;He++){var ge=He,le=Se[He],le=((st,Ie)=>(Ue=>(C.dynamicTypingFunction&&C.dynamicTyping[Ue]===void 0&&(C.dynamicTyping[Ue]=C.dynamicTypingFunction(Ue)),(C.dynamicTyping[Ue]||C.dynamicTyping)===!0))(st)?Ie==="true"||Ie==="TRUE"||Ie!=="false"&&Ie!=="FALSE"&&((Ue=>{if(z.test(Ue)&&(Ue=parseFloat(Ue),F<Ue&&Ue<R))return 1})(Ie)?parseFloat(Ie):V.test(Ie)?new Date(Ie):Ie===""?null:Ie):Ie)(ge=C.header?He>=$.length?"__parsed_extra":$[He]:ge,le=C.transform?C.transform(le,ge):le);ge==="__parsed_extra"?(ze[ge]=ze[ge]||[],ze[ge].push(le)):ze[ge]=le}return C.header&&(He>$.length?me("FieldMismatch","TooManyFields","Too many fields: expected "+$.length+" fields but parsed "+He,G+Ce):He<$.length&&me("FieldMismatch","TooFewFields","Too few fields: expected "+$.length+" fields but parsed "+He,G+Ce)),ze}var we;K&&(C.header||C.dynamicTyping||C.transform)&&(we=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(pe),we=K.data.length):K.data=pe(K.data,0),C.header&&K.meta&&(K.meta.fields=$),G+=we)}function oe(){return C.header&&$.length===0}function me(ve,pe,we,Se){ve={type:ve,code:pe,message:we},Se!==void 0&&(ve.row=Se),K.errors.push(ve)}E(C.step)&&(D=C.step,C.step=function(ve){K=ve,oe()?se():(se(),K.data.length!==0&&(H+=ve.data.length,C.preview&&H>C.preview?M.abort():(K.data=K.data[0],D(K,B))))}),this.parse=function(ve,pe,we){var Se=C.quoteChar||'"',Se=(C.newline||(C.newline=this.guessLineEndings(ve,Se)),k=!1,C.delimiter?E(C.delimiter)&&(C.delimiter=C.delimiter(ve),K.meta.delimiter=C.delimiter):((Se=((Ce,ze,He,ge,le)=>{var st,Ie,Ue,ct;le=le||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var xt=0;xt<le.length;xt++){for(var gt,kt=le[xt],et=0,ht=0,Ct=0,_t=(Ue=void 0,new j({comments:ge,delimiter:kt,newline:ze,preview:10}).parse(Ce)),Gt=0;Gt<_t.data.length;Gt++)He&&te(_t.data[Gt])?Ct++:(gt=_t.data[Gt].length,ht+=gt,Ue===void 0?Ue=gt:0<gt&&(et+=Math.abs(gt-Ue),Ue=gt));0<_t.data.length&&(ht/=_t.data.length-Ct),(Ie===void 0||et<=Ie)&&(ct===void 0||ct<ht)&&1.99<ht&&(Ie=et,st=kt,ct=ht)}return{successful:!!(C.delimiter=st),bestDelimiter:st}})(ve,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=Se.bestDelimiter:(k=!0,C.delimiter=u.DefaultDelimiter),K.meta.delimiter=C.delimiter),I(C));return C.preview&&C.header&&Se.preview++,_=ve,M=new j(Se),K=M.parse(_,pe,we),se(),Z?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return Z},this.pause=function(){Z=!0,M.abort(),_=E(C.chunk)?"":_.substring(M.getCharIndex())},this.resume=function(){B.streamer._halted?(Z=!1,B.streamer.parseChunk(_,!0)):setTimeout(B.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,M.abort(),K.meta.aborted=!0,E(C.complete)&&C.complete(K),_=""},this.guessLineEndings=function(Ce,Se){Ce=Ce.substring(0,1048576);var Se=new RegExp(x(Se)+"([^]*?)"+x(Se),"gm"),we=(Ce=Ce.replace(Se,"")).split("\r"),Se=Ce.split(`
`),Ce=1<Se.length&&Se[0].length<we[0].length;if(we.length===1||Ce)return`
`;for(var ze=0,He=0;He<we.length;He++)we[He][0]===`
`&&ze++;return ze>=we.length/2?`\r
`:"\r"}}function x(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(C){var _=(C=C||{}).delimiter,M=C.newline,k=C.comments,D=C.step,R=C.preview,F=C.fastMode,z=null,V=!1,B=C.quoteChar==null?'"':C.quoteChar,H=B;if(C.escapeChar!==void 0&&(H=C.escapeChar),(typeof _!="string"||-1<u.BAD_DELIMITERS.indexOf(_))&&(_=","),k===_)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<u.BAD_DELIMITERS.indexOf(k))&&(k=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var G=0,Z=!1;this.parse=function(Q,$,K){if(typeof Q!="string")throw new Error("Input must be a string");var te=Q.length,se=_.length,oe=M.length,me=k.length,ve=E(D),pe=[],we=[],Se=[],Ce=G=0;if(!Q)return et();if(F||F!==!1&&Q.indexOf(B)===-1){for(var ze=Q.split(M),He=0;He<ze.length;He++){if(Se=ze[He],G+=Se.length,He!==ze.length-1)G+=M.length;else if(K)return et();if(!k||Se.substring(0,me)!==k){if(ve){if(pe=[],ct(Se.split(_)),ht(),Z)return et()}else ct(Se.split(_));if(R&&R<=He)return pe=pe.slice(0,R),et(!0)}}return et()}for(var ge=Q.indexOf(_,G),le=Q.indexOf(M,G),st=new RegExp(x(H)+x(B),"g"),Ie=Q.indexOf(B,G);;)if(Q[G]===B)for(Ie=G,G++;;){if((Ie=Q.indexOf(B,Ie+1))===-1)return K||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:pe.length,index:G}),gt();if(Ie===te-1)return gt(Q.substring(G,Ie).replace(st,B));if(B===H&&Q[Ie+1]===H)Ie++;else if(B===H||Ie===0||Q[Ie-1]!==H){ge!==-1&&ge<Ie+1&&(ge=Q.indexOf(_,Ie+1));var Ue=xt((le=le!==-1&&le<Ie+1?Q.indexOf(M,Ie+1):le)===-1?ge:Math.min(ge,le));if(Q.substr(Ie+1+Ue,se)===_){Se.push(Q.substring(G,Ie).replace(st,B)),Q[G=Ie+1+Ue+se]!==B&&(Ie=Q.indexOf(B,G)),ge=Q.indexOf(_,G),le=Q.indexOf(M,G);break}if(Ue=xt(le),Q.substring(Ie+1+Ue,Ie+1+Ue+oe)===M){if(Se.push(Q.substring(G,Ie).replace(st,B)),kt(Ie+1+Ue+oe),ge=Q.indexOf(_,G),Ie=Q.indexOf(B,G),ve&&(ht(),Z))return et();if(R&&pe.length>=R)return et(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:pe.length,index:G}),Ie++}}else if(k&&Se.length===0&&Q.substring(G,G+me)===k){if(le===-1)return et();G=le+oe,le=Q.indexOf(M,G),ge=Q.indexOf(_,G)}else if(ge!==-1&&(ge<le||le===-1))Se.push(Q.substring(G,ge)),G=ge+se,ge=Q.indexOf(_,G);else{if(le===-1)break;if(Se.push(Q.substring(G,le)),kt(le+oe),ve&&(ht(),Z))return et();if(R&&pe.length>=R)return et(!0)}return gt();function ct(Ct){pe.push(Ct),Ce=G}function xt(Ct){var _t=0;return _t=Ct!==-1&&(Ct=Q.substring(Ie+1,Ct))&&Ct.trim()===""?Ct.length:_t}function gt(Ct){return K||(Ct===void 0&&(Ct=Q.substring(G)),Se.push(Ct),G=te,ct(Se),ve&&ht()),et()}function kt(Ct){G=Ct,ct(Se),Se=[],le=Q.indexOf(M,G)}function et(Ct){if(C.header&&!$&&pe.length&&!V){var _t=pe[0],Gt=Object.create(null),Vt=new Set(_t);let er=!1;for(let jt=0;jt<_t.length;jt++){let Mr=_t[jt];if(Gt[Mr=E(C.transformHeader)?C.transformHeader(Mr,jt):Mr]){let xr,Zn=Gt[Mr];for(;xr=Mr+"_"+Zn,Zn++,Vt.has(xr););Vt.add(xr),_t[jt]=xr,Gt[Mr]++,er=!0,(z=z===null?{}:z)[xr]=Mr}else Gt[Mr]=1,_t[jt]=Mr;Vt.add(Mr)}er&&console.warn("Duplicate headers found and renamed."),V=!0}return{data:pe,errors:we,meta:{delimiter:_,linebreak:M,aborted:Z,truncated:!!Ct,cursor:Ce+($||0),renamedHeaders:z}}}function ht(){D(et()),pe=[],we=[]}},this.abort=function(){Z=!0},this.getCharIndex=function(){return G}}function b(C){var _=C.data,M=l[_.workerId],k=!1;if(_.error)M.userError(_.error,_.file);else if(_.results&&_.results.data){var D={abort:function(){k=!0,N(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(E(M.userStep)){for(var R=0;R<_.results.data.length&&(M.userStep({data:_.results.data[R],errors:_.results.errors,meta:_.results.meta},D),!k);R++);delete _.results}else E(M.userChunk)&&(M.userChunk(_.results,D,_.file),delete _.results)}_.finished&&!k&&N(_.workerId,_.results)}function N(C,_){var M=l[C];E(M.userComplete)&&M.userComplete(_),M.terminate(),delete l[C]}function P(){throw new Error("Not implemented.")}function I(C){if(typeof C!="object"||C===null)return C;var _,M=Array.isArray(C)?[]:{};for(_ in C)M[_]=I(C[_]);return M}function w(C,_){return function(){C.apply(_,arguments)}}function E(C){return typeof C=="function"}return u.parse=function(C,_){var M=(_=_||{}).dynamicTyping||!1;if(E(M)&&(_.dynamicTypingFunction=M,M={}),_.dynamicTyping=M,_.transform=!!E(_.transform)&&_.transform,!_.worker||!u.WORKERS_SUPPORTED)return M=null,u.NODE_STREAM_INPUT,typeof C=="string"?(C=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(C),M=new(_.download?f:v)(_)):C.readable===!0&&E(C.read)&&E(C.on)?M=new g(_):(a.File&&C instanceof File||C instanceof Object)&&(M=new p(_)),M.stream(C);(M=(()=>{var k;return!!u.WORKERS_SUPPORTED&&(k=(()=>{var D=a.URL||a.webkitURL||null,R=n.toString();return u.BLOB_URL||(u.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),(k=new a.Worker(k)).onmessage=b,k.id=c++,l[k.id]=k)})()).userStep=_.step,M.userChunk=_.chunk,M.userComplete=_.complete,M.userError=_.error,_.step=E(_.step),_.chunk=E(_.chunk),_.complete=E(_.complete),_.error=E(_.error),delete _.worker,M.postMessage({input:C,config:_,workerId:M.id})},u.unparse=function(C,_){var M=!1,k=!0,D=",",R=`\r
`,F='"',z=F+F,V=!1,B=null,H=!1,G=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||u.BAD_DELIMITERS.filter(function($){return _.delimiter.indexOf($)!==-1}).length||(D=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(M=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(V=_.skipEmptyLines),typeof _.newline=="string"&&(R=_.newline),typeof _.quoteChar=="string"&&(F=_.quoteChar),typeof _.header=="boolean"&&(k=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");B=_.columns}_.escapeChar!==void 0&&(z=_.escapeChar+F),_.escapeFormulae instanceof RegExp?H=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(H=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(F),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return Z(null,C,V);if(typeof C[0]=="object")return Z(B||Object.keys(C[0]),C,V)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||B),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),Z(C.fields||[],C.data||[],V);throw new Error("Unable to serialize unrecognized input");function Z($,K,te){var se="",oe=(typeof $=="string"&&($=JSON.parse($)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray($)&&0<$.length),me=!Array.isArray(K[0]);if(oe&&k){for(var ve=0;ve<$.length;ve++)0<ve&&(se+=D),se+=Q($[ve],ve);0<K.length&&(se+=R)}for(var pe=0;pe<K.length;pe++){var we=(oe?$:K[pe]).length,Se=!1,Ce=oe?Object.keys(K[pe]).length===0:K[pe].length===0;if(te&&!oe&&(Se=te==="greedy"?K[pe].join("").trim()==="":K[pe].length===1&&K[pe][0].length===0),te==="greedy"&&oe){for(var ze=[],He=0;He<we;He++){var ge=me?$[He]:He;ze.push(K[pe][ge])}Se=ze.join("").trim()===""}if(!Se){for(var le=0;le<we;le++){0<le&&!Ce&&(se+=D);var st=oe&&me?$[le]:le;se+=Q(K[pe][st],le)}pe<K.length-1&&(!te||0<we&&!Ce)&&(se+=R)}}return se}function Q($,K){var te,se;return $==null?"":$.constructor===Date?JSON.stringify($).slice(1,25):(se=!1,H&&typeof $=="string"&&H.test($)&&($="'"+$,se=!0),te=$.toString().replace(G,z),(se=se||M===!0||typeof M=="function"&&M($,K)||Array.isArray(M)&&M[K]||((oe,me)=>{for(var ve=0;ve<me.length;ve++)if(-1<oe.indexOf(me[ve]))return!0;return!1})(te,u.BAD_DELIMITERS)||-1<te.indexOf(D)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?F+te+F:te)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!a.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=j,u.ParserHandle=y,u.NetworkStreamer=f,u.FileStreamer=p,u.StringStreamer=v,u.ReadableStreamStreamer=g,a.jQuery&&((s=a.jQuery).fn.parse=function(C){var _=C.config||{},M=[];return this.each(function(R){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&a.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)M.push({file:this.files[F],inputElem:this,instanceConfig:s.extend({},_)})}),k(),this;function k(){if(M.length===0)E(C.complete)&&C.complete();else{var R,F,z,V,B=M[0];if(E(C.before)){var H=C.before(B.file,B.inputElem);if(typeof H=="object"){if(H.action==="abort")return R="AbortError",F=B.file,z=B.inputElem,V=H.reason,void(E(C.error)&&C.error({name:R},F,z,V));if(H.action==="skip")return void D();typeof H.config=="object"&&(B.instanceConfig=s.extend(B.instanceConfig,H.config))}else if(H==="skip")return void D()}var G=B.instanceConfig.complete;B.instanceConfig.complete=function(Z){E(G)&&G(Z,B.file,B.inputElem),D()},u.parse(B.file,B.instanceConfig)}}function D(){M.splice(0,1),k()}}),o&&(a.onmessage=function(C){C=C.data,u.WORKER_ID===void 0&&C&&(u.WORKER_ID=C.workerId),typeof C.input=="string"?a.postMessage({workerId:u.WORKER_ID,results:u.parse(C.input,C.config),finished:!0}):(a.File&&C.input instanceof File||C.input instanceof Object)&&(C=u.parse(C.input,C.config))&&a.postMessage({workerId:u.WORKER_ID,results:C,finished:!0})}),(f.prototype=Object.create(h.prototype)).constructor=f,(p.prototype=Object.create(h.prototype)).constructor=p,(v.prototype=Object.create(v.prototype)).constructor=v,(g.prototype=Object.create(h.prototype)).constructor=g,u})}(p0)),p0.exports}var PJ=EJ();const Tm=rn(PJ);function vu(){const[e,t]=S.useState([]),[n,a]=S.useState(!1);S.useEffect(()=>{s()},[]);const s=()=>{const v=Qn("renter-insight-vehicles",[{id:"1",vin:"1FDXE4FS8KDC12345",make:"Forest River",model:"Georgetown",year:2024,type:Rt.MOTORHOME,status:jr.AVAILABLE,price:125e3,cost:95e3,location:"Lot A-15",features:["Slide-out","Generator","Solar Panel"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-15")},{id:"2",vin:"1FDXE4FS8KDC67890",make:"Winnebago",model:"View",year:2023,type:Rt.RV,status:jr.AVAILABLE,price:89e3,cost:72e3,location:"Lot B-08",features:["Compact Design","Fuel Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-12")},{id:"3",vin:"1FDXE4FS8KDC11111",make:"Jayco",model:"Eagle",year:2024,type:Rt.FIFTH_WHEEL,status:jr.AVAILABLE,price:75e3,cost:58e3,location:"Lot C-12",features:["Bunk Beds","Outdoor Kitchen","Fireplace"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-10")},{id:"4",vin:"1FDXE4FS8KDC22222",make:"Airstream",model:"Flying Cloud",year:2024,type:Rt.TRAVEL_TRAILER,status:jr.AVAILABLE,price:95e3,cost:78e3,location:"Lot D-05",features:["Aluminum Construction","Premium Interior","Smart Technology"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{},createdAt:new Date("2024-01-03"),updatedAt:new Date("2024-01-08")},{id:"5",vin:"1FDXE4FS8KDC33333",make:"Grand Design",model:"Momentum",year:2023,type:Rt.TOY_HAULER,status:jr.AVAILABLE,price:11e4,cost:88e3,location:"Lot E-18",features:["Garage Space","Fuel Station","Generator"],images:["https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg"],customFields:{},createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-05")},{id:"6",vin:"MH12345678901234",make:"Clayton Homes",model:"Inspiration",year:2024,type:Rt.DOUBLE_WIDE,status:jr.AVAILABLE,price:125e3,cost:95e3,location:"MH Section A-10",features:["3 Bedroom","2 Bathroom","Open Floor Plan","Energy Efficient"],images:["https://images.pexels.com/photos/2506923/pexels-photo-2506923.jpeg"],customFields:{length:"76",width:"28",squareFootage:"2128",constructionType:"Manufactured",roofType:"Shingle",exteriorSiding:"Vinyl",insulationRating:"R-21"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);t(v)},i=v=>{Sn("renter-insight-vehicles",v)};return{vehicles:e,loading:n,getAvailableVehicles:()=>e.filter(v=>v.status===jr.AVAILABLE),getVehicleById:v=>e.find(g=>g.id===v),updateVehicleStatus:async(v,g)=>{const y=e.map(x=>x.id===v?{...x,status:g,updatedAt:new Date}:x);t(y),i(y)},createVehicle:async v=>{a(!0);try{const g={id:Math.random().toString(36).substr(2,9),vin:v.vin||"",make:v.make||"",model:v.model||"",year:v.year||new Date().getFullYear(),type:v.type||Rt.RV,status:jr.AVAILABLE,price:v.price||0,cost:v.cost||0,location:v.location||"",features:v.features||[],images:v.images||[],customFields:v.customFields||{},createdAt:new Date,updatedAt:new Date},y=[...e,g];return t(y),i(y),g}finally{a(!1)}},deleteVehicle:async v=>{const g=e.filter(y=>y.id!==v);t(g),i(g)},importVehiclesFromCSV:async v=>new Promise((g,y)=>{Tm.parse(v,{header:!0,skipEmptyLines:!0,complete:x=>{const j=x.data.map(b=>({vin:b.vin||"",make:b.make||"",model:b.model||"",year:parseInt(b.year)||new Date().getFullYear(),type:b.type||Rt.RV,status:b.status||jr.AVAILABLE,price:parseFloat(b.price)||0,cost:parseFloat(b.cost)||0,location:b.location||"",features:b.features?b.features.split(",").map(N=>N.trim()):[],images:[],customFields:{exteriorColor:b.exteriorColor||"",interiorColor:b.interiorColor||"",length:b.length||"",weight:b.weight||"",sleeps:b.sleeps||"",slideouts:b.slideouts||"",fuelType:b.fuelType||"",mileage:b.mileage||"",condition:b.condition||"New"}}));g(j)},error:x=>{y(x)}})}),exportVehiclesToCSV:()=>{const v=e.map(y=>({id:y.id,vin:y.vin,make:y.make,model:y.model,year:y.year,type:y.type,status:y.status,price:y.price,cost:y.cost,location:y.location,features:y.features.join(", "),exteriorColor:y.customFields?.exteriorColor||"",interiorColor:y.customFields?.interiorColor||"",length:y.customFields?.length||"",weight:y.customFields?.weight||"",sleeps:y.customFields?.sleeps||"",slideouts:y.customFields?.slideouts||"",fuelType:y.customFields?.fuelType||"",mileage:y.customFields?.mileage||"",condition:y.customFields?.condition||""}));return Tm.unparse(v)}}}const Jp=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"}],TJ=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0}];function r7({quote:e,customerId:t,onSave:n,onCancel:a}){const{toast:s}=Ht(),{getAvailableVehicles:i,getVehicleById:o}=vu(),[l,c]=S.useState(!1),[u,h]=S.useState("items"),[f,p]=S.useState({customerId:t,validUntil:new Date(Date.now()+30*24*60*60*1e3),notes:"",terms:"Payment due within 30 days. All sales final.",items:[],subtotal:0,totalDiscount:0,tax:0,taxRate:.08,total:0}),[v,g]=S.useState(""),[y,x]=S.useState(!1),[j,b]=S.useState(""),[N,P]=S.useState({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),I=i();S.useEffect(()=>{e&&p(B=>({...B,...e}))},[e]),S.useEffect(()=>{w()},[f.items,f.taxRate]);const w=()=>{const B=f.items.reduce(($,K)=>$+K.total,0),H=f.items.reduce(($,K)=>{const te=K.discountType==="percentage"?K.quantity*K.unitPrice*K.discount/100:K.discount*K.quantity;return $+te},0),G=B-H,Z=G*f.taxRate,Q=G+Z;p($=>({...$,subtotal:B,totalDiscount:H,tax:Z,total:Q}))},E=()=>{if(!N.description||!N.unitPrice){s({title:"Validation Error",description:"Description and unit price are required",variant:"destructive"});return}const B={id:Math.random().toString(36).substr(2,9),description:N.description,quantity:N.quantity||1,unitPrice:N.unitPrice||0,discount:N.discount||0,discountType:N.discountType||"percentage",total:M(N)};p(H=>({...H,items:[...H.items,B]})),P({description:"",quantity:1,unitPrice:0,discount:0,discountType:"percentage"}),g(""),x(!1)},C=B=>{const H=o(B);if(!H)return;const G={id:Math.random().toString(36).substr(2,9),productId:H.id,description:`${H.year} ${H.make} ${H.model}`,quantity:1,unitPrice:H.price,discount:0,discountType:"percentage",total:H.price};p(Z=>({...Z,items:[...Z.items,G]})),b(""),s({title:"Vehicle Added",description:`${H.year} ${H.make} ${H.model} added to quote`})},_=B=>{const H=Jp.find(G=>G.id===B);if(H){if(H.isBundle&&H.bundleItems){const G={id:Math.random().toString(36).substr(2,9),productId:H.id,description:H.description,quantity:1,unitPrice:H.price,discount:0,discountType:"percentage",total:H.price,isBundle:!0,bundleItems:H.bundleItems.map(Z=>{const Q=Jp.find($=>$.id===Z.productId);return{id:Math.random().toString(36).substr(2,9),productId:Z.productId,description:Q?.name||"",quantity:Z.quantity,unitPrice:Q?.price||0,discount:0,discountType:"percentage",total:(Q?.price||0)*Z.quantity}})};p(Z=>({...Z,items:[...Z.items,G]}))}else{const G={id:Math.random().toString(36).substr(2,9),productId:H.id,description:H.name,quantity:1,unitPrice:H.price,discount:0,discountType:"percentage",total:H.price};p(Z=>({...Z,items:[...Z.items,G]}))}R()}},M=B=>{const H=B.quantity*B.unitPrice,G=B.discountType==="percentage"?H*(B.discount/100):B.discount*B.quantity;return H-G},k=(B,H)=>{p(G=>({...G,items:G.items.map(Z=>{if(Z.id===B){const Q={...Z,...H};return Q.total=M(Q),Q}return Z})}))},D=B=>{p(H=>({...H,items:H.items.filter(G=>G.id!==B)}))},R=()=>{const B=f.items.filter(G=>Jp.find(Z=>Z.id===G.productId)?.category==="accessory");B.length>=3&&B.forEach(G=>{k(G.id,{discount:10,discountType:"percentage"})}),f.items.filter(G=>G.isBundle).forEach(G=>{k(G.id,{discount:500,discountType:"fixed"})})},F=async()=>{c(!0);try{await new Promise(Q=>setTimeout(Q,2e3));const B=z(),H=new Blob([B],{type:"text/plain"}),G=URL.createObjectURL(H),Z=document.createElement("a");Z.href=G,Z.download=`quote-${Date.now()}.txt`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(G),s({title:"PDF Generated",description:"Quote PDF has been downloaded successfully"})}catch{s({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}finally{c(!1)}},z=()=>`
QUOTE DOCUMENT
==============

Customer ID: ${f.customerId}
Valid Until: ${f.validUntil.toLocaleDateString()}

LINE ITEMS:
-----------
${f.items.map(B=>`
${B.description}
Quantity: ${B.quantity} x ${Me(B.unitPrice)}
${B.discount>0?`Discount: ${B.discount}${B.discountType==="percentage"?"%":" fixed"}`:""}
Total: ${Me(B.total)}
${B.isBundle?`
  Bundle Items:
  ${B.bundleItems?.map(H=>`  - ${H.description} (${H.quantity}x)`).join(`
  `)||""}
`:""}
`).join(`
`)}

TOTALS:
-------
Subtotal: ${Me(f.subtotal)}
Total Discount: ${Me(f.totalDiscount)}
Tax (${(f.taxRate*100).toFixed(1)}%): ${Me(f.tax)}
TOTAL: ${Me(f.total)}

Notes: ${f.notes}
Terms: ${f.terms}
    `,V=async()=>{if(f.items.length===0){s({title:"Validation Error",description:"At least one line item is required",variant:"destructive"});return}c(!0);try{const B={...f,customerId:f.customerId||t};await n(B),s({title:"Success",description:"Quote saved successfully"})}catch{s({title:"Error",description:"Failed to save quote",variant:"destructive"})}finally{c(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl flex items-center",children:[r.jsx(Qs,{className:"h-5 w-5 mr-2 text-blue-500"}),e?"Edit Quote":"Create Quote"]}),r.jsx(tt,{children:"Build a detailed quote with line items, pricing rules, and bundled products"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:a,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{children:[r.jsxs(Or,{value:u,onValueChange:h,className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-4",children:[r.jsx(ut,{value:"items",children:"Line Items"}),r.jsx(ut,{value:"products",children:"Products"}),r.jsx(ut,{value:"pricing",children:"Pricing Rules"}),r.jsx(ut,{value:"details",children:"Quote Details"})]}),r.jsxs(ft,{value:"items",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Quote Line Items"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Xe,{value:j,onValueChange:b,children:[r.jsx(Ke,{className:"w-64",children:r.jsx(Qe,{placeholder:"Add vehicle from inventory"})}),r.jsx(Ye,{children:I.map(B=>r.jsxs(ee,{value:B.id,children:[B.year," ",B.make," ",B.model," - ",Me(B.price)]},B.id))})]}),j&&r.jsxs(ae,{onClick:()=>C(j),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Vehicle"]}),r.jsxs(ae,{onClick:()=>x(!0),size:"sm",variant:"outline",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Custom Item"]})]})]}),y&&r.jsx(ye,{className:"border-dashed",children:r.jsxs(be,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Description"}),r.jsx(Ee,{value:N.description||"",onChange:B=>P(H=>({...H,description:B.target.value})),placeholder:"Item description"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Unit Price"}),r.jsx(Ee,{type:"number",value:N.unitPrice||"",onChange:B=>P(H=>({...H,unitPrice:parseFloat(B.target.value)||0})),placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Quantity"}),r.jsx(Ee,{type:"number",value:N.quantity||1,onChange:B=>P(H=>({...H,quantity:parseInt(B.target.value)||1})),min:"1"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Discount"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{type:"number",value:N.discount||0,onChange:B=>P(H=>({...H,discount:parseFloat(B.target.value)||0})),placeholder:"0"}),r.jsxs(Xe,{value:N.discountType,onValueChange:B=>P(H=>({...H,discountType:B})),children:[r.jsx(Ke,{className:"w-32",children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"percentage",children:"%"}),r.jsx(ee,{value:"fixed",children:"$"})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsx(ae,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),r.jsx(ae,{onClick:E,children:"Add Item"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[f.items.map((B,H)=>r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"pt-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-4",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Description"}),r.jsx(Ee,{value:B.description,onChange:G=>k(B.id,{description:G.target.value})}),B.isBundle&&r.jsxs(Ze,{className:"mt-1 bg-purple-50 text-purple-700 border-purple-200",children:[r.jsx(Rs,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Quantity"}),r.jsx(Ee,{type:"number",value:B.quantity,onChange:G=>k(B.id,{quantity:parseInt(G.target.value)||1}),min:"1"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Unit Price"}),r.jsx(Ee,{type:"number",value:B.unitPrice,onChange:G=>k(B.id,{unitPrice:parseFloat(G.target.value)||0}),step:"0.01"})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Discount"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{type:"number",value:B.discount,onChange:G=>k(B.id,{discount:parseFloat(G.target.value)||0}),step:"0.01"}),r.jsxs(Xe,{value:B.discountType,onValueChange:G=>k(B.id,{discountType:G}),children:[r.jsx(Ke,{className:"w-16",children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"percentage",children:"%"}),r.jsx(ee,{value:"fixed",children:"$"})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),r.jsx("div",{className:"font-bold text-lg",children:Me(B.total)})]}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>D(B.id),children:r.jsx(oa,{className:"h-4 w-4"})})]})]}),B.isBundle&&B.bundleItems&&r.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-purple-200",children:[r.jsx("h4",{className:"text-sm font-semibold text-purple-700 mb-2",children:"Bundle Contents:"}),r.jsx("div",{className:"space-y-2",children:B.bundleItems.map(G=>r.jsxs("div",{className:"flex items-center justify-between text-sm bg-purple-50 p-2 rounded",children:[r.jsx("span",{children:G.description}),r.jsxs("span",{children:[G.quantity,"x ",Me(G.unitPrice)]})]},G.id))})]})]})},B.id)),f.items.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No line items added yet"}),r.jsx("p",{className:"text-sm",children:"Add products or custom items to build your quote"})]})]}),f.items.length>0&&r.jsx(ye,{className:"bg-muted/30",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Me(f.subtotal)})]}),r.jsxs("div",{className:"flex justify-between text-red-600",children:[r.jsx("span",{children:"Total Discount:"}),r.jsxs("span",{children:["-",Me(f.totalDiscount)]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Tax (",(f.taxRate*100).toFixed(1),"%):"]}),r.jsx("span",{children:Me(f.tax)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Me(f.total)})]})]})})})]}),r.jsx(ft,{value:"products",className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Available Inventory & Products"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-md font-semibold mb-3 text-blue-600",children:"Available Vehicles"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:I.map(B=>r.jsx(ye,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsxs("h4",{className:"font-semibold",children:[B.year," ",B.make," ",B.model]}),r.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200",children:B.type.replace("_"," ").toUpperCase()})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["VIN: ",B.vin]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Location: ",B.location]}),r.jsx("div",{className:"text-lg font-bold text-primary",children:Me(B.price)}),B.features.length>0&&r.jsx("div",{className:"mt-3",children:r.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.features.slice(0,3).map((H,G)=>r.jsx(Ze,{variant:"outline",className:"text-xs",children:H},G)),B.features.length>3&&r.jsxs(Ze,{variant:"outline",className:"text-xs",children:["+",B.features.length-3," more"]})]})})]}),r.jsxs(ae,{onClick:()=>C(B.id),size:"sm",className:"ml-4",children:[r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},B.id))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-semibold mb-3 text-green-600",children:"Available Products & Services"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Jp.map(B=>r.jsx(ye,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h4",{className:"font-semibold",children:B.name}),B.isBundle&&r.jsxs(Ze,{className:"bg-purple-50 text-purple-700 border-purple-200",children:[r.jsx(Rs,{className:"h-3 w-3 mr-1"}),"Bundle"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:B.description}),r.jsx("div",{className:"text-lg font-bold text-primary",children:Me(B.price)}),B.isBundle&&B.bundleItems&&r.jsxs("div",{className:"mt-3 p-2 bg-purple-50 rounded",children:[r.jsx("div",{className:"text-xs font-semibold text-purple-700 mb-1",children:"Includes:"}),B.bundleItems.map(H=>{const G=Jp.find(Z=>Z.id===H.productId);return r.jsxs("div",{className:"text-xs text-purple-600",children:["• ",G?.name," (",H.quantity,"x)"]},H.productId)})]})]}),r.jsxs(ae,{onClick:()=>_(B.id),size:"sm",className:"ml-4",children:[r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Add"]})]})})},B.id))})]})]})}),r.jsx(ft,{value:"pricing",className:"space-y-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Active Pricing Rules"}),r.jsx("div",{className:"space-y-4",children:TJ.filter(B=>B.isActive).map(B=>r.jsx(ye,{className:"shadow-sm",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:B.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[B.type==="quantity_discount"&&`Min quantity: ${B.conditions.minQuantity}`,B.type==="bundle_discount"&&"Applied to bundle products",B.type==="customer_discount"&&`Customer type: ${B.conditions.customerType}`]}),r.jsx("div",{className:"flex items-center space-x-2 mt-2",children:r.jsxs(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:[r.jsx(kv,{className:"h-3 w-3 mr-1"}),B.discount.type==="percentage"?`${B.discount.value}%`:Me(B.discount.value)," off"]})})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>R(),children:[r.jsx(sh,{className:"h-4 w-4 mr-1"}),"Apply"]})]})})},B.id))})]})}),r.jsxs(ft,{value:"details",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"validUntil",children:"Valid Until"}),r.jsx(Ee,{id:"validUntil",type:"date",value:f.validUntil.toISOString().split("T")[0],onChange:B=>p(H=>({...H,validUntil:new Date(B.target.value)}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"taxRate",children:"Tax Rate (%)"}),r.jsx(Ee,{id:"taxRate",type:"number",value:(f.taxRate*100).toFixed(2),onChange:B=>p(H=>({...H,taxRate:parseFloat(B.target.value)/100||0})),step:"0.01",min:"0",max:"100"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Notes"}),r.jsx(wr,{id:"notes",value:f.notes,onChange:B=>p(H=>({...H,notes:B.target.value})),placeholder:"Additional notes for the customer...",rows:3})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"terms",children:"Terms & Conditions"}),r.jsx(wr,{id:"terms",value:f.terms,onChange:B=>p(H=>({...H,terms:B.target.value})),placeholder:"Terms and conditions...",rows:4})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[r.jsx("div",{className:"flex space-x-2",children:r.jsxs(ae,{variant:"outline",onClick:F,disabled:l||f.items.length===0,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),l?"Generating...":"Export PDF"]})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(ae,{variant:"outline",onClick:a,disabled:l,children:"Cancel"}),r.jsx(ae,{onClick:V,disabled:l,children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Quote"]})})]})]})]})]})})}function IJ(){const[e,t]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState(!1);S.useEffect(()=>{c()},[]);const c=()=>{const w=Qn("renter-insight-quotes",[]);t(w);const E=[{id:"1",name:"2024 Forest River Georgetown",description:"Class A Motorhome with premium features",price:125e3,category:"motorhome"},{id:"2",name:"Extended Warranty",description:"3-year comprehensive warranty coverage",price:2500,category:"warranty"},{id:"3",name:"Solar Panel Package",description:"400W solar panel system with inverter",price:3500,category:"accessory"},{id:"4",name:"Premium Package",description:"Includes extended warranty, solar panels, and premium interior",price:8e3,category:"bundle",isBundle:!0,bundleItems:[{productId:"2",quantity:1},{productId:"3",quantity:1},{productId:"5",quantity:1}]},{id:"5",name:"Premium Interior Upgrade",description:"Leather seating and premium finishes",price:2200,category:"upgrade"},{id:"6",name:"Backup Camera System",description:"Wireless backup camera with monitor",price:450,category:"accessory"},{id:"7",name:"Awning Package",description:"Electric awning with LED lighting",price:1200,category:"accessory"}],C=[{id:"1",name:"Bulk Accessory Discount",type:"quantity_discount",conditions:{minQuantity:3},discount:{type:"percentage",value:10},isActive:!0},{id:"2",name:"Premium Bundle Discount",type:"bundle_discount",conditions:{productIds:["4"]},discount:{type:"fixed",value:500},isActive:!0},{id:"3",name:"First-Time Buyer Discount",type:"customer_discount",conditions:{customerType:"first_time"},discount:{type:"percentage",value:5},isActive:!0}];a(E),i(C)},u=w=>{Sn("renter-insight-quotes",w)},h=async w=>{l(!0);try{const E={id:Math.random().toString(36).substr(2,9),customerId:w.customerId||"",items:w.items||[],subtotal:w.subtotal||0,totalDiscount:w.totalDiscount||0,tax:w.tax||0,taxRate:w.taxRate||.08,total:w.total||0,status:"draft",validUntil:w.validUntil||new Date(Date.now()+2592e6),notes:w.notes||"",terms:w.terms||"",createdAt:new Date,updatedAt:new Date},C=[...e,E];return t(C),u(C),E}finally{l(!1)}},f=async(w,E)=>{l(!0);try{const C=e.map(_=>_.id===w?{..._,...E,updatedAt:new Date}:_);return t(C),u(C),C.find(_=>_.id===w)}finally{l(!1)}};return{quotes:e,products:n,pricingRules:s,loading:o,createQuote:h,updateQuote:f,deleteQuote:async w=>{const E=e.filter(C=>C.id!==w);t(E),u(E)},duplicateQuote:async w=>{const E=e.find(M=>M.id===w);if(!E)return;const C={...E,id:Math.random().toString(36).substr(2,9),status:"draft",createdAt:new Date,updatedAt:new Date},_=[...e,C];return t(_),u(_),C},sendQuote:async w=>f(w,{status:"sent"}),acceptQuote:async w=>f(w,{status:"accepted"}),rejectQuote:async w=>f(w,{status:"rejected"}),calculateQuoteTotals:(w,E=.08)=>{const C=w.reduce((R,F)=>R+F.total,0),_=w.reduce((R,F)=>{const z=F.discountType==="percentage"?F.quantity*F.unitPrice*F.discount/100:F.discount*F.quantity;return R+z},0),M=C-_,k=M*E,D=M+k;return{subtotal:C,totalDiscount:_,tax:k,total:D}},applyPricingRules:(w,E)=>{let C=[...w];return s.forEach(_=>{if(_.isActive)switch(_.type){case"quantity_discount":if(_.conditions.minQuantity){const M=C.filter(k=>n.find(D=>D.id===k.productId)?.category==="accessory");M.length>=_.conditions.minQuantity&&(C=C.map(k=>M.includes(k)?{...k,discount:_.discount.value,discountType:_.discount.type}:k))}break;case"bundle_discount":_.conditions.productIds&&(C=C.map(M=>M.isBundle&&_.conditions.productIds?.includes(M.productId||"")?{...M,discount:_.discount.value,discountType:_.discount.type}:M));break}}),C},getQuotesByCustomer:w=>e.filter(E=>E.customerId===w),getQuotesByStatus:w=>e.filter(E=>E.status===w),getExpiredQuotes:()=>{const w=new Date;return e.filter(E=>new Date(E.validUntil)<w&&E.status!=="accepted")}}}function DJ({quote:e,onClose:t,onEdit:n}){const a=s=>{switch(s){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl",children:["Quote #",e.id]}),r.jsx(tt,{children:"Quote details and line items"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),r.jsx("p",{className:"font-medium",children:e.customerId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),r.jsx("div",{className:"mt-1",children:r.jsx(Ze,{className:ot("ri-badge-status",a(e.status)),children:e.status.toUpperCase()})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),r.jsx("p",{className:"font-medium",children:Et(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),r.jsx("p",{className:"font-medium",children:Et(e.validUntil)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),r.jsx("div",{className:"space-y-3",children:Array.isArray(e.items)&&e.items.length>0?e.items.map((s,i)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:s.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",s.quantity," × ",Me(s.unitPrice)]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"font-bold text-lg",children:Me(s.total)})})]},s.id)):r.jsx("p",{className:"text-sm text-muted-foreground",children:"No items in this quote."})})]}),r.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Me(e.subtotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),r.jsx("span",{children:Me(e.tax)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Me(e.total)})]})]})}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm",children:e.notes})})]})]})]})})}function _J(){const{quotes:e,createQuote:t,updateQuote:n,deleteQuote:a,duplicateQuote:s,sendQuote:i}=IJ(),{toast:o}=Ht(),[l,c]=S.useState(""),[u,h]=S.useState("all"),[f,p]=S.useState(!1),[v,g]=S.useState(null),[y,x]=S.useState(null),[j,b]=S.useState(""),[N,P]=S.useState(null);S.useEffect(()=>{!y&&N&&(g(N),b(N.customerId),p(!0),P(null))},[y,N]);const I=z=>{switch(z){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},w=Array.isArray(e)?e.filter(z=>{const V=z.id?.toLowerCase()?.includes(l.toLowerCase())||z.customerId?.toLowerCase()?.includes(l.toLowerCase()),B=u==="all"||z.status===u;return V&&B}):[],E=()=>{g(null),b(""),p(!0)},C=z=>{x(null),P(z)},_=z=>{x(z)},M=()=>x(null),k=async z=>{try{v?(await n(v.id,z),o({title:"Success",description:"Quote updated successfully"})):(await t(z),o({title:"Success",description:"Quote created successfully"})),p(!1),g(null)}catch(V){console.error("Error saving quote:",V),o({title:"Error",description:"Failed to save quote",variant:"destructive"})}},D=async z=>{try{await i(z),o({title:"Success",description:"Quote sent to customer"})}catch(V){console.error("Error sending quote:",V),o({title:"Error",description:"Failed to send quote",variant:"destructive"})}},R=async z=>{try{await s(z),o({title:"Success",description:"Quote duplicated successfully"})}catch(V){console.error("Error duplicating quote:",V),o({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},F=async z=>{if(window.confirm("Are you sure you want to delete this quote?"))try{await a(z),o({title:"Success",description:"Quote deleted successfully"})}catch(V){console.error("Error deleting quote:",V),o({title:"Error",description:"Failed to delete quote",variant:"destructive"})}};return w.length,w.filter(z=>z.status==="draft").length,w.filter(z=>z.status==="sent").length,w.filter(z=>z.status==="accepted").length,w.reduce((z,V)=>z+(V.total||0),0),w.filter(z=>z.status==="accepted").reduce((z,V)=>z+(V.total||0),0),r.jsxs("div",{className:"space-y-8",children:[f&&r.jsx(r7,{quote:v,customerId:j,onSave:k,onCancel:()=>{p(!1),g(null)}}),y&&r.jsx(DJ,{quote:y,onClose:M,onEdit:C}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),r.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:E,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),r.jsx("div",{className:"ri-stats-grid"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search quotes...",value:l,onChange:z=>c(z.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(Xe,{value:u,onValueChange:h,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:"draft",children:"Draft"}),r.jsx(ee,{value:"sent",children:"Sent"}),r.jsx(ee,{value:"viewed",children:"Viewed"}),r.jsx(ee,{value:"accepted",children:"Accepted"}),r.jsx(ee,{value:"rejected",children:"Rejected"}),r.jsx(ee,{value:"expired",children:"Expired"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"text-xl",children:["Quotes (",w.length,")"]}),r.jsx(tt,{children:"Manage customer quotes with advanced pricing and bundling"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:Array.isArray(w)&&w.length>0?w.map(z=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",z.id]}),r.jsx(Ze,{className:ot("ri-badge-status",I(z.status)),children:z.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",z.customerId]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total:"})," ",r.jsx("span",{className:"ml-1 font-bold text-primary",children:Me(z.total)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"})," ",Et(z.createdAt)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Et(z.validUntil)]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>_(z),children:[r.jsx(iu,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>C(z),children:[r.jsx(bn,{className:"h-3 w-3 mr-1"}),"Edit"]}),z.status==="draft"&&r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>D(z.id),children:[r.jsx(sc,{className:"h-3 w-3 mr-1"}),"Send"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>R(z.id),children:[r.jsx(mA,{className:"h-3 w-3 mr-1"}),"Copy"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>F(z.id),children:r.jsx(oa,{className:"h-3 w-3"})})]})]},z.id)):r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No quotes found"}),r.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})})})]})]})}function EP(){const{leads:e,sources:t,salesReps:n,getActivitiesByLead:a,getRemindersByUser:s,getLeadScore:i}=bl(),[o,l]=S.useState(""),[c,u]=S.useState("all"),[h,f]=S.useState("all"),[p,v]=S.useState("all"),[g,y]=S.useState(null),[x,j]=S.useState(!1),b=w=>{switch(w){case os.NEW:return"bg-blue-50 text-blue-700 border-blue-200";case os.CONTACTED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case os.QUALIFIED:return"bg-green-50 text-green-700 border-green-200";case os.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case os.NEGOTIATION:return"bg-orange-50 text-orange-700 border-orange-200";case os.CLOSED_WON:return"bg-emerald-50 text-emerald-700 border-emerald-200";case os.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},N=w=>w>=80?"text-green-600 bg-green-50":w>=60?"text-yellow-600 bg-yellow-50":w>=40?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",P=e.filter(w=>{const E=`${w.firstName} ${w.lastName}`.toLowerCase().includes(o.toLowerCase())||w.email.toLowerCase().includes(o.toLowerCase())||w.phone.includes(o),C=c==="all"||w.status===c,_=h==="all"||w.sourceId===h,M=p==="all"||w.assignedTo===p;return E&&C&&_&&M}),I=w=>{console.log("New lead created:",w)};if(g){const w=a(g.id),E=s("current-user").filter(_=>_.leadId===g.id),C=i(g.id);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(ae,{variant:"outline",onClick:()=>y(null),className:"mb-4",children:"← Back to Leads"}),r.jsxs("h1",{className:"ri-page-title",children:[g.firstName," ",g.lastName]}),r.jsx("p",{className:"ri-page-description",children:"Lead details and activity management"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ze,{className:ot("ri-badge-status",b(g.status)),children:g.status.replace("_"," ").toUpperCase()}),g.score&&r.jsxs(Ze,{className:ot("ri-badge-status",N(g.score)),children:["Score: ",g.score]})]})]}),r.jsxs(Or,{defaultValue:"overview",className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-6",children:[r.jsx(ut,{value:"overview",children:"Overview"}),r.jsx(ut,{value:"activity",children:"Activity"}),r.jsx(ut,{value:"communication",children:"Communication"}),r.jsx(ut,{value:"ai-insights",children:"AI Insights"}),r.jsx(ut,{value:"nurturing",children:"Nurturing"}),r.jsx(ut,{value:"reminders",children:"Reminders"})]}),r.jsx(ft,{value:"overview",className:"space-y-6",children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-2",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsx(Te,{children:"Lead Information"})}),r.jsxs(be,{children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),r.jsx("p",{className:"font-medium",children:g.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),r.jsx("p",{className:"font-medium",children:g.phone})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Source"}),r.jsx("p",{className:"font-medium",children:g.source})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),r.jsx("p",{className:"font-medium",children:n.find(_=>_.id===g.assignedTo)?.name||"Unassigned"})]}),Object.entries(g.customFields||{}).map(([_,M])=>r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground capitalize",children:_.replace(/([A-Z])/g," $1").trim()}),r.jsx("p",{className:"font-medium",children:M})]},_))]}),g.notes&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("p",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:g.notes})]})]})]})}),r.jsx("div",{className:"space-y-6",children:C&&r.jsx(vJ,{score:C})})]})}),r.jsx(ft,{value:"activity",children:r.jsx(xJ,{leadId:g.id,activities:w})}),r.jsx(ft,{value:"communication",children:r.jsx(CJ,{leadId:g.id,leadData:g})}),r.jsx(ft,{value:"ai-insights",children:r.jsx(SJ,{leadId:g.id,leadData:g})}),r.jsx(ft,{value:"nurturing",children:r.jsx("div",{className:"space-y-6",children:r.jsx(CP,{})})}),r.jsx(ft,{value:"reminders",children:r.jsx(gJ,{leadId:g.id,reminders:E})})]})]})}return r.jsxs("div",{className:"space-y-8",children:[x&&r.jsx(mp,{onClose:()=>j(!1),onSuccess:I}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"CRM & Prospecting"}),r.jsx("p",{className:"ri-page-description",children:"Manage leads, track activities, and monitor sales pipeline with AI-powered insights"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:()=>j(!0),children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Leads"}),r.jsx(Na,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"+12% from last month"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"New Leads"}),r.jsx(Na,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(w=>w.status===os.NEW).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"+8% from last week"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Qualified"}),r.jsx(yi,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(w=>w.status===os.QUALIFIED).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"+15% from last month"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"AI Insights"}),r.jsx(Jl,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"47"}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(Jl,{className:"h-3 w-3 mr-1"}),"Active recommendations"]})]})]})]}),r.jsxs(Or,{defaultValue:"leads",className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-6",children:[r.jsx(ut,{value:"leads",children:"Leads"}),r.jsx(ut,{value:"pipeline",children:"Pipeline"}),r.jsx(ut,{value:"quotes",children:"Quotes"}),r.jsx(ut,{value:"nurturing",children:"Nurturing"}),r.jsx(ut,{value:"forms",children:"Intake Forms"}),r.jsx(ut,{value:"sources",children:"Sources"})]}),r.jsxs(ft,{value:"leads",className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search leads...",value:o,onChange:w=>l(w.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(Xe,{value:c,onValueChange:u,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:os.NEW,children:"New"}),r.jsx(ee,{value:os.CONTACTED,children:"Contacted"}),r.jsx(ee,{value:os.QUALIFIED,children:"Qualified"}),r.jsx(ee,{value:os.PROPOSAL,children:"Proposal"}),r.jsx(ee,{value:os.NEGOTIATION,children:"Negotiation"}),r.jsx(ee,{value:os.CLOSED_WON,children:"Closed Won"}),r.jsx(ee,{value:os.CLOSED_LOST,children:"Closed Lost"})]})]}),r.jsxs(Xe,{value:h,onValueChange:f,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Source"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Sources"}),t.map(w=>r.jsx(ee,{value:w.id,children:w.name},w.id))]})]}),r.jsxs(Xe,{value:p,onValueChange:v,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Assignee"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Reps"}),n.map(w=>r.jsx(ee,{value:w.id,children:w.name},w.id))]})]}),r.jsxs(ae,{onClick:()=>j(!0),className:"shadow-sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl",children:["Leads (",P.length,")"]}),r.jsx(tt,{children:"Manage your sales prospects with AI-powered insights and automated nurturing"})]}),r.jsxs(ae,{onClick:()=>j(!0),variant:"outline",className:"shadow-sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Lead"]})]})}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:P.map(w=>r.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>y(w),children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:[w.firstName," ",w.lastName]}),r.jsx(Ze,{className:ot("ri-badge-status",b(w.status)),children:w.status.replace("_"," ").toUpperCase()}),w.score&&r.jsx(Ze,{className:ot("ri-badge-status",N(w.score)),children:w.score}),r.jsxs(Ze,{variant:"outline",className:"text-xs",children:[r.jsx(Jl,{className:"h-3 w-3 mr-1"}),"AI Ready"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Mn,{className:"h-3 w-3 mr-2 text-blue-500"}),w.email]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(op,{className:"h-3 w-3 mr-2 text-green-500"}),w.phone]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Na,{className:"h-3 w-3 mr-2 text-purple-500"}),n.find(E=>E.id===w.assignedTo)?.name||"Unassigned"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(gn,{className:"h-3 w-3 mr-2 text-orange-500"}),Et(w.createdAt)]})]}),w.notes&&r.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:w.notes})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:E=>{E.stopPropagation()},children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Contact"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:E=>{E.stopPropagation(),y(w)},children:[r.jsx(Jl,{className:"h-3 w-3 mr-1"}),"AI Insights"]})]})]},w.id))})})]})]}),r.jsx(ft,{value:"pipeline",children:r.jsx(lJ,{})}),r.jsx(ft,{value:"quotes",children:r.jsx(_J,{})}),r.jsx(ft,{value:"nurturing",children:r.jsx(CP,{})}),r.jsx(ft,{value:"forms",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Lead Intake Forms"}),r.jsx(tt,{children:"Create and manage dynamic lead capture forms"})]}),r.jsx(be,{children:r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Form builder coming soon..."})})]})}),r.jsx(ft,{value:"sources",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Lead Sources"}),r.jsx(tt,{children:"Manage and track lead source performance"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:t.map(w=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:w.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type: ",w.type," • Conversion: ",w.conversionRate,"%",w.trackingCode&&` • Code: ${w.trackingCode}`]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ze,{className:w.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:w.isActive?"Active":"Inactive"}),r.jsx(ae,{variant:"outline",size:"sm",children:r.jsx(Px,{className:"h-3 w-3"})})]})]},w.id))})})]})})]})]})}function kJ(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(EP,{})}),r.jsx(vr,{path:"/*",element:r.jsx(EP,{})})]})}function OJ({vehicles:e,onEdit:t,onDelete:n,onView:a,onStatusChange:s}){const{toast:i}=Ht(),[o,l]=S.useState(""),[c,u]=S.useState("all"),[h,f]=S.useState("all"),[p,v]=S.useState("all"),[g,y]=S.useState([]),[x,j]=S.useState("updatedAt"),[b,N]=S.useState("desc"),P=Array.from(new Set(e.map(R=>R.location))),I=R=>{switch(R){case jr.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case jr.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case jr.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case jr.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case jr.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},w=R=>R.replace("_"," ").toUpperCase(),E=e.filter(R=>{const F=`${R.make} ${R.model}`.toLowerCase().includes(o.toLowerCase())||R.vin.toLowerCase().includes(o.toLowerCase())||R.year.toString().includes(o),z=c==="all"||R.status===c,V=h==="all"||R.type===h,B=p==="all"||R.location===p;return F&&z&&V&&B}).sort((R,F)=>{let z=R[x],V=F[x];return z instanceof Date&&V instanceof Date&&(z=z.getTime(),V=V.getTime()),typeof z=="string"&&typeof V=="string"&&(z=z.toLowerCase(),V=V.toLowerCase()),z<V?b==="asc"?-1:1:z>V?b==="asc"?1:-1:0}),C=R=>{x===R?N(b==="asc"?"desc":"asc"):(j(R),N("asc"))},_=R=>{y(R?E.map(F=>F.id):[])},M=R=>{g.includes(R)?y(g.filter(F=>F!==R)):y([...g,R])},k=()=>{const F=(g.length>0?e.filter(G=>g.includes(G.id)):E).map(G=>({id:G.id,vin:G.vin,make:G.make,model:G.model,year:G.year,type:G.type,status:G.status,price:G.price,cost:G.cost,location:G.location,features:G.features.join(", "),createdAt:G.createdAt.toISOString(),updatedAt:G.updatedAt.toISOString()})),z=Tm.unparse(F),V=new Blob([z],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(V),H=document.createElement("a");H.href=B,H.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(H),H.click(),document.body.removeChild(H),i({title:"Export Successful",description:`Exported ${F.length} vehicles to CSV`})},D=R=>{if(g.length===0){i({title:"No Vehicles Selected",description:"Please select vehicles to update",variant:"destructive"});return}g.forEach(F=>{s(F,R)}),i({title:"Status Updated",description:`Updated ${g.length} vehicles to ${R}`})};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"ri-search-bar flex-1",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search by make, model, VIN...",value:o,onChange:R=>l(R.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Xe,{value:c,onValueChange:u,children:[r.jsx(Ke,{className:"w-[130px]",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:jr.AVAILABLE,children:"Available"}),r.jsx(ee,{value:jr.RESERVED,children:"Reserved"}),r.jsx(ee,{value:jr.SOLD,children:"Sold"}),r.jsx(ee,{value:jr.SERVICE,children:"Service"}),r.jsx(ee,{value:jr.DELIVERED,children:"Delivered"})]})]}),r.jsxs(Xe,{value:h,onValueChange:f,children:[r.jsx(Ke,{className:"w-[130px]",children:r.jsx(Qe,{placeholder:"Type"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Types"}),r.jsx(ee,{value:Rt.RV,children:"RV"}),r.jsx(ee,{value:Rt.MOTORHOME,children:"Motorhome"}),r.jsx(ee,{value:Rt.TRAVEL_TRAILER,children:"Travel Trailer"}),r.jsx(ee,{value:Rt.FIFTH_WHEEL,children:"Fifth Wheel"}),r.jsx(ee,{value:Rt.TOY_HAULER,children:"Toy Hauler"})]})]}),r.jsxs(Xe,{value:p,onValueChange:v,children:[r.jsx(Ke,{className:"w-[130px]",children:r.jsx(Qe,{placeholder:"Location"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Locations"}),P.map(R=>r.jsx(ee,{value:R,children:R},R))]})]})]})]}),g.length>0&&r.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-2 rounded-lg",children:[r.jsxs("div",{className:"text-sm font-medium",children:[g.length," vehicles selected"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Xe,{onValueChange:R=>D(R),children:[r.jsx(Ke,{className:"w-[150px]",children:r.jsx(Qe,{placeholder:"Change Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:jr.AVAILABLE,children:"Available"}),r.jsx(ee,{value:jr.RESERVED,children:"Reserved"}),r.jsx(ee,{value:jr.SOLD,children:"Sold"}),r.jsx(ee,{value:jr.SERVICE,children:"Service"}),r.jsx(ee,{value:jr.DELIVERED,children:"Delivered"}),r.jsx(ee,{value:Rt.SINGLE_WIDE,children:"Single Wide MH"}),r.jsx(ee,{value:Rt.DOUBLE_WIDE,children:"Double Wide MH"}),r.jsx(ee,{value:Rt.TRIPLE_WIDE,children:"Triple Wide MH"}),r.jsx(ee,{value:Rt.PARK_MODEL,children:"Park Model"}),r.jsx(ee,{value:Rt.MODULAR_HOME,children:"Modular Home"})]})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:k,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>y([]),children:[r.jsx(cr,{className:"h-4 w-4 mr-2"}),"Clear Selection"]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl",children:["Inventory (",E.length,")"]}),r.jsx(tt,{children:"Manage your RV and motorhome inventory"})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(ae,{variant:"outline",size:"sm",onClick:k,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export CSV"]})})]})}),r.jsx(be,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"p-2 text-left",children:r.jsx(Ut,{checked:g.length===E.length&&E.length>0,onCheckedChange:_})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>C("make"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Make/Model"}),x==="make"&&r.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>C("year"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Year"}),x==="year"&&r.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>C("vin"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"VIN"}),x==="vin"&&r.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>C("type"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Type"}),x==="type"&&r.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>C("status"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Status"}),x==="status"&&r.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>C("location"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Location"}),x==="location"&&r.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"p-2 text-left cursor-pointer hover:bg-muted/30",onClick:()=>C("price"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Price"}),x==="price"&&r.jsx("span",{className:"ml-1",children:b==="asc"?"↑":"↓"})]})}),r.jsx("th",{className:"p-2 text-left",children:"Media"}),r.jsx("th",{className:"p-2 text-left",children:"Actions"})]})}),r.jsxs("tbody",{children:[E.map(R=>r.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[r.jsx("td",{className:"p-2",children:r.jsx(Ut,{checked:g.includes(R.id),onCheckedChange:()=>M(R.id)})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"font-medium",children:[R.make," ",R.model]})}),r.jsx("td",{className:"p-2",children:R.year}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:"font-mono text-xs",children:R.vin})}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:"text-sm",children:w(R.type)})}),r.jsx("td",{className:"p-2",children:r.jsx(Ze,{className:ot("ri-badge-status",I(R.status)),children:R.status.toUpperCase()})}),r.jsx("td",{className:"p-2",children:R.location}),r.jsx("td",{className:"p-2 font-medium text-primary",children:Me(R.price)}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsxs(Ze,{variant:"outline",className:"text-xs",children:[r.jsx(Am,{className:"h-3 w-3 mr-1"}),R.images.length]}),R.customFields.videos&&r.jsxs(Ze,{variant:"outline",className:"text-xs",children:[r.jsx(w0,{className:"h-3 w-3 mr-1"}),R.customFields.videos.length||0]})]})}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>a(R),children:r.jsx(iu,{className:"h-4 w-4"})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>t(R),children:r.jsx(bn,{className:"h-4 w-4"})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>n(R.id),children:r.jsx(oa,{className:"h-4 w-4"})})]})})]},R.id)),E.length===0&&r.jsx("tr",{children:r.jsxs("td",{colSpan:10,className:"p-8 text-center text-muted-foreground",children:[r.jsx(Rs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No vehicles found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})]})]})})})]})]})}var cj={exports:{}},uj,PP;function RJ(){if(PP)return uj;PP=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uj=e,uj}var dj,TP;function LJ(){if(TP)return dj;TP=1;var e=RJ();function t(){}function n(){}return n.resetWarningCache=t,dj=function(){function a(o,l,c,u,h,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},dj}var IP;function FJ(){return IP||(IP=1,cj.exports=LJ()()),cj.exports}var MJ=FJ();const Yt=rn(MJ),$J=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Im(e,t,n){const a=BJ(e),{webkitRelativePath:s}=e,i=typeof t=="string"?t:typeof s=="string"&&s.length>0?s:`./${e.name}`;return typeof a.path!="string"&&DP(a,"path",i),DP(a,"relativePath",i),a}function BJ(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const a=t.split(".").pop().toLowerCase(),s=$J.get(a);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}function DP(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const qJ=[".DS_Store","Thumbs.db"];function zJ(e){return xh(this,void 0,void 0,function*(){return _0(e)&&UJ(e.dataTransfer)?GJ(e.dataTransfer,e.type):VJ(e)?WJ(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?HJ(e):[]})}function UJ(e){return _0(e)}function VJ(e){return _0(e)&&_0(e.target)}function _0(e){return typeof e=="object"&&e!==null}function WJ(e){return pS(e.target.files).map(t=>Im(t))}function HJ(e){return xh(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Im(n))})}function GJ(e,t){return xh(this,void 0,void 0,function*(){if(e.items){const n=pS(e.items).filter(s=>s.kind==="file");if(t!=="drop")return n;const a=yield Promise.all(n.map(KJ));return _P(n7(a))}return _P(pS(e.files).map(n=>Im(n)))})}function _P(e){return e.filter(t=>qJ.indexOf(t.name)===-1)}function pS(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const a=e[n];t.push(a)}return t}function KJ(e){if(typeof e.webkitGetAsEntry!="function")return kP(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?a7(t):kP(e,t)}function n7(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?n7(n):[n]],[])}function kP(e,t){return xh(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,Im(o)}}const a=e.getAsFile();if(!a)throw new Error(`${e} is not a File`);return Im(a,(n=t?.fullPath)!==null&&n!==void 0?n:void 0)})}function YJ(e){return xh(this,void 0,void 0,function*(){return e.isDirectory?a7(e):XJ(e)})}function a7(e){const t=e.createReader();return new Promise((n,a)=>{const s=[];function i(){t.readEntries(o=>xh(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(YJ));s.push(l),i()}else try{const l=yield Promise.all(s);n(l)}catch(l){a(l)}}),o=>{a(o)})}i()})}function XJ(e){return xh(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(a=>{const s=Im(a,e.fullPath);t(s)},a=>{n(a)})})})}var Mg={},OP;function QJ(){return OP||(OP=1,Mg.__esModule=!0,Mg.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var a=e.name||"",s=(e.type||"").toLowerCase(),i=s.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?a.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):s===l})}return!0}),Mg}var JJ=QJ();const fj=rn(JJ);function RP(e){return tZ(e)||eZ(e)||i7(e)||ZJ()}function ZJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tZ(e){if(Array.isArray(e))return vS(e)}function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function FP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(a){s7(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function s7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lv(e,t){return aZ(e)||nZ(e,t)||i7(e,t)||rZ()}function rZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7(e,t){if(e){if(typeof e=="string")return vS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vS(e,t)}}function vS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function nZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],s=!0,i=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(a.push(o.value),!(t&&a.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return a}}function aZ(e){if(Array.isArray(e))return e}var sZ=typeof fj=="function"?fj:fj.default,iZ="file-invalid-type",oZ="file-too-large",lZ="file-too-small",cZ="too-many-files",uZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),a=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:iZ,message:"File type must be ".concat(a)}},MP=function(t){return{code:oZ,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},$P=function(t){return{code:lZ,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},dZ={code:cZ,message:"Too many files"};function o7(e,t){var n=e.type==="application/x-moz-file"||sZ(e,t);return[n,n?null:uZ(t)]}function l7(e,t,n){if(Lf(e.size))if(Lf(t)&&Lf(n)){if(e.size>n)return[!1,MP(n)];if(e.size<t)return[!1,$P(t)]}else{if(Lf(t)&&e.size<t)return[!1,$P(t)];if(Lf(n)&&e.size>n)return[!1,MP(n)]}return[!0,null]}function Lf(e){return e!=null}function fZ(e){var t=e.files,n=e.accept,a=e.minSize,s=e.maxSize,i=e.multiple,o=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(c){var u=o7(c,n),h=Lv(u,1),f=h[0],p=l7(c,a,s),v=Lv(p,1),g=v[0],y=l?l(c):null;return f&&g&&!y})}function k0(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function $g(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function BP(e){e.preventDefault()}function hZ(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function mZ(e){return e.indexOf("Edge/")!==-1}function pZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return hZ(e)||mZ(e)}function Kl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];return t.some(function(l){return!k0(a)&&l&&l.apply(void 0,[a].concat(i)),k0(a)})}}function vZ(){return"showOpenFilePicker"in window}function xZ(e){if(Lf(e)){var t=Object.entries(e).filter(function(n){var a=Lv(n,2),s=a[0],i=a[1],o=!0;return c7(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(u7))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,a){var s=Lv(a,2),i=s[0],o=s[1];return FP(FP({},n),{},s7({},i,o))},{});return[{description:"Files",accept:t}]}return e}function gZ(e){if(Lf(e))return Object.entries(e).reduce(function(t,n){var a=Lv(n,2),s=a[0],i=a[1];return[].concat(RP(t),[s],RP(i))},[]).filter(function(t){return c7(t)||u7(t)}).join(",")}function yZ(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function bZ(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function c7(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function u7(e){return/^.*\.[\w]+$/.test(e)}var jZ=["children"],wZ=["open"],NZ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],SZ=["refKey","onChange","onClick"];function CZ(e){return PZ(e)||EZ(e)||d7(e)||AZ()}function AZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PZ(e){if(Array.isArray(e))return xS(e)}function hj(e,t){return DZ(e)||IZ(e,t)||d7(e,t)||TZ()}function TZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d7(e,t){if(e){if(typeof e=="string")return xS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(e,t)}}function xS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function IZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],s=!0,i=!1,o,l;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(a.push(o.value),!(t&&a.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw l}}return a}}function DZ(e){if(Array.isArray(e))return e}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(a){gS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O0(e,t){if(e==null)return{};var n=_Z(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _Z(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var $A=S.forwardRef(function(e,t){var n=e.children,a=O0(e,jZ),s=Ox(a),i=s.open,o=O0(s,wZ);return S.useImperativeHandle(t,function(){return{open:i}},[i]),Ne.createElement(S.Fragment,null,n(Yn(Yn({},o),{},{open:i})))});$A.displayName="Dropzone";var f7={disabled:!1,getFilesFromEvent:zJ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};$A.defaultProps=f7;$A.propTypes={children:Yt.func,accept:Yt.objectOf(Yt.arrayOf(Yt.string)),multiple:Yt.bool,preventDropOnDocument:Yt.bool,noClick:Yt.bool,noKeyboard:Yt.bool,noDrag:Yt.bool,noDragEventsBubbling:Yt.bool,minSize:Yt.number,maxSize:Yt.number,maxFiles:Yt.number,disabled:Yt.bool,getFilesFromEvent:Yt.func,onFileDialogCancel:Yt.func,onFileDialogOpen:Yt.func,useFsAccessApi:Yt.bool,autoFocus:Yt.bool,onDragEnter:Yt.func,onDragLeave:Yt.func,onDragOver:Yt.func,onDrop:Yt.func,onDropAccepted:Yt.func,onDropRejected:Yt.func,onError:Yt.func,validator:Yt.func};var yS={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ox(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Yn(Yn({},f7),e),n=t.accept,a=t.disabled,s=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,h=t.onDragLeave,f=t.onDragOver,p=t.onDrop,v=t.onDropAccepted,g=t.onDropRejected,y=t.onFileDialogCancel,x=t.onFileDialogOpen,j=t.useFsAccessApi,b=t.autoFocus,N=t.preventDropOnDocument,P=t.noClick,I=t.noKeyboard,w=t.noDrag,E=t.noDragEventsBubbling,C=t.onError,_=t.validator,M=S.useMemo(function(){return gZ(n)},[n]),k=S.useMemo(function(){return xZ(n)},[n]),D=S.useMemo(function(){return typeof x=="function"?x:zP},[x]),R=S.useMemo(function(){return typeof y=="function"?y:zP},[y]),F=S.useRef(null),z=S.useRef(null),V=S.useReducer(kZ,yS),B=hj(V,2),H=B[0],G=B[1],Z=H.isFocused,Q=H.isFileDialogActive,$=S.useRef(typeof window<"u"&&window.isSecureContext&&j&&vZ()),K=function(){!$.current&&Q&&setTimeout(function(){if(z.current){var ht=z.current.files;ht.length||(G({type:"closeDialog"}),R())}},300)};S.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[z,Q,R,$]);var te=S.useRef([]),se=function(ht){F.current&&F.current.contains(ht.target)||(ht.preventDefault(),te.current=[])};S.useEffect(function(){return N&&(document.addEventListener("dragover",BP,!1),document.addEventListener("drop",se,!1)),function(){N&&(document.removeEventListener("dragover",BP),document.removeEventListener("drop",se))}},[F,N]),S.useEffect(function(){return!a&&b&&F.current&&F.current.focus(),function(){}},[F,b,a]);var oe=S.useCallback(function(et){C?C(et):console.error(et)},[C]),me=S.useCallback(function(et){et.preventDefault(),et.persist(),ct(et),te.current=[].concat(CZ(te.current),[et.target]),$g(et)&&Promise.resolve(s(et)).then(function(ht){if(!(k0(et)&&!E)){var Ct=ht.length,_t=Ct>0&&fZ({files:ht,accept:M,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:_}),Gt=Ct>0&&!_t;G({isDragAccept:_t,isDragReject:Gt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(et)}}).catch(function(ht){return oe(ht)})},[s,u,oe,E,M,o,i,l,c,_]),ve=S.useCallback(function(et){et.preventDefault(),et.persist(),ct(et);var ht=$g(et);if(ht&&et.dataTransfer)try{et.dataTransfer.dropEffect="copy"}catch{}return ht&&f&&f(et),!1},[f,E]),pe=S.useCallback(function(et){et.preventDefault(),et.persist(),ct(et);var ht=te.current.filter(function(_t){return F.current&&F.current.contains(_t)}),Ct=ht.indexOf(et.target);Ct!==-1&&ht.splice(Ct,1),te.current=ht,!(ht.length>0)&&(G({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$g(et)&&h&&h(et))},[F,h,E]),we=S.useCallback(function(et,ht){var Ct=[],_t=[];et.forEach(function(Gt){var Vt=o7(Gt,M),er=hj(Vt,2),jt=er[0],Mr=er[1],xr=l7(Gt,o,i),Zn=hj(xr,2),$r=Zn[0],Gr=Zn[1],Ma=_?_(Gt):null;if(jt&&$r&&!Ma)Ct.push(Gt);else{var Nr=[Mr,Gr];Ma&&(Nr=Nr.concat(Ma)),_t.push({file:Gt,errors:Nr.filter(function(Si){return Si})})}}),(!l&&Ct.length>1||l&&c>=1&&Ct.length>c)&&(Ct.forEach(function(Gt){_t.push({file:Gt,errors:[dZ]})}),Ct.splice(0)),G({acceptedFiles:Ct,fileRejections:_t,isDragReject:_t.length>0,type:"setFiles"}),p&&p(Ct,_t,ht),_t.length>0&&g&&g(_t,ht),Ct.length>0&&v&&v(Ct,ht)},[G,l,M,o,i,c,p,v,g,_]),Se=S.useCallback(function(et){et.preventDefault(),et.persist(),ct(et),te.current=[],$g(et)&&Promise.resolve(s(et)).then(function(ht){k0(et)&&!E||we(ht,et)}).catch(function(ht){return oe(ht)}),G({type:"reset"})},[s,we,oe,E]),Ce=S.useCallback(function(){if($.current){G({type:"openDialog"}),D();var et={multiple:l,types:k};window.showOpenFilePicker(et).then(function(ht){return s(ht)}).then(function(ht){we(ht,null),G({type:"closeDialog"})}).catch(function(ht){yZ(ht)?(R(ht),G({type:"closeDialog"})):bZ(ht)?($.current=!1,z.current?(z.current.value=null,z.current.click()):oe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):oe(ht)});return}z.current&&(G({type:"openDialog"}),D(),z.current.value=null,z.current.click())},[G,D,R,j,we,oe,k,l]),ze=S.useCallback(function(et){!F.current||!F.current.isEqualNode(et.target)||(et.key===" "||et.key==="Enter"||et.keyCode===32||et.keyCode===13)&&(et.preventDefault(),Ce())},[F,Ce]),He=S.useCallback(function(){G({type:"focus"})},[]),ge=S.useCallback(function(){G({type:"blur"})},[]),le=S.useCallback(function(){P||(pZ()?setTimeout(Ce,0):Ce())},[P,Ce]),st=function(ht){return a?null:ht},Ie=function(ht){return I?null:st(ht)},Ue=function(ht){return w?null:st(ht)},ct=function(ht){E&&ht.stopPropagation()},xt=S.useMemo(function(){return function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ht=et.refKey,Ct=ht===void 0?"ref":ht,_t=et.role,Gt=et.onKeyDown,Vt=et.onFocus,er=et.onBlur,jt=et.onClick,Mr=et.onDragEnter,xr=et.onDragOver,Zn=et.onDragLeave,$r=et.onDrop,Gr=O0(et,NZ);return Yn(Yn(gS({onKeyDown:Ie(Kl(Gt,ze)),onFocus:Ie(Kl(Vt,He)),onBlur:Ie(Kl(er,ge)),onClick:st(Kl(jt,le)),onDragEnter:Ue(Kl(Mr,me)),onDragOver:Ue(Kl(xr,ve)),onDragLeave:Ue(Kl(Zn,pe)),onDrop:Ue(Kl($r,Se)),role:typeof _t=="string"&&_t!==""?_t:"presentation"},Ct,F),!a&&!I?{tabIndex:0}:{}),Gr)}},[F,ze,He,ge,le,me,ve,pe,Se,I,w,a]),gt=S.useCallback(function(et){et.stopPropagation()},[]),kt=S.useMemo(function(){return function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ht=et.refKey,Ct=ht===void 0?"ref":ht,_t=et.onChange,Gt=et.onClick,Vt=O0(et,SZ),er=gS({accept:M,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:st(Kl(_t,Se)),onClick:st(Kl(Gt,gt)),tabIndex:-1},Ct,z);return Yn(Yn({},er),Vt)}},[z,n,l,Se,a]);return Yn(Yn({},H),{},{isFocused:Z&&!a,getRootProps:xt,getInputProps:kt,rootRef:F,inputRef:z,open:st(Ce)})}function kZ(e,t){switch(t.type){case"focus":return Yn(Yn({},e),{},{isFocused:!0});case"blur":return Yn(Yn({},e),{},{isFocused:!1});case"openDialog":return Yn(Yn({},yS),{},{isFileDialogActive:!0});case"closeDialog":return Yn(Yn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Yn(Yn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Yn(Yn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Yn({},yS);default:return e}}function zP(){}function OZ({vehicle:e,onSave:t,onCancel:n,onScanBarcode:a}){const{toast:s}=Ht(),[i,o]=S.useState(!1),[l,c]=S.useState({vin:"",make:"",model:"",year:new Date().getFullYear(),type:Rt.RV,status:jr.AVAILABLE,price:0,cost:0,location:"",features:[],images:[],customFields:{videos:[],exteriorColor:"",interiorColor:"",length:"",weight:"",sleeps:"",slideouts:"",fuelType:"",mileage:"",condition:"New"}}),[u,h]=S.useState(""),[f,p]=S.useState(""),[v,g]=S.useState(!1);S.useEffect(()=>{e&&c({...e,customFields:{...e.customFields,videos:e.customFields.videos||[]}})},[e]);const{getRootProps:y,getInputProps:x}=Ox({accept:{"image/*":[]},onDrop:C=>{const _=C.map(M=>URL.createObjectURL(M));c(M=>({...M,images:[...M.images||[],..._]})),s({title:"Images Added",description:`Added ${C.length} images`})}}),j=async C=>{if(C.preventDefault(),!l.vin||!l.make||!l.model||!l.year){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}o(!0);try{await t(l),s({title:"Success",description:`Vehicle ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} vehicle`,variant:"destructive"})}finally{o(!1)}},b=()=>{u.trim()&&!l.features?.includes(u.trim())&&(c(C=>({...C,features:[...C.features||[],u.trim()]})),h(""))},N=C=>{c(_=>({..._,features:_.features?.filter(M=>M!==C)||[]}))},P=()=>{f.trim()&&(c(C=>({...C,customFields:{...C.customFields,videos:[...C.customFields?.videos||[],f.trim()]}})),p(""))},I=C=>{c(_=>({..._,customFields:{..._.customFields,videos:_.customFields?.videos?.filter(M=>M!==C)||[]}}))},w=C=>{c(_=>({..._,images:_.images?.filter(M=>M!==C)||[]}))},E=C=>{C.length===17?(c(_=>({..._,vin:C})),s({title:"Barcode Scanned",description:`VIN: ${C}`}),g(!1)):s({title:"Invalid Barcode",description:"The scanned barcode does not appear to be a valid VIN",variant:"destructive"})};return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Vehicle":"Add New Home"}),r.jsx(tt,{children:e?"Update vehicle details":"Add a new home to inventory"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"vin",children:"VIN *"}),r.jsxs("div",{className:"flex",children:[r.jsx(Ee,{id:"vin",value:l.vin,onChange:C=>c(_=>({..._,vin:C.target.value})),placeholder:"Vehicle Identification Number",className:"flex-1"}),r.jsx(ae,{type:"button",variant:"outline",className:"ml-2",onClick:()=>g(!0),children:r.jsx(BL,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"year",children:"Year *"}),r.jsx(Ee,{id:"year",type:"number",value:l.year,onChange:C=>c(_=>({..._,year:parseInt(C.target.value)||new Date().getFullYear()})),min:"1900",max:new Date().getFullYear()+1})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"make",children:"Make *"}),r.jsx(Ee,{id:"make",value:l.make,onChange:C=>c(_=>({..._,make:C.target.value})),placeholder:"e.g., Forest River, Winnebago"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"model",children:"Model *"}),r.jsx(Ee,{id:"model",value:l.model,onChange:C=>c(_=>({..._,model:C.target.value})),placeholder:"e.g., Georgetown, View"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"type",children:"Type"}),r.jsxs(Xe,{value:l.type,onValueChange:C=>c(_=>({..._,type:C})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:Rt.RV,children:"RV"}),r.jsx(ee,{value:Rt.MOTORHOME,children:"Motorhome"}),r.jsx(ee,{value:Rt.TRAVEL_TRAILER,children:"Travel Trailer"}),r.jsx(ee,{value:Rt.FIFTH_WHEEL,children:"Fifth Wheel"}),r.jsx(ee,{value:Rt.TOY_HAULER,children:"Toy Hauler"}),r.jsx(ee,{value:Rt.SINGLE_WIDE,children:"Single Wide MH"}),r.jsx(ee,{value:Rt.DOUBLE_WIDE,children:"Double Wide MH"}),r.jsx(ee,{value:Rt.TRIPLE_WIDE,children:"Triple Wide MH"}),r.jsx(ee,{value:Rt.PARK_MODEL,children:"Park Model"}),r.jsx(ee,{value:Rt.MODULAR_HOME,children:"Modular Home"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"status",children:"Status"}),r.jsxs(Xe,{value:l.status,onValueChange:C=>c(_=>({..._,status:C})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:jr.AVAILABLE,children:"Available"}),r.jsx(ee,{value:jr.RESERVED,children:"Reserved"}),r.jsx(ee,{value:jr.SOLD,children:"Sold"}),r.jsx(ee,{value:jr.SERVICE,children:"Service"}),r.jsx(ee,{value:jr.DELIVERED,children:"Delivered"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"location",children:"Location"}),r.jsx(Ee,{id:"location",value:l.location,onChange:C=>c(_=>({..._,location:C.target.value})),placeholder:"e.g., Lot A-15"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"price",children:"Price *"}),r.jsx(Ee,{id:"price",type:"number",value:l.price,onChange:C=>c(_=>({..._,price:parseFloat(C.target.value)||0})),min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"cost",children:"Cost *"}),r.jsx(Ee,{id:"cost",type:"number",value:l.cost,onChange:C=>c(_=>({..._,cost:parseFloat(C.target.value)||0})),min:"0",step:"0.01"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Features"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{value:u,onChange:C=>h(C.target.value),placeholder:"Add a feature",onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),b())}}),r.jsx(ae,{type:"button",onClick:b,children:r.jsx(qt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.features?.map((C,_)=>r.jsxs(Ze,{variant:"secondary",className:"flex items-center gap-1",children:[C,r.jsx(cr,{className:"h-3 w-3 cursor-pointer",onClick:()=>N(C)})]},_)),(!l.features||l.features.length===0)&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No features added yet"})]})]}),(l.type===Rt.SINGLE_WIDE||l.type===Rt.DOUBLE_WIDE||l.type===Rt.TRIPLE_WIDE||l.type===Rt.PARK_MODEL||l.type===Rt.MODULAR_HOME)&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Manufactured Housing Details"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"squareFootage",children:"Square Footage"}),r.jsx(Ee,{id:"squareFootage",value:l.customFields?.squareFootage||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,squareFootage:C.target.value}})),placeholder:"e.g., 1200"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"bedrooms",children:"Bedrooms"}),r.jsxs(Xe,{value:l.customFields?.bedrooms||"",onValueChange:C=>c(_=>({..._,customFields:{..._.customFields,bedrooms:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select number"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"1",children:"1"}),r.jsx(ee,{value:"2",children:"2"}),r.jsx(ee,{value:"3",children:"3"}),r.jsx(ee,{value:"4",children:"4"}),r.jsx(ee,{value:"5+",children:"5+"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"bathrooms",children:"Bathrooms"}),r.jsxs(Xe,{value:l.customFields?.bathrooms||"",onValueChange:C=>c(_=>({..._,customFields:{..._.customFields,bathrooms:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select number"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"1",children:"1"}),r.jsx(ee,{value:"1.5",children:"1.5"}),r.jsx(ee,{value:"2",children:"2"}),r.jsx(ee,{value:"2.5",children:"2.5"}),r.jsx(ee,{value:"3",children:"3"}),r.jsx(ee,{value:"3+",children:"3+"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"constructionType",children:"Construction Type"}),r.jsxs(Xe,{value:l.customFields?.constructionType||"",onValueChange:C=>c(_=>({..._,customFields:{..._.customFields,constructionType:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select type"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"Manufactured",children:"Manufactured"}),r.jsx(ee,{value:"Modular",children:"Modular"}),r.jsx(ee,{value:"Park Model",children:"Park Model"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),r.jsx(Ee,{id:"exteriorSiding",value:l.customFields?.exteriorSiding||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,exteriorSiding:C.target.value}})),placeholder:"e.g., Vinyl, Hardiplank"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"roofType",children:"Roof Type"}),r.jsx(Ee,{id:"roofType",value:l.customFields?.roofType||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,roofType:C.target.value}})),placeholder:"e.g., Shingle, Metal"})]})]})]}),(l.type===Rt.SINGLE_WIDE||l.type===Rt.DOUBLE_WIDE||l.type===Rt.TRIPLE_WIDE||l.type===Rt.PARK_MODEL||l.type===Rt.MODULAR_HOME)&&r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"squareFootage",children:"Square Footage"}),r.jsx(Ee,{id:"squareFootage",value:l.customFields?.squareFootage||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,squareFootage:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"constructionType",children:"Construction Type"}),r.jsxs(Xe,{value:l.customFields?.constructionType||"",onValueChange:C=>c(_=>({..._,customFields:{..._.customFields,constructionType:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select type"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"Manufactured",children:"Manufactured"}),r.jsx(ee,{value:"Modular",children:"Modular"}),r.jsx(ee,{value:"Park Model",children:"Park Model"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"bedrooms",children:"Bedrooms"}),r.jsxs(Xe,{value:l.customFields?.bedrooms||"",onValueChange:C=>c(_=>({..._,customFields:{..._.customFields,bedrooms:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select number"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"1",children:"1"}),r.jsx(ee,{value:"2",children:"2"}),r.jsx(ee,{value:"3",children:"3"}),r.jsx(ee,{value:"4",children:"4"}),r.jsx(ee,{value:"5+",children:"5+"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"bathrooms",children:"Bathrooms"}),r.jsxs(Xe,{value:l.customFields?.bathrooms||"",onValueChange:C=>c(_=>({..._,customFields:{..._.customFields,bathrooms:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select number"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"1",children:"1"}),r.jsx(ee,{value:"1.5",children:"1.5"}),r.jsx(ee,{value:"2",children:"2"}),r.jsx(ee,{value:"2.5",children:"2.5"}),r.jsx(ee,{value:"3",children:"3"}),r.jsx(ee,{value:"3+",children:"3+"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"exteriorSiding",children:"Exterior Siding"}),r.jsx(Ee,{id:"exteriorSiding",value:l.customFields?.exteriorSiding||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,exteriorSiding:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"roofType",children:"Roof Type"}),r.jsx(Ee,{id:"roofType",value:l.customFields?.roofType||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,roofType:C.target.value}}))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Specifications"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"exteriorColor",children:"Exterior Color"}),r.jsx(Ee,{id:"exteriorColor",value:l.customFields?.exteriorColor||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,exteriorColor:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"interiorColor",children:"Interior Color"}),r.jsx(Ee,{id:"interiorColor",value:l.customFields?.interiorColor||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,interiorColor:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"length",children:"Length (ft)"}),r.jsx(Ee,{id:"length",value:l.customFields?.length||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,length:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"weight",children:"Weight (lbs)"}),r.jsx(Ee,{id:"weight",value:l.customFields?.weight||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,weight:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"sleeps",children:"Sleeps"}),r.jsx(Ee,{id:"sleeps",value:l.customFields?.sleeps||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,sleeps:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"slideouts",children:"Slideouts"}),r.jsx(Ee,{id:"slideouts",value:l.customFields?.slideouts||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,slideouts:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"fuelType",children:"Fuel Type"}),r.jsxs(Xe,{value:l.customFields?.fuelType||"",onValueChange:C=>c(_=>({..._,customFields:{..._.customFields,fuelType:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select fuel type"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"Not Applicable"}),r.jsx(ee,{value:"gasoline",children:"Gasoline"}),r.jsx(ee,{value:"diesel",children:"Diesel"}),r.jsx(ee,{value:"propane",children:"Propane"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"mileage",children:"Mileage"}),r.jsx(Ee,{id:"mileage",value:l.customFields?.mileage||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,mileage:C.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"condition",children:"Condition"}),r.jsxs(Xe,{value:l.customFields?.condition||"New",onValueChange:C=>c(_=>({..._,customFields:{..._.customFields,condition:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"New",children:"New"}),r.jsx(ee,{value:"Used",children:"Used"}),r.jsx(ee,{value:"Certified Pre-Owned",children:"Certified Pre-Owned"})]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Images"}),r.jsxs("div",{...y(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[r.jsx("input",{...x()}),r.jsx(Am,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop images here, or click to select files"})]}),l.images&&l.images.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:l.images.map((C,_)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:C,alt:`Vehicle ${_+1}`,className:"h-24 w-full object-cover rounded-md"}),r.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>w(C),children:r.jsx(cr,{className:"h-3 w-3"})})]},_))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Videos"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{value:f,onChange:C=>p(C.target.value),placeholder:"Add a video URL (YouTube, Vimeo, etc.)",onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),P())}}),r.jsx(ae,{type:"button",onClick:P,children:r.jsx(qt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"space-y-2",children:[l.customFields?.videos?.map((C,_)=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-md",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(w0,{className:"h-4 w-4 mr-2 text-blue-500"}),r.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate max-w-md",children:C})]}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(C),children:r.jsx(cr,{className:"h-4 w-4"})})]},_)),(!l.customFields?.videos||l.customFields.videos.length===0)&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No videos added yet"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),r.jsx(wr,{value:l.customFields?.notes||"",onChange:C=>c(_=>({..._,customFields:{..._.customFields,notes:C.target.value}})),placeholder:"Add any additional notes about this vehicle...",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:i,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Home"]})})]})]})})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Scan VIN Barcode"}),r.jsx(tt,{children:"Position the barcode in front of your camera"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md",children:r.jsx(Zc,{className:"h-12 w-12 text-white/50"})}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),r.jsx(ae,{onClick:()=>{E("1FDXE4FS8KDC"+Math.floor(Math.random()*1e5).toString().padStart(5,"0"))},children:"Simulate Scan"})]})]})]})})]})}function RZ({vehicle:e,onClose:t,onEdit:n}){const a=i=>{switch(i){case jr.AVAILABLE:return"bg-green-50 text-green-700 border-green-200";case jr.RESERVED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case jr.SOLD:return"bg-blue-50 text-blue-700 border-blue-200";case jr.SERVICE:return"bg-orange-50 text-orange-700 border-orange-200";case jr.DELIVERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},s=i=>i.replace("_"," ").toUpperCase();return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl",children:[e.year," ",e.make," ",e.model]}),r.jsxs(tt,{children:["VIN: ",e.vin]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>{t(),n(e)},size:"sm",children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Home/RV"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",a(e.status)),children:e.status.toUpperCase()}),r.jsx(Ze,{variant:"outline",children:s(e.type)}),r.jsx("div",{className:"ml-auto font-bold text-lg text-primary",children:Me(e.price)})]}),r.jsxs(Or,{defaultValue:"details",className:"space-y-4",children:[r.jsxs(kr,{children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsx(ut,{value:"images",children:"Images"}),r.jsx(ut,{value:"features",children:"Features"}),r.jsx(ut,{value:"videos",children:"Videos"}),r.jsx(ut,{value:"notes",children:"Notes"})]}),r.jsxs(ft,{value:"details",className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Make"}),r.jsx("p",{className:"font-medium",children:e.make})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Model"}),r.jsx("p",{className:"font-medium",children:e.model})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Year"}),r.jsx("p",{className:"font-medium",children:e.year})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"VIN"}),r.jsx("p",{className:"font-medium font-mono",children:e.vin})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),r.jsx("p",{className:"font-medium",children:s(e.type)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),r.jsx("p",{className:"font-medium",children:e.location})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),r.jsx("p",{className:"font-medium text-primary",children:Me(e.price)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cost"}),r.jsx("p",{className:"font-medium",children:Me(e.cost)})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Specifications"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.customFields?.exteriorColor&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Color"}),r.jsx("p",{className:"font-medium",children:e.customFields.exteriorColor})]}),e.customFields?.interiorColor&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Interior Color"}),r.jsx("p",{className:"font-medium",children:e.customFields.interiorColor})]}),e.customFields?.length&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Length"}),r.jsxs("p",{className:"font-medium",children:[e.customFields.length," ft"]})]}),e.customFields?.weight&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Weight"}),r.jsxs("p",{className:"font-medium",children:[e.customFields.weight," lbs"]})]}),e.customFields?.sleeps&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sleeps"}),r.jsx("p",{className:"font-medium",children:e.customFields.sleeps})]}),e.customFields?.slideouts&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Slideouts"}),r.jsx("p",{className:"font-medium",children:e.customFields.slideouts})]}),e.customFields?.fuelType&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Fuel Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.fuelType})]}),e.customFields?.mileage&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mileage"}),r.jsx("p",{className:"font-medium",children:e.customFields.mileage})]}),e.customFields?.condition&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Condition"}),r.jsx("p",{className:"font-medium",children:e.customFields.condition})]}),(e.type===Rt.SINGLE_WIDE||e.type===Rt.DOUBLE_WIDE||e.type===Rt.TRIPLE_WIDE||e.type===Rt.PARK_MODEL||e.type===Rt.MODULAR_HOME)&&r.jsxs(r.Fragment,{children:[e.customFields?.squareFootage&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),r.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),e.customFields?.bedrooms&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),r.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),e.customFields?.bathrooms&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),r.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),e.customFields?.constructionType&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),e.customFields?.exteriorSiding&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),r.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),e.customFields?.roofType&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]}),(e.type===Rt.SINGLE_WIDE||e.type===Rt.DOUBLE_WIDE||e.type===Rt.TRIPLE_WIDE||e.type===Rt.PARK_MODEL||e.type===Rt.MODULAR_HOME)&&r.jsxs(r.Fragment,{children:[e.customFields?.squareFootage&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Square Footage"}),r.jsxs("p",{className:"font-medium",children:[e.customFields.squareFootage," sq ft"]})]}),e.customFields?.bedrooms&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bedrooms"}),r.jsx("p",{className:"font-medium",children:e.customFields.bedrooms})]}),e.customFields?.bathrooms&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Bathrooms"}),r.jsx("p",{className:"font-medium",children:e.customFields.bathrooms})]}),e.customFields?.constructionType&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Construction Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.constructionType})]}),e.customFields?.exteriorSiding&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Exterior Siding"}),r.jsx("p",{className:"font-medium",children:e.customFields.exteriorSiding})]}),e.customFields?.roofType&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Roof Type"}),r.jsx("p",{className:"font-medium",children:e.customFields.roofType})]})]})]})]})]}),r.jsx(ft,{value:"images",children:e.images&&e.images.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.images.map((i,o)=>r.jsx("div",{className:"overflow-hidden rounded-md",children:r.jsx("img",{src:i,alt:`${e.make} ${e.model} ${o+1}`,className:"w-full h-auto object-cover hover:scale-105 transition-transform duration-300"})},o))}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Am,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No images available"})]})}),r.jsx(ft,{value:"features",children:e.features&&e.features.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.features.map((i,o)=>r.jsxs("div",{className:"flex items-center p-2 bg-muted/30 rounded-md",children:[r.jsx(Rs,{className:"h-4 w-4 mr-2 text-primary"}),r.jsx("span",{children:i})]},o))}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Rs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No features listed"})]})}),r.jsx(ft,{value:"videos",children:e.customFields?.videos&&e.customFields.videos.length>0?r.jsx("div",{className:"space-y-4",children:e.customFields.videos.map((i,o)=>r.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(w0,{className:"h-4 w-4 mr-2 text-primary"}),r.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["Video ",o+1]})]})},o))}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(w0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No videos available"})]})}),r.jsx(ft,{value:"notes",children:e.customFields?.notes?r.jsx("div",{className:"p-4 bg-muted/30 rounded-md whitespace-pre-wrap",children:e.customFields.notes}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No notes available"})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Close"}),r.jsxs(ae,{onClick:()=>n(e),children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Home/RV"]})]})]})]})})}function LZ({onImport:e,onCancel:t}){const{toast:n}=Ht(),[a,s]=S.useState(null),[i,o]=S.useState([]),[l,c]=S.useState({}),[u,h]=S.useState(!1),[f,p]=S.useState("upload"),[v,g]=S.useState([]),y=["vin","make","model","year","price","cost"],x=[{key:"vin",label:"VIN"},{key:"make",label:"Make"},{key:"model",label:"Model"},{key:"year",label:"Year"},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"price",label:"Price"},{key:"cost",label:"Cost"},{key:"location",label:"Location"},{key:"features",label:"Features"},{key:"exteriorColor",label:"Exterior Color"},{key:"interiorColor",label:"Interior Color"},{key:"length",label:"Length"},{key:"weight",label:"Weight"},{key:"sleeps",label:"Sleeps"},{key:"slideouts",label:"Slideouts"},{key:"fuelType",label:"Fuel Type"},{key:"mileage",label:"Mileage"},{key:"condition",label:"Condition"}],j=_=>{const M=_.target.files?.[0];M&&(s(M),Tm.parse(M,{header:!0,skipEmptyLines:!0,complete:k=>{if(o(k.data),k.meta.fields){const D={};k.meta.fields.forEach(R=>{const F=R.toLowerCase().replace(/[^a-z0-9]/g,"");x.forEach(z=>{const V=z.key.toLowerCase();(F===V||F===z.label.toLowerCase().replace(/[^a-z0-9]/g,""))&&(D[R]=z.key)})}),c(D)}p("map")},error:k=>{n({title:"Error Parsing CSV",description:k.message,variant:"destructive"})}}))},b=(_,M)=>{c(k=>({...k,[_]:M}))},N=()=>{if(y.filter(M=>Object.values(l).includes(M)).length<y.length){n({title:"Missing Required Fields",description:`Please map all required fields: ${y.join(", ")}`,variant:"destructive"});return}p("preview"),g(i.map((M,k)=>k))},P=_=>{g(_?i.map((M,k)=>k):[])},I=_=>{v.includes(_)?g(v.filter(M=>M!==_)):g([...v,_])},w=async()=>{if(v.length===0){n({title:"No Rows Selected",description:"Please select at least one row to import",variant:"destructive"});return}h(!0);try{const _=v.map(M=>{const k=i[M],D={images:[],features:[],customFields:{}};return Object.entries(l).forEach(([R,F])=>{const z=k[R];F==="features"?D.features=z?z.split(",").map(V=>V.trim()):[]:F==="year"||F==="price"||F==="cost"?D[F]=parseFloat(z)||0:F==="type"?D.type=E(z):F==="status"?D.status=C(z):["exteriorColor","interiorColor","length","weight","sleeps","slideouts","fuelType","mileage","condition"].includes(F)?D.customFields={...D.customFields,[F]:z}:D[F]=z}),D});await e(_),n({title:"Import Successful",description:`Imported ${_.length} vehicles`})}catch{n({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}finally{h(!1)}},E=_=>{const M=_.toLowerCase().replace(/[^a-z0-9]/g,"");return M.includes("motorhome")?Rt.MOTORHOME:M.includes("travel")&&M.includes("trailer")?Rt.TRAVEL_TRAILER:M.includes("fifth")&&M.includes("wheel")?Rt.FIFTH_WHEEL:M.includes("toy")&&M.includes("hauler")?Rt.TOY_HAULER:Rt.RV},C=_=>{const M=_.toLowerCase().replace(/[^a-z0-9]/g,"");return M.includes("reserved")?jr.RESERVED:M.includes("sold")?jr.SOLD:M.includes("service")?jr.SERVICE:M.includes("delivered")?jr.DELIVERED:jr.AVAILABLE};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Import Inventory from CSV"}),r.jsxs(tt,{children:[f==="upload"&&"Upload a CSV file with your inventory data",f==="map"&&"Map CSV columns to vehicle fields",f==="preview"&&"Preview and select vehicles to import"]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{children:[f==="upload"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[r.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Upload a CSV file with your inventory data"}),r.jsx(Ee,{type:"file",accept:".csv",onChange:j,className:"max-w-sm mx-auto"})]}),r.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium mb-2",children:"CSV Format Guidelines"}),r.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[r.jsx("li",{children:"• File should be in CSV format"}),r.jsx("li",{children:"• First row should contain column headers"}),r.jsx("li",{children:"• Required fields: VIN, Make, Model, Year, Price, Cost"}),r.jsx("li",{children:"• Features should be comma-separated within quotes"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{variant:"outline",onClick:t,children:"Cancel"})})]}),f==="map"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[r.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[r.jsx(Qs,{className:"h-4 w-4 mr-2"}),a?.name]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," rows found"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-medium",children:"Map CSV Columns to Vehicle Fields"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Required fields are marked with *"}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto p-2",children:a&&i.length>0&&Object.keys(i[0]).map(_=>r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-1/3 font-medium truncate",children:_}),r.jsx("div",{className:"w-2/3",children:r.jsxs("select",{value:l[_]||"",onChange:M=>b(_,M.target.value),className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:"",children:"-- Skip this field --"}),x.map(M=>r.jsxs("option",{value:M.key,children:[M.label," ",y.includes(M.key)?"*":""]},M.key))]})})]},_))})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx(ae,{onClick:N,children:"Preview Data"})]})]}),f==="preview"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{checked:v.length===i.length,onCheckedChange:P}),r.jsxs(ie,{children:["Select All (",i.length," vehicles)"]})]}),r.jsxs(Ze,{children:[v.length," selected"]})]}),r.jsx("div",{className:"border rounded-md overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2 text-left"}),Object.entries(l).filter(([_,M])=>M).map(([_,M])=>r.jsxs("th",{className:"p-2 text-left text-sm",children:[M,y.includes(M)&&r.jsx("span",{className:"text-red-500",children:"*"})]},_))]})}),r.jsx("tbody",{children:i.map((_,M)=>r.jsxs("tr",{className:"border-t hover:bg-muted/10",children:[r.jsx("td",{className:"p-2",children:r.jsx(Ut,{checked:v.includes(M),onCheckedChange:()=>I(M)})}),Object.entries(l).filter(([k,D])=>D).map(([k,D])=>r.jsx("td",{className:"p-2 text-sm",children:_[k]||r.jsx("span",{className:"text-muted-foreground italic",children:"Empty"})},k))]},M))})]})})}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(ae,{variant:"outline",onClick:()=>p("map"),children:"Back to Mapping"}),r.jsx(ae,{onClick:w,disabled:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(xA,{className:"h-4 w-4 mr-2"}),"Import ",v.length," Vehicles"]})})]})]})]})]})})}function FZ({onScan:e,onClose:t}){const{toast:n}=Ht(),[a,s]=S.useState(!1),[i,o]=S.useState(null);S.useEffect(()=>{const u=setTimeout(()=>{s(!0)},1e3);return()=>clearTimeout(u)},[]);const l=()=>{const u="ABCDEFGHJKLMNPRSTUVWXYZ0123456789";let h="";for(let f=0;f<17;f++)h+=u.charAt(Math.floor(Math.random()*u.length));o(h),n({title:"Barcode Scanned",description:`VIN: ${h}`})},c=()=>{i&&e(i)};return r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Scan VIN Barcode"}),r.jsx(tt,{children:"Position the barcode in front of your camera"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{className:"space-y-4",children:[r.jsx("div",{className:"bg-black h-64 flex items-center justify-center rounded-md relative",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-3/4 h-1 bg-red-500 animate-pulse"})}),r.jsx("div",{className:"text-white text-sm absolute bottom-2 left-2",children:i?`Scanned: ${i}`:"Scanning..."})]}):r.jsx(Zc,{className:"h-12 w-12 text-white/50"})}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Cancel"}),i?r.jsxs(ae,{onClick:c,children:[r.jsx(Hy,{className:"h-4 w-4 mr-2"}),"Confirm"]}):r.jsx(ae,{onClick:l,children:"Simulate Scan"})]})]})]})})}function UP(){const{vehicles:e,createVehicle:t,updateVehicleStatus:n,deleteVehicle:a}=vu(),{toast:s}=Ht(),[i,o]=S.useState(!1),[l,c]=S.useState(!1),[u,h]=S.useState(!1),[f,p]=S.useState(!1),[v,g]=S.useState(null),y=()=>{g(null),o(!0)},x=E=>{g(E),o(!0)},j=E=>{g(E),c(!0)},b=async E=>{if(window.confirm("Are you sure you want to delete this vehicle?"))try{await a(E),s({title:"Vehicle Deleted",description:"The vehicle has been removed from inventory"})}catch{s({title:"Error",description:"Failed to delete vehicle",variant:"destructive"})}},N=async(E,C)=>{try{await n(E,C),s({title:"Status Updated",description:`Vehicle status changed to ${C}`})}catch{s({title:"Error",description:"Failed to update vehicle status",variant:"destructive"})}},P=async E=>{try{v?(await n(v.id,E.status||v.status),s({title:"Vehicle Updated",description:"Vehicle information has been updated"})):(await t(E),s({title:"Vehicle Added",description:"New vehicle has been added to inventory"})),o(!1),g(null)}catch{s({title:"Error",description:`Failed to ${v?"update":"create"} vehicle`,variant:"destructive"})}},I=async E=>{try{for(const C of E)await t(C);h(!1),s({title:"Import Successful",description:`Imported ${E.length} vehicles`})}catch{s({title:"Import Failed",description:"There was an error importing the vehicles",variant:"destructive"})}},w=E=>{const C=e.find(_=>_.vin===E);C?(g(C),c(!0),s({title:"Vehicle Found",description:`Found existing vehicle with VIN: ${E}`})):(g(null),o(!0),setTimeout(()=>{const _=document.getElementById("vin");if(_){_.value=E;const M=new Event("input",{bubbles:!0});_.dispatchEvent(M)}},100),s({title:"New VIN Scanned",description:`Creating new vehicle with VIN: ${E}`})),p(!1)};return r.jsxs("div",{className:"space-y-8",children:[i&&r.jsx(OZ,{vehicle:v||void 0,onSave:P,onCancel:()=>{o(!1),g(null)}}),l&&v&&r.jsx(RZ,{vehicle:v,onClose:()=>c(!1),onEdit:x}),u&&r.jsx(LZ,{onImport:I,onCancel:()=>h(!1)}),f&&r.jsx(FZ,{onScan:w,onClose:()=>p(!1)}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Inventory Management"}),r.jsx("p",{className:"ri-page-description",children:"Manage your RV and motorhome inventory"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(ae,{variant:"outline",onClick:()=>p(!0),children:[r.jsx(BL,{className:"h-4 w-4 mr-2"}),"Scan Barcode"]}),r.jsxs(ae,{variant:"outline",onClick:()=>h(!0),children:[r.jsx(xA,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),r.jsxs(ae,{onClick:y,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Home"]})]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Units"}),r.jsx(Rs,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"+5 units this month"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Available"}),r.jsx(Rs,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(E=>E.status===jr.AVAILABLE).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Ready for sale"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"Reserved"}),r.jsx(Rs,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(E=>E.status===jr.RESERVED).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Pending sale"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Total Value"}),r.jsx(lr,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Me(e.reduce((E,C)=>E+C.price,0))}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Inventory value"]})]})]})]}),r.jsx(OJ,{vehicles:e,onEdit:x,onDelete:b,onView:j,onStatusChange:N})]})}function MZ(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(UP,{})}),r.jsx(vr,{path:"/*",element:r.jsx(UP,{})})]})}const $Z=[{id:"1",customerId:"cust-1",vehicleId:"veh-1",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:jo.SENT,validUntil:new Date("2024-02-15"),notes:"Customer interested in financing options",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-16")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",items:[{id:"3",description:"2023 Winnebago View",quantity:1,unitPrice:89e3,total:89e3}],subtotal:89e3,tax:7120,total:96120,status:jo.ACCEPTED,validUntil:new Date("2024-02-20"),notes:"Ready to proceed with purchase",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}];function BZ({quote:e,onClose:t,onEdit:n}){const a=s=>{switch(s){case"draft":return"bg-gray-50 text-gray-700 border-gray-200";case"sent":return"bg-blue-50 text-blue-700 border-blue-200";case"viewed":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"accepted":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl",children:["Quote #",e.id]}),r.jsx(tt,{children:"Quote details and line items"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Quote"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer ID"}),r.jsx("p",{className:"font-medium",children:e.customerId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),r.jsx("div",{className:"mt-1",children:r.jsx(Ze,{className:ot("ri-badge-status",a(e.status)),children:e.status.toUpperCase()})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),r.jsx("p",{className:"font-medium",children:Et(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valid Until"}),r.jsx("p",{className:"font-medium",children:Et(e.validUntil)})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Line Items"}),r.jsx("div",{className:"space-y-3",children:e.items.map((s,i)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:s.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",s.quantity," × ",Me(s.unitPrice)]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"font-bold text-lg",children:Me(s.total)})})]},s.id))})]}),r.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Me(e.subtotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),r.jsx("span",{children:Me(e.tax)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Me(e.total)})]})]})}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm",children:e.notes})})]})]})]})})}function VP(){const{toast:e}=Ht(),[t,n]=S.useState($Z),[a,s]=S.useState(""),[i,o]=S.useState("all"),[l,c]=S.useState(!1),[u,h]=S.useState(null),[f,p]=S.useState(null),[v,g]=S.useState(""),y=M=>{switch(M){case jo.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case jo.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case jo.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case jo.ACCEPTED:return"bg-green-50 text-green-700 border-green-200";case jo.REJECTED:return"bg-red-50 text-red-700 border-red-200";case jo.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},x=t.filter(M=>{const k=M.id.toLowerCase().includes(a.toLowerCase())||M.customerId.toLowerCase().includes(a.toLowerCase()),D=i==="all"||M.status===i;return k&&D}),j=()=>{h(null),g(""),c(!0)},b=M=>{h(M),g(M.customerId),c(!0)},N=M=>{p(M)},P=()=>p(null),I=async M=>{try{if(u)n(k=>k.map(D=>D.id===u.id?{...D,...M,updatedAt:new Date}:D)),e({title:"Success",description:"Quote updated successfully"});else{const k={id:Math.random().toString(36).substr(2,9),...M,status:jo.DRAFT,createdAt:new Date,updatedAt:new Date};n(D=>[...D,k]),e({title:"Success",description:"Quote created successfully"})}c(!1),h(null)}catch{e({title:"Error",description:"Failed to save quote",variant:"destructive"})}},w=async M=>{try{n(k=>k.map(D=>D.id===M?{...D,status:jo.SENT,updatedAt:new Date}:D)),e({title:"Success",description:"Quote sent to customer"})}catch{e({title:"Error",description:"Failed to send quote",variant:"destructive"})}},E=async M=>{try{const k=t.find(D=>D.id===M);if(k){const D={...k,id:Math.random().toString(36).substr(2,9),status:jo.DRAFT,createdAt:new Date,updatedAt:new Date};n(R=>[...R,D]),e({title:"Success",description:"Quote duplicated successfully"})}}catch{e({title:"Error",description:"Failed to duplicate quote",variant:"destructive"})}},C=async M=>{if(window.confirm("Are you sure you want to delete this quote?"))try{n(k=>k.filter(D=>D.id!==M)),e({title:"Success",description:"Quote deleted successfully"})}catch{e({title:"Error",description:"Failed to delete quote",variant:"destructive"})}},_={total:t.length,draft:t.filter(M=>M.status==="draft").length,sent:t.filter(M=>M.status==="sent").length,accepted:t.filter(M=>M.status==="accepted").length,totalValue:t.reduce((M,k)=>M+k.total,0),acceptedValue:t.filter(M=>M.status==="accepted").reduce((M,k)=>M+k.total,0)};return r.jsxs("div",{className:"space-y-8",children:[l&&r.jsx(r7,{quote:u,customerId:v,onSave:I,onCancel:()=>{c(!1),h(null)}}),f&&r.jsx(BZ,{quote:f,onClose:P,onEdit:b}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Quote Builder"}),r.jsx("p",{className:"ri-page-description",children:"Create and manage customer quotes with advanced pricing rules"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:j,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Quote"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Quotes"}),r.jsx(Qs,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:_.total}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"All quotes"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),r.jsx(Qs,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:_.sent}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Awaiting response"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Accepted"}),r.jsx(Qs,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:_.accepted}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),_.total>0?Math.round(_.accepted/_.total*100):0,"% acceptance rate"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Quote Value"}),r.jsx(lr,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Me(_.totalValue)}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(lr,{className:"h-3 w-3 mr-1"}),Me(_.acceptedValue)," accepted"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search quotes...",value:a,onChange:M=>s(M.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(Xe,{value:i,onValueChange:o,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:"draft",children:"Draft"}),r.jsx(ee,{value:"sent",children:"Sent"}),r.jsx(ee,{value:"viewed",children:"Viewed"}),r.jsx(ee,{value:"accepted",children:"Accepted"}),r.jsx(ee,{value:"rejected",children:"Rejected"}),r.jsx(ee,{value:"expired",children:"Expired"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"text-xl",children:["Quotes (",x.length,")"]}),r.jsx(tt,{children:"Manage customer quotes with advanced pricing and bundling"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[x.map(M=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Quote #",M.id]}),r.jsx(Ze,{className:ot("ri-badge-status",y(M.status)),children:M.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",M.customerId]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsx("span",{className:"font-bold text-primary ml-1",children:Me(M.total)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Created:"})," ",Et(M.createdAt)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Et(M.validUntil)]})]}),r.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:[M.items.length," item(s)"]}),M.notes&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",M.notes]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>N(M),children:[r.jsx(iu,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>b(M),children:[r.jsx(bn,{className:"h-3 w-3 mr-1"}),"Edit"]}),M.status==="draft"&&r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>w(M.id),children:[r.jsx(sc,{className:"h-3 w-3 mr-1"}),"Send"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>E(M.id),children:[r.jsx(mA,{className:"h-3 w-3 mr-1"}),"Copy"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>C(M.id),children:r.jsx(oa,{className:"h-3 w-3"})})]})]},M.id)),x.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Qs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No quotes found"}),r.jsx("p",{className:"text-sm",children:"Create your first quote to get started"})]})]})})]})]})}function qZ(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(VP,{})}),r.jsx(vr,{path:"/*",element:r.jsx(VP,{})})]})}function zZ({schedule:e}){const[t,n]=S.useState(""),[a,s]=S.useState(1),[i,o]=S.useState("month"),[l,c]=S.useState("asc"),u=12,f=[...e.filter(j=>j.month.toString().includes(t))].sort((j,b)=>{const N=j[i],P=b[i];return l==="asc"?N>P?1:-1:N<P?1:-1}),p=Math.ceil(f.length/u),v=(a-1)*u,g=f.slice(v,v+u),y=j=>{i===j?c(l==="asc"?"desc":"asc"):(o(j),c("asc"))},x=j=>{s(j)};return e.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No amortization schedule available. Please calculate a loan first."}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"relative w-64",children:[r.jsx(La,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{placeholder:"Search by month...",value:t,onChange:j=>{n(j.target.value),s(1)},className:"pl-10"})]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",v+1,"-",Math.min(v+u,f.length)," of ",f.length," payments"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-muted/50",children:[r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>y("month"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Month"}),i==="month"&&(l==="asc"?r.jsx(Ql,{className:"ml-1 h-3 w-3"}):r.jsx(Xl,{className:"ml-1 h-3 w-3"}))]})}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>y("payment"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Payment"}),i==="payment"&&(l==="asc"?r.jsx(Ql,{className:"ml-1 h-3 w-3"}):r.jsx(Xl,{className:"ml-1 h-3 w-3"}))]})}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>y("principal"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Principal"}),i==="principal"&&(l==="asc"?r.jsx(Ql,{className:"ml-1 h-3 w-3"}):r.jsx(Xl,{className:"ml-1 h-3 w-3"}))]})}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>y("interest"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Interest"}),i==="interest"&&(l==="asc"?r.jsx(Ql,{className:"ml-1 h-3 w-3"}):r.jsx(Xl,{className:"ml-1 h-3 w-3"}))]})}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Additional"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>y("balance"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Balance"}),i==="balance"&&(l==="asc"?r.jsx(Ql,{className:"ml-1 h-3 w-3"}):r.jsx(Xl,{className:"ml-1 h-3 w-3"}))]})}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground cursor-pointer hover:bg-muted/80",onClick:()=>y("totalInterestPaid"),children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:"Total Interest"}),i==="totalInterestPaid"&&(l==="asc"?r.jsx(Ql,{className:"ml-1 h-3 w-3"}):r.jsx(Xl,{className:"ml-1 h-3 w-3"}))]})})]})}),r.jsx("tbody",{children:g.map((j,b)=>r.jsxs("tr",{className:b%2===0?"bg-muted/20":"",children:[r.jsx("td",{className:"p-3",children:j.month}),r.jsx("td",{className:"p-3",children:Me(j.payment)}),r.jsx("td",{className:"p-3",children:Me(j.principal)}),r.jsx("td",{className:"p-3",children:Me(j.interest)}),r.jsx("td",{className:"p-3",children:Me(j.additionalCosts)}),r.jsx("td",{className:"p-3",children:Me(j.balance)}),r.jsx("td",{className:"p-3",children:Me(j.totalInterestPaid)})]},j.month))})]})}),p>1&&r.jsxs("div",{className:"flex justify-center space-x-2 mt-4",children:[r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>x(1),disabled:a===1,children:"First"}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>x(a-1),disabled:a===1,children:"Previous"}),r.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,p)},(j,b)=>{let N;return p<=5||a<=3?N=b+1:a>=p-2?N=p-4+b:N=a-2+b,r.jsx(ae,{variant:a===N?"default":"outline",size:"sm",onClick:()=>x(N),children:N},N)})}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>x(a+1),disabled:a===p,children:"Next"}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>x(p),disabled:a===p,children:"Last"})]})]})}function h7({initialValues:e,onSave:t,onClose:n}){const{toast:a}=Ht(),[s,i]=S.useState(e?.loanAmount||1e5),[o,l]=S.useState(e?.downPayment||2e4),[c,u]=S.useState(e?.interestRate||6.99),[h,f]=S.useState(e?.loanTerm||60),[p,v]=S.useState("monthly"),[g,y]=S.useState(!1),[x,j]=S.useState(0),[b,N]=S.useState(!1),[P,I]=S.useState(0),[w,E]=S.useState("calculator"),[C,_]=S.useState(0),[M,k]=S.useState(0),[D,R]=S.useState(0),[F,z]=S.useState([]);S.useEffect(()=>{V()},[s,o,c,h,p,g,x,b,P]);const V=()=>{const Q=s-o;if(Q<=0){_(0),k(0),R(0),z([]);return}const $=c/100/12,K=Q*$/(1-Math.pow(1+$,-h));let te=0;g&&(te+=x),b&&(te+=K*(P/100));let se=1;switch(p){case"biweekly":se=12/26;break;case"weekly":se=12/52;break;default:se=1;break}const oe=K*se+te*se,me=h,ve=K*me-Q,pe=Q+ve+te*me,we=B(Q,$,h,K,te);_(oe),k(ve),R(pe),z(we)},B=(Q,$,K,te,se)=>{let oe=Q,me=0;const ve=[];for(let pe=1;pe<=K;pe++){const we=oe*$;let Se=te-we;if(oe<Se&&(Se=oe),oe-=Se,me+=we,ve.push({month:pe,payment:te+se,principal:Se,interest:we,additionalCosts:se,balance:oe,totalInterestPaid:me}),oe<=0)break}return ve},H=()=>{t&&t({loanAmount:s,downPayment:o,interestRate:c,loanTerm:h,paymentFrequency:p,includeInsurance:g,insuranceAmount:x,includeTax:b,taxRate:P,monthlyPayment:C,totalInterest:M,totalCost:D,amortizationSchedule:F}),a({title:"Loan Calculation Saved",description:"Your loan calculation has been saved successfully."})},G=()=>{window.print()},Z=()=>{const $=[["Month","Payment","Principal","Interest","Additional Costs","Balance","Total Interest Paid"].join(","),...F.map(oe=>[oe.month,oe.payment.toFixed(2),oe.principal.toFixed(2),oe.interest.toFixed(2),oe.additionalCosts.toFixed(2),oe.balance.toFixed(2),oe.totalInterestPaid.toFixed(2)].join(","))].join(`
`),K=new Blob([$],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(K),se=document.createElement("a");se.href=te,se.setAttribute("download","amortization_schedule.csv"),document.body.appendChild(se),se.click(),document.body.removeChild(se),a({title:"Export Successful",description:"Amortization schedule exported to CSV."})};return r.jsx("div",{className:"space-y-6",children:r.jsxs(Or,{value:w,onValueChange:E,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-2",children:[r.jsx(ut,{value:"calculator",children:"Calculator"}),r.jsx(ut,{value:"amortization",children:"Amortization Schedule"})]}),r.jsxs(ft,{value:"calculator",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(sh,{className:"h-5 w-5 mr-2 text-primary"}),"Loan Details"]}),r.jsx(tt,{children:"Enter the details of your loan"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"loanAmount",children:"Vehicle Price"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"loanAmount",type:"number",value:s,onChange:Q=>i(parseFloat(Q.target.value)||0),className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"downPayment",children:"Down Payment"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"downPayment",type:"number",value:o,onChange:Q=>l(parseFloat(Q.target.value)||0),className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"interestRate",children:"Interest Rate (%)"}),r.jsx(Ee,{id:"interestRate",type:"number",step:"0.01",value:c,onChange:Q=>u(parseFloat(Q.target.value)||0)})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"loanTerm",children:"Loan Term (months)"}),r.jsxs(Xe,{value:h.toString(),onValueChange:Q=>f(parseInt(Q)),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"12",children:"12 months (1 year)"}),r.jsx(ee,{value:"24",children:"24 months (2 years)"}),r.jsx(ee,{value:"36",children:"36 months (3 years)"}),r.jsx(ee,{value:"48",children:"48 months (4 years)"}),r.jsx(ee,{value:"60",children:"60 months (5 years)"}),r.jsx(ee,{value:"72",children:"72 months (6 years)"}),r.jsx(ee,{value:"84",children:"84 months (7 years)"}),r.jsx(ee,{value:"96",children:"96 months (8 years)"}),r.jsx(ee,{value:"120",children:"120 months (10 years)"}),r.jsx(ee,{value:"180",children:"180 months (15 years)"}),r.jsx(ee,{value:"240",children:"240 months (20 years)"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),r.jsxs(Xe,{value:p,onValueChange:v,children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"monthly",children:"Monthly"}),r.jsx(ee,{value:"biweekly",children:"Bi-weekly"}),r.jsx(ee,{value:"weekly",children:"Weekly"})]})]})]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(lr,{className:"h-5 w-5 mr-2 text-primary"}),"Additional Costs"]}),r.jsx(tt,{children:"Include additional costs in your calculation"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"includeInsurance",checked:g,onCheckedChange:Q=>y(!!Q)}),r.jsx(ie,{htmlFor:"includeInsurance",children:"Include Insurance"})]}),g&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"insuranceAmount",children:"Monthly Insurance Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"insuranceAmount",type:"number",value:x,onChange:Q=>j(parseFloat(Q.target.value)||0),className:"pl-10"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"includeTax",checked:b,onCheckedChange:Q=>N(!!Q)}),r.jsx(ie,{htmlFor:"includeTax",children:"Include Tax"})]}),b&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"taxRate",children:"Tax Rate (%)"}),r.jsx(Ee,{id:"taxRate",type:"number",step:"0.01",value:P,onChange:Q=>I(parseFloat(Q.target.value)||0)})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Loan Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Principal Amount:"}),r.jsx("span",{className:"font-medium",children:Me(s-o)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-muted-foreground",children:[p==="monthly"?"Monthly":p==="biweekly"?"Bi-weekly":"Weekly"," Payment:"]}),r.jsx("span",{className:"font-bold text-primary",children:Me(C)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Total Interest:"}),r.jsx("span",{className:"font-medium",children:Me(M)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:"Total Cost:"}),r.jsx("span",{className:"font-medium",children:Me(D)})]})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[n&&r.jsx(ae,{variant:"outline",onClick:n,children:"Close"}),r.jsxs(ae,{variant:"outline",onClick:()=>E("amortization"),children:[r.jsx(gn,{className:"h-4 w-4 mr-2"}),"View Amortization"]}),t&&r.jsx(ae,{onClick:H,children:"Save Calculation"})]})]}),r.jsxs(ft,{value:"amortization",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(gn,{className:"h-5 w-5 mr-2 text-primary"}),"Amortization Schedule"]}),r.jsx(tt,{children:"Detailed payment schedule over the life of the loan"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:Z,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:G,children:[r.jsx(hh,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})}),r.jsx(be,{children:r.jsx(zZ,{schedule:F})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsxs(ae,{variant:"outline",onClick:()=>E("calculator"),children:[r.jsx(sh,{className:"h-4 w-4 mr-2"}),"Back to Calculator"]}),t&&r.jsx(ae,{onClick:H,children:"Save Calculation"})]})]})]})})}function UZ(){const{toast:e}=Ht(),[t,n]=S.useState("general"),[a,s]=S.useState(6.99),[i,o]=S.useState(84),[l,c]=S.useState(10),[u,h]=S.useState("monthly"),[f,p]=S.useState(!0),[v,g]=S.useState(12.99),[y,x]=S.useState(48),[j,b]=S.useState(20),[N,P]=S.useState(!0),[I,w]=S.useState(!0),[E,C]=S.useState(!0),[_,M]=S.useState(!0),[k,D]=S.useState(!0),[R,F]=S.useState(10),[z,V]=S.useState(25),[B,H]=S.useState("fixed"),[G,Z]=S.useState(""),[Q,$]=S.useState(!0),[K,te]=S.useState(!0),[se,oe]=S.useState(!0),[me,ve]=S.useState(5),pe=()=>{e({title:"Settings Saved",description:"Your loan settings have been updated successfully."})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Or,{value:t,onValueChange:n,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-4",children:[r.jsx(ut,{value:"general",children:"General"}),r.jsx(ut,{value:"bhph",children:"Buy Here Pay Here"}),r.jsx(ut,{value:"payments",children:"Payments"}),r.jsx(ut,{value:"documents",children:"Documents"})]}),r.jsx(ft,{value:"general",className:"space-y-6",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Px,{className:"h-5 w-5 mr-2 text-primary"}),"General Loan Settings"]}),r.jsx(tt,{children:"Configure default loan parameters and settings"})]}),r.jsx(be,{className:"space-y-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"defaultInterestRate",children:"Default Interest Rate (%)"}),r.jsx(Ee,{id:"defaultInterestRate",type:"number",step:"0.01",value:a,onChange:we=>s(parseFloat(we.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Standard interest rate for new loans"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"maxLoanTerm",children:"Maximum Loan Term (months)"}),r.jsx(Ee,{id:"maxLoanTerm",type:"number",value:i,onChange:we=>o(parseInt(we.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Longest allowed loan term in months"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"minDownPaymentPercent",children:"Minimum Down Payment (%)"}),r.jsx(Ee,{id:"minDownPaymentPercent",type:"number",value:l,onChange:we=>c(parseFloat(we.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum required down payment as percentage of vehicle price"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"defaultPaymentFrequency",children:"Default Payment Frequency"}),r.jsxs(Xe,{value:u,onValueChange:h,children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"monthly",children:"Monthly"}),r.jsx(ee,{value:"biweekly",children:"Bi-weekly"}),r.jsx(ee,{value:"weekly",children:"Weekly"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Standard payment schedule for new loans"})]})]})})]})}),r.jsx(ft,{value:"bhph",className:"space-y-6",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(lr,{className:"h-5 w-5 mr-2 text-primary"}),"Buy Here Pay Here Settings"]}),r.jsx(tt,{children:"Configure in-house financing options"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"bhphEnabled",checked:f,onCheckedChange:we=>p(!!we)}),r.jsx(ie,{htmlFor:"bhphEnabled",children:"Enable Buy Here Pay Here Financing"})]}),f&&r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mt-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"bhphInterestRate",children:"BHPH Interest Rate (%)"}),r.jsx(Ee,{id:"bhphInterestRate",type:"number",step:"0.01",value:v,onChange:we=>g(parseFloat(we.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Standard interest rate for in-house loans"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"bhphMaxLoanTerm",children:"BHPH Maximum Term (months)"}),r.jsx(Ee,{id:"bhphMaxLoanTerm",type:"number",value:y,onChange:we=>x(parseInt(we.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum term for in-house financing"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"bhphMinDownPaymentPercent",children:"BHPH Minimum Down Payment (%)"}),r.jsx(Ee,{id:"bhphMinDownPaymentPercent",type:"number",value:j,onChange:we=>b(parseFloat(we.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minimum down payment for in-house financing"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"bhphRequireIncome",checked:N,onCheckedChange:we=>P(!!we)}),r.jsx(ie,{htmlFor:"bhphRequireIncome",children:"Require Income Verification"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"bhphRequireReference",checked:I,onCheckedChange:we=>w(!!we)}),r.jsx(ie,{htmlFor:"bhphRequireReference",children:"Require References"})]})]})]}),r.jsx("div",{className:"bg-yellow-50 p-4 rounded-md mt-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(Vi,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-yellow-800",children:"Important Notice"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Buy Here Pay Here financing is subject to state and federal regulations. Ensure your dealership complies with all applicable laws including Truth in Lending Act (TILA), Fair Credit Reporting Act (FCRA), and state-specific lending requirements."})]})]})})]})]})}),r.jsx(ft,{value:"payments",className:"space-y-6",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Zs,{className:"h-5 w-5 mr-2 text-primary"}),"Payment Settings"]}),r.jsx(tt,{children:"Configure payment options and late fee policies"})]}),r.jsx(be,{className:"space-y-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"allowAutoPay",checked:E,onCheckedChange:we=>C(!!we)}),r.jsx(ie,{htmlFor:"allowAutoPay",children:"Allow Automatic Payments"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"allowOnlinePayments",checked:_,onCheckedChange:we=>M(!!we)}),r.jsx(ie,{htmlFor:"allowOnlinePayments",children:"Allow Online Payments"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"allowPartialPayments",checked:k,onCheckedChange:we=>D(!!we)}),r.jsx(ie,{htmlFor:"allowPartialPayments",children:"Allow Partial Payments"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"gracePeriodDays",children:"Grace Period (days)"}),r.jsx(Ee,{id:"gracePeriodDays",type:"number",value:R,onChange:we=>F(parseInt(we.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Days after due date before late fee applies"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"lateFeeType",children:"Late Fee Type"}),r.jsxs(Xe,{value:B,onValueChange:H,children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"fixed",children:"Fixed Amount"}),r.jsx(ee,{value:"percentage",children:"Percentage of Payment"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"lateFeeAmount",children:B==="fixed"?"Late Fee Amount ($)":"Late Fee Percentage (%)"}),r.jsx(Ee,{id:"lateFeeAmount",type:"number",step:B==="percentage"?"0.01":"1",value:z,onChange:we=>V(parseFloat(we.target.value)||0)})]})]})})]})}),r.jsx(ft,{value:"documents",className:"space-y-6",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Qs,{className:"h-5 w-5 mr-2 text-primary"}),"Document Settings"]}),r.jsx(tt,{children:"Configure loan documents and notification settings"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"loanAgreementTemplate",children:"Loan Agreement Template"}),r.jsx(wr,{id:"loanAgreementTemplate",value:G,onChange:we=>Z(we.target.value),placeholder:"Enter your loan agreement template text or HTML...",rows:6}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"You can use variables like {{customer_name}}, {{loan_amount}}, {{interest_rate}}, etc."})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"requireSignature",checked:Q,onCheckedChange:we=>$(!!we)}),r.jsx(ie,{htmlFor:"requireSignature",children:"Require Digital Signature"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"sendPaymentReceipts",checked:K,onCheckedChange:we=>te(!!we)}),r.jsx(ie,{htmlFor:"sendPaymentReceipts",children:"Send Payment Receipts"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"sendPaymentReminders",checked:se,onCheckedChange:we=>oe(!!we)}),r.jsx(ie,{htmlFor:"sendPaymentReminders",children:"Send Payment Reminders"})]})]}),se&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"reminderDaysBefore",children:"Reminder Days Before Due"}),r.jsx(Ee,{id:"reminderDaysBefore",type:"number",value:me,onChange:we=>ve(parseInt(we.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Number of days before due date to send reminder"})]})]}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-md mt-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(pA,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-blue-800",children:"Compliance Notice"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Ensure your loan documents comply with all applicable laws and regulations. Consider consulting with legal counsel to review your loan agreement templates."})]})]})})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(ae,{onClick:pe,children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})}function VZ({onSave:e,onCancel:t,onAddNewCustomer:n,preselectedCustomerId:a}){const{toast:s}=Ht(),{leads:i}=bl(),{vehicles:o}=vu(),[l,c]=S.useState(!1),[u,h]=S.useState(!1),[f,p]=S.useState(null),[v,g]=S.useState({customerId:a||"",customerName:"",vehicleId:"",vehicleInfo:"",amount:0,downPayment:0,term:60,rate:6.99,paymentAmount:0,startDate:new Date().toISOString().split("T")[0],status:"active",notes:"",loanType:"standard",paymentFrequency:"monthly",includeInsurance:!1,insuranceAmount:0,includeTax:!1,taxRate:0});S.useEffect(()=>{a&&g(N=>({...N,customerId:a}))},[a]),S.useEffect(()=>{if(v.customerId){const N=i.find(P=>P.id===v.customerId);N&&g(P=>({...P,customerName:`${N.firstName} ${N.lastName}`}))}},[v.customerId,i]);const y=N=>{N==="add-new"?n?.():g(P=>({...P,customerId:N}))},x=N=>{const P=o.find(I=>I.id===N);P&&g(I=>({...I,vehicleId:N,vehicleInfo:`${P.year} ${P.make} ${P.model}`,amount:P.price}))},j=N=>{p(N),g(P=>({...P,amount:N.loanAmount,downPayment:N.downPayment,term:N.loanTerm,rate:N.interestRate,paymentAmount:N.monthlyPayment,paymentFrequency:N.paymentFrequency,includeInsurance:N.includeInsurance,insuranceAmount:N.insuranceAmount,includeTax:N.includeTax,taxRate:N.taxRate}))},b=async N=>{if(N.preventDefault(),!v.customerId||!v.vehicleId){s({title:"Validation Error",description:"Customer and vehicle are required.",variant:"destructive"});return}c(!0);try{await e(v)}catch{s({title:"Error",description:"Failed to create loan",variant:"destructive"})}finally{c(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u?r.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:r.jsx(h7,{initialValues:{loanAmount:v.amount,downPayment:v.downPayment,interestRate:v.rate,loanTerm:v.term},onSave:j,onClose:()=>h(!1)})}):r.jsxs(ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Create New Loan"}),r.jsx(tt,{children:"Set up a new loan for a customer"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Customer & Vehicle"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"customerId",children:"Customer *"}),r.jsxs(Xe,{value:v.customerId,onValueChange:y,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select customer"})}),r.jsxs(Ye,{children:[r.jsx("div",{className:"px-2 py-1.5",children:r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>y("add-new"),children:[r.jsx(cr,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),r.jsx("div",{className:"px-2 py-1 border-t"}),i.map(N=>r.jsxs(ee,{value:N.id,children:[N.firstName," ",N.lastName]},N.id))]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"vehicleId",children:"Vehicle *"}),r.jsxs(Xe,{value:v.vehicleId,onValueChange:x,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select vehicle"})}),r.jsx(Ye,{children:o.map(N=>r.jsxs(ee,{value:N.id,children:[N.year," ",N.make," ",N.model]},N.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Loan Details"}),r.jsxs(ae,{type:"button",variant:"outline",onClick:()=>h(!0),children:[r.jsx(sh,{className:"h-4 w-4 mr-2"}),"Loan Calculator"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"amount",children:"Loan Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"amount",type:"number",value:v.amount,onChange:N=>g(P=>({...P,amount:parseFloat(N.target.value)||0})),className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"downPayment",children:"Down Payment"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"downPayment",type:"number",value:v.downPayment,onChange:N=>g(P=>({...P,downPayment:parseFloat(N.target.value)||0})),className:"pl-10"})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"term",children:"Term (months) *"}),r.jsxs(Xe,{value:v.term.toString(),onValueChange:N=>g(P=>({...P,term:parseInt(N)})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"12",children:"12 months (1 year)"}),r.jsx(ee,{value:"24",children:"24 months (2 years)"}),r.jsx(ee,{value:"36",children:"36 months (3 years)"}),r.jsx(ee,{value:"48",children:"48 months (4 years)"}),r.jsx(ee,{value:"60",children:"60 months (5 years)"}),r.jsx(ee,{value:"72",children:"72 months (6 years)"}),r.jsx(ee,{value:"84",children:"84 months (7 years)"}),r.jsx(ee,{value:"96",children:"96 months (8 years)"}),r.jsx(ee,{value:"120",children:"120 months (10 years)"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"rate",children:"Interest Rate (%) *"}),r.jsx(Ee,{id:"rate",type:"number",step:"0.01",value:v.rate,onChange:N=>g(P=>({...P,rate:parseFloat(N.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"paymentAmount",children:"Monthly Payment *"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"paymentAmount",type:"number",step:"0.01",value:v.paymentAmount,onChange:N=>g(P=>({...P,paymentAmount:parseFloat(N.target.value)||0})),className:"pl-10"})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"startDate",children:"Start Date *"}),r.jsx(Ee,{id:"startDate",type:"date",value:v.startDate,onChange:N=>g(P=>({...P,startDate:N.target.value}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"loanType",children:"Loan Type"}),r.jsxs(Xe,{value:v.loanType,onValueChange:N=>g(P=>({...P,loanType:N})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"standard",children:"Standard"}),r.jsx(ee,{value:"bhph",children:"Buy Here Pay Here"}),r.jsx(ee,{value:"balloon",children:"Balloon"}),r.jsx(ee,{value:"lease",children:"Lease"})]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Additional Options"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"includeInsurance",checked:v.includeInsurance,onCheckedChange:N=>g(P=>({...P,includeInsurance:!!N}))}),r.jsx(ie,{htmlFor:"includeInsurance",children:"Include Insurance"})]}),v.includeInsurance&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"insuranceAmount",children:"Monthly Insurance Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"insuranceAmount",type:"number",step:"0.01",value:v.insuranceAmount,onChange:N=>g(P=>({...P,insuranceAmount:parseFloat(N.target.value)||0})),className:"pl-10"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"includeTax",checked:v.includeTax,onCheckedChange:N=>g(P=>({...P,includeTax:!!N}))}),r.jsx(ie,{htmlFor:"includeTax",children:"Include Tax"})]}),v.includeTax&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"taxRate",children:"Tax Rate (%)"}),r.jsx(Ee,{id:"taxRate",type:"number",step:"0.01",value:v.taxRate,onChange:N=>g(P=>({...P,taxRate:parseFloat(N.target.value)||0}))})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),r.jsx(wr,{value:v.notes,onChange:N=>g(P=>({...P,notes:N.target.value})),placeholder:"Add any additional notes about this loan...",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:t,disabled:l,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:l,children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Loan..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Create Loan"]})})]})]})})]})})}function WP({loan:e,onClose:t,onRecordPayment:n}){const{toast:a}=Ht(),[s,i]=S.useState([]),[o,l]=S.useState(""),[c,u]=S.useState("all"),[h,f]=S.useState("all"),[p,v]=S.useState("all");S.useEffect(()=>{e&&Array.isArray(e.payments)&&i(e.payments)},[e]);const g=I=>{switch(I){case"completed":return"bg-green-50 text-green-700 border-green-200";case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"processing":return"bg-blue-50 text-blue-700 border-blue-200";case"failed":return"bg-red-50 text-red-700 border-red-200";case"refunded":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},y=I=>{switch(I){case"completed":return r.jsx(yn,{className:"h-4 w-4 text-green-500"});case"pending":return r.jsx(Ar,{className:"h-4 w-4 text-yellow-500"});case"processing":return r.jsx(Ar,{className:"h-4 w-4 text-blue-500"});case"failed":return r.jsx(Ao,{className:"h-4 w-4 text-red-500"});case"refunded":return r.jsx(ma,{className:"h-4 w-4 text-purple-500"});default:return null}},x=I=>{switch(I){case"credit_card":return"Credit Card";case"bank_transfer":return"Bank Transfer";case"cash":return"Cash";case"check":return"Check";case"financing":return"Financing";default:return I}},j=I=>{switch(I){case"credit_card":return r.jsx(Zs,{className:"h-4 w-4 text-blue-500"});case"bank_transfer":return r.jsx(ma,{className:"h-4 w-4 text-green-500"});case"cash":return r.jsx(ma,{className:"h-4 w-4 text-green-500"});case"check":return r.jsx(ma,{className:"h-4 w-4 text-blue-500"});case"financing":return r.jsx(ma,{className:"h-4 w-4 text-purple-500"});default:return r.jsx(ma,{className:"h-4 w-4 text-gray-500"})}},b=Array.isArray(s)?s.filter(I=>{const w=I.invoiceId&&I.invoiceId.toLowerCase().includes(o.toLowerCase())||I.id&&I.id.toLowerCase().includes(o.toLowerCase())||I.transactionId&&I.transactionId.toLowerCase().includes(o.toLowerCase()),E=c==="all"||I.status===c,C=h==="all"||I.method===h;let _=!0;const M=new Date,k=I.processedDate||new Date;if(p==="today")_=k.toDateString()===M.toDateString();else if(p==="this_week"){const D=new Date(M);D.setDate(M.getDate()-M.getDay());const R=new Date(D);R.setDate(D.getDate()+6),_=k>=D&&k<=R}else p==="this_month"&&(_=k.getMonth()===M.getMonth()&&k.getFullYear()===M.getFullYear());return w&&E&&C&&_}):[],N=()=>{try{if(!Array.isArray(b)||b.length===0){a({title:"Export Failed",description:"No payment data to export",variant:"destructive"});return}const w=[["ID","Invoice ID","Amount","Method","Status","Transaction ID","Date","Notes"].join(","),...b.map(M=>[M.id||"",M.invoiceId||"",(M.amount||0).toFixed(2),M.method||"",M.status||"",M.transactionId||"",M.processedDate?M.processedDate.toISOString().split("T")[0]:"",M.notes||""].join(","))].join(`
`),E=new Blob([w],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(E),_=document.createElement("a");_.href=C,_.setAttribute("download",`loan_${e?.id||"unknown"}_payment_history.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_),a({title:"Export Successful",description:"Payment history exported to CSV"})}catch(I){console.error("Error exporting payment history:",I),a({title:"Export Failed",description:"An error occurred while exporting data",variant:"destructive"})}},P=async()=>{if(!n||!e?.id){a({title:"Error",description:"Cannot record payment at this time",variant:"destructive"});return}const I={invoiceId:e.id,amount:100,method:wo.CASH,status:fl.COMPLETED,processedDate:new Date,notes:"Manual payment recorded",transactionId:Math.random().toString(36).substr(2,9)};try{await n(I),i(w=>Array.isArray(w)?[...w,{...I,id:Math.random().toString(36).substr(2,9)}]:[{...I,id:Math.random().toString(36).substr(2,9)}]),a({title:"Payment Recorded",description:"New payment added to history."})}catch(w){console.error("Failed to record payment:",w),a({title:"Error",description:"Failed to record payment.",variant:"destructive"})}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e&&r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{children:["Payment History for Loan #",e.id||"Unknown"]}),r.jsxs(tt,{children:[e.customerName?`Customer: ${e.customerName}`:"No customer information",e.vehicleInfo?` | Vehicle: ${e.vehicleInfo}`:""]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(La,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{placeholder:"Search payments...",value:o,onChange:I=>l(I.target.value),className:"pl-10"})]}),r.jsxs(Xe,{value:c,onValueChange:u,children:[r.jsx(Ke,{className:"w-[150px]",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:"completed",children:"Completed"}),r.jsx(ee,{value:"pending",children:"Pending"}),r.jsx(ee,{value:"processing",children:"Processing"}),r.jsx(ee,{value:"failed",children:"Failed"}),r.jsx(ee,{value:"refunded",children:"Refunded"})]})]}),r.jsxs(Xe,{value:h,onValueChange:f,children:[r.jsx(Ke,{className:"w-[150px]",children:r.jsx(Qe,{placeholder:"Method"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Methods"}),r.jsx(ee,{value:"credit_card",children:"Credit Card"}),r.jsx(ee,{value:"bank_transfer",children:"Bank Transfer"}),r.jsx(ee,{value:"cash",children:"Cash"}),r.jsx(ee,{value:"check",children:"Check"}),r.jsx(ee,{value:"financing",children:"Financing"})]})]}),r.jsxs(Xe,{value:p,onValueChange:v,children:[r.jsx(Ke,{className:"w-[150px]",children:r.jsx(Qe,{placeholder:"Date"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Dates"}),r.jsx(ee,{value:"today",children:"Today"}),r.jsx(ee,{value:"this_week",children:"This Week"}),r.jsx(ee,{value:"this_month",children:"This Month"})]})]}),r.jsxs(ae,{variant:"outline",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"More Filters"]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mb-4",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:N,disabled:!Array.isArray(b)||b.length===0,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:P,disabled:!n||!e?.id,children:[r.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),r.jsx("div",{className:"overflow-x-auto",children:Array.isArray(b)&&b.length>0?r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-muted/50",children:[r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Amount"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Method"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Status"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Date"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Transaction ID"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Notes"})]})}),r.jsx("tbody",{children:b.map(I=>r.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[r.jsx("td",{className:"p-3 font-medium",children:Me(I.amount||0)}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[j(I.method||""),r.jsx("span",{children:x(I.method||"")})]})}),r.jsx("td",{className:"p-3",children:r.jsxs(Ze,{className:ot("flex items-center space-x-1",g(I.status||"")),children:[y(I.status||""),r.jsx("span",{children:I.status?I.status.charAt(0).toUpperCase()+I.status.slice(1):"Unknown"})]})}),r.jsx("td",{className:"p-3",children:I.processedDate?Et(I.processedDate):"-"}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:"font-mono text-xs",children:I.transactionId?I.transactionId:"-"})}),r.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:I.notes||"-"})]},I.id))})]}):r.jsxs("div",{className:"p-8 text-center text-muted-foreground border border-dashed rounded-lg",children:[r.jsx(Zs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No payments found"}),r.jsx("p",{className:"text-sm mt-2",children:o||c!=="all"||h!=="all"||p!=="all"?"Try adjusting your search filters":"Record a payment to get started"})]})})]})]})})}const WZ=()=>{const{toast:e}=Ht();vu();const[t,n]=S.useState([]),[a,s]=S.useState(""),[i,o]=S.useState("all"),[l,c]=S.useState(!1),[u,h]=S.useState(!1),[f,p]=S.useState(null),v=[{id:"1",customerId:"cust-1",customerName:"John Smith",vehicleId:"veh-1",vehicleInfo:"2023 Honda Civic",amount:25e3,downPayment:5e3,term:60,rate:4.5,paymentAmount:372.86,startDate:new Date("2024-01-15"),status:"active",remainingBalance:22e3,nextPaymentDate:new Date("2024-02-15"),createdAt:new Date("2024-01-10"),payments:[{id:"payment-1",invoiceId:"1",amount:372.86,method:wo.CREDIT_CARD,status:fl.COMPLETED,processedDate:new Date("2024-01-15"),notes:"Initial payment",transactionId:"txn_123456",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]}];Ne.useEffect(()=>{n(v)},[]);const g=t.filter(j=>{const b=j?.customerName?.toLowerCase()?.includes(a.toLowerCase())||!1||j?.vehicleInfo?.toLowerCase()?.includes(a.toLowerCase())||!1,N=i==="all"||j?.status===i;return b&&N}),y=j=>{j&&(p(j),h(!0))},x=async j=>{if(!f){e({title:"Error",description:"No loan selected",variant:"destructive"});return}try{const b={id:`payment-${Math.random().toString(36).substring(2,9)}`,invoiceId:f.id,amount:j.amount||0,method:j.method||wo.CASH,status:j.status||fl.COMPLETED,processedDate:j.processedDate||new Date,notes:j.notes||"",transactionId:j.transactionId||`txn_${Math.random().toString(36).substring(2,9)}`,customFields:{},createdAt:new Date,updatedAt:new Date};return n(N=>Array.isArray(N)?N.map(P=>P?.id===f?.id?{...P,payments:Array.isArray(P.payments)?[...P.payments,b]:[b]}:P):[]),e({title:"Payment Recorded",description:`Payment of ${Me(b.amount)} has been recorded.`}),Promise.resolve()}catch(b){return console.error("Error recording payment:",b),e({title:"Error",description:"Failed to record payment",variant:"destructive"}),Promise.reject(b)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Finance Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage loans, payments, and financial operations"})]}),r.jsxs(ae,{onClick:()=>c(!0),children:[r.jsx(qt,{className:"mr-2 h-4 w-4"}),"New Loan"]})]}),r.jsxs(Or,{defaultValue:"loans",className:"space-y-4",children:[r.jsxs(kr,{children:[r.jsx(ut,{value:"loans",children:"Loans"}),r.jsx(ut,{value:"calculator",children:"Calculator"}),r.jsx(ut,{value:"payments",children:"Payment History"}),r.jsx(ut,{value:"settings",children:"Settings"})]}),r.jsxs(ft,{value:"loans",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(La,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{placeholder:"Search loans...",value:a,onChange:j=>s(j.target.value),className:"pl-8"})]}),r.jsxs("select",{value:i,onChange:j=>o(j.target.value),className:"px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"defaulted",children:"Defaulted"})]})]}),r.jsx("div",{className:"grid gap-4",children:Array.isArray(g)&&g.length>0?g.map(j=>j&&r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Te,{className:"flex items-center gap-2",children:[r.jsx(Zs,{className:"h-5 w-5"}),j?.customerName||"Unknown Customer"]}),r.jsx(Ze,{variant:j?.status==="active"?"default":"secondary",children:j?.status||"Unknown"})]}),r.jsx(tt,{children:j?.vehicleInfo||"No vehicle information"})]}),r.jsx(be,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Loan Amount"}),r.jsx("p",{className:"text-lg font-semibold",children:Me(j?.amount||0)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Payment"}),r.jsx("p",{className:"text-lg font-semibold",children:Me(j?.paymentAmount||0)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Payments"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-lg font-semibold",children:Array.isArray(j?.payments)?j.payments.length:0}),r.jsx(ae,{variant:"outline",size:"sm",onClick:b=>{b.stopPropagation(),j&&y(j)},children:"View History"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Next Payment"}),r.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[r.jsx(gn,{className:"h-4 w-4"}),j?.nextPaymentDate?j.nextPaymentDate.toLocaleDateString():"Not scheduled"]})]})]})})]},j?.id||Math.random().toString())):r.jsx("div",{className:"text-center p-8 border border-dashed rounded-lg",children:r.jsx("p",{className:"text-muted-foreground",children:"No loans found"})})})]}),r.jsx(ft,{value:"calculator",children:r.jsx(h7,{})}),r.jsx(ft,{value:"payments",children:r.jsx(WP,{loan:Array.isArray(g)&&g.length>0?g[0]:{id:"0",customerId:"",customerName:"",vehicleId:"",vehicleInfo:"",amount:0,downPayment:0,term:0,rate:0,paymentAmount:0,startDate:new Date,status:"",remainingBalance:0,nextPaymentDate:new Date,createdAt:new Date,payments:[]},onClose:()=>{}})}),r.jsx(ft,{value:"settings",children:r.jsx(UZ,{})})]}),u&&f&&r.jsx(WP,{loan:f,onClose:()=>h(!1),onRecordPayment:x}),l&&r.jsx(VZ,{onClose:()=>c(!1),onSave:async j=>{e({title:"Loan Created",description:"New loan has been successfully created."}),c(!1)},onAddNewCustomer:()=>{}})]})};var Ft=(e=>(e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.NEEDS_ANALYSIS="needs_analysis",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost",e))(Ft||{}),un=(e=>(e.ACTIVE="active",e.WON="won",e.LOST="lost",e.ON_HOLD="on_hold",e.CANCELLED="cancelled",e))(un||{}),ec=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(ec||{}),vd=(e=>(e.GEOGRAPHIC="geographic",e.INDUSTRY="industry",e.ACCOUNT_SIZE="account_size",e.PRODUCT_LINE="product_line",e))(vd||{});function HZ(){const[e,t]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState([]),[c,u]=S.useState([]),[h,f]=S.useState(!1);S.useEffect(()=>{p()},[]);const p=()=>{const F=Qn("renter-insight-deals",[{id:"1",name:"Georgetown Class A Sale - Smith Family",customerId:"cust-001",customerName:"John & Mary Smith",stage:Ft.PROPOSAL,status:un.ACTIVE,priority:"high",value:145e3,probability:75,expectedCloseDate:new Date("2024-02-15"),assignedTo:"rep-001",territoryId:"territory-001",sourceId:"source-001",competitorIds:["comp-001"],products:[{id:"1",productId:"prod-001",productName:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,discount:5e3,total:12e4},{id:"2",productId:"prod-002",productName:"Extended Warranty Package",quantity:1,unitPrice:3500,discount:0,total:3500}],stageHistory:[],notes:"Customer very interested, financing pre-approved",requiresApproval:!0,approvalStatus:"pending",customFields:{tradeInValue:25e3,financingType:"bank_loan"},createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-20")},{id:"2",name:"Travel Trailer - Johnson Family",customerId:"cust-002",customerName:"Sarah Johnson",stage:Ft.NEGOTIATION,status:un.ACTIVE,priority:"medium",value:75e3,probability:85,expectedCloseDate:new Date("2024-02-10"),assignedTo:"rep-002",territoryId:"territory-002",competitorIds:[],products:[{id:"3",productId:"prod-003",productName:"2024 Airstream Flying Cloud",quantity:1,unitPrice:75e3,discount:2e3,total:73e3}],stageHistory:[],notes:"Ready to close, just finalizing delivery details",requiresApproval:!1,customFields:{},createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-18")}]),z=Qn("renter-insight-territories",[{id:"territory-001",name:"North Region",type:"geographic",description:"Northern states territory",assignedTo:["rep-001","rep-003"],rules:[{id:"1",field:"state",operator:"in_range",value:["IL","WI","MN","IA"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"territory-002",name:"South Region",type:"geographic",description:"Southern states territory",assignedTo:["rep-002"],rules:[{id:"2",field:"state",operator:"in_range",value:["TX","FL","GA","NC"],priority:1}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),V=Qn("renter-insight-stage-history",[{id:"1",dealId:"1",fromStage:Ft.QUALIFICATION,toStage:Ft.NEEDS_ANALYSIS,changedBy:"rep-001",changedAt:new Date("2024-01-12"),duration:48,notes:"Customer qualified, moving to needs analysis"},{id:"2",dealId:"1",fromStage:Ft.NEEDS_ANALYSIS,toStage:Ft.PROPOSAL,changedBy:"rep-001",changedAt:new Date("2024-01-18"),duration:144,notes:"Proposal prepared and presented"}]);t(F),a(z),u(V)},v=F=>{Sn("renter-insight-deals",F)},g=F=>{Sn("renter-insight-stage-history",F)},y=async F=>{f(!0);try{const z={id:Math.random().toString(36).substr(2,9),name:F.name||"",customerId:F.customerId||"",customerName:F.customerName||"",stage:Ft.PROSPECTING,status:un.ACTIVE,priority:F.priority||"medium",value:F.value||0,probability:10,expectedCloseDate:F.expectedCloseDate||new Date,assignedTo:F.assignedTo||"",territoryId:F.territoryId||"",sourceId:F.sourceId,competitorIds:F.competitorIds||[],products:F.products||[],stageHistory:[],notes:F.notes||"",requiresApproval:(F.value||0)>1e5,customFields:F.customFields||{},createdAt:new Date,updatedAt:new Date},V=[...e,z];return t(V),v(V),await j(z.id,void 0,Ft.PROSPECTING,"system"),z}finally{f(!1)}},x=async(F,z,V)=>{const B=e.find(K=>K.id===F);if(!B)return;const H=B.stage,G=N(z),Z=z===Ft.CLOSED_WON?un.WON:z===Ft.CLOSED_LOST?un.LOST:un.ACTIVE,Q=z===Ft.CLOSED_WON||z===Ft.CLOSED_LOST?new Date:void 0,$=e.map(K=>K.id===F?{...K,stage:z,probability:G,status:Z,actualCloseDate:Q,updatedAt:new Date}:K);return t($),v($),await j(F,H,z,"current-user",V||`Stage changed from ${H?.replace("_"," ")||"none"} to ${z.replace("_"," ")}`),$.find(K=>K.id===F)},j=async(F,z,V,B,H)=>{const G=z?b(F,z):void 0,Z={id:Math.random().toString(36).substr(2,9),dealId:F,fromStage:z,toStage:V,changedBy:B,changedAt:new Date,duration:G,notes:H},Q=[...c,Z];u(Q),g(Q)},b=(F,z)=>{const B=c.filter(H=>H.dealId===F).find(H=>H.toStage===z);return B?Math.floor((Date.now()-B.changedAt.getTime())/36e5):0},N=F=>{switch(F){case Ft.PROSPECTING:return 10;case Ft.QUALIFICATION:return 25;case Ft.NEEDS_ANALYSIS:return 40;case Ft.PROPOSAL:return 60;case Ft.NEGOTIATION:return 80;case Ft.CLOSED_WON:return 100;case Ft.CLOSED_LOST:return 0;default:return 10}},P=async(F,z)=>{const V=n.find(B=>B.isActive);if(V){const B=e.map(H=>H.id===F?{...H,territoryId:V.id,updatedAt:new Date}:H);t(B),v(B)}},I=async(F,z)=>{const V={id:Math.random().toString(36).substr(2,9),dealId:F,workflowType:z,currentStep:1,totalSteps:2,steps:[{id:"1",stepNumber:1,approverRole:"sales_manager",approverIds:["manager-001"],requiredApprovals:1,currentApprovals:[],status:"pending"},{id:"2",stepNumber:2,approverRole:"sales_director",approverIds:["director-001"],requiredApprovals:1,currentApprovals:[],status:"pending"}],status:"pending",requestedBy:"current-user",requestedAt:new Date};return i(B=>[...B,V]),V},w=async(F,z,V)=>{const B={id:Math.random().toString(36).substr(2,9),dealId:F,outcome:z,primaryReason:V.primaryReason||"",secondaryReasons:V.secondaryReasons||[],competitorWon:V.competitorWon,feedback:V.feedback||"",lessonsLearned:V.lessonsLearned||[],actionItems:V.actionItems||[],reportedBy:"current-user",reportedAt:new Date};return l(H=>[...H,B]),B},E=()=>{const F=e.length,z=e.reduce((K,te)=>K+te.value,0),V=e.filter(K=>K.status===un.WON).length,B=e.filter(K=>K.status===un.WON).reduce((K,te)=>K+te.value,0),H=e.filter(K=>K.status===un.LOST).length,G=e.filter(K=>K.status===un.LOST).reduce((K,te)=>K+te.value,0),Z=F>0?V/F*100:0,Q=F>0?z/F:0,$=C();return{totalDeals:F,totalValue:z,wonDeals:V,wonValue:B,lostDeals:H,lostValue:G,winRate:Z,averageDealSize:Q,averageSalesCycle:$,conversionRates:_()}},C=()=>{const F=e.filter(V=>V.actualCloseDate);return F.length===0?0:F.reduce((V,B)=>{const H=new Date(B.actualCloseDate),G=new Date(B.createdAt),Z=isNaN(H.getTime())?0:H.getTime(),Q=isNaN(G.getTime())?0:G.getTime(),$=Z&&Q?Math.floor((Z-Q)/(1e3*60*60*24)):0;return V+$},0)/F.length},_=()=>[{fromStage:Ft.PROSPECTING,toStage:Ft.QUALIFICATION,rate:65,averageDuration:72},{fromStage:Ft.QUALIFICATION,toStage:Ft.NEEDS_ANALYSIS,rate:75,averageDuration:48},{fromStage:Ft.NEEDS_ANALYSIS,toStage:Ft.PROPOSAL,rate:80,averageDuration:96},{fromStage:Ft.PROPOSAL,toStage:Ft.NEGOTIATION,rate:70,averageDuration:120},{fromStage:Ft.NEGOTIATION,toStage:Ft.CLOSED_WON,rate:85,averageDuration:168}];return{deals:e,territories:n,approvalWorkflows:s,winLossReports:o,stageHistory:c,loading:h,createDeal:y,updateDealStage:x,assignTerritory:P,createApprovalWorkflow:I,createWinLossReport:w,getDealMetrics:E,getDealsByStage:F=>e.filter(z=>z.stage===F),getDealsByTerritory:F=>e.filter(z=>z.territoryId===F),getDealsByRep:F=>e.filter(z=>z.assignedTo===F),getStageHistory:F=>c.filter(z=>z.dealId===F).sort((z,V)=>new Date(z.changedAt).getTime()-new Date(V.changedAt).getTime())}}function bS(e,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bS(e,t)}function m7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bS(e,t)}function Qr(e){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(e)}function GZ(e,t){if(Qr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Qr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KZ(e){var t=GZ(e,"string");return Qr(t)=="symbol"?t:t+""}function YZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function GP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(a){YZ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function vi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var KP=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),YP=function(){return Math.random().toString(36).substring(7).split("").join(".")},XP={INIT:"@@redux/INIT"+YP(),REPLACE:"@@redux/REPLACE"+YP()};function XZ(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function p7(e,t,n){var a;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vi(1));return n(p7)(e,t)}if(typeof e!="function")throw new Error(vi(2));var s=e,i=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function h(){if(c)throw new Error(vi(3));return i}function f(y){if(typeof y!="function")throw new Error(vi(4));if(c)throw new Error(vi(5));var x=!0;return u(),l.push(y),function(){if(x){if(c)throw new Error(vi(6));x=!1,u();var b=l.indexOf(y);l.splice(b,1),o=null}}}function p(y){if(!XZ(y))throw new Error(vi(7));if(typeof y.type>"u")throw new Error(vi(8));if(c)throw new Error(vi(9));try{c=!0,i=s(i,y)}finally{c=!1}for(var x=o=l,j=0;j<x.length;j++){var b=x[j];b()}return y}function v(y){if(typeof y!="function")throw new Error(vi(10));s=y,p({type:XP.REPLACE})}function g(){var y,x=f;return y={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(vi(11));function N(){b.next&&b.next(h())}N();var P=x(N);return{unsubscribe:P}}},y[KP]=function(){return this},y}return p({type:XP.INIT}),a={dispatch:p,subscribe:f,getState:h,replaceReducer:v},a[KP]=g,a}function QP(e,t){return function(){return t(e.apply(this,arguments))}}function JP(e,t){if(typeof e=="function")return QP(e,t);if(typeof e!="object"||e===null)throw new Error(vi(16));var n={};for(var a in e){var s=e[a];typeof s=="function"&&(n[a]=QP(s,t))}return n}function v7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(a){return a}:t.length===1?t[0]:t.reduce(function(a,s){return function(){return a(s.apply(void 0,arguments))}})}function QZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){return function(){var s=a.apply(void 0,arguments),i=function(){throw new Error(vi(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return i=v7.apply(void 0,l)(s.dispatch),GP(GP({},s),{},{dispatch:i})}}}var x7=Ne.createContext(null);function JZ(e){e()}var g7=JZ,ZZ=function(t){return g7=t},eee=function(){return g7};function tee(){var e=eee(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],i=t;i;)s.push(i),i=i.next;return s},subscribe:function(s){var i=!0,o=n={callback:s,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var ZP={notify:function(){},get:function(){return[]}};function y7(e,t){var n,a=ZP;function s(f){return c(),a.subscribe(f)}function i(){a.notify()}function o(){h.onStateChange&&h.onStateChange()}function l(){return!!n}function c(){n||(n=t?t.addNestedSub(o):e.subscribe(o),a=tee())}function u(){n&&(n(),n=void 0,a.clear(),a=ZP)}var h={addNestedSub:s,notifyNestedSubs:i,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return a}};return h}var b7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect;function ree(e){var t=e.store,n=e.context,a=e.children,s=S.useMemo(function(){var l=y7(t);return{store:t,subscription:l}},[t]),i=S.useMemo(function(){return t.getState()},[t]);b7(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,i]);var o=n||x7;return Ne.createElement(o.Provider,{value:s},a)}function R0(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var mj={exports:{}},sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function nee(){if(eT)return sn;eT=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,a=e?Symbol.for("react.fragment"):60107,s=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,v=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,x=e?Symbol.for("react.fundamental"):60117,j=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function N(I){if(typeof I=="object"&&I!==null){var w=I.$$typeof;switch(w){case t:switch(I=I.type,I){case c:case u:case a:case i:case s:case f:return I;default:switch(I=I&&I.$$typeof,I){case l:case h:case g:case v:case o:return I;default:return w}}case n:return w}}}function P(I){return N(I)===u}return sn.AsyncMode=c,sn.ConcurrentMode=u,sn.ContextConsumer=l,sn.ContextProvider=o,sn.Element=t,sn.ForwardRef=h,sn.Fragment=a,sn.Lazy=g,sn.Memo=v,sn.Portal=n,sn.Profiler=i,sn.StrictMode=s,sn.Suspense=f,sn.isAsyncMode=function(I){return P(I)||N(I)===c},sn.isConcurrentMode=P,sn.isContextConsumer=function(I){return N(I)===l},sn.isContextProvider=function(I){return N(I)===o},sn.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===t},sn.isForwardRef=function(I){return N(I)===h},sn.isFragment=function(I){return N(I)===a},sn.isLazy=function(I){return N(I)===g},sn.isMemo=function(I){return N(I)===v},sn.isPortal=function(I){return N(I)===n},sn.isProfiler=function(I){return N(I)===i},sn.isStrictMode=function(I){return N(I)===s},sn.isSuspense=function(I){return N(I)===f},sn.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===a||I===u||I===i||I===s||I===f||I===p||typeof I=="object"&&I!==null&&(I.$$typeof===g||I.$$typeof===v||I.$$typeof===o||I.$$typeof===l||I.$$typeof===h||I.$$typeof===x||I.$$typeof===j||I.$$typeof===b||I.$$typeof===y)},sn.typeOf=N,sn}var tT;function aee(){return tT||(tT=1,mj.exports=nee()),mj.exports}var pj,rT;function see(){if(rT)return pj;rT=1;var e=aee(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=a,i[e.Memo]=s;function o(g){return e.isMemo(g)?s:i[g.$$typeof]||t}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;function v(g,y,x){if(typeof y!="string"){if(p){var j=f(y);j&&j!==p&&v(g,j,x)}var b=c(y);u&&(b=b.concat(u(y)));for(var N=o(g),P=o(y),I=0;I<b.length;++I){var w=b[I];if(!n[w]&&!(x&&x[w])&&!(P&&P[w])&&!(N&&N[w])){var E=h(y,w);try{l(g,w,E)}catch{}}}}return g}return pj=v,pj}var iee=see();const nT=rn(iee);var vj={exports:{}},fn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function oee(){if(aT)return fn;aT=1;var e=60103,t=60106,n=60107,a=60108,s=60114,i=60109,o=60110,l=60112,c=60113,u=60120,h=60115,f=60116,p=60121,v=60122,g=60117,y=60129,x=60131;if(typeof Symbol=="function"&&Symbol.for){var j=Symbol.for;e=j("react.element"),t=j("react.portal"),n=j("react.fragment"),a=j("react.strict_mode"),s=j("react.profiler"),i=j("react.provider"),o=j("react.context"),l=j("react.forward_ref"),c=j("react.suspense"),u=j("react.suspense_list"),h=j("react.memo"),f=j("react.lazy"),p=j("react.block"),v=j("react.server.block"),g=j("react.fundamental"),y=j("react.debug_trace_mode"),x=j("react.legacy_hidden")}function b(R){if(typeof R=="object"&&R!==null){var F=R.$$typeof;switch(F){case e:switch(R=R.type,R){case n:case s:case a:case c:case u:return R;default:switch(R=R&&R.$$typeof,R){case o:case l:case f:case h:case i:return R;default:return F}}case t:return F}}}var N=i,P=e,I=l,w=n,E=f,C=h,_=t,M=s,k=a,D=c;return fn.ContextConsumer=o,fn.ContextProvider=N,fn.Element=P,fn.ForwardRef=I,fn.Fragment=w,fn.Lazy=E,fn.Memo=C,fn.Portal=_,fn.Profiler=M,fn.StrictMode=k,fn.Suspense=D,fn.isAsyncMode=function(){return!1},fn.isConcurrentMode=function(){return!1},fn.isContextConsumer=function(R){return b(R)===o},fn.isContextProvider=function(R){return b(R)===i},fn.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},fn.isForwardRef=function(R){return b(R)===l},fn.isFragment=function(R){return b(R)===n},fn.isLazy=function(R){return b(R)===f},fn.isMemo=function(R){return b(R)===h},fn.isPortal=function(R){return b(R)===t},fn.isProfiler=function(R){return b(R)===s},fn.isStrictMode=function(R){return b(R)===a},fn.isSuspense=function(R){return b(R)===c},fn.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===s||R===y||R===a||R===c||R===u||R===x||typeof R=="object"&&R!==null&&(R.$$typeof===f||R.$$typeof===h||R.$$typeof===i||R.$$typeof===o||R.$$typeof===l||R.$$typeof===g||R.$$typeof===p||R[0]===v)},fn.typeOf=b,fn}var sT;function lee(){return sT||(sT=1,vj.exports=oee()),vj.exports}var cee=lee(),uee=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],dee=["reactReduxForwardedRef"],fee=[],hee=[null,null];function mee(e,t){var n=e[1];return[t.payload,n+1]}function iT(e,t,n){b7(function(){return e.apply(void 0,t)},n)}function pee(e,t,n,a,s,i,o){e.current=a,t.current=s,n.current=!1,i.current&&(i.current=null,o())}function vee(e,t,n,a,s,i,o,l,c,u){if(e){var h=!1,f=null,p=function(){if(!h){var y=t.getState(),x,j;try{x=a(y,s.current)}catch(b){j=b,f=b}j||(f=null),x===i.current?o.current||c():(i.current=x,l.current=x,o.current=!0,u({type:"STORE_UPDATED",payload:{error:j}}))}};n.onStateChange=p,n.trySubscribe(),p();var v=function(){if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f};return v}}var xee=function(){return[null,0]};function gee(e,t){t===void 0&&(t={});var n=t,a=n.getDisplayName,s=a===void 0?function(N){return"ConnectAdvanced("+N+")"}:a,i=n.methodName,o=i===void 0?"connectAdvanced":i,l=n.renderCountProp,c=l===void 0?void 0:l,u=n.shouldHandleStateChanges,h=u===void 0?!0:u,f=n.storeKey,p=f===void 0?"store":f;n.withRef;var v=n.forwardRef,g=v===void 0?!1:v,y=n.context,x=y===void 0?x7:y,j=R0(n,uee),b=x;return function(P){var I=P.displayName||P.name||"Component",w=s(I),E=yt({},j,{getDisplayName:s,methodName:o,renderCountProp:c,shouldHandleStateChanges:h,storeKey:p,displayName:w,wrappedComponentName:I,WrappedComponent:P}),C=j.pure;function _(F){return e(F.dispatch,E)}var M=C?S.useMemo:function(F){return F()};function k(F){var z=S.useMemo(function(){var Ue=F.reactReduxForwardedRef,ct=R0(F,dee);return[F.context,Ue,ct]},[F]),V=z[0],B=z[1],H=z[2],G=S.useMemo(function(){return V&&V.Consumer&&cee.isContextConsumer(Ne.createElement(V.Consumer,null))?V:b},[V,b]),Z=S.useContext(G),Q=!!F.store&&!!F.store.getState&&!!F.store.dispatch;Z&&Z.store;var $=Q?F.store:Z.store,K=S.useMemo(function(){return _($)},[$]),te=S.useMemo(function(){if(!h)return hee;var Ue=y7($,Q?null:Z.subscription),ct=Ue.notifyNestedSubs.bind(Ue);return[Ue,ct]},[$,Q,Z]),se=te[0],oe=te[1],me=S.useMemo(function(){return Q?Z:yt({},Z,{subscription:se})},[Q,Z,se]),ve=S.useReducer(mee,fee,xee),pe=ve[0],we=pe[0],Se=ve[1];if(we&&we.error)throw we.error;var Ce=S.useRef(),ze=S.useRef(H),He=S.useRef(),ge=S.useRef(!1),le=M(function(){return He.current&&H===ze.current?He.current:K($.getState(),H)},[$,we,H]);iT(pee,[ze,Ce,ge,H,le,He,oe]),iT(vee,[h,$,se,K,ze,Ce,ge,He,oe,Se],[$,se,K]);var st=S.useMemo(function(){return Ne.createElement(P,yt({},le,{ref:B}))},[B,P,le]),Ie=S.useMemo(function(){return h?Ne.createElement(G.Provider,{value:me},st):st},[G,st,me]);return Ie}var D=C?Ne.memo(k):k;if(D.WrappedComponent=P,D.displayName=k.displayName=w,g){var R=Ne.forwardRef(function(z,V){return Ne.createElement(D,yt({},z,{reactReduxForwardedRef:V}))});return R.displayName=w,R.WrappedComponent=P,nT(R,P)}return nT(D,P)}}function oT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xj(e,t){if(oT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!oT(e[n[s]],t[n[s]]))return!1;return!0}function yee(e,t){var n={},a=function(o){var l=e[o];typeof l=="function"&&(n[o]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)a(s);return n}function BA(e){return function(n,a){var s=e(n,a);function i(){return s}return i.dependsOnOwnProps=!1,i}}function lT(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function j7(e,t){return function(a,s){s.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=lT(e);var u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=lT(u),u=i(l,c)),u},i}}function bee(e){return typeof e=="function"?j7(e):void 0}function jee(e){return e?void 0:BA(function(t){return{dispatch:t}})}function wee(e){return e&&typeof e=="object"?BA(function(t){return yee(e,t)}):void 0}const Nee=[bee,jee,wee];function See(e){return typeof e=="function"?j7(e):void 0}function Cee(e){return e?void 0:BA(function(){return{}})}const Aee=[See,Cee];function Eee(e,t,n){return yt({},n,e,t)}function Pee(e){return function(n,a){a.displayName;var s=a.pure,i=a.areMergedPropsEqual,o=!1,l;return function(u,h,f){var p=e(u,h,f);return o?(!s||!i(p,l))&&(l=p):(o=!0,l=p),l}}}function Tee(e){return typeof e=="function"?Pee(e):void 0}function Iee(e){return e?void 0:function(){return Eee}}const Dee=[Tee,Iee];var _ee=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function kee(e,t,n,a){return function(i,o){return n(e(i,o),t(a,o),o)}}function Oee(e,t,n,a,s){var i=s.areStatesEqual,o=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,u,h,f,p,v;function g(N,P){return u=N,h=P,f=e(u,h),p=t(a,h),v=n(f,p,h),c=!0,v}function y(){return f=e(u,h),t.dependsOnOwnProps&&(p=t(a,h)),v=n(f,p,h),v}function x(){return e.dependsOnOwnProps&&(f=e(u,h)),t.dependsOnOwnProps&&(p=t(a,h)),v=n(f,p,h),v}function j(){var N=e(u,h),P=!l(N,f);return f=N,P&&(v=n(f,p,h)),v}function b(N,P){var I=!o(P,h),w=!i(N,u,P,h);return u=N,h=P,I&&w?y():I?x():w?j():v}return function(P,I){return c?b(P,I):g(P,I)}}function Ree(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,s=t.initMergeProps,i=R0(t,_ee),o=n(e,i),l=a(e,i),c=s(e,i),u=i.pure?Oee:kee;return u(o,l,c,e,i)}var Lee=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function gj(e,t,n){for(var a=t.length-1;a>=0;a--){var s=t[a](e);if(s)return s}return function(i,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function Fee(e,t){return e===t}function Mee(e){var t=e===void 0?{}:e,n=t.connectHOC,a=n===void 0?gee:n,s=t.mapStateToPropsFactories,i=s===void 0?Aee:s,o=t.mapDispatchToPropsFactories,l=o===void 0?Nee:o,c=t.mergePropsFactories,u=c===void 0?Dee:c,h=t.selectorFactory,f=h===void 0?Ree:h;return function(v,g,y,x){x===void 0&&(x={});var j=x,b=j.pure,N=b===void 0?!0:b,P=j.areStatesEqual,I=P===void 0?Fee:P,w=j.areOwnPropsEqual,E=w===void 0?xj:w,C=j.areStatePropsEqual,_=C===void 0?xj:C,M=j.areMergedPropsEqual,k=M===void 0?xj:M,D=R0(j,Lee),R=gj(v,i,"mapStateToProps"),F=gj(g,l,"mapDispatchToProps"),z=gj(y,u,"mergeProps");return a(f,yt({methodName:"connect",getDisplayName:function(B){return"Connect("+B+")"},shouldHandleStateChanges:!!v,initMapStateToProps:R,initMapDispatchToProps:F,initMergeProps:z,pure:N,areStatesEqual:I,areOwnPropsEqual:E,areStatePropsEqual:_,areMergedPropsEqual:k},D))}}const w7=Mee();ZZ(pu.unstable_batchedUpdates);function $ee(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function N7(e,t){var n=S.useState(function(){return{inputs:t,result:e()}})[0],a=S.useRef(!0),s=S.useRef(n),i=a.current||!!(t&&s.current.inputs&&$ee(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return S.useEffect(function(){a.current=!1,s.current=o},[o]),o.result}function Bee(e,t){return N7(function(){return e},t)}var Wr=N7,Jt=Bee,qee="Invariant failed";function Md(e,t){throw new Error(qee)}var hl=function(t){var n=t.top,a=t.right,s=t.bottom,i=t.left,o=a-i,l=s-n,c={top:n,right:a,bottom:s,left:i,width:o,height:l,x:i,y:n,center:{x:(a+i)/2,y:(s+n)/2}};return c},qA=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},cT=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},zee=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},yj={top:0,right:0,bottom:0,left:0},zA=function(t){var n=t.borderBox,a=t.margin,s=a===void 0?yj:a,i=t.border,o=i===void 0?yj:i,l=t.padding,c=l===void 0?yj:l,u=hl(qA(n,s)),h=hl(cT(n,o)),f=hl(cT(h,c));return{marginBox:u,borderBox:hl(n),paddingBox:h,contentBox:f,margin:s,border:o,padding:c}},vo=function(t){var n=t.slice(0,-2),a=t.slice(-2);if(a!=="px")return 0;var s=Number(n);return isNaN(s)&&Md(),s},Uee=function(){return{x:window.pageXOffset,y:window.pageYOffset}},L0=function(t,n){var a=t.borderBox,s=t.border,i=t.margin,o=t.padding,l=zee(a,n);return zA({borderBox:l,border:s,margin:i,padding:o})},F0=function(t,n){return n===void 0&&(n=Uee()),L0(t,n)},S7=function(t,n){var a={top:vo(n.marginTop),right:vo(n.marginRight),bottom:vo(n.marginBottom),left:vo(n.marginLeft)},s={top:vo(n.paddingTop),right:vo(n.paddingRight),bottom:vo(n.paddingBottom),left:vo(n.paddingLeft)},i={top:vo(n.borderTopWidth),right:vo(n.borderRightWidth),bottom:vo(n.borderBottomWidth),left:vo(n.borderLeftWidth)};return zA({borderBox:t,margin:a,padding:s,border:i})},C7=function(t){var n=t.getBoundingClientRect(),a=window.getComputedStyle(t);return S7(n,a)},uT=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Vee(e,t){return!!(e===t||uT(e)&&uT(t))}function Wee(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Vee(e[n],t[n]))return!1;return!0}function Xa(e,t){t===void 0&&(t=Wee);var n,a=[],s,i=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&n===this&&t(l,a)||(s=e.apply(this,l),i=!0,n=this,a=l),s}return o}var Fv=function(t){var n=[],a=null,s=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];n=l,!a&&(a=requestAnimationFrame(function(){a=null,t.apply(void 0,n)}))};return s.cancel=function(){a&&(cancelAnimationFrame(a),a=null)},s};function A7(e,t){}A7.bind(null,"warn");A7.bind(null,"error");function Pd(){}function Hee(e,t){return yt({},e,{},t)}function So(e,t,n){var a=t.map(function(s){var i=Hee(n,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){a.forEach(function(i){i()})}}var Gee="Invariant failed";function M0(e){this.message=e}M0.prototype.toString=function(){return this.message};function Nt(e,t){throw new M0(Gee)}var Kee=function(e){m7(t,e);function t(){for(var a,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,a.callbacks=null,a.unbind=Pd,a.onWindowError=function(l){var c=a.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof M0&&l.preventDefault()},a.getCallbacks=function(){if(!a.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return a.callbacks},a.setCallbacks=function(l){a.callbacks=l},a}var n=t.prototype;return n.componentDidMount=function(){this.unbind=So(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(s){if(s instanceof M0){this.setState({});return}throw s},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(Ne.Component),Yee=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,$0=function(t){return t+1},Xee=function(t){return`
  You have lifted an item in position `+$0(t.source.index)+`
`},E7=function(t,n){var a=t.droppableId===n.droppableId,s=$0(t.index),i=$0(n.index);return a?`
      You have moved the item from position `+s+`
      to position `+i+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+n.droppableId+`
    in position `+i+`
  `},P7=function(t,n,a){var s=n.droppableId===a.droppableId;return s?`
      The item `+t+`
      has been combined with `+a.draggableId:`
      The item `+t+`
      in list `+n.droppableId+`
      has been combined with `+a.draggableId+`
      in list `+a.droppableId+`
    `},Qee=function(t){var n=t.destination;if(n)return E7(t.source,n);var a=t.combine;return a?P7(t.draggableId,t.source,a):"You are over an area that cannot be dropped on"},dT=function(t){return`
  The item has returned to its starting position
  of `+$0(t.index)+`
`},Jee=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+dT(t.source)+`
    `;var n=t.destination,a=t.combine;return n?`
      You have dropped the item.
      `+E7(t.source,n)+`
    `:a?`
      You have dropped the item.
      `+P7(t.draggableId,t.source,a)+`
    `:`
    The item has been dropped while not over a drop area.
    `+dT(t.source)+`
  `},v0={dragHandleUsageInstructions:Yee,onDragStart:Xee,onDragUpdate:Qee,onDragEnd:Jee},Qa={x:0,y:0},us=function(t,n){return{x:t.x+n.x,y:t.y+n.y}},Wi=function(t,n){return{x:t.x-n.x,y:t.y-n.y}},Td=function(t,n){return t.x===n.x&&t.y===n.y},pp=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},lh=function(t,n,a){var s;return a===void 0&&(a=0),s={},s[t]=n,s[t==="x"?"y":"x"]=a,s},Mv=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},fT=function(t,n){return Math.min.apply(Math,n.map(function(a){return Mv(t,a)}))},T7=function(t){return function(n){return{x:t(n.x),y:t(n.y)}}},Zee=function(e,t){var n=hl({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n},Rx=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},hT=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},ete={top:0,right:0,bottom:0,left:0},tte=function(t,n){return n?Rx(t,n.scroll.diff.displacement):t},rte=function(t,n,a){if(a&&a.increasedBy){var s;return yt({},t,(s={},s[n.end]=t[n.end]+a.increasedBy[n.line],s))}return t},nte=function(t,n){return n&&n.shouldClipSubject?Zee(n.pageMarginBox,t):hl(t)},Dm=function(e){var t=e.page,n=e.withPlaceholder,a=e.axis,s=e.frame,i=tte(t.marginBox,s),o=rte(i,a,n),l=nte(o,s);return{page:t,withPlaceholder:n,active:l}},UA=function(e,t){e.frame||Nt();var n=e.frame,a=Wi(t,n.scroll.initial),s=pp(a),i=yt({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:a,displacement:s},max:n.scroll.max}}),o=Dm({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),l=yt({},e,{frame:i,subject:o});return l};function B0(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function VA(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function Vd(e,t){if(e.find)return e.find(t);var n=VA(e,t);if(n!==-1)return e[n]}function I7(e){return Array.prototype.slice.call(e)}var D7=Xa(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),_7=Xa(function(e){return e.reduce(function(t,n){return t[n.descriptor.id]=n,t},{})}),ib=Xa(function(e){return B0(e)}),ate=Xa(function(e){return B0(e)}),vp=Xa(function(e,t){var n=ate(t).filter(function(a){return e===a.descriptor.droppableId}).sort(function(a,s){return a.descriptor.index-s.descriptor.index});return n});function WA(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ob(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var lb=Xa(function(e,t){return t.filter(function(n){return n.descriptor.id!==e.descriptor.id})}),ste=function(e){var t=e.isMovingForward,n=e.draggable,a=e.destination,s=e.insideDestination,i=e.previousImpact;if(!a.isCombineEnabled)return null;var o=WA(i);if(!o)return null;function l(y){var x={type:"COMBINE",combine:{draggableId:y,droppableId:a.descriptor.id}};return yt({},i,{at:x})}var c=i.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var h=lb(n,s);if(!u){if(!h.length)return null;var f=h[h.length-1];return l(f.descriptor.id)}var p=VA(h,function(y){return y.descriptor.id===u});p===-1&&Nt();var v=p-1;if(v<0)return null;var g=h[v];return l(g.descriptor.id)},xp=function(e,t){return e.descriptor.droppableId===t.descriptor.id},k7={point:Qa,value:0},$v={invisible:{},visible:{},all:[]},ite={displaced:$v,displacedBy:k7,at:null},Eo=function(e,t){return function(n){return e<=n&&n<=t}},O7=function(e){var t=Eo(e.top,e.bottom),n=Eo(e.left,e.right);return function(a){var s=t(a.top)&&t(a.bottom)&&n(a.left)&&n(a.right);if(s)return!0;var i=t(a.top)||t(a.bottom),o=n(a.left)||n(a.right),l=i&&o;if(l)return!0;var c=a.top<e.top&&a.bottom>e.bottom,u=a.left<e.left&&a.right>e.right,h=c&&u;if(h)return!0;var f=c&&o||u&&i;return f}},ote=function(e){var t=Eo(e.top,e.bottom),n=Eo(e.left,e.right);return function(a){var s=t(a.top)&&t(a.bottom)&&n(a.left)&&n(a.right);return s}},HA={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},R7={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},lte=function(e){return function(t){var n=Eo(t.top,t.bottom),a=Eo(t.left,t.right);return function(s){return e===HA?n(s.top)&&n(s.bottom):a(s.left)&&a(s.right)}}},cte=function(t,n){var a=n.frame?n.frame.scroll.diff.displacement:Qa;return Rx(t,a)},ute=function(t,n,a){return n.subject.active?a(n.subject.active)(t):!1},dte=function(t,n,a){return a(n)(t)},GA=function(t){var n=t.target,a=t.destination,s=t.viewport,i=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=i?cte(n,a):n;return ute(l,a,o)&&dte(l,s,o)},fte=function(t){return GA(yt({},t,{isVisibleThroughFrameFn:O7}))},L7=function(t){return GA(yt({},t,{isVisibleThroughFrameFn:ote}))},hte=function(t){return GA(yt({},t,{isVisibleThroughFrameFn:lte(t.destination.axis)}))},mte=function(t,n,a){if(typeof a=="boolean")return a;if(!n)return!0;var s=n.invisible,i=n.visible;if(s[t])return!1;var o=i[t];return o?o.shouldAnimate:!0};function pte(e,t){var n=e.page.marginBox,a={top:t.point.y,right:0,bottom:0,left:t.point.x};return hl(qA(n,a))}function Bv(e){var t=e.afterDragging,n=e.destination,a=e.displacedBy,s=e.viewport,i=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,u){var h=pte(u,a),f=u.descriptor.id;c.all.push(f);var p=fte({target:h,destination:n,viewport:s,withDroppableDisplacement:!0});if(!p)return c.invisible[u.descriptor.id]=!0,c;var v=mte(f,o,i),g={draggableId:f,shouldAnimate:v};return c.visible[f]=g,c},{all:[],visible:{},invisible:{}})}function vte(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function mT(e){var t=e.insideDestination,n=e.inHomeList,a=e.displacedBy,s=e.destination,i=vte(t,{inHomeList:n});return{displaced:$v,displacedBy:a,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function q0(e){var t=e.draggable,n=e.insideDestination,a=e.destination,s=e.viewport,i=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,u=xp(t,a);if(l==null)return mT({insideDestination:n,inHomeList:u,displacedBy:i,destination:a});var h=Vd(n,function(y){return y.descriptor.index===l});if(!h)return mT({insideDestination:n,inHomeList:u,displacedBy:i,destination:a});var f=lb(t,n),p=n.indexOf(h),v=f.slice(p),g=Bv({afterDragging:v,destination:a,displacedBy:i,last:o,viewport:s.frame,forceShouldAnimate:c});return{displaced:g,displacedBy:i,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:l}}}}function $d(e,t){return!!t.effected[e]}var xte=function(e){var t=e.isMovingForward,n=e.destination,a=e.draggables,s=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=s.draggableId,l=a[o],c=l.descriptor.index,u=$d(o,i);return u?t?c:c-1:t?c+1:c},gte=function(e){var t=e.isMovingForward,n=e.isInHomeList,a=e.insideDestination,s=e.location;if(!a.length)return null;var i=s.index,o=t?i+1:i-1,l=a[0].descriptor.index,c=a[a.length-1].descriptor.index,u=n?c:c+1;return o<l||o>u?null:o},yte=function(e){var t=e.isMovingForward,n=e.isInHomeList,a=e.draggable,s=e.draggables,i=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,h=l.at;if(h||Nt(),h.type==="REORDER"){var f=gte({isMovingForward:t,isInHomeList:n,location:h.destination,insideDestination:o});return f==null?null:q0({draggable:a,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var p=xte({isMovingForward:t,destination:i,displaced:l.displaced,draggables:s,combine:h.combine,afterCritical:u});return p==null?null:q0({draggable:a,insideDestination:o,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:p})},bte=function(e){var t=e.displaced,n=e.afterCritical,a=e.combineWith,s=e.displacedBy,i=!!(t.visible[a]||t.invisible[a]);return $d(a,n)?i?Qa:pp(s.point):i?s.point:Qa},jte=function(e){var t=e.afterCritical,n=e.impact,a=e.draggables,s=ob(n);s||Nt();var i=s.draggableId,o=a[i].page.borderBox.center,l=bte({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return us(o,l)},F7=function(t,n){return n.margin[t.start]+n.borderBox[t.size]/2},wte=function(t,n){return n.margin[t.end]+n.borderBox[t.size]/2},KA=function(t,n,a){return n[t.crossAxisStart]+a.margin[t.crossAxisStart]+a.borderBox[t.crossAxisSize]/2},pT=function(t){var n=t.axis,a=t.moveRelativeTo,s=t.isMoving;return lh(n.line,a.marginBox[n.end]+F7(n,s),KA(n,a.marginBox,s))},vT=function(t){var n=t.axis,a=t.moveRelativeTo,s=t.isMoving;return lh(n.line,a.marginBox[n.start]-wte(n,s),KA(n,a.marginBox,s))},Nte=function(t){var n=t.axis,a=t.moveInto,s=t.isMoving;return lh(n.line,a.contentBox[n.start]+F7(n,s),KA(n,a.contentBox,s))},Ste=function(e){var t=e.impact,n=e.draggable,a=e.draggables,s=e.droppable,i=e.afterCritical,o=vp(s.descriptor.id,a),l=n.page,c=s.axis;if(!o.length)return Nte({axis:c,moveInto:s.page,isMoving:l});var u=t.displaced,h=t.displacedBy,f=u.all[0];if(f){var p=a[f];if($d(f,i))return vT({axis:c,moveRelativeTo:p.page,isMoving:l});var v=L0(p.page,h.point);return vT({axis:c,moveRelativeTo:v,isMoving:l})}var g=o[o.length-1];if(g.descriptor.id===n.descriptor.id)return l.borderBox.center;if($d(g.descriptor.id,i)){var y=L0(g.page,pp(i.displacedBy.point));return pT({axis:c,moveRelativeTo:y,isMoving:l})}return pT({axis:c,moveRelativeTo:g.page,isMoving:l})},jS=function(e,t){var n=e.frame;return n?us(t,n.scroll.diff.displacement):t},Cte=function(t){var n=t.impact,a=t.draggable,s=t.droppable,i=t.draggables,o=t.afterCritical,l=a.page.borderBox.center,c=n.at;return!s||!c?l:c.type==="REORDER"?Ste({impact:n,draggable:a,draggables:i,droppable:s,afterCritical:o}):jte({impact:n,draggables:i,afterCritical:o})},cb=function(e){var t=Cte(e),n=e.droppable,a=n?jS(n,t):t;return a},M7=function(e,t){var n=Wi(t,e.scroll.initial),a=pp(n),s=hl({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:a}}};return i};function xT(e,t){return e.map(function(n){return t[n]})}function Ate(e,t){for(var n=0;n<t.length;n++){var a=t[n].visible[e];if(a)return a}return null}var Ete=function(e){var t=e.impact,n=e.viewport,a=e.destination,s=e.draggables,i=e.maxScrollChange,o=M7(n,us(n.scroll.current,i)),l=a.frame?UA(a,us(a.frame.scroll.current,i)):a,c=t.displaced,u=Bv({afterDragging:xT(c.all,s),destination:a,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),h=Bv({afterDragging:xT(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),f={},p={},v=[c,u,h];c.all.forEach(function(y){var x=Ate(y,v);if(x){p[y]=x;return}f[y]=!0});var g=yt({},t,{displaced:{all:c.all,invisible:f,visible:p}});return g},Pte=function(e,t){return us(e.scroll.diff.displacement,t)},YA=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,a=e.viewport,s=Pte(a,t),i=Wi(s,n.page.borderBox.center);return us(n.client.borderBox.center,i)},$7=function(e){var t=e.draggable,n=e.destination,a=e.newPageBorderBoxCenter,s=e.viewport,i=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=Wi(a,t.page.borderBox.center),u=Rx(t.page.borderBox,c),h={target:u,destination:n,withDroppableDisplacement:i,viewport:s};return l?hte(h):L7(h)},Tte=function(e){var t=e.isMovingForward,n=e.draggable,a=e.destination,s=e.draggables,i=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!a.isEnabled)return null;var h=vp(a.descriptor.id,s),f=xp(n,a),p=ste({isMovingForward:t,draggable:n,destination:a,insideDestination:h,previousImpact:i})||yte({isMovingForward:t,isInHomeList:f,draggable:n,draggables:s,destination:a,insideDestination:h,previousImpact:i,viewport:o,afterCritical:u});if(!p)return null;var v=cb({impact:p,draggable:n,droppable:a,draggables:s,afterCritical:u}),g=$7({draggable:n,destination:a,newPageBorderBoxCenter:v,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var y=YA({pageBorderBoxCenter:v,draggable:n,viewport:o});return{clientSelection:y,impact:p,scrollJumpRequest:null}}var x=Wi(v,l),j=Ete({impact:p,viewport:o,destination:a,draggables:s,maxScrollChange:x});return{clientSelection:c,impact:j,scrollJumpRequest:x}},Ys=function(t){var n=t.subject.active;return n||Nt(),n},Ite=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,a=e.source,s=e.droppables,i=e.viewport,o=a.subject.active;if(!o)return null;var l=a.axis,c=Eo(o[l.start],o[l.end]),u=ib(s).filter(function(f){return f!==a}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return O7(i.frame)(Ys(f))}).filter(function(f){var p=Ys(f);return t?o[l.crossAxisEnd]<p[l.crossAxisEnd]:p[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(f){var p=Ys(f),v=Eo(p[l.start],p[l.end]);return c(p[l.start])||c(p[l.end])||v(o[l.start])||v(o[l.end])}).sort(function(f,p){var v=Ys(f)[l.crossAxisStart],g=Ys(p)[l.crossAxisStart];return t?v-g:g-v}).filter(function(f,p,v){return Ys(f)[l.crossAxisStart]===Ys(v[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var h=u.filter(function(f){var p=Eo(Ys(f)[l.start],Ys(f)[l.end]);return p(n[l.line])});return h.length===1?h[0]:h.length>1?h.sort(function(f,p){return Ys(f)[l.start]-Ys(p)[l.start]})[0]:u.sort(function(f,p){var v=fT(n,hT(Ys(f))),g=fT(n,hT(Ys(p)));return v!==g?v-g:Ys(f)[l.start]-Ys(p)[l.start]})[0]},gT=function(t,n){var a=t.page.borderBox.center;return $d(t.descriptor.id,n)?Wi(a,n.displacedBy.point):a},Dte=function(t,n){var a=t.page.borderBox;return $d(t.descriptor.id,n)?Rx(a,pp(n.displacedBy.point)):a},_te=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,a=e.destination,s=e.insideDestination,i=e.afterCritical,o=s.filter(function(l){return L7({target:Dte(l,i),destination:a,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=Mv(t,jS(a,gT(l,i))),h=Mv(t,jS(a,gT(c,i)));return u<h?-1:h<u?1:l.descriptor.index-c.descriptor.index});return o[0]||null},Lx=Xa(function(t,n){var a=n[t.line];return{value:a,point:lh(t.line,a)}}),kte=function(t,n,a){var s=t.axis;if(t.descriptor.mode==="virtual")return lh(s.line,n[s.line]);var i=t.subject.page.contentBox[s.size],o=vp(t.descriptor.id,a),l=o.reduce(function(h,f){return h+f.client.marginBox[s.size]},0),c=l+n[s.line],u=c-i;return u<=0?null:lh(s.line,u)},B7=function(t,n){return yt({},t,{scroll:yt({},t.scroll,{max:n})})},q7=function(t,n,a){var s=t.frame;xp(n,t)&&Nt(),t.subject.withPlaceholder&&Nt();var i=Lx(t.axis,n.displaceBy).point,o=kte(t,i,a),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=Dm({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return yt({},t,{subject:c})}var u=o?us(s.scroll.max,o):s.scroll.max,h=B7(s,u),f=Dm({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:h});return yt({},t,{subject:f,frame:h})},Ote=function(t){var n=t.subject.withPlaceholder;n||Nt();var a=t.frame;if(!a){var s=Dm({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return yt({},t,{subject:s})}var i=n.oldFrameMaxScroll;i||Nt();var o=B7(a,i),l=Dm({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return yt({},t,{subject:l,frame:o})},Rte=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,a=e.insideDestination,s=e.draggable,i=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!n){if(a.length)return null;var u={displaced:$v,displacedBy:k7,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},h=cb({impact:u,draggable:s,droppable:o,draggables:i,afterCritical:c}),f=xp(s,o)?o:q7(o,s,i),p=$7({draggable:s,destination:f,newPageBorderBoxCenter:h,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?u:null}var v=t[o.axis.line]<=n.page.borderBox.center[o.axis.line],g=function(){var x=n.descriptor.index;return n.descriptor.id===s.descriptor.id||v?x:x+1}(),y=Lx(o.axis,s.displaceBy);return q0({draggable:s,insideDestination:a,destination:o,viewport:l,displacedBy:y,last:$v,index:g})},Lte=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,a=e.draggable,s=e.isOver,i=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,u=Ite({isMovingForward:t,pageBorderBoxCenter:n,source:s,droppables:o,viewport:l});if(!u)return null;var h=vp(u.descriptor.id,i),f=_te({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:h,afterCritical:c}),p=Rte({previousPageBorderBoxCenter:n,destination:u,draggable:a,draggables:i,moveRelativeTo:f,insideDestination:h,viewport:l,afterCritical:c});if(!p)return null;var v=cb({impact:p,draggable:a,droppable:u,draggables:i,afterCritical:c}),g=YA({pageBorderBoxCenter:v,draggable:a,viewport:l});return{clientSelection:g,impact:p,scrollJumpRequest:null}},Ki=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Fte=function(t,n){var a=Ki(t);return a?n[a]:null},Mte=function(e){var t=e.state,n=e.type,a=Fte(t.impact,t.dimensions.droppables),s=!!a,i=t.dimensions.droppables[t.critical.droppable.id],o=a||i,l=o.axis.direction,c=l==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||l==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(c&&!s)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",h=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,p=t.dimensions,v=p.draggables,g=p.droppables;return c?Tte({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:h,destination:o,draggables:v,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Lte({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:h,isOver:o,draggables:v,droppables:g,viewport:t.viewport,afterCritical:t.afterCritical})};function Df(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function z7(e){var t=Eo(e.top,e.bottom),n=Eo(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function $te(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Bte(e){var t=e.pageBorderBox,n=e.draggable,a=e.candidates,s=n.page.borderBox.center,i=a.map(function(o){var l=o.axis,c=lh(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Mv(s,c)}}).sort(function(o,l){return l.distance-o.distance});return i[0]?i[0].id:null}function qte(e){var t=e.pageBorderBox,n=e.draggable,a=e.droppables,s=ib(a).filter(function(i){if(!i.isEnabled)return!1;var o=i.subject.active;if(!o||!$te(t,o))return!1;if(z7(o)(t.center))return!0;var l=i.axis,c=o.center[l.crossAxisLine],u=t[l.crossAxisStart],h=t[l.crossAxisEnd],f=Eo(o[l.crossAxisStart],o[l.crossAxisEnd]),p=f(u),v=f(h);return!p&&!v?!0:p?u<c:h>c});return s.length?s.length===1?s[0].descriptor.id:Bte({pageBorderBox:t,draggable:n,candidates:s}):null}var U7=function(t,n){return hl(Rx(t,n))},zte=function(e,t){var n=e.frame;return n?U7(t,n.scroll.diff.value):t};function V7(e){var t=e.displaced,n=e.id;return!!(t.visible[n]||t.invisible[n])}function Ute(e){var t=e.draggable,n=e.closest,a=e.inHomeList;return n?a&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var Vte=function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,a=e.destination,s=e.insideDestination,i=e.last,o=e.viewport,l=e.afterCritical,c=a.axis,u=Lx(a.axis,n.displaceBy),h=u.value,f=t[c.start],p=t[c.end],v=lb(n,s),g=Vd(v,function(x){var j=x.descriptor.id,b=x.page.borderBox.center[c.line],N=$d(j,l),P=V7({displaced:i,id:j});return N?P?p<=b:f<b-h:P?p<=b+h:f<b}),y=Ute({draggable:n,closest:g,inHomeList:xp(n,a)});return q0({draggable:n,insideDestination:s,destination:a,viewport:o,last:i,displacedBy:u,index:y})},Wte=4,Hte=function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,a=e.previousImpact,s=e.destination,i=e.insideDestination,o=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Lx(s.axis,t.displaceBy),u=c.value,h=n[l.start],f=n[l.end],p=lb(t,i),v=Vd(p,function(y){var x=y.descriptor.id,j=y.page.borderBox,b=j[l.size],N=b/Wte,P=$d(x,o),I=V7({displaced:a.displaced,id:x});return P?I?f>j[l.start]+N&&f<j[l.end]-N:h>j[l.start]-u+N&&h<j[l.end]-u-N:I?f>j[l.start]+u+N&&f<j[l.end]+u-N:h>j[l.start]+N&&h<j[l.end]-N});if(!v)return null;var g={displacedBy:c,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:v.descriptor.id,droppableId:s.descriptor.id}}};return g},W7=function(e){var t=e.pageOffset,n=e.draggable,a=e.draggables,s=e.droppables,i=e.previousImpact,o=e.viewport,l=e.afterCritical,c=U7(n.page.borderBox,t),u=qte({pageBorderBox:c,draggable:n,droppables:s});if(!u)return ite;var h=s[u],f=vp(h.descriptor.id,a),p=zte(h,c);return Hte({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:h,insideDestination:f,afterCritical:l})||Vte({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:h,insideDestination:f,last:i.displaced,viewport:o,afterCritical:l})},XA=function(e,t){var n;return yt({},e,(n={},n[t.descriptor.id]=t,n))},Gte=function(t){var n=t.previousImpact,a=t.impact,s=t.droppables,i=Ki(n),o=Ki(a);if(!i||i===o)return s;var l=s[i];if(!l.subject.withPlaceholder)return s;var c=Ote(l);return XA(s,c)},Kte=function(e){var t=e.draggable,n=e.draggables,a=e.droppables,s=e.previousImpact,i=e.impact,o=Gte({previousImpact:s,impact:i,droppables:a}),l=Ki(i);if(!l)return o;var c=a[l];if(xp(t,c)||c.subject.withPlaceholder)return o;var u=q7(c,t,n);return XA(o,u)},yv=function(e){var t=e.state,n=e.clientSelection,a=e.dimensions,s=e.viewport,i=e.impact,o=e.scrollJumpRequest,l=s||t.viewport,c=a||t.dimensions,u=n||t.current.client.selection,h=Wi(u,t.initial.client.selection),f={offset:h,selection:u,borderBoxCenter:us(t.initial.client.borderBoxCenter,h)},p={selection:us(f.selection,l.scroll.current),borderBoxCenter:us(f.borderBoxCenter,l.scroll.current),offset:us(f.offset,l.scroll.diff.value)},v={client:f,page:p};if(t.phase==="COLLECTING")return yt({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:v});var g=c.draggables[t.critical.draggable.id],y=i||W7({pageOffset:p.offset,draggable:g,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),x=Kte({draggable:g,impact:y,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),j=yt({},t,{current:v,dimensions:{draggables:c.draggables,droppables:x},impact:y,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return j};function Yte(e,t){return e.map(function(n){return t[n]})}var H7=function(e){var t=e.impact,n=e.viewport,a=e.draggables,s=e.destination,i=e.forceShouldAnimate,o=t.displaced,l=Yte(o.all,a),c=Bv({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:o});return yt({},t,{displaced:c})},G7=function(e){var t=e.impact,n=e.draggable,a=e.droppable,s=e.draggables,i=e.viewport,o=e.afterCritical,l=cb({impact:t,draggable:n,draggables:s,droppable:a,afterCritical:o});return YA({pageBorderBoxCenter:l,draggable:n,viewport:i})},K7=function(e){var t=e.state,n=e.dimensions,a=e.viewport;t.movementMode!=="SNAP"&&Nt();var s=t.impact,i=a||t.viewport,o=n||t.dimensions,l=o.draggables,c=o.droppables,u=l[t.critical.draggable.id],h=Ki(s);h||Nt();var f=c[h],p=H7({impact:s,viewport:i,destination:f,draggables:l}),v=G7({impact:p,draggable:u,droppable:f,draggables:l,viewport:i,afterCritical:t.afterCritical});return yv({impact:p,clientSelection:v,state:t,dimensions:o,viewport:i})},Xte=function(e){return{index:e.index,droppableId:e.droppableId}},Y7=function(e){var t=e.draggable,n=e.home,a=e.draggables,s=e.viewport,i=Lx(n.axis,t.displaceBy),o=vp(n.descriptor.id,a),l=o.indexOf(t);l===-1&&Nt();var c=o.slice(l+1),u=c.reduce(function(v,g){return v[g.descriptor.id]=!0,v},{}),h={inVirtualList:n.descriptor.mode==="virtual",displacedBy:i,effected:u},f=Bv({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),p={displaced:f,displacedBy:i,at:{type:"REORDER",destination:Xte(t.descriptor)}};return{impact:p,afterCritical:h}},Qte=function(e,t){return{draggables:e.draggables,droppables:XA(e.droppables,t)}},Jte=function(e){var t=e.draggable,n=e.offset,a=e.initialWindowScroll,s=L0(t.client,n),i=F0(s,a),o=yt({},t,{placeholder:yt({},t.placeholder,{client:s}),client:s,page:i});return o},Zte=function(e){var t=e.frame;return t||Nt(),t},ere=function(e){var t=e.additions,n=e.updatedDroppables,a=e.viewport,s=a.scroll.diff.value;return t.map(function(i){var o=i.descriptor.droppableId,l=n[o],c=Zte(l),u=c.scroll.diff.value,h=us(s,u),f=Jte({draggable:i,offset:h,initialWindowScroll:a.scroll.initial});return f})},tre=function(e){var t=e.state,n=e.published,a=n.modified.map(function(N){var P=t.dimensions.droppables[N.droppableId],I=UA(P,N.scroll);return I}),s=yt({},t.dimensions.droppables,{},D7(a)),i=_7(ere({additions:n.additions,updatedDroppables:s,viewport:t.viewport})),o=yt({},t.dimensions.draggables,{},i);n.removals.forEach(function(N){delete o[N]});var l={droppables:s,draggables:o},c=Ki(t.impact),u=c?l.droppables[c]:null,h=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],p=Y7({draggable:h,home:f,draggables:o,viewport:t.viewport}),v=p.impact,g=p.afterCritical,y=u&&u.isCombineEnabled?t.impact:v,x=W7({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:t.viewport,afterCritical:g}),j=yt({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:x,onLiftImpact:v,dimensions:l,afterCritical:g,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return j;var b=yt({phase:"DROP_PENDING"},j,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},wS=function(t){return t.movementMode==="SNAP"},bj=function(t,n,a){var s=Qte(t.dimensions,n);return!wS(t)||a?yv({state:t,dimensions:s}):K7({state:t,dimensions:s})};function jj(e){return e.isDragging&&e.movementMode==="SNAP"?yt({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var yT={phase:"IDLE",completed:null,shouldFlush:!1},rre=function(e,t){if(e===void 0&&(e=yT),t.type==="FLUSH")return yt({},yT,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Nt();var n=t.payload,a=n.critical,s=n.clientSelection,i=n.viewport,o=n.dimensions,l=n.movementMode,c=o.draggables[a.draggable.id],u=o.droppables[a.droppable.id],h={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Qa},f={client:h,page:{selection:us(h.selection,i.scroll.initial),borderBoxCenter:us(h.selection,i.scroll.initial),offset:us(h.selection,i.scroll.diff.value)}},p=ib(o.droppables).every(function(Se){return!Se.isFixedOnPage}),v=Y7({draggable:c,home:u,draggables:o.draggables,viewport:i}),g=v.impact,y=v.afterCritical,x={phase:"DRAGGING",isDragging:!0,critical:a,movementMode:l,dimensions:o,initial:f,current:f,isWindowScrollAllowed:p,impact:g,afterCritical:y,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return x}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Nt();var j=yt({phase:"COLLECTING"},e,{phase:"COLLECTING"});return j}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Nt(),tre({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Df(e)||Nt();var b=t.payload.client;return Td(b,e.current.client.selection)?e:yv({state:e,clientSelection:b,impact:wS(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return jj(e);Df(e)||Nt();var N=t.payload,P=N.id,I=N.newScroll,w=e.dimensions.droppables[P];if(!w)return e;var E=UA(w,I);return bj(e,E,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Df(e)||Nt();var C=t.payload,_=C.id,M=C.isEnabled,k=e.dimensions.droppables[_];k||Nt(),k.isEnabled===M&&Nt();var D=yt({},k,{isEnabled:M});return bj(e,D,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Df(e)||Nt();var R=t.payload,F=R.id,z=R.isCombineEnabled,V=e.dimensions.droppables[F];V||Nt(),V.isCombineEnabled===z&&Nt();var B=yt({},V,{isCombineEnabled:z});return bj(e,B,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Df(e)||Nt(),e.isWindowScrollAllowed||Nt();var H=t.payload.newScroll;if(Td(e.viewport.scroll.current,H))return jj(e);var G=M7(e.viewport,H);return wS(e)?K7({state:e,viewport:G}):yv({state:e,viewport:G})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Df(e))return e;var Z=t.payload.maxScroll;if(Td(Z,e.viewport.scroll.max))return e;var Q=yt({},e.viewport,{scroll:yt({},e.viewport.scroll,{max:Z})});return yt({phase:"DRAGGING"},e,{viewport:Q})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Nt();var $=Mte({state:e,type:t.type});return $?yv({state:e,impact:$.impact,clientSelection:$.clientSelection,scrollJumpRequest:$.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var K=t.payload.reason;e.phase!=="COLLECTING"&&Nt();var te=yt({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:K});return te}if(t.type==="DROP_ANIMATE"){var se=t.payload,oe=se.completed,me=se.dropDuration,ve=se.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Nt();var pe={phase:"DROP_ANIMATING",completed:oe,dropDuration:me,newHomeClientOffset:ve,dimensions:e.dimensions};return pe}if(t.type==="DROP_COMPLETE"){var we=t.payload.completed;return{phase:"IDLE",completed:we,shouldFlush:!1}}return e},nre=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},are=function(t){return{type:"LIFT",payload:t}},sre=function(t){return{type:"INITIAL_PUBLISH",payload:t}},ire=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},ore=function(){return{type:"COLLECTION_STARTING",payload:null}},lre=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},cre=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},ure=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},X7=function(t){return{type:"MOVE",payload:t}},dre=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},fre=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},hre=function(){return{type:"MOVE_UP",payload:null}},mre=function(){return{type:"MOVE_DOWN",payload:null}},pre=function(){return{type:"MOVE_RIGHT",payload:null}},vre=function(){return{type:"MOVE_LEFT",payload:null}},QA=function(){return{type:"FLUSH",payload:null}},xre=function(t){return{type:"DROP_ANIMATE",payload:t}},JA=function(t){return{type:"DROP_COMPLETE",payload:t}},Q7=function(t){return{type:"DROP",payload:t}},gre=function(t){return{type:"DROP_PENDING",payload:t}},J7=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},yre=function(e){return function(t){var n=t.getState,a=t.dispatch;return function(s){return function(i){if(i.type!=="LIFT"){s(i);return}var o=i.payload,l=o.id,c=o.clientSelection,u=o.movementMode,h=n();h.phase==="DROP_ANIMATING"&&a(JA({completed:h.completed})),n().phase!=="IDLE"&&Nt(),a(QA()),a(nre({draggableId:l,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},p={draggableId:l,scrollOptions:f},v=e.startPublishing(p),g=v.critical,y=v.dimensions,x=v.viewport;a(sre({critical:g,dimensions:y,clientSelection:c,movementMode:u,viewport:x}))}}}},bre=function(e){return function(){return function(t){return function(n){n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)}}}},ZA={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},qv={opacity:{drop:0,combining:.7},scale:{drop:.75}},e4={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Tf=e4.outOfTheWay+"s "+ZA.outOfTheWay,bv={fluid:"opacity "+Tf,snap:"transform "+Tf+", opacity "+Tf,drop:function(t){var n=t+"s "+ZA.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Tf,placeholder:"height "+Tf+", width "+Tf+", margin "+Tf},bT=function(t){return Td(t,Qa)?null:"translate("+t.x+"px, "+t.y+"px)"},NS={moveTo:bT,drop:function(t,n){var a=bT(t);return a?n?a+" scale("+qv.scale.drop+")":a:null}},SS=e4.minDropTime,Z7=e4.maxDropTime,jre=Z7-SS,jT=1500,wre=.6,Nre=function(e){var t=e.current,n=e.destination,a=e.reason,s=Mv(t,n);if(s<=0)return SS;if(s>=jT)return Z7;var i=s/jT,o=SS+jre*i,l=a==="CANCEL"?o*wre:o;return Number(l.toFixed(2))},Sre=function(e){var t=e.impact,n=e.draggable,a=e.dimensions,s=e.viewport,i=e.afterCritical,o=a.draggables,l=a.droppables,c=Ki(t),u=c?l[c]:null,h=l[n.descriptor.droppableId],f=G7({impact:t,draggable:n,draggables:o,afterCritical:i,droppable:u||h,viewport:s}),p=Wi(f,n.client.borderBox.center);return p},Cre=function(e){var t=e.draggables,n=e.reason,a=e.lastImpact,s=e.home,i=e.viewport,o=e.onLiftImpact;if(!a.at||n!=="DROP"){var l=H7({draggables:t,impact:o,destination:s,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(a.at.type==="REORDER")return{impact:a,didDropInsideDroppable:!0};var c=yt({},a,{displaced:$v});return{impact:c,didDropInsideDroppable:!0}},Are=function(e){var t=e.getState,n=e.dispatch;return function(a){return function(s){if(s.type!=="DROP"){a(s);return}var i=t(),o=s.payload.reason;if(i.phase==="COLLECTING"){n(gre({reason:o}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&Nt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Nt();var c=i.critical,u=i.dimensions,h=u.draggables[i.critical.draggable.id],f=Cre({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=f.impact,v=f.didDropInsideDroppable,g=v?WA(p):null,y=v?ob(p):null,x={index:c.draggable.index,droppableId:c.droppable.id},j={draggableId:h.descriptor.id,type:h.descriptor.type,source:x,reason:o,mode:i.movementMode,destination:g,combine:y},b=Sre({impact:p,draggable:h,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),N={critical:i.critical,afterCritical:i.afterCritical,result:j,impact:p},P=!Td(i.current.client.offset,b)||!!j.combine;if(!P){n(JA({completed:N}));return}var I=Nre({current:i.current.client.offset,destination:b,reason:o}),w={newHomeClientOffset:b,dropDuration:I,completed:N};n(xre(w))}}}},e8=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Ere(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||e()}}}function Pre(e){var t=e.onWindowScroll;function n(){t(e8())}var a=Fv(n),s=Ere(a),i=Pd;function o(){return i!==Pd}function l(){o()&&Nt(),i=So(window,[s])}function c(){o()||Nt(),a.cancel(),i(),i=Pd}return{start:l,stop:c,isActive:o}}var Tre=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Ire=function(e){var t=Pre({onWindowScroll:function(a){e.dispatch(dre({newScroll:a}))}});return function(n){return function(a){!t.isActive()&&a.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Tre(a)&&t.stop(),n(a)}}},Dre=function(e){var t=!1,n=!1,a=setTimeout(function(){n=!0}),s=function(o){t||n||(t=!0,e(o),clearTimeout(a))};return s.wasCalled=function(){return t},s},_re=function(){var e=[],t=function(i){var o=VA(e,function(u){return u.timerId===i});o===-1&&Nt();var l=e.splice(o,1),c=l[0];c.callback()},n=function(i){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:i};e.push(l)},a=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:n,flush:a}},kre=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.droppableId===n.droppableId&&t.index===n.index},Ore=function(t,n){return t==null&&n==null?!0:t==null||n==null?!1:t.draggableId===n.draggableId&&t.droppableId===n.droppableId},Rre=function(t,n){if(t===n)return!0;var a=t.draggable.id===n.draggable.id&&t.draggable.droppableId===n.draggable.droppableId&&t.draggable.type===n.draggable.type&&t.draggable.index===n.draggable.index,s=t.droppable.id===n.droppable.id&&t.droppable.type===n.droppable.type;return a&&s},Zp=function(t,n){n()},Bg=function(t,n){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:n}},wj=function(t,n,a,s){if(!t){a(s(n));return}var i=Dre(a),o={announce:i};t(n,o),i.wasCalled()||a(s(n))},Lre=function(e,t){var n=_re(),a=null,s=function(p,v){a&&Nt(),Zp("onBeforeCapture",function(){var g=e().onBeforeCapture;if(g){var y={draggableId:p,mode:v};g(y)}})},i=function(p,v){a&&Nt(),Zp("onBeforeDragStart",function(){var g=e().onBeforeDragStart;g&&g(Bg(p,v))})},o=function(p,v){a&&Nt();var g=Bg(p,v);a={mode:v,lastCritical:p,lastLocation:g.source,lastCombine:null},n.add(function(){Zp("onDragStart",function(){return wj(e().onDragStart,g,t,v0.onDragStart)})})},l=function(p,v){var g=WA(v),y=ob(v);a||Nt();var x=!Rre(p,a.lastCritical);x&&(a.lastCritical=p);var j=!kre(a.lastLocation,g);j&&(a.lastLocation=g);var b=!Ore(a.lastCombine,y);if(b&&(a.lastCombine=y),!(!x&&!j&&!b)){var N=yt({},Bg(p,a.mode),{combine:y,destination:g});n.add(function(){Zp("onDragUpdate",function(){return wj(e().onDragUpdate,N,t,v0.onDragUpdate)})})}},c=function(){a||Nt(),n.flush()},u=function(p){a||Nt(),a=null,Zp("onDragEnd",function(){return wj(e().onDragEnd,p,t,v0.onDragEnd)})},h=function(){if(a){var p=yt({},Bg(a.lastCritical,a.mode),{combine:null,destination:null,reason:"CANCEL"});u(p)}};return{beforeCapture:s,beforeStart:i,start:o,update:l,flush:c,drop:u,abort:h}},Fre=function(e,t){var n=Lre(e,t);return function(a){return function(s){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var o=i.payload.critical;n.beforeStart(o,i.payload.movementMode),s(i),n.start(o,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;n.flush(),s(i),n.drop(l);return}if(s(i),i.type==="FLUSH"){n.abort();return}var c=a.getState();c.phase==="DRAGGING"&&n.update(c.critical,c.impact)}}}},Mre=function(e){return function(t){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}var a=e.getState();a.phase!=="DROP_ANIMATING"&&Nt(),e.dispatch(JA({completed:a.completed}))}}},$re=function(e){var t=null,n=null;function a(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return function(s){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&a(),s(i),i.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(J7())}};n=requestAnimationFrame(function(){n=null,t=So(window,[o])})}}}},Bre=function(e){return function(){return function(t){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)}}}},qre=function(e){var t=!1;return function(){return function(n){return function(a){if(a.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(a.payload.critical.draggable.id),n(a),e.tryRestoreFocusRecorded();return}if(n(a),!!t){if(a.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(a.type==="DROP_COMPLETE"){t=!1;var s=a.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},zre=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},Ure=function(e){return function(t){return function(n){return function(a){if(zre(a)){e.stop(),n(a);return}if(a.type==="INITIAL_PUBLISH"){n(a);var s=t.getState();s.phase!=="DRAGGING"&&Nt(),e.start(s);return}n(a),e.scroll(t.getState())}}}},Vre=function(e){return function(t){return function(n){if(t(n),n.type==="PUBLISH_WHILE_DRAGGING"){var a=e.getState();a.phase==="DROP_PENDING"&&(a.isWaiting||e.dispatch(Q7({reason:a.reason})))}}}},Wre=v7,Hre=function(e){var t=e.dimensionMarshal,n=e.focusMarshal,a=e.styleMarshal,s=e.getResponders,i=e.announce,o=e.autoScroller;return p7(rre,Wre(QZ(bre(a),Bre(t),yre(t),Are,Mre,$re,Vre,Ure(o),Ire,qre(n),Fre(s,i))))},Nj=function(){return{additions:{},removals:{},modified:{}}};function Gre(e){var t=e.registry,n=e.callbacks,a=Nj(),s=null,i=function(){s||(n.collectionStarting(),s=requestAnimationFrame(function(){s=null;var h=a,f=h.additions,p=h.removals,v=h.modified,g=Object.keys(f).map(function(j){return t.draggable.getById(j).getDimension(Qa)}).sort(function(j,b){return j.descriptor.index-b.descriptor.index}),y=Object.keys(v).map(function(j){var b=t.droppable.getById(j),N=b.callbacks.getScrollWhileDragging();return{droppableId:j,scroll:N}}),x={additions:g,removals:Object.keys(p),modified:y};a=Nj(),n.publish(x)}))},o=function(h){var f=h.descriptor.id;a.additions[f]=h,a.modified[h.descriptor.droppableId]=!0,a.removals[f]&&delete a.removals[f],i()},l=function(h){var f=h.descriptor;a.removals[f.id]=!0,a.modified[f.droppableId]=!0,a.additions[f.id]&&delete a.additions[f.id],i()},c=function(){s&&(cancelAnimationFrame(s),s=null,a=Nj())};return{add:o,remove:l,stop:c}}var t8=function(e){var t=e.scrollHeight,n=e.scrollWidth,a=e.height,s=e.width,i=Wi({x:n,y:t},{x:s,y:a}),o={x:Math.max(0,i.x),y:Math.max(0,i.y)};return o},r8=function(){var e=document.documentElement;return e||Nt(),e},n8=function(){var e=r8(),t=t8({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},Kre=function(){var e=e8(),t=n8(),n=e.y,a=e.x,s=r8(),i=s.clientWidth,o=s.clientHeight,l=a+i,c=n+o,u=hl({top:n,left:a,right:l,bottom:c}),h={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Qa,displacement:Qa}}};return h},Yre=function(e){var t=e.critical,n=e.scrollOptions,a=e.registry,s=Kre(),i=s.scroll.current,o=t.droppable,l=a.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(i,n)}),c=a.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(i)}),u={draggables:_7(c),droppables:D7(l)},h={dimensions:u,critical:t,viewport:s};return h};function wT(e,t,n){if(n.descriptor.id===t.id||n.descriptor.type!==t.type)return!1;var a=e.droppable.getById(n.descriptor.droppableId);return a.descriptor.mode==="virtual"}var Xre=function(e,t){var n=null,a=Gre({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(v,g){e.droppable.exists(v)||Nt(),n&&t.updateDroppableIsEnabled({id:v,isEnabled:g})},i=function(v,g){n&&(e.droppable.exists(v)||Nt(),t.updateDroppableIsCombineEnabled({id:v,isCombineEnabled:g}))},o=function(v,g){n&&(e.droppable.exists(v)||Nt(),t.updateDroppableScroll({id:v,newScroll:g}))},l=function(v,g){n&&e.droppable.getById(v).callbacks.scroll(g)},c=function(){if(n){a.stop();var v=n.critical.droppable;e.droppable.getAllByType(v.type).forEach(function(g){return g.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(v){n||Nt();var g=n.critical.draggable;v.type==="ADDITION"&&wT(e,g,v.value)&&a.add(v.value),v.type==="REMOVAL"&&wT(e,g,v.value)&&a.remove(v.value)},h=function(v){n&&Nt();var g=e.draggable.getById(v.draggableId),y=e.droppable.getById(g.descriptor.droppableId),x={draggable:g.descriptor,droppable:y.descriptor},j=e.subscribe(u);return n={critical:x,unsubscribe:j},Yre({critical:x,registry:e,scrollOptions:v.scrollOptions})},f={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:h,stopPublishing:c};return f},a8=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},Qre=function(e){window.scrollBy(e.x,e.y)},Jre=Xa(function(e){return ib(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),Zre=function(t,n){var a=Vd(Jre(n),function(s){return s.frame||Nt(),z7(s.frame.pageMarginBox)(t)});return a},ene=function(e){var t=e.center,n=e.destination,a=e.droppables;if(n){var s=a[n];return s.frame?s:null}var i=Zre(t,a);return i},Id={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},tne=function(e,t){var n=e[t.size]*Id.startFromPercentage,a=e[t.size]*Id.maxScrollAtPercentage,s={startScrollingFrom:n,maxScrollValueAt:a};return s},s8=function(e){var t=e.startOfRange,n=e.endOfRange,a=e.current,s=n-t;if(s===0)return 0;var i=a-t,o=i/s;return o},t4=1,rne=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Id.maxPixelScroll;if(e===t.startScrollingFrom)return t4;var n=s8({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=1-n,s=Id.maxPixelScroll*Id.ease(a);return Math.ceil(s)},NT=Id.durationDampening.accelerateAt,ST=Id.durationDampening.stopDampeningAt,nne=function(e,t){var n=t,a=ST,s=Date.now(),i=s-n;if(i>=ST)return e;if(i<NT)return t4;var o=s8({startOfRange:NT,endOfRange:a,current:i}),l=e*Id.ease(o);return Math.ceil(l)},CT=function(e){var t=e.distanceToEdge,n=e.thresholds,a=e.dragStartTime,s=e.shouldUseTimeDampening,i=rne(t,n);return i===0?0:s?Math.max(nne(i,a),t4):i},AT=function(e){var t=e.container,n=e.distanceToEdges,a=e.dragStartTime,s=e.axis,i=e.shouldUseTimeDampening,o=tne(t,s),l=n[s.end]<n[s.start];return l?CT({distanceToEdge:n[s.end],thresholds:o,dragStartTime:a,shouldUseTimeDampening:i}):-1*CT({distanceToEdge:n[s.start],thresholds:o,dragStartTime:a,shouldUseTimeDampening:i})},ane=function(e){var t=e.container,n=e.subject,a=e.proposedScroll,s=n.height>t.height,i=n.width>t.width;return!i&&!s?a:i&&s?null:{x:i?0:a.x,y:s?0:a.y}},sne=T7(function(e){return e===0?0:e}),i8=function(e){var t=e.dragStartTime,n=e.container,a=e.subject,s=e.center,i=e.shouldUseTimeDampening,o={top:s.y-n.top,right:n.right-s.x,bottom:n.bottom-s.y,left:s.x-n.left},l=AT({container:n,distanceToEdges:o,dragStartTime:t,axis:HA,shouldUseTimeDampening:i}),c=AT({container:n,distanceToEdges:o,dragStartTime:t,axis:R7,shouldUseTimeDampening:i}),u=sne({x:c,y:l});if(Td(u,Qa))return null;var h=ane({container:n,subject:a,proposedScroll:u});return h?Td(h,Qa)?null:h:null},ine=T7(function(e){return e===0?0:e>0?1:-1}),r4=function(){var e=function(n,a){return n<0?n:n>a?n-a:0};return function(t){var n=t.current,a=t.max,s=t.change,i=us(n,s),o={x:e(i.x,a.x),y:e(i.y,a.y)};return Td(o,Qa)?null:o}}(),o8=function(t){var n=t.max,a=t.current,s=t.change,i={x:Math.max(a.x,n.x),y:Math.max(a.y,n.y)},o=ine(s),l=r4({max:i,current:a,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},n4=function(t,n){return o8({current:t.scroll.current,max:t.scroll.max,change:n})},one=function(t,n){if(!n4(t,n))return null;var a=t.scroll.max,s=t.scroll.current;return r4({current:s,max:a,change:n})},a4=function(t,n){var a=t.frame;return a?o8({current:a.scroll.current,max:a.scroll.max,change:n}):!1},lne=function(t,n){var a=t.frame;return!a||!a4(t,n)?null:r4({current:a.scroll.current,max:a.scroll.max,change:n})},cne=function(e){var t=e.viewport,n=e.subject,a=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,o=i8({dragStartTime:s,container:t.frame,subject:n,center:a,shouldUseTimeDampening:i});return o&&n4(t,o)?o:null},une=function(e){var t=e.droppable,n=e.subject,a=e.center,s=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=i8({dragStartTime:s,container:o.pageMarginBox,subject:n,center:a,shouldUseTimeDampening:i});return l&&a4(t,l)?l:null},ET=function(e){var t=e.state,n=e.dragStartTime,a=e.shouldUseTimeDampening,s=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,h=cne({dragStartTime:n,viewport:u,subject:c,center:o,shouldUseTimeDampening:a});if(h){s(h);return}}var f=ene({center:o,destination:Ki(t.impact),droppables:t.dimensions.droppables});if(f){var p=une({dragStartTime:n,droppable:f,subject:c,center:o,shouldUseTimeDampening:a});p&&i(f.descriptor.id,p)}},dne=function(e){var t=e.scrollWindow,n=e.scrollDroppable,a=Fv(t),s=Fv(n),i=null,o=function(h){i||Nt();var f=i,p=f.shouldUseTimeDampening,v=f.dragStartTime;ET({state:h,scrollWindow:a,scrollDroppable:s,dragStartTime:v,shouldUseTimeDampening:p})},l=function(h){i&&Nt();var f=Date.now(),p=!1,v=function(){p=!0};ET({state:h,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:v,scrollDroppable:v}),i={dragStartTime:f,shouldUseTimeDampening:p},p&&o(h)},c=function(){i&&(a.cancel(),s.cancel(),i=null)};return{start:l,stop:c,scroll:o}},fne=function(e){var t=e.move,n=e.scrollDroppable,a=e.scrollWindow,s=function(u,h){var f=us(u.current.client.selection,h);t({client:f})},i=function(u,h){if(!a4(u,h))return h;var f=lne(u,h);if(!f)return n(u.descriptor.id,h),null;var p=Wi(h,f);n(u.descriptor.id,p);var v=Wi(h,p);return v},o=function(u,h,f){if(!u||!n4(h,f))return f;var p=one(h,f);if(!p)return a(f),null;var v=Wi(f,p);a(v);var g=Wi(f,v);return g},l=function(u){var h=u.scrollJumpRequest;if(h){var f=Ki(u.impact);f||Nt();var p=i(u.dimensions.droppables[f],h);if(p){var v=u.viewport,g=o(u.isWindowScrollAllowed,v,p);g&&s(u,g)}}};return l},hne=function(e){var t=e.scrollDroppable,n=e.scrollWindow,a=e.move,s=dne({scrollWindow:n,scrollDroppable:t}),i=fne({move:a,scrollWindow:n,scrollDroppable:t}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&i(u)}},l={scroll:o,start:s.start,stop:s.stop};return l},_m="data-rbd",km=function(){var e=_m+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),CS=function(){var e=_m+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),mne=function(){var e=_m+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),PT={contextId:_m+"-scroll-container-context-id"},pne=function(t){return function(n){return"["+n+'="'+t+'"]'}},ev=function(t,n){return t.map(function(a){var s=a.styles[n];return s?a.selector+" { "+s+" }":""}).join(" ")},vne="pointer-events: none;",xne=function(e){var t=pne(e),n=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(km.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:vne,dropAnimating:l}}}(),a=function(){var l=`
      transition: `+bv.outOfTheWay+`;
    `;return{selector:t(CS.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(mne.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[a,n,s,i];return{always:ev(o,"always"),resting:ev(o,"resting"),dragging:ev(o,"dragging"),dropAnimating:ev(o,"dropAnimating"),userCancel:ev(o,"userCancel")}},Yi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,Sj=function(){var t=document.querySelector("head");return t||Nt(),t},TT=function(t){var n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.type="text/css",n};function gne(e,t){var n=Wr(function(){return xne(e)},[e]),a=S.useRef(null),s=S.useRef(null),i=Jt(Xa(function(f){var p=s.current;p||Nt(),p.textContent=f}),[]),o=Jt(function(f){var p=a.current;p||Nt(),p.textContent=f},[]);Yi(function(){!a.current&&!s.current||Nt();var f=TT(t),p=TT(t);return a.current=f,s.current=p,f.setAttribute(_m+"-always",e),p.setAttribute(_m+"-dynamic",e),Sj().appendChild(f),Sj().appendChild(p),o(n.always),i(n.resting),function(){var v=function(y){var x=y.current;x||Nt(),Sj().removeChild(x),y.current=null};v(a),v(s)}},[t,o,i,n.always,n.resting,e]);var l=Jt(function(){return i(n.dragging)},[i,n.dragging]),c=Jt(function(f){if(f==="DROP"){i(n.dropAnimating);return}i(n.userCancel)},[i,n.dropAnimating,n.userCancel]),u=Jt(function(){s.current&&i(n.resting)},[i,n.resting]),h=Wr(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return h}var l8=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function ub(e){return e instanceof l8(e).HTMLElement}function yne(e,t){var n="["+km.contextId+'="'+e+'"]',a=I7(document.querySelectorAll(n));if(!a.length)return null;var s=Vd(a,function(i){return i.getAttribute(km.draggableId)===t});return!s||!ub(s)?null:s}function bne(e){var t=S.useRef({}),n=S.useRef(null),a=S.useRef(null),s=S.useRef(!1),i=Jt(function(p,v){var g={id:p,focus:v};return t.current[p]=g,function(){var x=t.current,j=x[p];j!==g&&delete x[p]}},[]),o=Jt(function(p){var v=yne(e,p);v&&v!==document.activeElement&&v.focus()},[e]),l=Jt(function(p,v){n.current===p&&(n.current=v)},[]),c=Jt(function(){a.current||s.current&&(a.current=requestAnimationFrame(function(){a.current=null;var p=n.current;p&&o(p)}))},[o]),u=Jt(function(p){n.current=null;var v=document.activeElement;v&&v.getAttribute(km.draggableId)===p&&(n.current=p)},[]);Yi(function(){return s.current=!0,function(){s.current=!1;var p=a.current;p&&cancelAnimationFrame(p)}},[]);var h=Wr(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,u,c,l]);return h}function jne(){var e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){var v=t.indexOf(f);v!==-1&&t.splice(v,1)}}function a(f){t.length&&t.forEach(function(p){return p(f)})}function s(f){return e.draggables[f]||null}function i(f){var p=s(f);return p||Nt(),p}var o={register:function(p){e.draggables[p.descriptor.id]=p,a({type:"ADDITION",value:p})},update:function(p,v){var g=e.draggables[v.descriptor.id];g&&g.uniqueId===p.uniqueId&&(delete e.draggables[v.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:function(p){var v=p.descriptor.id,g=s(v);g&&p.uniqueId===g.uniqueId&&(delete e.draggables[v],a({type:"REMOVAL",value:p}))},getById:i,findById:s,exists:function(p){return!!s(p)},getAllByType:function(p){return B0(e.draggables).filter(function(v){return v.descriptor.type===p})}};function l(f){return e.droppables[f]||null}function c(f){var p=l(f);return p||Nt(),p}var u={register:function(p){e.droppables[p.descriptor.id]=p},unregister:function(p){var v=l(p.descriptor.id);v&&p.uniqueId===v.uniqueId&&delete e.droppables[p.descriptor.id]},getById:c,findById:l,exists:function(p){return!!l(p)},getAllByType:function(p){return B0(e.droppables).filter(function(v){return v.descriptor.type===p})}};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:n,clean:h}}function wne(){var e=Wr(jne,[]);return S.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var s4=Ne.createContext(null),z0=function(){var e=document.body;return e||Nt(),e},Nne={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Sne=function(t){return"rbd-announcement-"+t};function Cne(e){var t=Wr(function(){return Sne(e)},[e]),n=S.useRef(null);S.useEffect(function(){var i=document.createElement("div");return n.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),yt(i.style,Nne),z0().appendChild(i),function(){setTimeout(function(){var c=z0();c.contains(i)&&c.removeChild(i),i===n.current&&(n.current=null)})}},[t]);var a=Jt(function(s){var i=n.current;if(i){i.textContent=s;return}},[]);return a}var Ane=0,Ene={separator:"::"};function i4(e,t){return t===void 0&&(t=Ene),Wr(function(){return""+e+t.separator+Ane++},[t.separator,e])}function Pne(e){var t=e.contextId,n=e.uniqueId;return"rbd-hidden-text-"+t+"-"+n}function Tne(e){var t=e.contextId,n=e.text,a=i4("hidden-text",{separator:"-"}),s=Wr(function(){return Pne({contextId:t,uniqueId:a})},[a,t]);return S.useEffect(function(){var o=document.createElement("div");return o.id=s,o.textContent=n,o.style.display="none",z0().appendChild(o),function(){var c=z0();c.contains(o)&&c.removeChild(o)}},[s,n]),s}var db=Ne.createContext(null);function c8(e){var t=S.useRef(e);return S.useEffect(function(){t.current=e}),t}function Ine(){var e=null;function t(){return!!e}function n(o){return o===e}function a(o){e&&Nt();var l={abandon:o};return e=l,l}function s(){e||Nt(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:a,release:s,tryAbandon:i}}var Dne=9,_ne=13,o4=27,u8=32,kne=33,One=34,Rne=35,Lne=36,Fne=37,Mne=38,$ne=39,Bne=40,qg,qne=(qg={},qg[_ne]=!0,qg[Dne]=!0,qg),d8=function(e){qne[e.keyCode]&&e.preventDefault()},fb=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],n=Vd(t,function(a){return"on"+a in document});return n||e}(),f8=0,IT=5;function zne(e,t){return Math.abs(t.x-e.x)>=IT||Math.abs(t.y-e.y)>=IT}var DT={type:"IDLE"};function Une(e){var t=e.cancel,n=e.completed,a=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,u=o.clientY;if(l===f8){var h={x:c,y:u},f=a();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(h);return}f.type!=="PENDING"&&Nt();var p=f.point;if(zne(p,h)){o.preventDefault();var v=f.actions.fluidLift(h);s({type:"DRAGGING",actions:v})}}}},{eventName:"mouseup",fn:function(o){var l=a();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(o){a().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=a();if(l.type==="PENDING"){t();return}if(o.keyCode===o4){o.preventDefault(),t();return}d8(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){a().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=a();if(l.type==="IDLE"&&Nt(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:fb,fn:t}]}function Vne(e){var t=S.useRef(DT),n=S.useRef(Pd),a=Wr(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===f8&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var p=e.findClosestDraggableId(f);if(p){var v=e.tryGetLock(p,o,{sourceEvent:f});if(v){f.preventDefault();var g={x:f.clientX,y:f.clientY};n.current(),u(v,g)}}}}}},[e]),s=Wr(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var p=e.findClosestDraggableId(f);if(p){var v=e.findOptionsForDraggable(p);v&&(v.shouldRespectForcePress||e.canGetLock(p)&&f.preventDefault())}}}}},[e]),i=Jt(function(){var f={passive:!1,capture:!0};n.current=So(window,[s,a],f)},[s,a]),o=Jt(function(){var h=t.current;h.type!=="IDLE"&&(t.current=DT,n.current(),i())},[i]),l=Jt(function(){var h=t.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),c=Jt(function(){var f={capture:!0,passive:!1},p=Une({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(g){t.current=g}});n.current=So(window,p,f)},[l,o]),u=Jt(function(f,p){t.current.type!=="IDLE"&&Nt(),t.current={type:"PENDING",point:p,actions:f},c()},[c]);Yi(function(){return i(),function(){n.current()}},[i])}var sm;function Wne(){}var Hne=(sm={},sm[One]=!0,sm[kne]=!0,sm[Lne]=!0,sm[Rne]=!0,sm);function Gne(e,t){function n(){t(),e.cancel()}function a(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===o4){i.preventDefault(),n();return}if(i.keyCode===u8){i.preventDefault(),a();return}if(i.keyCode===Bne){i.preventDefault(),e.moveDown();return}if(i.keyCode===Mne){i.preventDefault(),e.moveUp();return}if(i.keyCode===$ne){i.preventDefault(),e.moveRight();return}if(i.keyCode===Fne){i.preventDefault(),e.moveLeft();return}if(Hne[i.keyCode]){i.preventDefault();return}d8(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:fb,fn:n}]}function Kne(e){var t=S.useRef(Wne),n=Wr(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==u8)return;var o=e.findClosestDraggableId(i);if(!o)return;var l=e.tryGetLock(o,h,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,u=l.snapLift();t.current();function h(){c||Nt(),c=!1,t.current(),a()}t.current=So(window,Gne(u,h),{capture:!0,passive:!1})}}},[e]),a=Jt(function(){var i={passive:!1,capture:!0};t.current=So(window,[n],i)},[n]);Yi(function(){return a(),function(){t.current()}},[a])}var Cj={type:"IDLE"},Yne=120,Xne=.15;function Qne(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(n().type!=="DRAGGING"){t();return}s.keyCode===o4&&s.preventDefault(),t()}},{eventName:fb,fn:t}]}function Jne(e){var t=e.cancel,n=e.completed,a=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var o=a();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=i.touches[0],c=l.clientX,u=l.clientY,h={x:c,y:u};i.preventDefault(),o.actions.move(h)}},{eventName:"touchend",fn:function(i){var o=a();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(i){if(a().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var o=a();o.type==="IDLE"&&Nt();var l=i.touches[0];if(l){var c=l.force>=Xne;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&t();return}if(u){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:fb,fn:t}]}function Zne(e){var t=S.useRef(Cj),n=S.useRef(Pd),a=Jt(function(){return t.current},[]),s=Jt(function(v){t.current=v},[]),i=Wr(function(){return{eventName:"touchstart",fn:function(v){if(!v.defaultPrevented){var g=e.findClosestDraggableId(v);if(g){var y=e.tryGetLock(g,l,{sourceEvent:v});if(y){var x=v.touches[0],j=x.clientX,b=x.clientY,N={x:j,y:b};n.current(),f(y,N)}}}}}},[e]),o=Jt(function(){var v={capture:!0,passive:!1};n.current=So(window,[i],v)},[i]),l=Jt(function(){var p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(Cj),n.current(),o())},[o,s]),c=Jt(function(){var p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),u=Jt(function(){var v={capture:!0,passive:!1},g={cancel:c,completed:l,getPhase:a},y=So(window,Jne(g),v),x=So(window,Qne(g),v);n.current=function(){y(),x()}},[c,a,l]),h=Jt(function(){var v=a();v.type!=="PENDING"&&Nt();var g=v.actions.fluidLift(v.point);s({type:"DRAGGING",actions:g,hasMoved:!1})},[a,s]),f=Jt(function(v,g){a().type!=="IDLE"&&Nt();var y=setTimeout(h,Yne);s({type:"PENDING",point:g,actions:v,longPressTimerId:y}),u()},[u,a,s,h]);Yi(function(){return o(),function(){n.current();var g=a();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),s(Cj))}},[a,o,s]),Yi(function(){var v=So(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return v},[])}var eae={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function h8(e,t){if(t==null)return!1;var n=!!eae[t.tagName.toLowerCase()];if(n)return!0;var a=t.getAttribute("contenteditable");return a==="true"||a===""?!0:t===e?!1:h8(e,t.parentElement)}function tae(e,t){var n=t.target;return ub(n)?h8(e,n):!1}var rae=function(e){return hl(e.getBoundingClientRect()).center};function nae(e){return e instanceof l8(e).Element}var aae=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],n=Vd(t,function(a){return a in Element.prototype});return n||e}();function m8(e,t){return e==null?null:e[aae](t)?e:m8(e.parentElement,t)}function sae(e,t){return e.closest?e.closest(t):m8(e,t)}function iae(e){return"["+km.contextId+'="'+e+'"]'}function oae(e,t){var n=t.target;if(!nae(n))return null;var a=iae(e),s=sae(n,a);return!s||!ub(s)?null:s}function lae(e,t){var n=oae(e,t);return n?n.getAttribute(km.draggableId):null}function cae(e,t){var n="["+CS.contextId+'="'+e+'"]',a=I7(document.querySelectorAll(n)),s=Vd(a,function(i){return i.getAttribute(CS.id)===t});return!s||!ub(s)?null:s}function uae(e){e.preventDefault()}function zg(e){var t=e.expected,n=e.phase,a=e.isLockActive;return e.shouldWarn,!(!a()||t!==n)}function p8(e){var t=e.lockAPI,n=e.store,a=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var i=a.draggable.findById(s);return!(!i||!i.options.isEnabled||!a8(n.getState(),s))}function dae(e){var t=e.lockAPI,n=e.contextId,a=e.store,s=e.registry,i=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=p8({lockAPI:t,store:a,registry:s,draggableId:i});if(!c)return null;var u=s.draggable.getById(i),h=cae(n,u.descriptor.id);if(!h||l&&!u.options.canDragInteractiveElements&&tae(h,l))return null;var f=t.claim(o||Pd),p="PRE_DRAG";function v(){return u.options.shouldRespectForcePress}function g(){return t.isActive(f)}function y(w,E){zg({expected:w,phase:p,isLockActive:g,shouldWarn:!0})&&a.dispatch(E())}var x=y.bind(null,"DRAGGING");function j(w){function E(){t.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(E(),p!=="PRE_DRAG"&&Nt()),a.dispatch(are(w.liftActionArgs)),p="DRAGGING";function C(_,M){if(M===void 0&&(M={shouldBlockNextClick:!1}),w.cleanup(),M.shouldBlockNextClick){var k=So(window,[{eventName:"click",fn:uae,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(k)}E(),a.dispatch(Q7({reason:_}))}return yt({isActive:function(){return zg({expected:"DRAGGING",phase:p,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:v,drop:function(M){return C("DROP",M)},cancel:function(M){return C("CANCEL",M)}},w.actions)}function b(w){var E=Fv(function(_){x(function(){return X7({client:_})})}),C=j({liftActionArgs:{id:i,clientSelection:w,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return yt({},C,{move:E})}function N(){var w={moveUp:function(){return x(hre)},moveRight:function(){return x(pre)},moveDown:function(){return x(mre)},moveLeft:function(){return x(vre)}};return j({liftActionArgs:{id:i,clientSelection:rae(h),movementMode:"SNAP"},cleanup:Pd,actions:w})}function P(){var w=zg({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!0});w&&t.release()}var I={isActive:function(){return zg({expected:"PRE_DRAG",phase:p,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:v,fluidLift:b,snapLift:N,abort:P};return I}var fae=[Vne,Kne,Zne];function hae(e){var t=e.contextId,n=e.store,a=e.registry,s=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?fae:[],s||[]),l=S.useState(function(){return Ine()})[0],c=Jt(function(b,N){b.isDragging&&!N.isDragging&&l.tryAbandon()},[l]);Yi(function(){var b=n.getState(),N=n.subscribe(function(){var P=n.getState();c(b,P),b=P});return N},[l,n,c]),Yi(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=Jt(function(j){return p8({lockAPI:l,registry:a,store:n,draggableId:j})},[l,a,n]),h=Jt(function(j,b,N){return dae({lockAPI:l,registry:a,contextId:t,store:n,draggableId:j,forceSensorStop:b,sourceEvent:N&&N.sourceEvent?N.sourceEvent:null})},[t,l,a,n]),f=Jt(function(j){return lae(t,j)},[t]),p=Jt(function(j){var b=a.draggable.findById(j);return b?b.options:null},[a.draggable]),v=Jt(function(){l.isClaimed()&&(l.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(QA()))},[l,n]),g=Jt(l.isClaimed,[l]),y=Wr(function(){return{canGetLock:u,tryGetLock:h,findClosestDraggableId:f,findOptionsForDraggable:p,tryReleaseLock:v,isLockClaimed:g}},[u,h,f,p,v,g]),x=0;x<o.length;x++)o[x](y)}var mae=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function tv(e){return e.current||Nt(),e.current}function pae(e){var t=e.contextId,n=e.setCallbacks,a=e.sensors,s=e.nonce,i=e.dragHandleUsageInstructions,o=S.useRef(null),l=c8(e),c=Jt(function(){return mae(l.current)},[l]),u=Cne(t),h=Tne({contextId:t,text:i}),f=gne(t,s),p=Jt(function(_){tv(o).dispatch(_)},[]),v=Wr(function(){return JP({publishWhileDragging:ire,updateDroppableScroll:lre,updateDroppableIsEnabled:cre,updateDroppableIsCombineEnabled:ure,collectionStarting:ore},p)},[p]),g=wne(),y=Wr(function(){return Xre(g,v)},[g,v]),x=Wr(function(){return hne(yt({scrollWindow:Qre,scrollDroppable:y.scrollDroppable},JP({move:X7},p)))},[y.scrollDroppable,p]),j=bne(t),b=Wr(function(){return Hre({announce:u,autoScroller:x,dimensionMarshal:y,focusMarshal:j,getResponders:c,styleMarshal:f})},[u,x,y,j,c,f]);o.current=b;var N=Jt(function(){var _=tv(o),M=_.getState();M.phase!=="IDLE"&&_.dispatch(QA())},[]),P=Jt(function(){var _=tv(o).getState();return _.isDragging||_.phase==="DROP_ANIMATING"},[]),I=Wr(function(){return{isDragging:P,tryAbort:N}},[P,N]);n(I);var w=Jt(function(_){return a8(tv(o).getState(),_)},[]),E=Jt(function(){return Df(tv(o).getState())},[]),C=Wr(function(){return{marshal:y,focus:j,contextId:t,canLift:w,isMovementAllowed:E,dragHandleUsageInstructionsId:h,registry:g}},[t,y,h,j,w,E,g]);return hae({contextId:t,store:b,registry:g,customSensors:a,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(function(){return N},[N]),Ne.createElement(db.Provider,{value:C},Ne.createElement(ree,{context:s4,store:b},e.children))}var vae=0;function xae(){return Wr(function(){return""+vae++},[])}function gae(e){var t=xae(),n=e.dragHandleUsageInstructions||v0.dragHandleUsageInstructions;return Ne.createElement(Kee,null,function(a){return Ne.createElement(pae,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var v8=function(t){return function(n){return t===n}},yae=v8("scroll"),bae=v8("auto"),_T=function(t,n){return n(t.overflowX)||n(t.overflowY)},jae=function(t){var n=window.getComputedStyle(t),a={overflowX:n.overflowX,overflowY:n.overflowY};return _T(a,yae)||_T(a,bae)},wae=function(){return!1},Nae=function e(t){return t==null?null:t===document.body?wae()?t:null:t===document.documentElement?null:jae(t)?t:e(t.parentElement)},AS=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Sae=function e(t){if(!t)return!1;var n=window.getComputedStyle(t);return n.position==="fixed"?!0:e(t.parentElement)},Cae=function(e){var t=Nae(e),n=Sae(e);return{closestScrollable:t,isFixedOnPage:n}},Aae=function(e){var t=e.descriptor,n=e.isEnabled,a=e.isCombineEnabled,s=e.isFixedOnPage,i=e.direction,o=e.client,l=e.page,c=e.closest,u=function(){if(!c)return null;var v=c.scrollSize,g=c.client,y=t8({scrollHeight:v.scrollHeight,scrollWidth:v.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:g,scrollSize:v,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:y,diff:{value:Qa,displacement:Qa}}}}(),h=i==="vertical"?HA:R7,f=Dm({page:l,withPlaceholder:null,axis:h,frame:u}),p={descriptor:t,isCombineEnabled:a,isFixedOnPage:s,axis:h,isEnabled:n,client:o,page:l,frame:u,subject:f};return p},Eae=function(t,n){var a=C7(t);if(!n||t!==n)return a;var s=a.paddingBox.top-n.scrollTop,i=a.paddingBox.left-n.scrollLeft,o=s+n.scrollHeight,l=i+n.scrollWidth,c={top:s,right:l,bottom:o,left:i},u=qA(c,a.border),h=zA({borderBox:u,margin:a.margin,border:a.border,padding:a.padding});return h},Pae=function(e){var t=e.ref,n=e.descriptor,a=e.env,s=e.windowScroll,i=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=a.closestScrollable,h=Eae(t,u),f=F0(h,s),p=function(){if(!u)return null;var g=C7(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:g,page:F0(g,s),scroll:AS(u),scrollSize:y,shouldClipSubject:c}}(),v=Aae({descriptor:n,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:a.isFixedOnPage,direction:i,client:h,page:f,closest:p});return v},Tae={passive:!1},Iae={passive:!0},kT=function(e){return e.shouldPublishImmediately?Tae:Iae};function U0(e){var t=S.useContext(e);return t||Nt(),t}var Ug=function(t){return t&&t.env.closestScrollable||null};function Dae(e){var t=S.useRef(null),n=U0(db),a=i4("droppable"),s=n.registry,i=n.marshal,o=c8(e),l=Wr(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=S.useRef(l),u=Wr(function(){return Xa(function(P,I){t.current||Nt();var w={x:P,y:I};i.updateDroppableScroll(l.id,w)})},[l.id,i]),h=Jt(function(){var P=t.current;return!P||!P.env.closestScrollable?Qa:AS(P.env.closestScrollable)},[]),f=Jt(function(){var P=h();u(P.x,P.y)},[h,u]),p=Wr(function(){return Fv(f)},[f]),v=Jt(function(){var P=t.current,I=Ug(P);P&&I||Nt();var w=P.scrollOptions;if(w.shouldPublishImmediately){f();return}p()},[p,f]),g=Jt(function(P,I){t.current&&Nt();var w=o.current,E=w.getDroppableRef();E||Nt();var C=Cae(E),_={ref:E,descriptor:l,env:C,scrollOptions:I};t.current=_;var M=Pae({ref:E,descriptor:l,env:C,windowScroll:P,direction:w.direction,isDropDisabled:w.isDropDisabled,isCombineEnabled:w.isCombineEnabled,shouldClipSubject:!w.ignoreContainerClipping}),k=C.closestScrollable;return k&&(k.setAttribute(PT.contextId,n.contextId),k.addEventListener("scroll",v,kT(_.scrollOptions))),M},[n.contextId,l,v,o]),y=Jt(function(){var P=t.current,I=Ug(P);return P&&I||Nt(),AS(I)},[]),x=Jt(function(){var P=t.current;P||Nt();var I=Ug(P);t.current=null,I&&(p.cancel(),I.removeAttribute(PT.contextId),I.removeEventListener("scroll",v,kT(P.scrollOptions)))},[v,p]),j=Jt(function(P){var I=t.current;I||Nt();var w=Ug(I);w||Nt(),w.scrollTop+=P.y,w.scrollLeft+=P.x},[]),b=Wr(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:y,dragStopped:x,scroll:j}},[x,g,y,j]),N=Wr(function(){return{uniqueId:a,descriptor:l,callbacks:b}},[b,l,a]);Yi(function(){return c.current=N.descriptor,s.droppable.register(N),function(){t.current&&x(),s.droppable.unregister(N)}},[b,l,x,N,i,s.droppable]),Yi(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Yi(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Aj(){}var OT={width:0,height:0,margin:ete},_ae=function(t){var n=t.isAnimatingOpenOnMount,a=t.placeholder,s=t.animate;return n||s==="close"?OT:{height:a.client.borderBox.height,width:a.client.borderBox.width,margin:a.client.margin}},kae=function(t){var n=t.isAnimatingOpenOnMount,a=t.placeholder,s=t.animate,i=_ae({isAnimatingOpenOnMount:n,placeholder:a,animate:s});return{display:a.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?bv.placeholder:null}};function Oae(e){var t=S.useRef(null),n=Jt(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),a=e.animate,s=e.onTransitionEnd,i=e.onClose,o=e.contextId,l=S.useState(e.animate==="open"),c=l[0],u=l[1];S.useEffect(function(){return c?a!=="open"?(n(),u(!1),Aj):t.current?Aj:(t.current=setTimeout(function(){t.current=null,u(!1)}),n):Aj},[a,c,n]);var h=Jt(function(p){p.propertyName==="height"&&(s(),a==="close"&&i())},[a,i,s]),f=kae({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Ne.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:h,ref:e.innerRef})}var Rae=Ne.memo(Oae),l4=Ne.createContext(null),Lae=function(e){m7(t,e);function t(){for(var a,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,a.state={isVisible:!!a.props.on,data:a.props.on,animate:a.props.shouldAnimate&&a.props.on?"open":"none"},a.onClose=function(){a.state.animate==="close"&&a.setState({isVisible:!1})},a}t.getDerivedStateFromProps=function(s,i){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var n=t.prototype;return n.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(Ne.PureComponent),RT={dragging:5e3,dropAnimating:4500},Fae=function(t,n){return n?bv.drop(n.duration):t?bv.snap:bv.fluid},Mae=function(t,n){return t?n?qv.opacity.drop:qv.opacity.combining:null},$ae=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function Bae(e){var t=e.dimension,n=t.client,a=e.offset,s=e.combineWith,i=e.dropping,o=!!s,l=$ae(e),c=!!i,u=c?NS.drop(a,o):NS.moveTo(a),h={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Fae(l,i),transform:u,opacity:Mae(o,c),zIndex:c?RT.dropAnimating:RT.dragging,pointerEvents:"none"};return h}function qae(e){return{transform:NS.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function zae(e){return e.type==="DRAGGING"?Bae(e):qae(e)}function Uae(e,t,n){n===void 0&&(n=Qa);var a=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=S7(s,a),o=F0(i,n),l={client:i,tagName:t.tagName.toLowerCase(),display:a.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:i,page:o};return u}function Vae(e){var t=i4("draggable"),n=e.descriptor,a=e.registry,s=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=Wr(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}},[i,l,o]),u=Jt(function(v){var g=s();return g||Nt(),Uae(n,g,v)},[n,s]),h=Wr(function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}},[n,u,c,t]),f=S.useRef(h),p=S.useRef(!0);Yi(function(){return a.draggable.register(f.current),function(){return a.draggable.unregister(f.current)}},[a.draggable]),Yi(function(){if(p.current){p.current=!1;return}var v=f.current;f.current=h,a.draggable.update(h,v)},[h,a.draggable])}function Wae(e){e.preventDefault()}function Hae(e){var t=S.useRef(null),n=Jt(function(_){t.current=_},[]),a=Jt(function(){return t.current},[]),s=U0(db),i=s.contextId,o=s.dragHandleUsageInstructionsId,l=s.registry,c=U0(l4),u=c.type,h=c.droppableId,f=Wr(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:h}},[e.draggableId,e.index,u,h]),p=e.children,v=e.draggableId,g=e.isEnabled,y=e.shouldRespectForcePress,x=e.canDragInteractiveElements,j=e.isClone,b=e.mapped,N=e.dropAnimationFinished;if(!j){var P=Wr(function(){return{descriptor:f,registry:l,getDraggableRef:a,canDragInteractiveElements:x,shouldRespectForcePress:y,isEnabled:g}},[f,l,a,x,y,g]);Vae(P)}var I=Wr(function(){return g?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":v,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Wae}:null},[i,o,v,g]),w=Jt(function(_){b.type==="DRAGGING"&&b.dropping&&_.propertyName==="transform"&&N()},[N,b]),E=Wr(function(){var _=zae(b),M=b.type==="DRAGGING"&&b.dropping?w:null,k={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":v,style:_,onTransitionEnd:M},dragHandleProps:I};return k},[i,I,v,b,w,n]),C=Wr(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return p(E,b.snapshot,C)}var x8=function(e,t){return e===t},g8=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},Gae=function(t){return t.combine?t.combine.draggableId:null},Kae=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function Yae(){var e=Xa(function(s,i){return{x:s,y:i}}),t=Xa(function(s,i,o,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null}}),n=Xa(function(s,i,o,l,c,u,h){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:s,dimension:o,forceShouldAnimate:h,snapshot:t(i,l,c,u,null)}}}),a=function(i,o){if(i.isDragging){if(i.critical.draggable.id!==o.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[o.draggableId],u=Ki(i.impact),h=Kae(i.impact),f=i.forceShouldAnimate;return n(e(l.x,l.y),i.movementMode,c,o.isClone,u,h,f)}if(i.phase==="DROP_ANIMATING"){var p=i.completed;if(p.result.draggableId!==o.draggableId)return null;var v=o.isClone,g=i.dimensions.draggables[o.draggableId],y=p.result,x=y.mode,j=g8(y),b=Gae(y),N=i.dropDuration,P={duration:N,curve:ZA.drop,moveTo:i.newHomeClientOffset,opacity:b?qv.opacity.drop:null,scale:b?qv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:g,dropping:P,draggingOver:j,combineWith:b,mode:x,forceShouldAnimate:null,snapshot:t(x,v,j,b,P)}}}return null};return a}function y8(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Xae={mapped:{type:"SECONDARY",offset:Qa,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:y8(null)}};function Qae(){var e=Xa(function(o,l){return{x:o,y:l}}),t=Xa(y8),n=Xa(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),a=function(l){return l?n(Qa,l,!0):null},s=function(l,c,u,h){var f=u.displaced.visible[l],p=!!(h.inVirtualList&&h.effected[l]),v=ob(u),g=v&&v.draggableId===l?c:null;if(!f){if(!p)return a(g);if(u.displaced.invisible[l])return null;var y=pp(h.displacedBy.point),x=e(y.x,y.y);return n(x,g,!0)}if(p)return a(g);var j=u.displacedBy.point,b=e(j.x,j.y);return n(b,g,f.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:s(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var Jae=function(){var t=Yae(),n=Qae(),a=function(i,o){return t(i,o)||n(i,o)||Xae};return a},Zae={dropAnimationFinished:J7},ese=w7(Jae,Zae,null,{context:s4,pure:!0,areStatePropsEqual:x8})(Hae);function b8(e){var t=U0(l4),n=t.isUsingCloneFor;return n===e.draggableId&&!e.isClone?null:Ne.createElement(ese,e)}function tse(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,a=!!e.shouldRespectForcePress;return Ne.createElement(b8,yt({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:a}))}function rse(e){var t=S.useContext(db);t||Nt();var n=t.contextId,a=t.isMovementAllowed,s=S.useRef(null),i=S.useRef(null),o=e.children,l=e.droppableId,c=e.type,u=e.mode,h=e.direction,f=e.ignoreContainerClipping,p=e.isDropDisabled,v=e.isCombineEnabled,g=e.snapshot,y=e.useClone,x=e.updateViewportMaxScroll,j=e.getContainerForClone,b=Jt(function(){return s.current},[]),N=Jt(function(k){s.current=k},[]);Jt(function(){return i.current},[]);var P=Jt(function(k){i.current=k},[]),I=Jt(function(){a()&&x({maxScroll:n8()})},[a,x]);Dae({droppableId:l,type:c,mode:u,direction:h,isDropDisabled:p,isCombineEnabled:v,ignoreContainerClipping:f,getDroppableRef:b});var w=Ne.createElement(Lae,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(k){var D=k.onClose,R=k.data,F=k.animate;return Ne.createElement(Rae,{placeholder:R,onClose:D,innerRef:P,animate:F,contextId:n,onTransitionEnd:I})}),E=Wr(function(){return{innerRef:N,placeholder:w,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}},[n,l,w,N]),C=y?y.dragging.draggableId:null,_=Wr(function(){return{droppableId:l,type:c,isUsingCloneFor:C}},[l,C,c]);function M(){if(!y)return null;var k=y.dragging,D=y.render,R=Ne.createElement(b8,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(F,z){return D(F,z,k)});return nA.createPortal(R,j())}return Ne.createElement(l4.Provider,{value:_},o(E,g),M())}var Ej=function(t,n){return t===n.droppable.type},LT=function(t,n){return n.draggables[t.draggable.id]},nse=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=yt({},t,{shouldAnimatePlaceholder:!1}),a=Xa(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),s=Xa(function(o,l,c,u,h,f){var p=h.descriptor.id,v=h.descriptor.droppableId===o;if(v){var g=f?{render:f,dragging:a(h.descriptor)}:null,y={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:g}}if(!l)return n;if(!u)return t;var x={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:h.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}}),i=function(l,c){var u=c.droppableId,h=c.type,f=!c.isDropDisabled,p=c.renderClone;if(l.isDragging){var v=l.critical;if(!Ej(h,v))return n;var g=LT(v,l.dimensions),y=Ki(l.impact)===u;return s(u,f,y,y,g,p)}if(l.phase==="DROP_ANIMATING"){var x=l.completed;if(!Ej(h,x.critical))return n;var j=LT(x.critical,l.dimensions);return s(u,f,g8(x.result)===u,Ki(x.impact)===u,j,p)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var b=l.completed;if(!Ej(h,b.critical))return n;var N=Ki(b.impact)===u,P=!!(b.impact.at&&b.impact.at.type==="COMBINE"),I=b.critical.droppable.id===u;return N?P?t:n:I?t:n}return n};return i},ase={updateViewportMaxScroll:fre};function sse(){return document.body||Nt(),document.body}var ise={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:sse},j8=w7(nse,ase,null,{context:s4,pure:!0,areStatePropsEqual:x8})(rse);j8.defaultProps=ise;const FT=[{stage:Ft.PROSPECTING,name:"Prospecting",color:"bg-blue-500"},{stage:Ft.QUALIFICATION,name:"Qualification",color:"bg-yellow-500"},{stage:Ft.NEEDS_ANALYSIS,name:"Needs Analysis",color:"bg-orange-500"},{stage:Ft.PROPOSAL,name:"Proposal",color:"bg-purple-500"},{stage:Ft.NEGOTIATION,name:"Negotiation",color:"bg-indigo-500"},{stage:Ft.CLOSED_WON,name:"Closed Won",color:"bg-green-500"},{stage:Ft.CLOSED_LOST,name:"Closed Lost",color:"bg-red-500"}];function ose({deals:e,onDealStageChange:t,onDealClick:n}){const[a,s]=S.useState(null),i=v=>{switch(v){case un.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case un.WON:return"bg-green-50 text-green-700 border-green-200";case un.LOST:return"bg-red-50 text-red-700 border-red-200";case un.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case un.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=v=>{switch(v){case"critical":return"bg-red-50 text-red-700 border-red-200";case"high":return"bg-orange-50 text-orange-700 border-orange-200";case"medium":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"low":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},l=v=>new Date(v.expectedCloseDate)<new Date&&v.status===un.ACTIVE,c=v=>{if(s(null),!v.destination||v.source.droppableId===v.destination.droppableId)return;const g=v.draggableId,y=v.destination.droppableId;t(g,y)},u=v=>{s(v.draggableId)},h=v=>e.filter(g=>g.stage===v),f=v=>h(v).reduce((g,y)=>g+y.value,0),p=v=>h(v).reduce((g,y)=>g+y.value*y.probability/100,0);return r.jsxs("div",{className:"space-y-6 pb-10",children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-7",children:FT.map(v=>{const g=h(v.stage),y=f(v.stage),x=p(v.stage);return r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:ot("w-3 h-3 rounded-full",v.color)}),r.jsx("span",{className:"text-xs text-muted-foreground",children:g.length})]}),r.jsx(Te,{className:"text-sm font-medium",children:v.name})]}),r.jsx(be,{className:"pt-0",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-lg font-bold",children:Me(y)}),r.jsxs("div",{className:"text-xs text-muted-foreground",children:["Weighted: ",Me(x)]})]})})]},v.stage)})}),r.jsx(gae,{onDragEnd:c,onDragStart:u,children:r.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-7 min-h-[600px]",children:FT.map(v=>r.jsx(j8,{droppableId:v.stage,children:(g,y)=>r.jsxs("div",{ref:g.innerRef,...g.droppableProps,className:ot("space-y-3 p-3 rounded-lg border-2 border-dashed transition-colors min-h-[200px]",y.isDraggingOver?"border-primary bg-primary/5":"border-muted"),children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx("div",{className:ot("w-3 h-3 rounded-full",v.color)}),r.jsx("h3",{className:"font-semibold text-sm",children:v.name})]}),h(v.stage).map((x,j)=>r.jsx(tse,{draggableId:x.id,index:j,children:(b,N)=>r.jsx(ye,{ref:b.innerRef,...b.draggableProps,...b.dragHandleProps,className:ot("cursor-pointer transition-all hover:shadow-md",N.isDragging&&"rotate-3 shadow-lg",a===x.id&&"opacity-50"),onClick:()=>n(x),children:r.jsx(be,{className:"p-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-sm line-clamp-2",children:x.name}),r.jsx("p",{className:"text-xs text-muted-foreground truncate",children:x.customerName})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-bold text-primary",children:Me(x.value)}),r.jsx(Ze,{className:ot("ri-badge-status text-xs",o(x.priority)),children:x.priority.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ar,{className:"h-3 w-3"}),r.jsxs("span",{children:[x.probability,"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(gn,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:new Date(x.expectedCloseDate).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ze,{className:ot("ri-badge-status text-xs",i(x.status)),children:x.status.toUpperCase()}),l(x)&&r.jsxs("div",{className:"flex items-center space-x-1 text-red-500",children:[r.jsx(xm,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{className:"text-xs",children:"Overdue"})]})]})]})})},x.id)},x.id)),g.placeholder]})},v.stage))})})]})}function lse({metrics:e}){const t=n=>n>=80?"text-green-600":n>=60?"text-yellow-600":"text-red-600";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),r.jsx(lr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Me(e.totalValue)}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(Oa,{className:"h-3 w-3 mr-1"}),e.totalDeals," active deals"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),r.jsx(ar,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Me(e.wonValue)}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(yi,{className:"h-3 w-3 mr-1"}),e.wonDeals," deals closed"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Win Rate"}),r.jsx(yi,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:[e.winRate.toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Industry average: 27%"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Avg Deal Size"}),r.jsx(lr,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Me(e.averageDealSize)}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(Ar,{className:"h-3 w-3 mr-1"}),e.averageSalesCycle.toFixed(0)," day cycle"]})]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Stage Conversion Rates"}),r.jsx(tt,{children:"Conversion rates and average time spent in each stage"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-6",children:e.conversionRates.map((n,a)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm font-medium capitalize",children:[n.fromStage.replace("_"," ")," → ",n.toStage.replace("_"," ")]}),r.jsxs("span",{className:`text-sm font-bold ${t(n.rate)}`,children:[n.rate.toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[r.jsx(Ar,{className:"h-3 w-3"}),r.jsxs("span",{children:[n.averageDuration,"h avg"]})]})]}),r.jsx(Xf,{value:n.rate,className:"h-2"})]},`${n.fromStage}-${n.toStage}`))})})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Pipeline Health"}),r.jsx(tt,{children:"Key performance indicators"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ar,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-900",children:"Win Rate"})]}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:[e.winRate.toFixed(1),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(lr,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Average Deal Size"})]}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:Me(e.averageDealSize)})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ar,{className:"h-4 w-4 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Sales Cycle"})]}),r.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[e.averageSalesCycle.toFixed(0)," days"]})]})]})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Deal Breakdown"}),r.jsx(tt,{children:"Current pipeline composition"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Deals"}),r.jsx("span",{className:"font-bold",children:e.totalDeals})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Won Deals"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-bold text-green-600",children:e.wonDeals}),r.jsxs("span",{className:"text-xs text-green-600",children:["(",Me(e.wonValue),")"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Lost Deals"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-bold text-red-600",children:e.lostDeals}),r.jsxs("span",{className:"text-xs text-red-600",children:["(",Me(e.lostValue),")"]})]})]}),r.jsx("div",{className:"pt-2 border-t",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Active Pipeline"}),r.jsx("span",{className:"font-bold text-primary",children:Me(e.totalValue-e.wonValue-e.lostValue)})]})})]})})]})]})]})}const cse=["Best Price","Superior Product Features","Excellent Service","Strong Relationship","Competitive Financing","Quick Delivery","Brand Reputation","Referral/Recommendation"],use=["Price Too High","Lost to Competitor","Budget Constraints","Timing Issues","Product Limitations","Service Concerns","Decision Delayed","Requirements Changed"],dse=["Camping World","Lazydays","General RV","PPL Motor Homes","Local Dealer","Private Seller","Other"];function fse({deals:e,winLossReports:t,onCreateReport:n}){const[a,s]=S.useState(!1),[i,o]=S.useState(null),[l,c]=S.useState({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}),u=e.filter(w=>w.status==="won"||w.status==="lost"),h=e.filter(w=>w.status==="won"),f=e.filter(w=>w.status==="lost"),p=u.length>0?h.length/u.length*100:0,v=h.length>0?h.reduce((w,E)=>w+E.value,0)/h.length:0,g=f.length>0?f.reduce((w,E)=>w+E.value,0)/f.length:0,y=w=>{o(w),c({...l,outcome:w.status==="won"?"won":"lost"}),s(!0)},x=()=>{i&&(n(i.id,l.outcome,l),s(!1),o(null),c({outcome:"won",primaryReason:"",secondaryReasons:[],competitorWon:"",feedback:"",lessonsLearned:[],actionItems:[]}))},j=(w,E,C)=>{E.trim()&&!w.includes(E.trim())&&C([...w,E.trim()])},b=(w,E,C)=>{C(w.filter((_,M)=>M!==E))},N=w=>{const E=t.filter(_=>_.outcome===w),C={};return E.forEach(_=>{C[_.primaryReason]=(C[_.primaryReason]||0)+1}),Object.entries(C).sort(([,_],[,M])=>M-_).slice(0,5).map(([_,M])=>({reason:_,count:M,percentage:E.length>0?M/E.length*100:0}))},P=N("won"),I=N("lost");return r.jsxs("div",{className:"space-y-6",children:[a&&i&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Win/Loss Report"}),r.jsxs(tt,{children:[i.name," - ",Me(i.value)]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Outcome"}),r.jsxs(Xe,{value:l.outcome,onValueChange:w=>c(E=>({...E,outcome:w})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"won",children:"Won"}),r.jsx(ee,{value:"lost",children:"Lost"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Primary Reason"}),r.jsxs(Xe,{value:l.primaryReason,onValueChange:w=>c(E=>({...E,primaryReason:w})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select primary reason"})}),r.jsx(Ye,{children:(l.outcome==="won"?cse:use).map(w=>r.jsx(ee,{value:w,children:w},w))})]})]}),l.outcome==="lost"&&r.jsxs("div",{children:[r.jsx(ie,{children:"Competitor Won"}),r.jsxs(Xe,{value:l.competitorWon,onValueChange:w=>c(E=>({...E,competitorWon:w})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select competitor"})}),r.jsx(Ye,{children:dse.map(w=>r.jsx(ee,{value:w,children:w},w))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Customer Feedback"}),r.jsx(wr,{value:l.feedback,onChange:w=>c(E=>({...E,feedback:w.target.value})),placeholder:"What did the customer say about their decision?",rows:3})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Lessons Learned"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{placeholder:"Add a lesson learned",onKeyDown:w=>{if(w.key==="Enter"){w.preventDefault();const E=w.currentTarget;j(l.lessonsLearned,E.value,C=>c(_=>({..._,lessonsLearned:C}))),E.value=""}}}),r.jsx(ae,{type:"button",variant:"outline",onClick:w=>{const E=w.currentTarget.previousElementSibling;j(l.lessonsLearned,E.value,C=>c(_=>({..._,lessonsLearned:C}))),E.value=""},children:r.jsx(qt,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.lessonsLearned.map((w,E)=>r.jsxs(Ze,{variant:"secondary",className:"flex items-center gap-1",children:[w,r.jsx(cr,{className:"h-3 w-3 cursor-pointer",onClick:()=>b(l.lessonsLearned,E,C=>c(_=>({..._,lessonsLearned:C})))})]},E))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Action Items"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{placeholder:"Add an action item",onKeyDown:w=>{if(w.key==="Enter"){w.preventDefault();const E=w.currentTarget;j(l.actionItems,E.value,C=>c(_=>({..._,actionItems:C}))),E.value=""}}}),r.jsx(ae,{type:"button",variant:"outline",onClick:w=>{const E=w.currentTarget.previousElementSibling;j(l.actionItems,E.value,C=>c(_=>({..._,actionItems:C}))),E.value=""},children:r.jsx(qt,{className:"h-4 w-4"})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.actionItems.map((w,E)=>r.jsxs(Ze,{variant:"secondary",className:"flex items-center gap-1",children:[w,r.jsx(cr,{className:"h-3 w-3 cursor-pointer",onClick:()=>b(l.actionItems,E,C=>c(_=>({..._,actionItems:C})))})]},E))})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),r.jsxs(ae,{onClick:x,children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Report"]})]})]})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Win Rate"}),r.jsx(yi,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:[p.toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(Oa,{className:"h-3 w-3 mr-1"}),u.length," closed deals"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Won Deals"}),r.jsx(ar,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:h.length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),Me(v)," avg"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-red-900",children:"Lost Deals"}),r.jsx(gm,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-900",children:f.length}),r.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[r.jsx(gm,{className:"h-3 w-3 mr-1"}),Me(g)," avg"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Reports"}),r.jsx(Oa,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:t.length}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(Oa,{className:"h-3 w-3 mr-1"}),"Completed reports"]})]})]})]}),r.jsxs(Or,{defaultValue:"analysis",className:"space-y-6",children:[r.jsxs(kr,{children:[r.jsx(ut,{value:"analysis",children:"Analysis"}),r.jsx(ut,{value:"closed-deals",children:"Closed Deals"}),r.jsx(ut,{value:"reports",children:"Reports"})]}),r.jsxs(ft,{value:"analysis",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(ar,{className:"h-5 w-5 mr-2 text-green-500"}),"Win Reasons"]}),r.jsx(tt,{children:"Top reasons for winning deals"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:P.length>0?P.map((w,E)=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:w.reason}),r.jsxs("span",{className:"text-sm text-green-600",children:[w.percentage.toFixed(0),"%"]})]}),r.jsx(Xf,{value:w.percentage,className:"h-2"})]},E)):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win reports available"})})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(gm,{className:"h-5 w-5 mr-2 text-red-500"}),"Loss Reasons"]}),r.jsx(tt,{children:"Top reasons for losing deals"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:I.length>0?I.map((w,E)=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:w.reason}),r.jsxs("span",{className:"text-sm text-red-600",children:[w.percentage.toFixed(0),"%"]})]}),r.jsx(Xf,{value:w.percentage,className:"h-2"})]},E)):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No loss reports available"})})})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Lessons Learned"}),r.jsx(tt,{children:"Key insights from win/loss reports"})]}),r.jsx(be,{children:t.length>0?r.jsx("div",{className:"space-y-4",children:t.slice(0,5).map((w,E)=>r.jsxs("div",{className:"p-3 rounded-lg bg-muted/30",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[w.outcome==="won"?r.jsx(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:"WON"}):r.jsx(Ze,{className:"bg-red-50 text-red-700 border-red-200",children:"LOST"}),r.jsx("span",{className:"text-sm font-medium",children:w.primaryReason})]}),r.jsx("div",{className:"space-y-2",children:w.lessonsLearned.map((C,_)=>r.jsxs("p",{className:"text-sm text-muted-foreground",children:["• ",C]},_))})]},E))}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No lessons learned available"})})]})]}),r.jsx(ft,{value:"closed-deals",className:"space-y-6",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Recently Closed Deals"}),r.jsx(tt,{children:"Deals that have been won or lost"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:u.length>0?u.map(w=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold",children:w.name}),r.jsx(Ze,{className:w.status==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:w.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",w.customerName]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Value:"})," ",Me(w.value)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Closed:"})," ",w.actualCloseDate?Et(w.actualCloseDate):"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Rep:"})," ",w.assignedTo]})]})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>y(w),className:"shadow-sm",children:[r.jsx(qt,{className:"h-3 w-3 mr-1"}),"Report"]})]},w.id)):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No closed deals available"})})})]})}),r.jsx(ft,{value:"reports",className:"space-y-6",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Win/Loss Reports"}),r.jsx(tt,{children:"Detailed reports on won and lost deals"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:t.length>0?t.map(w=>{const E=e.find(C=>C.id===w.dealId);return r.jsxs("div",{className:"p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ze,{className:w.outcome==="won"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",children:w.outcome.toUpperCase()}),r.jsx("h3",{className:"font-semibold",children:E?.name||"Unknown Deal"})]}),r.jsx("span",{className:"text-sm text-muted-foreground",children:Et(w.reportedAt)})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Reasons"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Primary:"})," ",w.primaryReason]}),w.secondaryReasons.length>0&&r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Secondary:"})," ",w.secondaryReasons.join(", ")]}),w.competitorWon&&r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Competitor:"})," ",w.competitorWon]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Feedback"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:w.feedback})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Lessons & Action Items"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Lessons Learned:"}),r.jsx("ul",{className:"text-sm space-y-1",children:w.lessonsLearned.map((C,_)=>r.jsxs("li",{children:["• ",C]},_))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Action Items:"}),r.jsx("ul",{className:"text-sm space-y-1",children:w.actionItems.map((C,_)=>r.jsxs("li",{children:["• ",C]},_))})]})]})]})]},w.id)}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No win/loss reports available"})})})]})})]})]})}function hse({deal:e,onClose:t,onEdit:n}){const a=l=>{switch(l){case un.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case un.WON:return"bg-green-50 text-green-700 border-green-200";case un.LOST:return"bg-red-50 text-red-700 border-red-200";case un.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case un.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},s=l=>{switch(l){case ec.CRITICAL:return"bg-red-50 text-red-700 border-red-200";case ec.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case ec.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ec.LOW:return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=l=>{switch(l){case Ft.PROSPECTING:return"bg-blue-50 text-blue-700 border-blue-200";case Ft.QUALIFICATION:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ft.NEEDS_ANALYSIS:return"bg-orange-50 text-orange-700 border-orange-200";case Ft.PROPOSAL:return"bg-purple-50 text-purple-700 border-purple-200";case Ft.NEGOTIATION:return"bg-indigo-50 text-indigo-700 border-indigo-200";case Ft.CLOSED_WON:return"bg-green-50 text-green-700 border-green-200";case Ft.CLOSED_LOST:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},o=l=>new Date(l.expectedCloseDate)<new Date&&l.status===un.ACTIVE;return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-xl",children:e.name}),r.jsx(tt,{children:"Deal details and information"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Deal"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",a(e.status)),children:e.status.toUpperCase()}),r.jsx(Ze,{className:ot("ri-badge-status",i(e.stage)),children:e.stage.replace("_"," ").toUpperCase()}),r.jsx(Ze,{className:ot("ri-badge-status",s(e.priority)),children:e.priority.toUpperCase()}),o(e)&&r.jsxs(Ze,{className:"bg-red-50 text-red-700 border-red-200",children:[r.jsx(Vi,{className:"h-3 w-3 mr-1"}),"OVERDUE"]}),e.requiresApproval&&r.jsx(Ze,{className:"bg-orange-50 text-orange-700 border-orange-200",children:"REQUIRES APPROVAL"})]}),r.jsxs(Or,{defaultValue:"overview",className:"space-y-4",children:[r.jsxs(kr,{children:[r.jsx(ut,{value:"overview",children:"Overview"}),r.jsx(ut,{value:"products",children:"Products"}),r.jsx(ut,{value:"history",children:"History"})]}),r.jsxs(ft,{value:"overview",className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),r.jsx("p",{className:"font-medium",children:e.customerName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Value"}),r.jsx("p",{className:"font-bold text-primary text-lg",children:Me(e.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Probability"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yi,{className:"h-4 w-4 text-blue-500"}),r.jsxs("p",{className:"font-medium",children:[e.probability,"%"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expected Close"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(gn,{className:"h-4 w-4 text-purple-500"}),r.jsx("p",{className:"font-medium",children:Et(e.expectedCloseDate)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fs,{className:"h-4 w-4 text-green-500"}),r.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Territory"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ou,{className:"h-4 w-4 text-orange-500"}),r.jsx("p",{className:"font-medium",children:e.territoryId||"No Territory"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ar,{className:"h-4 w-4 text-blue-500"}),r.jsx("p",{className:"font-medium",children:Et(e.createdAt)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ar,{className:"h-4 w-4 text-blue-500"}),r.jsx("p",{className:"font-medium",children:Et(e.updatedAt)})]})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.notes})})]}),Object.keys(e.customFields||{}).length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Custom Fields"}),r.jsx("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:Object.entries(e.customFields||{}).map(([l,c])=>r.jsxs("div",{className:"p-2 bg-muted/30 rounded-md",children:[r.jsxs("span",{className:"text-sm font-medium capitalize",children:[l.replace(/([A-Z])/g," $1").trim(),": "]}),r.jsx("span",{className:"text-sm",children:c?.toString()})]},l))})]})]}),r.jsxs(ft,{value:"products",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Products & Services"}),e.products&&e.products.length>0?r.jsxs("div",{className:"space-y-3",children:[e.products.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Rs,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"font-medium",children:l.productName})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-muted-foreground",children:[r.jsxs("span",{children:["Quantity: ",l.quantity]}),r.jsxs("span",{children:["Unit Price: ",Me(l.unitPrice)]}),l.discount>0&&r.jsxs("span",{className:"text-green-600",children:["Discount: ",Me(l.discount)]})]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"font-bold",children:Me(l.total)})})]},l.id)),r.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),r.jsx("span",{className:"text-lg font-bold text-primary",children:Me(e.value)})]})})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Rs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No products added to this deal"}),r.jsx("p",{className:"text-sm",children:"Edit the deal to add products"})]})]}),r.jsxs(ft,{value:"history",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Stage History"}),e.stageHistory&&e.stageHistory.length>0?r.jsx("div",{className:"space-y-3",children:e.stageHistory.map((l,c)=>r.jsxs("div",{className:"relative",children:[c<e.stageHistory.length-1&&r.jsx("div",{className:"absolute left-4 top-8 bottom-0 w-px bg-border"}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:c+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("span",{className:"font-medium capitalize",children:l.fromStage?`${l.fromStage.replace("_"," ")} → ${l.toStage.replace("_"," ")}`:`Started at ${l.toStage.replace("_"," ")}`}),r.jsx("span",{className:"text-xs text-muted-foreground",children:Et(l.changedAt)})]}),l.duration!==void 0&&r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Duration: ",l.duration," hours"]}),l.notes&&r.jsx("div",{className:"mt-1 text-sm bg-muted/30 p-2 rounded-md",children:l.notes})]})]})]},c))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Ar,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No stage history available"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Close"}),r.jsxs(ae,{onClick:()=>n(e),children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Deal"]})]})]})]})})}function mse({territories:e,salesReps:t,deals:n,onCreateTerritory:a,onUpdateTerritory:s,onDeleteTerritory:i}){const[o,l]=S.useState(!1),[c,u]=S.useState(null),[h,f]=S.useState({name:"",type:vd.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),[p,v]=S.useState({field:"",operator:"equals",value:"",priority:1}),g=()=>{u(null),f({name:"",type:vd.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}),l(!0)},y=w=>{u(w),f({name:w.name,type:w.type,description:w.description,assignedTo:[...w.assignedTo],rules:[...w.rules],isActive:w.isActive}),l(!0)},x=()=>{h.name&&(c?s(c.id,h):a(h),l(!1),u(null),f({name:"",type:vd.GEOGRAPHIC,description:"",assignedTo:[],rules:[],isActive:!0}))},j=()=>{if(!p.field||!p.operator)return;const w={id:Math.random().toString(36).substr(2,9),field:p.field,operator:p.operator,value:p.value,priority:p.priority||1};f(E=>({...E,rules:[...E.rules||[],w]})),v({field:"",operator:"equals",value:"",priority:1})},b=w=>{f(E=>({...E,rules:E.rules?.filter(C=>C.id!==w)||[]}))},N=(w,E)=>{f(E?C=>({...C,assignedTo:[...C.assignedTo||[],w]}):C=>({...C,assignedTo:C.assignedTo?.filter(_=>_!==w)||[]}))},P=w=>n.filter(C=>C.territoryId===w).length,I=w=>{const E=e.find(C=>C.id===w);return E?t.filter(C=>E.assignedTo.includes(C.id)):[]};return r.jsxs("div",{className:"space-y-6",children:[o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:c?"Edit Territory":"Create Territory"}),r.jsx(tt,{children:c?"Update territory details and rules":"Define a new sales territory"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Territory Name *"}),r.jsx(Ee,{id:"name",value:h.name,onChange:w=>f(E=>({...E,name:w.target.value})),placeholder:"e.g., North Region"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"type",children:"Territory Type"}),r.jsxs(Xe,{value:h.type,onValueChange:w=>f(E=>({...E,type:w})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:vd.GEOGRAPHIC,children:"Geographic"}),r.jsx(ee,{value:vd.INDUSTRY,children:"Industry"}),r.jsx(ee,{value:vd.ACCOUNT_SIZE,children:"Account Size"}),r.jsx(ee,{value:vd.PRODUCT_LINE,children:"Product Line"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"description",children:"Description"}),r.jsx(wr,{id:"description",value:h.description,onChange:w=>f(E=>({...E,description:w.target.value})),placeholder:"Describe the territory",rows:3})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx(ie,{children:"Territory Rules"})}),r.jsxs("div",{className:"space-y-4",children:[h.rules?.map(w=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:w.field}),r.jsx("span",{className:"text-muted-foreground",children:w.operator}),r.jsx("span",{children:w.value.toString()})]}),r.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Priority: ",w.priority]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>b(w.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]},w.id)),r.jsx(ye,{className:"border-dashed",children:r.jsxs(be,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Field"}),r.jsxs(Xe,{value:p.field,onValueChange:w=>v(E=>({...E,field:w})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select field"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"state",children:"State"}),r.jsx(ee,{value:"zipCode",children:"Zip Code"}),r.jsx(ee,{value:"country",children:"Country"}),r.jsx(ee,{value:"industry",children:"Industry"}),r.jsx(ee,{value:"dealSize",children:"Deal Size"}),r.jsx(ee,{value:"productType",children:"Product Type"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Operator"}),r.jsxs(Xe,{value:p.operator,onValueChange:w=>v(E=>({...E,operator:w})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"equals",children:"Equals"}),r.jsx(ee,{value:"contains",children:"Contains"}),r.jsx(ee,{value:"starts_with",children:"Starts With"}),r.jsx(ee,{value:"in_range",children:"In Range"}),r.jsx(ee,{value:"greater_than",children:"Greater Than"}),r.jsx(ee,{value:"less_than",children:"Less Than"})]})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(ie,{children:"Value"}),r.jsx(Ee,{value:p.value?.toString()||"",onChange:w=>v(E=>({...E,value:w.target.value})),placeholder:"Rule value"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"For multiple values, separate with commas"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx(ie,{children:"Priority"}),r.jsxs(Xe,{value:p.priority?.toString()||"1",onValueChange:w=>v(E=>({...E,priority:parseInt(w)})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"1",children:"1 - Highest"}),r.jsx(ee,{value:"2",children:"2"}),r.jsx(ee,{value:"3",children:"3"}),r.jsx(ee,{value:"4",children:"4"}),r.jsx(ee,{value:"5",children:"5 - Lowest"})]})]})]}),r.jsx("div",{className:"flex justify-end mt-4",children:r.jsxs(ae,{onClick:j,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Rule"]})})]})})]})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"mb-2 block",children:"Assign Sales Reps"}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded-lg",children:t.map(w=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:`rep-${w.id}`,checked:h.assignedTo?.includes(w.id),onCheckedChange:E=>N(w.id,!!E)}),r.jsx(ie,{htmlFor:`rep-${w.id}`,className:"text-sm cursor-pointer",children:w.name})]},w.id))})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isActive",checked:h.isActive,onCheckedChange:w=>f(E=>({...E,isActive:!!w}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active territory"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsxs(ae,{onClick:x,children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),c?"Update":"Create"," Territory"]})]})]})]})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Territory Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Define and manage sales territories and assignment rules"})]}),r.jsxs(ae,{onClick:g,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Create Territory"]})]}),r.jsxs("div",{className:"space-y-6",children:[e.map(w=>r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Te,{children:w.name}),r.jsx(Ze,{className:w.isActive?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:w.isActive?"Active":"Inactive"}),r.jsx(Ze,{variant:"outline",children:w.type.replace("_"," ")})]}),r.jsx(tt,{className:"mt-1",children:w.description})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>y(w),children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),r.jsx(be,{children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Rules"}),r.jsxs("div",{className:"space-y-2",children:[w.rules.map(E=>r.jsx("div",{className:"p-2 bg-muted/30 rounded-lg text-sm",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:E.field}),r.jsx("span",{className:"text-muted-foreground",children:E.operator}),r.jsx("span",{children:E.value.toString()})]})},E.id)),w.rules.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"No rules defined"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Assigned Sales Reps"}),r.jsxs("div",{className:"space-y-2",children:[I(w.id).map(E=>r.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-lg",children:[r.jsx(Na,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-sm",children:E.name})]},E.id)),w.assignedTo.length===0&&r.jsx("p",{className:"text-sm text-muted-foreground",children:"No reps assigned"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Territory Stats"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-blue-700",children:"Deals"}),r.jsx("span",{className:"font-bold text-blue-700",children:P(w.id)})]}),r.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"text-sm text-green-700",children:"Reps"}),r.jsx("span",{className:"font-bold text-green-700",children:w.assignedTo.length})]})]})]})]})})]},w.id)),e.length===0&&r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(ou,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Territories Defined"}),r.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create territories to organize your sales team and deals by region, industry, or other criteria."}),r.jsxs(ae,{onClick:g,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Create First Territory"]})]})})]})]})}function pse({deals:e,approvalWorkflows:t,onApprove:n,onReject:a,onEscalate:s}){const[i,o]=S.useState("pending"),[l,c]=S.useState(null),[u,h]=S.useState(""),f=b=>{switch(b){case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"escalated":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=b=>{switch(b){case"pending":return r.jsx(Ar,{className:"h-4 w-4 text-yellow-500"});case"approved":return r.jsx(yn,{className:"h-4 w-4 text-green-500"});case"rejected":return r.jsx(Ao,{className:"h-4 w-4 text-red-500"});case"escalated":return r.jsx(Vi,{className:"h-4 w-4 text-orange-500"});default:return r.jsx(Ar,{className:"h-4 w-4 text-gray-500"})}},v=b=>t.filter(N=>N.status===b),g=b=>e.find(N=>N.id===b),y=()=>{if(!l)return;const b=l.steps.find(N=>N.stepNumber===l.currentStep);b&&(n(l.id,b.id,u),h(""),c(null))},x=()=>{if(!l)return;const b=l.steps.find(N=>N.stepNumber===l.currentStep);b&&(a(l.id,b.id,u),h(""),c(null))},j=()=>{if(!l)return;const b=l.steps.find(N=>N.stepNumber===l.currentStep);b&&(s(l.id,b.id,u),h(""),c(null))};return r.jsxs("div",{className:"space-y-6",children:[l&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Approval Request"}),r.jsx(tt,{children:g(l.dealId)?.name||"Unknown Deal"})]}),r.jsx(Ze,{className:ot("ri-badge-status",f(l.status)),children:l.status.toUpperCase()})]})}),r.jsxs(be,{className:"space-y-6",children:[r.jsx("div",{className:"p-4 bg-muted/30 rounded-lg",children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:(()=>{const b=g(l.dealId);return b?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Customer:"}),r.jsx("p",{className:"text-sm",children:b.customerName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-sm font-bold",children:Me(b.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Stage:"}),r.jsx("p",{className:"text-sm",children:b.stage.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Assigned To:"}),r.jsx("p",{className:"text-sm",children:b.assignedTo})]})]}):null})()})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Workflow Details"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Type:"}),r.jsx("p",{className:"text-sm",children:l.workflowType.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),r.jsx("p",{className:"text-sm",children:l.requestedBy})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),r.jsx("p",{className:"text-sm",children:Et(l.requestedAt)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Current Step:"}),r.jsxs("p",{className:"text-sm",children:[l.currentStep," of ",l.totalSteps]})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"comments",children:"Comments"}),r.jsx(wr,{id:"comments",value:u,onChange:b=>h(b.target.value),placeholder:"Add your comments here...",rows:3})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Approval Steps"}),r.jsx("div",{className:"space-y-4",children:l.steps.map((b,N)=>{const P=b.stepNumber===l.currentStep,I=b.stepNumber<l.currentStep;return r.jsxs("div",{className:ot("p-3 rounded-lg border-2",P?"border-primary bg-primary/5":I?"border-muted bg-muted/10":"border-dashed border-muted"),children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-muted text-xs font-bold",children:b.stepNumber}),r.jsx("span",{className:"font-medium",children:b.approverRole.replace("_"," ")})]}),r.jsxs(Ze,{className:ot("ri-badge-status",f(b.status)),children:[p(b.status),r.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),r.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Requires ",b.requiredApprovals," approval(s) from ",b.approverIds.length," approver(s)"]}),b.currentApprovals.length>0&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsx("h4",{className:"text-xs font-medium",children:"Approvals:"}),b.currentApprovals.map((w,E)=>r.jsxs("div",{className:"flex items-start space-x-2 text-xs p-2 bg-muted/30 rounded",children:[w.action==="approve"?r.jsx(aV,{className:"h-3 w-3 text-green-500 mt-0.5"}):w.action==="reject"?r.jsx(nV,{className:"h-3 w-3 text-red-500 mt-0.5"}):r.jsx(Vi,{className:"h-3 w-3 text-orange-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:w.approverId}),r.jsx("div",{className:"text-muted-foreground",children:Et(w.actionDate)}),w.comments&&r.jsx("div",{className:"mt-1 italic",children:w.comments})]})]},E))]})]},b.id)})})]}),l.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"comments",children:"Comments"}),r.jsx(wr,{id:"comments",value:u,onChange:b=>h(b.target.value),placeholder:"Add your comments here...",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:()=>c(null),children:"Cancel"}),r.jsxs(ae,{variant:"outline",onClick:j,children:[r.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Escalate"]}),r.jsxs(ae,{variant:"destructive",onClick:x,children:[r.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Reject"]}),r.jsxs(ae,{variant:"default",onClick:y,children:[r.jsx(yn,{className:"h-4 w-4 mr-2"}),"Approve"]})]})]}),l.status!=="pending"&&r.jsx("div",{className:"flex justify-end pt-6 border-t",children:r.jsx(ae,{variant:"outline",onClick:()=>c(null),children:"Close"})})]})]})}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Approval Workflows"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage approval requests for deals above threshold"})]})}),r.jsxs(Or,{value:i,onValueChange:o,className:"space-y-6",children:[r.jsxs(kr,{children:[r.jsxs(ut,{value:"pending",children:["Pending",r.jsx(Ze,{className:"ml-2 bg-yellow-50 text-yellow-700 border-yellow-200",children:v("pending").length})]}),r.jsxs(ut,{value:"approved",children:["Approved",r.jsx(Ze,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:v("approved").length})]}),r.jsxs(ut,{value:"rejected",children:["Rejected",r.jsx(Ze,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:v("rejected").length})]}),r.jsxs(ut,{value:"escalated",children:["Escalated",r.jsx(Ze,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",children:v("escalated").length})]})]}),r.jsx(ft,{value:"pending",className:"space-y-4",children:v("pending").length>0?v("pending").map(b=>{const N=g(b.dealId);return N?r.jsx(ye,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(b),children:r.jsxs(be,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:N.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.customerName})]}),r.jsxs(Ze,{className:ot("ri-badge-status",f(b.status)),children:[p(b.status),r.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:Me(N.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested By:"}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(fs,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-sm",children:b.requestedBy})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),r.jsx("p",{className:"text-sm",children:Et(b.requestedAt)})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Approval Progress:"}),r.jsxs("span",{className:"text-sm",children:[b.currentStep," of ",b.totalSteps]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:b.steps.map((P,I)=>{const w=P.stepNumber<b.currentStep,E=P.stepNumber===b.currentStep;return r.jsxs(Ne.Fragment,{children:[r.jsx("div",{className:ot("flex items-center justify-center w-8 h-8 rounded-full",w?"bg-primary text-primary-foreground":E?"bg-primary/20 text-primary border-2 border-primary":"bg-muted text-muted-foreground"),children:P.stepNumber}),I<b.steps.length-1&&r.jsx(HU,{className:"h-4 w-4 text-muted-foreground"})]},P.id)})})]})]})},b.id):null}):r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Ar,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Pending Approvals"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"There are no deals currently waiting for your approval."})]})})}),r.jsx(ft,{value:"approved",className:"space-y-4",children:v("approved").length>0?v("approved").map(b=>{const N=g(b.dealId);return N?r.jsx(ye,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(b),children:r.jsxs(be,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:N.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.customerName})]}),r.jsxs(Ze,{className:ot("ri-badge-status",f(b.status)),children:[p(b.status),r.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:Me(N.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),r.jsx("p",{className:"text-sm",children:b.completedAt?Et(b.completedAt):"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),r.jsx("p",{className:"text-sm capitalize",children:b.workflowType.replace("_"," ")})]})]})]})},b.id):null}):r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(yn,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Approved Workflows"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"There are no approved deal workflows yet."})]})})}),r.jsx(ft,{value:"rejected",className:"space-y-4",children:v("rejected").length>0?v("rejected").map(b=>{const N=g(b.dealId);return N?r.jsx(ye,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(b),children:r.jsxs(be,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:N.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.customerName})]}),r.jsxs(Ze,{className:ot("ri-badge-status",f(b.status)),children:[p(b.status),r.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:Me(N.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Completed:"}),r.jsx("p",{className:"text-sm",children:b.completedAt?Et(b.completedAt):"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),r.jsx("p",{className:"text-sm capitalize",children:b.workflowType.replace("_"," ")})]})]})]})},b.id):null}):r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Ao,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Rejected Workflows"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"There are no rejected deal workflows."})]})})}),r.jsx(ft,{value:"escalated",className:"space-y-4",children:v("escalated").length>0?v("escalated").map(b=>{const N=g(b.dealId);return N?r.jsx(ye,{className:"shadow-sm hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(b),children:r.jsxs(be,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:N.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:N.customerName})]}),r.jsxs(Ze,{className:ot("ri-badge-status",f(b.status)),children:[p(b.status),r.jsx("span",{className:"ml-1",children:b.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Deal Value:"}),r.jsx("p",{className:"text-lg font-bold text-primary",children:Me(N.value)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Requested:"}),r.jsx("p",{className:"text-sm",children:Et(b.requestedAt)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Workflow Type:"}),r.jsx("p",{className:"text-sm capitalize",children:b.workflowType.replace("_"," ")})]})]})]})},b.id):null}):r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Vi,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Escalated Workflows"}),r.jsx("p",{className:"text-muted-foreground text-center",children:"There are no escalated deal workflows."})]})})})]})]})}function vse({deal:e,customers:t,salesReps:n,territories:a,products:s,onSave:i,onCancel:o}){const{toast:l}=Ht(),[c,u]=S.useState(!1),[h,f]=S.useState({name:"",customerId:"",customerName:"",stage:Ft.PROSPECTING,status:un.ACTIVE,priority:ec.MEDIUM,value:0,probability:10,expectedCloseDate:new Date(Date.now()+30*24*60*60*1e3),assignedTo:"",territoryId:"",sourceId:"",competitorIds:[],products:[],notes:"",requiresApproval:!1,customFields:{}}),[p,v]=S.useState(!1),[g,y]=S.useState(!1),[x,j]=S.useState({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0});S.useEffect(()=>{e&&f({...e,expectedCloseDate:new Date(e.expectedCloseDate)})},[e]),S.useEffect(()=>{if(h.customerId){const E=t.find(C=>C.id===h.customerId);E&&f(C=>({...C,customerName:`${E.firstName} ${E.lastName}`}))}},[h.customerId,t]),S.useEffect(()=>{if(h.products&&h.products.length>0){const E=h.products.reduce((C,_)=>C+_.total,0);f(C=>({...C,value:E}))}},[h.products]),S.useEffect(()=>{const E=x.quantity||1,C=x.unitPrice||0,_=x.discount||0,M=E*C-_;j(k=>({...k,total:M}))},[x.quantity,x.unitPrice,x.discount]);const b=async E=>{if(E.preventDefault(),!h.name||!h.customerId||!h.expectedCloseDate){l({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}u(!0);try{await i(h),l({title:"Success",description:`Deal ${e?"updated":"created"} successfully`})}catch{l({title:"Error",description:`Failed to ${e?"update":"create"} deal`,variant:"destructive"})}finally{u(!1)}},N=()=>{if(!x.productId||!x.productName){l({title:"Validation Error",description:"Please select a product",variant:"destructive"});return}const E={id:Math.random().toString(36).substr(2,9),productId:x.productId,productName:x.productName,quantity:x.quantity||1,unitPrice:x.unitPrice||0,discount:x.discount||0,total:x.total||0};f(C=>({...C,products:[...C.products||[],E]})),j({productId:"",productName:"",quantity:1,unitPrice:0,discount:0,total:0}),v(!1)},P=E=>{f(C=>({...C,products:C.products?.filter(_=>_.id!==E)||[]}))},I=E=>{const C=s.find(_=>_.id===E);C&&j({productId:C.id,productName:C.name,quantity:1,unitPrice:C.price,discount:0,total:C.price})},w=E=>{f(C=>({...C,customerId:E.id,customerName:`${E.firstName} ${E.lastName}`})),y(!1),l({title:"Customer Added",description:`${E.firstName} ${E.lastName} has been added as a customer.`})};return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[g&&r.jsx(mp,{onClose:()=>y(!1),onSuccess:w}),r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Deal":"Create Deal"}),r.jsx(tt,{children:e?"Update deal details":"Create a new sales deal"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:o,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(yi,{className:"h-4 w-4 mr-2"}),"Deal Information"]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Deal Name *"}),r.jsx(Ee,{id:"name",value:h.name,onChange:E=>f(C=>({...C,name:E.target.value})),placeholder:"Enter deal name"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"customerId",children:"Customer *"}),r.jsxs(Xe,{value:h.customerId||"",onValueChange:E=>f(C=>({...C,customerId:E})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select customer"})}),r.jsxs(Ye,{children:[r.jsx("div",{className:"px-2 py-1.5",children:r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>y(!0),children:[r.jsx(qt,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),r.jsx("div",{className:"px-2 py-1 border-t"}),t.map(E=>r.jsxs(ee,{value:E.id,children:[E.firstName," ",E.lastName]},E.id))]})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"stage",children:"Stage"}),r.jsxs(Xe,{value:h.stage,onValueChange:E=>f(C=>({...C,stage:E,probability:E===Ft.PROSPECTING?10:E===Ft.QUALIFICATION?25:E===Ft.NEEDS_ANALYSIS?40:E===Ft.PROPOSAL?60:E===Ft.NEGOTIATION?80:E===Ft.CLOSED_WON?100:E===Ft.CLOSED_LOST?0:10})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:Ft.PROSPECTING,children:"Prospecting"}),r.jsx(ee,{value:Ft.QUALIFICATION,children:"Qualification"}),r.jsx(ee,{value:Ft.NEEDS_ANALYSIS,children:"Needs Analysis"}),r.jsx(ee,{value:Ft.PROPOSAL,children:"Proposal"}),r.jsx(ee,{value:Ft.NEGOTIATION,children:"Negotiation"}),r.jsx(ee,{value:Ft.CLOSED_WON,children:"Closed Won"}),r.jsx(ee,{value:Ft.CLOSED_LOST,children:"Closed Lost"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"priority",children:"Priority"}),r.jsxs(Xe,{value:h.priority,onValueChange:E=>f(C=>({...C,priority:E})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:ec.LOW,children:"Low"}),r.jsx(ee,{value:ec.MEDIUM,children:"Medium"}),r.jsx(ee,{value:ec.HIGH,children:"High"}),r.jsx(ee,{value:ec.CRITICAL,children:"Critical"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"probability",children:"Probability (%)"}),r.jsx(Ee,{id:"probability",type:"number",min:"0",max:"100",value:h.probability,onChange:E=>f(C=>({...C,probability:parseInt(E.target.value)||0}))})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"expectedCloseDate",children:"Expected Close Date *"}),r.jsx(Ee,{id:"expectedCloseDate",type:"date",value:h.expectedCloseDate?new Date(h.expectedCloseDate).toISOString().split("T")[0]:"",onChange:E=>f(C=>({...C,expectedCloseDate:new Date(E.target.value)}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"assignedTo",children:"Assigned To"}),r.jsxs(Xe,{value:h.assignedTo,onValueChange:E=>f(C=>({...C,assignedTo:E})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select sales rep"})}),r.jsx(Ye,{children:n.map(E=>r.jsx(ee,{value:E.id,children:E.name},E.id))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"territoryId",children:"Territory"}),r.jsxs(Xe,{value:h.territoryId,onValueChange:E=>f(C=>({...C,territoryId:E})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select territory"})}),r.jsx(Ye,{children:a.map(E=>r.jsx(ee,{value:E.id,children:E.name},E.id))})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[r.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Products"]}),r.jsxs(ae,{type:"button",onClick:()=>v(!0),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),p&&r.jsx(ye,{className:"border-dashed",children:r.jsxs(be,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Product"}),r.jsxs(Xe,{onValueChange:I,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select product"})}),r.jsx(Ye,{children:s.map(E=>r.jsxs(ee,{value:E.id,children:[E.name," - ",Me(E.price)]},E.id))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Quantity"}),r.jsx(Ee,{type:"number",min:"1",value:x.quantity,onChange:E=>j(C=>({...C,quantity:parseInt(E.target.value)||1}))})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Unit Price"}),r.jsx(Ee,{type:"number",min:"0",step:"0.01",value:x.unitPrice,onChange:E=>j(C=>({...C,unitPrice:parseFloat(E.target.value)||0}))})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Discount"}),r.jsx(Ee,{type:"number",min:"0",step:"0.01",value:x.discount,onChange:E=>j(C=>({...C,discount:parseFloat(E.target.value)||0}))})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Total: "}),r.jsx("span",{className:"font-bold",children:Me(x.total||0)})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),r.jsx(ae,{type:"button",onClick:N,children:"Add Product"})]})]})]})}),r.jsx("div",{className:"space-y-3",children:h.products&&h.products.length>0?h.products.map(E=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:E.productName}),r.jsxs(Ze,{variant:"outline",children:[E.quantity," × ",Me(E.unitPrice)]})]}),E.discount>0&&r.jsxs("div",{className:"text-sm text-green-600 mt-1",children:["Discount: ",Me(E.discount)]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"font-bold",children:Me(E.total)}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(E.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]})]},E.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Rs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No products added yet"}),r.jsx("p",{className:"text-sm",children:"Add products to calculate deal value"})]})}),h.products&&h.products.length>0&&r.jsx("div",{className:"flex justify-end p-3 bg-muted/30 rounded-lg",children:r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium",children:"Total Deal Value: "}),r.jsx("span",{className:"text-lg font-bold text-primary",children:Me(h.value||0)})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Notes"}),r.jsx(wr,{value:h.notes,onChange:E=>f(C=>({...C,notes:E.target.value})),placeholder:"Add any additional notes about this deal...",rows:3})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Approval Settings"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"requiresApproval",checked:h.requiresApproval,onCheckedChange:E=>f(C=>({...C,requiresApproval:!!E}))}),r.jsx(ie,{htmlFor:"requiresApproval",children:"This deal requires approval"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Deals over $100,000 automatically require approval"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:o,disabled:c,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:c,children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Deal"]})})]})]})})]})]})}function MT(){const{deals:e,territories:t,approvalWorkflows:n,winLossReports:a,createDeal:s,updateDealStage:i,createApprovalWorkflow:o,createWinLossReport:l,getDealMetrics:c}=HZ(),{leads:u,salesReps:h}=bl(),{vehicles:f}=vu(),[p,v]=S.useState(""),[g,y]=S.useState("all"),[x,j]=S.useState("all"),[b,N]=S.useState(null),[P,I]=S.useState(!1),[w,E]=S.useState("pipeline"),[C,_]=S.useState(!1),{toast:M}=Ht(),k=$=>{switch($){case un.ACTIVE:return"bg-blue-50 text-blue-700 border-blue-200";case un.WON:return"bg-green-50 text-green-700 border-green-200";case un.LOST:return"bg-red-50 text-red-700 border-red-200";case un.ON_HOLD:return"bg-yellow-50 text-yellow-700 border-yellow-200";case un.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},D=e.filter($=>{const K=$.name.toLowerCase().includes(p.toLowerCase())||$.customerName.toLowerCase().includes(p.toLowerCase()),te=g==="all"||$.stage===g,se=x==="all"||$.assignedTo===x;return K&&te&&se}),R=async($,K)=>{try{await i($,K);const te=e.find(se=>se.id===$);te&&M({title:"Deal Stage Updated",description:`${te.name} moved to ${K.replace("_"," ").toLowerCase()}`})}catch{M({title:"Error",description:"Failed to update deal stage",variant:"destructive"})}},F=$=>{N($),_(!0)},z=()=>{N(null),I(!0)},V=$=>{N($),I(!0)},B=async $=>{b?await i(b.id,$.stage||b.stage):await s($),I(!1),N(null)},H=async($,K)=>{await o($,K)},G=async($,K,te)=>{await l($,K,te)},Z=c(),Q=f.map($=>({id:$.id,name:`${$.year} ${$.make} ${$.model}`,price:$.price,category:"vehicle"})).concat([{id:"prod-001",name:"Extended Warranty Package",price:3500,category:"warranty"},{id:"prod-002",name:"Premium Interior Upgrade",price:2200,category:"upgrade"},{id:"prod-003",name:"Solar Panel Package",price:3500,category:"accessory"}]);return r.jsxs("div",{className:"space-y-8",children:[C&&b&&r.jsx(hse,{deal:b,onClose:()=>_(!1),onEdit:V}),P&&r.jsx(vse,{deal:b||void 0,customers:u,salesReps:h,territories:t,products:Q,onSave:B,onCancel:()=>{I(!1),N(null)}}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Sales Deal Management"}),r.jsx("p",{className:"ri-page-description",children:"Track deals through the sales pipeline with approvals and territory management"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:z,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Pipeline"}),r.jsx(lr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Me(Z.totalValue)}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),Z.totalDeals," active deals"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Win Rate"}),r.jsx(yi,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsxs("div",{className:"text-2xl font-bold text-green-900",children:[Z.winRate.toFixed(1),"%"]}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),Z.wonDeals," won deals"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Avg Deal Size"}),r.jsx(lr,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Me(Z.averageDealSize)}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),Z.averageSalesCycle.toFixed(0)," day cycle"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Territories"}),r.jsx(ou,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:t.length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(Na,{className:"h-3 w-3 mr-1"}),"Active territories"]})]})]})]}),r.jsxs(Or,{value:w,onValueChange:E,className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-5",children:[r.jsx(ut,{value:"pipeline",children:"Pipeline"}),r.jsx(ut,{value:"deals",children:"Deals"}),r.jsx(ut,{value:"analytics",children:"Analytics"}),r.jsx(ut,{value:"territories",children:"Territories"}),r.jsx(ut,{value:"approvals",children:"Approvals"})]}),r.jsx(ft,{value:"pipeline",className:"space-y-6",children:r.jsx(ose,{deals:e,onDealStageChange:R,onDealClick:F})}),r.jsxs(ft,{value:"deals",className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search deals...",value:p,onChange:$=>v($.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(Xe,{value:g,onValueChange:y,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Stage"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Stages"}),r.jsx(ee,{value:Ft.PROSPECTING,children:"Prospecting"}),r.jsx(ee,{value:Ft.QUALIFICATION,children:"Qualification"}),r.jsx(ee,{value:Ft.NEEDS_ANALYSIS,children:"Needs Analysis"}),r.jsx(ee,{value:Ft.PROPOSAL,children:"Proposal"}),r.jsx(ee,{value:Ft.NEGOTIATION,children:"Negotiation"}),r.jsx(ee,{value:Ft.CLOSED_WON,children:"Closed Won"}),r.jsx(ee,{value:Ft.CLOSED_LOST,children:"Closed Lost"})]})]}),r.jsxs(Xe,{value:x,onValueChange:j,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Sales Rep"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Reps"}),h.map($=>r.jsx(ee,{value:$.id,children:$.name},$.id))]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"text-xl",children:["Deals (",D.length,")"]}),r.jsx(tt,{children:"Manage your sales pipeline and deal progression"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[D.map($=>r.jsxs("div",{className:"ri-table-row cursor-pointer",onClick:()=>V($),children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:$.name}),r.jsx(Ze,{className:ot("ri-badge-status",k($.status)),children:$.status.toUpperCase()}),r.jsx(Ze,{variant:"outline",children:$.stage.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Na,{className:"h-3 w-3 mr-2 text-blue-500"}),$.customerName]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(lr,{className:"h-3 w-3 mr-2 text-green-500"}),Me($.value)]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(yi,{className:"h-3 w-3 mr-2 text-purple-500"}),$.probability,"% probability"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(ou,{className:"h-3 w-3 mr-2 text-orange-500"}),t.find(K=>K.id===$.territoryId)?.name||"No Territory"]})]}),$.notes&&r.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/30 p-2 rounded-md",children:$.notes})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:K=>{K.stopPropagation(),F($)},children:"View"}),$.requiresApproval&&r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:K=>{K.stopPropagation(),H($.id,"deal_value")},children:"Request Approval"})]})]},$.id)),D.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(yi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No deals found"}),r.jsx("p",{className:"text-sm",children:"Create your first deal to get started"})]})]})})]})]}),r.jsx(ft,{value:"analytics",className:"space-y-6",children:r.jsxs(Or,{defaultValue:"metrics",className:"space-y-6",children:[r.jsxs(kr,{children:[r.jsx(ut,{value:"metrics",children:"Deal Metrics"}),r.jsx(ut,{value:"win-loss",children:"Win/Loss Analysis"})]}),r.jsx(ft,{value:"metrics",children:r.jsx(lse,{metrics:Z})}),r.jsx(ft,{value:"win-loss",children:r.jsx(fse,{deals:e,winLossReports:a,onCreateReport:G})})]})}),r.jsx(ft,{value:"territories",className:"space-y-6",children:r.jsx(mse,{territories:t,salesReps:h,deals:e,onCreateTerritory:()=>{},onUpdateTerritory:()=>{},onDeleteTerritory:()=>{}})}),r.jsx(ft,{value:"approvals",className:"space-y-6",children:r.jsx(pse,{deals:e,approvalWorkflows:n,onApprove:()=>{},onReject:()=>{},onEscalate:()=>{}})})]})]})}function xse(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(MT,{})}),r.jsx(vr,{path:"/*",element:r.jsx(MT,{})})]})}const gse=[{id:"1",type:Bf.PURCHASE,customerId:"cust-1",vehicleId:"veh-1",quoteId:"quote-1",status:il.SIGNED,signedDate:new Date("2024-01-18"),effectiveDate:new Date("2024-01-18"),expirationDate:new Date("2025-01-18"),terms:"Standard purchase agreement with 90-day warranty",documents:[{id:"1",name:"Purchase Agreement.pdf",type:"application/pdf",url:"/documents/purchase-agreement-1.pdf",size:245760,uploadedAt:new Date("2024-01-18")}],customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",type:Bf.SERVICE,customerId:"cust-2",status:il.ACTIVE,effectiveDate:new Date("2024-01-10"),expirationDate:new Date("2024-07-10"),terms:"Extended service contract for 6 months",documents:[{id:"2",name:"Service Contract.pdf",type:"application/pdf",url:"/documents/service-contract-2.pdf",size:189440,uploadedAt:new Date("2024-01-10")}],customFields:{},createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-10")}];function $T(){const[e]=S.useState(gse),[t,n]=S.useState(""),a=o=>{switch(o){case il.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case il.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case il.SIGNED:return"bg-blue-50 text-blue-700 border-blue-200";case il.ACTIVE:return"bg-green-50 text-green-700 border-green-200";case il.EXPIRED:return"bg-orange-50 text-orange-700 border-orange-200";case il.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},s=o=>{switch(o){case Bf.PURCHASE:return"bg-blue-50 text-blue-700 border-blue-200";case Bf.LEASE:return"bg-purple-50 text-purple-700 border-purple-200";case Bf.SERVICE:return"bg-green-50 text-green-700 border-green-200";case Bf.WARRANTY:return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=e.filter(o=>o.id.toLowerCase().includes(t.toLowerCase())||o.customerId.toLowerCase().includes(t.toLowerCase())||o.type.toLowerCase().includes(t.toLowerCase()));return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Agreement Vault"}),r.jsx("p",{className:"ri-page-description",children:"Manage contracts, agreements, and legal documents"})]}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Agreement"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Agreements"}),r.jsx(l0,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"All contracts"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Active"}),r.jsx(l0,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(o=>o.status===il.ACTIVE).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),r.jsx(l0,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(o=>o.status===il.PENDING).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Awaiting signature"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Expiring Soon"}),r.jsx(gn,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:"0"}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Next 30 days"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search agreements...",value:t,onChange:o=>n(o.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Agreements"}),r.jsx(tt,{children:"Manage contracts, purchase agreements, and legal documents"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:i.map(o=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Agreement #",o.id]}),r.jsx(Ze,{className:ot("ri-badge-status",s(o.type)),children:o.type.toUpperCase()}),r.jsx(Ze,{className:ot("ri-badge-status",a(o.status)),children:o.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"})," ",o.customerId]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Effective:"})," ",Et(o.effectiveDate)]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Documents:"})," ",o.documents.length]}),o.expirationDate&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Expires:"})," ",Et(o.expirationDate)]})]}),r.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:o.terms})})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(iu,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(bn,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(bi,{className:"h-3 w-3 mr-1"}),"Download"]})]})]},o.id))})})]})]})}function yse(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx($T,{})}),r.jsx(vr,{path:"/*",element:r.jsx($T,{})})]})}function w8(){const[e,t]=S.useState([]),[n,a]=S.useState(!1);S.useEffect(()=>{s()},[]);const s=()=>{const x=Qn("renter-insight-service-tickets",[{id:"1",customerId:"cust-1",vehicleId:"veh-1",title:"Annual Maintenance Service",description:"Complete annual maintenance including oil change, filter replacement, and system checks",priority:Ln.MEDIUM,status:Ir.IN_PROGRESS,assignedTo:"Tech-001",scheduledDate:new Date("2024-01-20"),parts:[{id:"1",partNumber:"OIL-001",description:"Engine Oil Filter",quantity:1,unitCost:25.99,total:25.99}],labor:[{id:"1",description:"Annual Maintenance",hours:3,rate:85,total:255}],notes:"Customer requested additional inspection of brake system",customFields:{warrantyStatus:"not_covered",estimatedCompletionDate:"2024-01-22",customerAuthorization:!0,technicianNotes:"Check brake pads and rotors during service",customerPortalAccess:!0},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",title:"AC System Repair",description:"Air conditioning not cooling properly, needs diagnostic and repair",priority:Ln.HIGH,status:Ir.WAITING_PARTS,assignedTo:"Tech-002",scheduledDate:new Date("2024-01-22"),parts:[{id:"2",partNumber:"AC-COMP-001",description:"AC Compressor",quantity:1,unitCost:450,total:450}],labor:[{id:"2",description:"AC System Diagnostic",hours:2,rate:85,total:170}],notes:"Waiting for compressor part to arrive",customFields:{warrantyStatus:"partial",estimatedCompletionDate:"2024-01-25",customerAuthorization:!0,technicianNotes:"Compressor needs replacement, on order from supplier",customerPortalAccess:!0},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-16")}]);t(x)},i=x=>{Sn("renter-insight-service-tickets",x)};return{tickets:e,loading:n,getTicketsByCustomerId:x=>e.filter(j=>j.customerId===x),getTicketsByVehicleId:x=>e.filter(j=>j.vehicleId===x),getTicketById:x=>e.find(j=>j.id===x),createTicket:async x=>{a(!0);try{const j={id:Math.random().toString(36).substr(2,9),customerId:x.customerId||"",vehicleId:x.vehicleId,title:x.title||"",description:x.description||"",priority:x.priority||Ln.MEDIUM,status:x.status||Ir.OPEN,assignedTo:x.assignedTo,scheduledDate:x.scheduledDate,parts:x.parts||[],labor:x.labor||[],notes:x.notes||"",customFields:x.customFields||{},createdAt:new Date,updatedAt:new Date},b=[...e,j];return t(b),i(b),j}finally{a(!1)}},updateTicket:async(x,j)=>{const b=e.map(N=>N.id===x?{...N,...j,updatedAt:new Date}:N);t(b),i(b)},deleteTicket:async x=>{const j=e.filter(b=>b.id!==x);t(j),i(j)},updateTicketStatus:async(x,j)=>{const b=e.map(N=>N.id===x?{...N,status:j,completedDate:j===Ir.COMPLETED?new Date:N.completedDate,updatedAt:new Date}:N);t(b),i(b)},assignTechnician:async(x,j)=>{const b=e.map(N=>N.id===x?{...N,assignedTo:j,updatedAt:new Date}:N);t(b),i(b)},addPart:async(x,j)=>{if(!e.find(I=>I.id===x))return null;const N={id:Math.random().toString(36).substr(2,9),partNumber:j.partNumber||"",description:j.description||"",quantity:j.quantity||1,unitCost:j.unitCost||0,total:j.total||0},P=e.map(I=>I.id===x?{...I,parts:[...I.parts,N],updatedAt:new Date}:I);return t(P),i(P),N},addLabor:async(x,j)=>{if(!e.find(I=>I.id===x))return null;const N={id:Math.random().toString(36).substr(2,9),description:j.description||"",hours:j.hours||1,rate:j.rate||85,total:j.total||85},P=e.map(I=>I.id===x?{...I,labor:[...I.labor,N],updatedAt:new Date}:I);return t(P),i(P),N}}}function bse({ticket:e,onSave:t,onCancel:n}){const{toast:a}=Ht(),{vehicles:s}=vu(),{leads:i}=bl(),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[h,f]=S.useState({customerId:"",vehicleId:"",title:"",description:"",priority:Ln.MEDIUM,status:Ir.OPEN,assignedTo:"",scheduledDate:void 0,notes:"",parts:[],labor:[],customFields:{warrantyStatus:"not_covered",estimatedCompletionDate:"",customerAuthorization:!1,technicianNotes:"",customerPortalAccess:!0}}),[p,v]=S.useState(!1),[g,y]=S.useState(!1),[x,j]=S.useState({partNumber:"",description:"",quantity:1,unitCost:0,total:0}),[b,N]=S.useState({description:"",hours:1,rate:85,total:85});S.useEffect(()=>{e&&f({...e,customFields:{...e.customFields,warrantyStatus:e.customFields?.warrantyStatus||"not_covered",estimatedCompletionDate:e.customFields?.estimatedCompletionDate||"",customerAuthorization:e.customFields?.customerAuthorization||!1,technicianNotes:e.customFields?.technicianNotes||"",customerPortalAccess:e.customFields?.customerPortalAccess!==!1}})},[e]),S.useEffect(()=>{const F=x.quantity||1,z=x.unitCost||0;j(V=>({...V,total:F*z}))},[x.quantity,x.unitCost]),S.useEffect(()=>{const F=b.hours||1,z=b.rate||85;N(V=>({...V,total:F*z}))},[b.hours,b.rate]);const P=async F=>{if(F.preventDefault(),!h.customerId||!h.title||!h.description){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}l(!0);try{await t(h),a({title:"Success",description:`Service ticket ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} service ticket`,variant:"destructive"})}finally{l(!1)}},I=F=>{F==="add-new"?u(!0):f(z=>({...z,customerId:F}))},w=F=>{f(z=>({...z,customerId:F.id})),u(!1),a({title:"Customer Added",description:`${F.firstName} ${F.lastName} has been added as a customer.`})},E=()=>{if(!x.partNumber||!x.description){a({title:"Validation Error",description:"Part number and description are required",variant:"destructive"});return}const F={id:Math.random().toString(36).substr(2,9),partNumber:x.partNumber||"",description:x.description||"",quantity:x.quantity||1,unitCost:x.unitCost||0,total:x.total||0};f(z=>({...z,parts:[...z.parts||[],F]})),j({partNumber:"",description:"",quantity:1,unitCost:0,total:0}),v(!1)},C=F=>{f(z=>({...z,parts:z.parts?.filter(V=>V.id!==F)||[]}))},_=()=>{if(!b.description){a({title:"Validation Error",description:"Labor description is required",variant:"destructive"});return}const F={id:Math.random().toString(36).substr(2,9),description:b.description||"",hours:b.hours||1,rate:b.rate||85,total:b.total||85};f(z=>({...z,labor:[...z.labor||[],F]})),N({description:"",hours:1,rate:85,total:85}),y(!1)},M=F=>{f(z=>({...z,labor:z.labor?.filter(V=>V.id!==F)||[]}))},D=(()=>{const F=h.parts?.reduce((V,B)=>V+B.total,0)||0,z=h.labor?.reduce((V,B)=>V+B.total,0)||0;return{partsTotal:F,laborTotal:z,grandTotal:F+z}})(),R=[{id:"Tech-001",name:"John Smith"},{id:"Tech-002",name:"Sarah Johnson"},{id:"Tech-003",name:"Mike Davis"}];return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[c&&r.jsx(mp,{onClose:()=>u(!1),onSuccess:w}),r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Service Ticket":"Create Service Ticket"}),r.jsx(tt,{children:e?"Update service ticket details":"Create a new service ticket"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:P,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Ticket Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"customerId",children:"Customer *"}),r.jsxs(Xe,{value:h.customerId,onValueChange:I,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select customer"})}),r.jsxs(Ye,{children:[r.jsx("div",{className:"px-2 py-1.5",children:r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>I("add-new"),children:[r.jsx(qt,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),r.jsx("div",{className:"px-2 py-1 border-t"}),i.map(F=>r.jsxs(ee,{value:F.id,children:[F.firstName," ",F.lastName]},F.id))]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"vehicleId",children:"Vehicle"}),r.jsxs(Xe,{value:h.vehicleId,onValueChange:F=>f(z=>({...z,vehicleId:F})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select vehicle (optional)"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"No Vehicle"}),s.map(F=>r.jsxs(ee,{value:F.id,children:[F.year," ",F.make," ",F.model]},F.id))]})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"title",children:"Service Title *"}),r.jsx(Ee,{id:"title",value:h.title,onChange:F=>f(z=>({...z,title:F.target.value})),placeholder:"e.g., Annual Maintenance Service"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"description",children:"Description *"}),r.jsx(wr,{id:"description",value:h.description,onChange:F=>f(z=>({...z,description:F.target.value})),placeholder:"Describe the service needed",rows:3})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"priority",children:"Priority"}),r.jsxs(Xe,{value:h.priority,onValueChange:F=>f(z=>({...z,priority:F})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:Ln.LOW,children:"Low"}),r.jsx(ee,{value:Ln.MEDIUM,children:"Medium"}),r.jsx(ee,{value:Ln.HIGH,children:"High"}),r.jsx(ee,{value:Ln.URGENT,children:"Urgent"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"status",children:"Status"}),r.jsxs(Xe,{value:h.status,onValueChange:F=>f(z=>({...z,status:F})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:Ir.OPEN,children:"Open"}),r.jsx(ee,{value:Ir.IN_PROGRESS,children:"In Progress"}),r.jsx(ee,{value:Ir.WAITING_PARTS,children:"Waiting for Parts"}),r.jsx(ee,{value:Ir.COMPLETED,children:"Completed"}),r.jsx(ee,{value:Ir.CANCELLED,children:"Cancelled"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"assignedTo",children:"Assigned Technician"}),r.jsxs(Xe,{value:h.assignedTo,onValueChange:F=>f(z=>({...z,assignedTo:F})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select technician"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"Unassigned"}),R.map(F=>r.jsx(ee,{value:F.id,children:F.name},F.id))]})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"scheduledDate",children:"Scheduled Date"}),r.jsx(Ee,{id:"scheduledDate",type:"date",value:h.scheduledDate?new Date(h.scheduledDate).toISOString().split("T")[0]:"",onChange:F=>f(z=>({...z,scheduledDate:F.target.value?new Date(F.target.value):void 0}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"estimatedCompletionDate",children:"Estimated Completion"}),r.jsx(Ee,{id:"estimatedCompletionDate",type:"date",value:h.customFields?.estimatedCompletionDate||"",onChange:F=>f(z=>({...z,customFields:{...z.customFields,estimatedCompletionDate:F.target.value}}))})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Warranty Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"warrantyStatus",children:"Warranty Status"}),r.jsxs(Xe,{value:h.customFields?.warrantyStatus||"not_covered",onValueChange:F=>f(z=>({...z,customFields:{...z.customFields,warrantyStatus:F}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"covered",children:"Covered by Warranty"}),r.jsx(ee,{value:"partial",children:"Partially Covered"}),r.jsx(ee,{value:"not_covered",children:"Not Covered"}),r.jsx(ee,{value:"extended",children:"Extended Warranty"}),r.jsx(ee,{value:"expired",children:"Warranty Expired"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[r.jsx(Ut,{id:"customerAuthorization",checked:h.customFields?.customerAuthorization||!1,onCheckedChange:F=>f(z=>({...z,customFields:{...z.customFields,customerAuthorization:!!F}}))}),r.jsx(ie,{htmlFor:"customerAuthorization",children:"Customer has authorized work"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Parts"}),r.jsxs(ae,{type:"button",onClick:()=>v(!0),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Part"]})]}),p&&r.jsx(ye,{className:"border-dashed",children:r.jsxs(be,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"partNumber",children:"Part Number *"}),r.jsx(Ee,{id:"partNumber",value:x.partNumber,onChange:F=>j(z=>({...z,partNumber:F.target.value})),placeholder:"e.g., AC-COMP-001"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"partDescription",children:"Description *"}),r.jsx(Ee,{id:"partDescription",value:x.description,onChange:F=>j(z=>({...z,description:F.target.value})),placeholder:"e.g., AC Compressor"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"partQuantity",children:"Quantity"}),r.jsx(Ee,{id:"partQuantity",type:"number",min:"1",value:x.quantity,onChange:F=>j(z=>({...z,quantity:parseInt(F.target.value)||1}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"partUnitCost",children:"Unit Cost"}),r.jsx(Ee,{id:"partUnitCost",type:"number",step:"0.01",min:"0",value:x.unitCost,onChange:F=>j(z=>({...z,unitCost:parseFloat(F.target.value)||0}))})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Total: "}),r.jsx("span",{className:"font-bold",children:Me(x.total||0)})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),r.jsx(ae,{type:"button",onClick:E,children:"Add Part"})]})]})]})}),r.jsx("div",{className:"space-y-3",children:h.parts&&h.parts.length>0?h.parts.map(F=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:F.description}),r.jsx(Ze,{variant:"outline",children:F.partNumber})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",F.quantity," × ",Me(F.unitCost)]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"font-bold",children:Me(F.total)}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(F.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]})]},F.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Mf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No parts added yet"}),r.jsx("p",{className:"text-sm",children:"Add parts needed for this service"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Labor"}),r.jsxs(ae,{type:"button",onClick:()=>y(!0),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Labor"]})]}),g&&r.jsx(ye,{className:"border-dashed",children:r.jsxs(be,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"md:col-span-3",children:[r.jsx(ie,{htmlFor:"laborDescription",children:"Description *"}),r.jsx(Ee,{id:"laborDescription",value:b.description,onChange:F=>N(z=>({...z,description:F.target.value})),placeholder:"e.g., Diagnostic and Repair"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"laborHours",children:"Hours"}),r.jsx(Ee,{id:"laborHours",type:"number",step:"0.5",min:"0.5",value:b.hours,onChange:F=>N(z=>({...z,hours:parseFloat(F.target.value)||1}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"laborRate",children:"Hourly Rate"}),r.jsx(Ee,{id:"laborRate",type:"number",step:"0.01",min:"0",value:b.rate,onChange:F=>N(z=>({...z,rate:parseFloat(F.target.value)||85}))})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Total"}),r.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted/50 flex items-center",children:Me(b.total||0)})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),r.jsx(ae,{type:"button",onClick:_,children:"Add Labor"})]})]})}),r.jsx("div",{className:"space-y-3",children:h.labor&&h.labor.length>0?h.labor.map(F=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:F.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.hours," hours × ",Me(F.rate),"/hr"]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"font-bold",children:Me(F.total)}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(F.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]})]},F.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Ar,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No labor added yet"}),r.jsx("p",{className:"text-sm",children:"Add labor for this service"})]})})]}),(h.parts?.length>0||h.labor?.length>0)&&r.jsx(ye,{className:"bg-muted/30",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parts Total:"}),r.jsx("span",{children:Me(D.partsTotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Labor Total:"}),r.jsx("span",{children:Me(D.laborTotal)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Grand Total:"}),r.jsx("span",{children:Me(D.grandTotal)})]})]})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"technicianNotes",children:"Technician Notes"}),r.jsx(wr,{id:"technicianNotes",value:h.customFields?.technicianNotes||"",onChange:F=>f(z=>({...z,customFields:{...z.customFields,technicianNotes:F.target.value}})),placeholder:"Notes for technicians only (not visible to customer)",rows:3})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Customer Notes"}),r.jsx(wr,{id:"notes",value:h.notes,onChange:F=>f(z=>({...z,notes:F.target.value})),placeholder:"Notes visible to the customer",rows:3})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"customerPortalAccess",checked:h.customFields?.customerPortalAccess!==!1,onCheckedChange:F=>f(z=>({...z,customFields:{...z.customFields,customerPortalAccess:!!F}}))}),r.jsx(ie,{htmlFor:"customerPortalAccess",children:"Allow customer to view this ticket in portal"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:o,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Ticket"]})})]})]})})]})]})}const jse="modulepreload",wse=function(e){return"/"+e},BT={},ES=function(t,n,a){let s=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=c(n.map(u=>{if(u=wse(u),u in BT)return;BT[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":jse,h||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),h)return new Promise((v,g)=>{p.addEventListener("load",v),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var ks=Uint8Array,Hi=Uint16Array,c4=Int32Array,hb=new ks([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),mb=new ks([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PS=new ks([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N8=function(e,t){for(var n=new Hi(31),a=0;a<31;++a)n[a]=t+=1<<e[a-1];for(var s=new c4(n[30]),a=1;a<30;++a)for(var i=n[a];i<n[a+1];++i)s[i]=i-n[a]<<5|a;return{b:n,r:s}},S8=N8(hb,2),C8=S8.b,TS=S8.r;C8[28]=258,TS[258]=28;var A8=N8(mb,0),Nse=A8.b,qT=A8.r,IS=new Hi(32768);for(var Fn=0;Fn<32768;++Fn){var hd=(Fn&43690)>>1|(Fn&21845)<<1;hd=(hd&52428)>>2|(hd&13107)<<2,hd=(hd&61680)>>4|(hd&3855)<<4,IS[Fn]=((hd&65280)>>8|(hd&255)<<8)>>1}var oc=function(e,t,n){for(var a=e.length,s=0,i=new Hi(t);s<a;++s)e[s]&&++i[e[s]-1];var o=new Hi(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(n){l=new Hi(1<<t);var c=15-t;for(s=0;s<a;++s)if(e[s])for(var u=s<<4|e[s],h=t-e[s],f=o[e[s]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)l[IS[f]>>c]=u}else for(l=new Hi(a),s=0;s<a;++s)e[s]&&(l[s]=IS[o[e[s]-1]++]>>15-e[s]);return l},Bd=new ks(288);for(var Fn=0;Fn<144;++Fn)Bd[Fn]=8;for(var Fn=144;Fn<256;++Fn)Bd[Fn]=9;for(var Fn=256;Fn<280;++Fn)Bd[Fn]=7;for(var Fn=280;Fn<288;++Fn)Bd[Fn]=8;var zv=new ks(32);for(var Fn=0;Fn<32;++Fn)zv[Fn]=5;var Sse=oc(Bd,9,0),Cse=oc(Bd,9,1),Ase=oc(zv,5,0),Ese=oc(zv,5,1),Pj=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},nl=function(e,t,n){var a=t/8|0;return(e[a]|e[a+1]<<8)>>(t&7)&n},Tj=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},u4=function(e){return(e+7)/8|0},E8=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new ks(e.subarray(t,n))},Pse=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ol=function(e,t,n){var a=new Error(t||Pse[e]);if(a.code=e,Error.captureStackTrace&&Error.captureStackTrace(a,ol),!n)throw a;return a},Tse=function(e,t,n,a){var s=e.length,i=0;if(!s||t.f&&!t.l)return n||new ks(0);var o=!n,l=o||t.i!=2,c=t.i;o&&(n=new ks(s*3));var u=function(Se){var Ce=n.length;if(Se>Ce){var ze=new ks(Math.max(Ce*2,Se));ze.set(n),n=ze}},h=t.f||0,f=t.p||0,p=t.b||0,v=t.l,g=t.d,y=t.m,x=t.n,j=s*8;do{if(!v){h=nl(e,f,1);var b=nl(e,f+1,3);if(f+=3,b)if(b==1)v=Cse,g=Ese,y=9,x=5;else if(b==2){var w=nl(e,f,31)+257,E=nl(e,f+10,15)+4,C=w+nl(e,f+5,31)+1;f+=14;for(var _=new ks(C),M=new ks(19),k=0;k<E;++k)M[PS[k]]=nl(e,f+k*3,7);f+=E*3;for(var D=Pj(M),R=(1<<D)-1,F=oc(M,D,1),k=0;k<C;){var z=F[nl(e,f,R)];f+=z&15;var N=z>>4;if(N<16)_[k++]=N;else{var V=0,B=0;for(N==16?(B=3+nl(e,f,3),f+=2,V=_[k-1]):N==17?(B=3+nl(e,f,7),f+=3):N==18&&(B=11+nl(e,f,127),f+=7);B--;)_[k++]=V}}var H=_.subarray(0,w),G=_.subarray(w);y=Pj(H),x=Pj(G),v=oc(H,y,1),g=oc(G,x,1)}else ol(1);else{var N=u4(f)+4,P=e[N-4]|e[N-3]<<8,I=N+P;if(I>s){c&&ol(0);break}l&&u(p+P),n.set(e.subarray(N,I),p),t.b=p+=P,t.p=f=I*8,t.f=h;continue}if(f>j){c&&ol(0);break}}l&&u(p+131072);for(var Z=(1<<y)-1,Q=(1<<x)-1,$=f;;$=f){var V=v[Tj(e,f)&Z],K=V>>4;if(f+=V&15,f>j){c&&ol(0);break}if(V||ol(2),K<256)n[p++]=K;else if(K==256){$=f,v=null;break}else{var te=K-254;if(K>264){var k=K-257,se=hb[k];te=nl(e,f,(1<<se)-1)+C8[k],f+=se}var oe=g[Tj(e,f)&Q],me=oe>>4;oe||ol(3),f+=oe&15;var G=Nse[me];if(me>3){var se=mb[me];G+=Tj(e,f)&(1<<se)-1,f+=se}if(f>j){c&&ol(0);break}l&&u(p+131072);var ve=p+te;if(p<G){var pe=i-G,we=Math.min(G,ve);for(pe+p<0&&ol(3);p<we;++p)n[p]=a[pe+p]}for(;p<ve;++p)n[p]=n[p-G]}}t.l=v,t.p=$,t.b=p,t.f=h,v&&(h=1,t.m=y,t.d=g,t.n=x)}while(!h);return p!=n.length&&o?E8(n,0,p):n.subarray(0,p)},Xc=function(e,t,n){n<<=t&7;var a=t/8|0;e[a]|=n,e[a+1]|=n>>8},rv=function(e,t,n){n<<=t&7;var a=t/8|0;e[a]|=n,e[a+1]|=n>>8,e[a+2]|=n>>16},Ij=function(e,t){for(var n=[],a=0;a<e.length;++a)e[a]&&n.push({s:a,f:e[a]});var s=n.length,i=n.slice();if(!s)return{t:T8,l:0};if(s==1){var o=new ks(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(I,w){return I.f-w.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,h=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};h!=s-1;)l=n[n[u].f<n[f].f?u++:f++],c=n[u!=h&&n[u].f<n[f].f?u++:f++],n[h++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,a=1;a<s;++a)i[a].s>p&&(p=i[a].s);var v=new Hi(p+1),g=DS(n[h-1],v,0);if(g>t){var a=0,y=0,x=g-t,j=1<<x;for(i.sort(function(w,E){return v[E.s]-v[w.s]||w.f-E.f});a<s;++a){var b=i[a].s;if(v[b]>t)y+=j-(1<<g-v[b]),v[b]=t;else break}for(y>>=x;y>0;){var N=i[a].s;v[N]<t?y-=1<<t-v[N]++-1:++a}for(;a>=0&&y;--a){var P=i[a].s;v[P]==t&&(--v[P],++y)}g=t}return{t:new ks(v),l:g}},DS=function(e,t,n){return e.s==-1?Math.max(DS(e.l,t,n+1),DS(e.r,t,n+1)):t[e.s]=n},zT=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Hi(++t),a=0,s=e[0],i=1,o=function(c){n[a++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:n.subarray(0,a),n:t}},nv=function(e,t){for(var n=0,a=0;a<t.length;++a)n+=e[a]*t[a];return n},P8=function(e,t,n){var a=n.length,s=u4(t+2);e[s]=a&255,e[s+1]=a>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<a;++i)e[s+i+4]=n[i];return(s+4+a)*8},UT=function(e,t,n,a,s,i,o,l,c,u,h){Xc(t,h++,n),++s[256];for(var f=Ij(s,15),p=f.t,v=f.l,g=Ij(i,15),y=g.t,x=g.l,j=zT(p),b=j.c,N=j.n,P=zT(y),I=P.c,w=P.n,E=new Hi(19),C=0;C<b.length;++C)++E[b[C]&31];for(var C=0;C<I.length;++C)++E[I[C]&31];for(var _=Ij(E,7),M=_.t,k=_.l,D=19;D>4&&!M[PS[D-1]];--D);var R=u+5<<3,F=nv(s,Bd)+nv(i,zv)+o,z=nv(s,p)+nv(i,y)+o+14+3*D+nv(E,M)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&R<=F&&R<=z)return P8(t,h,e.subarray(c,c+u));var V,B,H,G;if(Xc(t,h,1+(z<F)),h+=2,z<F){V=oc(p,v,0),B=p,H=oc(y,x,0),G=y;var Z=oc(M,k,0);Xc(t,h,N-257),Xc(t,h+5,w-1),Xc(t,h+10,D-4),h+=14;for(var C=0;C<D;++C)Xc(t,h+3*C,M[PS[C]]);h+=3*D;for(var Q=[b,I],$=0;$<2;++$)for(var K=Q[$],C=0;C<K.length;++C){var te=K[C]&31;Xc(t,h,Z[te]),h+=M[te],te>15&&(Xc(t,h,K[C]>>5&127),h+=K[C]>>12)}}else V=Sse,B=Bd,H=Ase,G=zv;for(var C=0;C<l;++C){var se=a[C];if(se>255){var te=se>>18&31;rv(t,h,V[te+257]),h+=B[te+257],te>7&&(Xc(t,h,se>>23&31),h+=hb[te]);var oe=se&31;rv(t,h,H[oe]),h+=G[oe],oe>3&&(rv(t,h,se>>5&8191),h+=mb[oe])}else rv(t,h,V[se]),h+=B[se]}return rv(t,h,V[256]),h+B[256]},Ise=new c4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),T8=new ks(0),Dse=function(e,t,n,a,s,i){var o=i.z||e.length,l=new ks(a+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(a,l.length-s),u=i.l,h=(i.r||0)&7;if(t){h&&(c[0]=i.r>>3);for(var f=Ise[t-1],p=f>>13,v=f&8191,g=(1<<n)-1,y=i.p||new Hi(32768),x=i.h||new Hi(g+1),j=Math.ceil(n/3),b=2*j,N=function(He){return(e[He]^e[He+1]<<j^e[He+2]<<b)&g},P=new c4(25e3),I=new Hi(288),w=new Hi(32),E=0,C=0,_=i.i||0,M=0,k=i.w||0,D=0;_+2<o;++_){var R=N(_),F=_&32767,z=x[R];if(y[F]=z,x[R]=F,k<=_){var V=o-_;if((E>7e3||M>24576)&&(V>423||!u)){h=UT(e,c,0,P,I,w,C,M,D,_-D,h),M=E=C=0,D=_;for(var B=0;B<286;++B)I[B]=0;for(var B=0;B<30;++B)w[B]=0}var H=2,G=0,Z=v,Q=F-z&32767;if(V>2&&R==N(_-Q))for(var $=Math.min(p,V)-1,K=Math.min(32767,_),te=Math.min(258,V);Q<=K&&--Z&&F!=z;){if(e[_+H]==e[_+H-Q]){for(var se=0;se<te&&e[_+se]==e[_+se-Q];++se);if(se>H){if(H=se,G=Q,se>$)break;for(var oe=Math.min(Q,se-2),me=0,B=0;B<oe;++B){var ve=_-Q+B&32767,pe=y[ve],we=ve-pe&32767;we>me&&(me=we,z=ve)}}}F=z,z=y[F],Q+=F-z&32767}if(G){P[M++]=268435456|TS[H]<<18|qT[G];var Se=TS[H]&31,Ce=qT[G]&31;C+=hb[Se]+mb[Ce],++I[257+Se],++w[Ce],k=_+H,++E}else P[M++]=e[_],++I[e[_]]}}for(_=Math.max(_,k);_<o;++_)P[M++]=e[_],++I[e[_]];h=UT(e,c,u,P,I,w,C,M,D,_-D,h),u||(i.r=h&7|c[h/8|0]<<3,h-=7,i.h=x,i.p=y,i.i=_,i.w=k)}else{for(var _=i.w||0;_<o+u;_+=65535){var ze=_+65535;ze>=o&&(c[h/8|0]=u,ze=o),h=P8(c,h+1,e.subarray(_,ze))}i.i=o}return E8(l,0,a+u4(h)+s)},I8=function(){var e=1,t=0;return{p:function(n){for(var a=e,s=t,i=n.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=a+=n[o];a=(a&65535)+15*(a>>16),s=(s&65535)+15*(s>>16)}e=a,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},_se=function(e,t,n,a,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new ks(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return Dse(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,a,s)},D8=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},kse=function(e,t){var n=t.level,a=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=I8();s.p(t.dictionary),D8(e,2,s.d())}},Ose=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ol(6,"invalid zlib data"),(e[1]>>5&1)==1&&ol(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function _S(e,t){t||(t={});var n=I8();n.p(e);var a=_se(e,t,t.dictionary?6:2,4);return kse(a,t),D8(a,a.length-4,n.d()),a}function Rse(e,t){return Tse(e.subarray(Ose(e),-4),{i:2},t,t)}var Lse=typeof TextDecoder<"u"&&new TextDecoder,Fse=0;try{Lse.decode(T8,{stream:!0}),Fse=1}catch{}var or=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Dj(){or.console&&typeof or.console.log=="function"&&or.console.log.apply(or.console,arguments)}var pn={log:Dj,warn:function(e){or.console&&(typeof or.console.warn=="function"?or.console.warn.apply(or.console,arguments):Dj.call(null,arguments))},error:function(e){or.console&&(typeof or.console.error=="function"?or.console.error.apply(or.console,arguments):Dj(e))}};function _j(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){_f(a.response,t,n)},a.onerror=function(){pn.error("could not download file")},a.send()}function VT(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Vg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var jv,kS,_f=or.saveAs||((typeof window>"u"?"undefined":Qr(window))!=="object"||window!==or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var a=or.URL||or.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?VT(s.href)?_j(e,t,n):Vg(s,s.target="_blank"):Vg(s)):(s.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(s.href)},4e4),setTimeout(function(){Vg(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(VT(e))_j(e,t,n);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){Vg(a)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Qr(i)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,n),t)}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return _j(e,t,n);var s=e.type==="application/octet-stream",i=/constructor/i.test(or.HTMLElement)||or.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Qr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=h:location=h,a=null},l.readAsDataURL(e)}else{var c=or.URL||or.webkitURL,u=c.createObjectURL(e);a?a.location=u:location.href=u,a=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _8(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],a=0;a<n.length;a++){var s=n[a].re,i=n[a].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function kj(e,t){var n=e[0],a=e[1],s=e[2],i=e[3];n=Es(n,a,s,i,t[0],7,-680876936),i=Es(i,n,a,s,t[1],12,-389564586),s=Es(s,i,n,a,t[2],17,606105819),a=Es(a,s,i,n,t[3],22,-1044525330),n=Es(n,a,s,i,t[4],7,-176418897),i=Es(i,n,a,s,t[5],12,1200080426),s=Es(s,i,n,a,t[6],17,-1473231341),a=Es(a,s,i,n,t[7],22,-45705983),n=Es(n,a,s,i,t[8],7,1770035416),i=Es(i,n,a,s,t[9],12,-1958414417),s=Es(s,i,n,a,t[10],17,-42063),a=Es(a,s,i,n,t[11],22,-1990404162),n=Es(n,a,s,i,t[12],7,1804603682),i=Es(i,n,a,s,t[13],12,-40341101),s=Es(s,i,n,a,t[14],17,-1502002290),n=Ps(n,a=Es(a,s,i,n,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Ps(i,n,a,s,t[6],9,-1069501632),s=Ps(s,i,n,a,t[11],14,643717713),a=Ps(a,s,i,n,t[0],20,-373897302),n=Ps(n,a,s,i,t[5],5,-701558691),i=Ps(i,n,a,s,t[10],9,38016083),s=Ps(s,i,n,a,t[15],14,-660478335),a=Ps(a,s,i,n,t[4],20,-405537848),n=Ps(n,a,s,i,t[9],5,568446438),i=Ps(i,n,a,s,t[14],9,-1019803690),s=Ps(s,i,n,a,t[3],14,-187363961),a=Ps(a,s,i,n,t[8],20,1163531501),n=Ps(n,a,s,i,t[13],5,-1444681467),i=Ps(i,n,a,s,t[2],9,-51403784),s=Ps(s,i,n,a,t[7],14,1735328473),n=Ts(n,a=Ps(a,s,i,n,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Ts(i,n,a,s,t[8],11,-2022574463),s=Ts(s,i,n,a,t[11],16,1839030562),a=Ts(a,s,i,n,t[14],23,-35309556),n=Ts(n,a,s,i,t[1],4,-1530992060),i=Ts(i,n,a,s,t[4],11,1272893353),s=Ts(s,i,n,a,t[7],16,-155497632),a=Ts(a,s,i,n,t[10],23,-1094730640),n=Ts(n,a,s,i,t[13],4,681279174),i=Ts(i,n,a,s,t[0],11,-358537222),s=Ts(s,i,n,a,t[3],16,-722521979),a=Ts(a,s,i,n,t[6],23,76029189),n=Ts(n,a,s,i,t[9],4,-640364487),i=Ts(i,n,a,s,t[12],11,-421815835),s=Ts(s,i,n,a,t[15],16,530742520),n=Is(n,a=Ts(a,s,i,n,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Is(i,n,a,s,t[7],10,1126891415),s=Is(s,i,n,a,t[14],15,-1416354905),a=Is(a,s,i,n,t[5],21,-57434055),n=Is(n,a,s,i,t[12],6,1700485571),i=Is(i,n,a,s,t[3],10,-1894986606),s=Is(s,i,n,a,t[10],15,-1051523),a=Is(a,s,i,n,t[1],21,-2054922799),n=Is(n,a,s,i,t[8],6,1873313359),i=Is(i,n,a,s,t[15],10,-30611744),s=Is(s,i,n,a,t[6],15,-1560198380),a=Is(a,s,i,n,t[13],21,1309151649),n=Is(n,a,s,i,t[4],6,-145523070),i=Is(i,n,a,s,t[11],10,-1120210379),s=Is(s,i,n,a,t[2],15,718787259),a=Is(a,s,i,n,t[9],21,-343485551),e[0]=Nd(n,e[0]),e[1]=Nd(a,e[1]),e[2]=Nd(s,e[2]),e[3]=Nd(i,e[3])}function pb(e,t,n,a,s,i){return t=Nd(Nd(t,e),Nd(a,i)),Nd(t<<s|t>>>32-s,n)}function Es(e,t,n,a,s,i,o){return pb(t&n|~t&a,e,t,s,i,o)}function Ps(e,t,n,a,s,i,o){return pb(t&a|n&~a,e,t,s,i,o)}function Ts(e,t,n,a,s,i,o){return pb(t^n^a,e,t,s,i,o)}function Is(e,t,n,a,s,i,o){return pb(n^(t|~a),e,t,s,i,o)}function k8(e){var t,n=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)kj(a,Mse(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(kj(a,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,kj(a,s),a}function Mse(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}jv=or.atob.bind(or),kS=or.btoa.bind(or);var WT="0123456789abcdef".split("");function $se(e){for(var t="",n=0;n<4;n++)t+=WT[e>>8*n+4&15]+WT[e>>8*n&15];return t}function Bse(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function OS(e){return k8(e).map(Bse).join("")}var qse=function(e){for(var t=0;t<e.length;t++)e[t]=$se(e[t]);return e.join("")}(k8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nd(e,t){if(qse){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function RS(e,t){var n,a,s,i;if(e!==n){for(var o=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var h=l[c];u=(u+h+o.charCodeAt(c))%256,l[c]=l[u],l[u]=h}n=e,a=l}else l=a;var f=t.length,p=0,v=0,g="";for(c=0;c<f;c++)v=(v+(h=l[p=(p+1)%256]))%256,l[p]=l[v],l[v]=h,o=l[(l[p]+l[v])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var HT={print:4,modify:8,copy:16,"annot-forms":32};function dm(e,t,n,a){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(HT.perm!==void 0)throw new Error("Invalid permission: "+l);s+=HT[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=OS(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=RS(this.encryptionKey,this.padding)}function fm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,a=0;a<n;a++){var s=e.charCodeAt(a);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[a]}return t}function GT(e){if(Qr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,a,s){if(s=s||!1,typeof n!="string"||typeof a!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[a,!!s],i},this.unsubscribe=function(n){for(var a in t)if(t[a][n])return delete t[a][n],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var a=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[n]){var o=t[n][i];try{o[0].apply(e,a)}catch(l){or.console&&pn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Uv(e){if(!(this instanceof Uv))return new Uv(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function O8(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function bd(e,t,n,a,s){if(!(this instanceof bd))return new bd(e,t,n,a,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,O8.call(this,a,s)}function zf(e,t,n,a,s){if(!(this instanceof zf))return new zf(e,t,n,a,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,O8.call(this,a,s)}function Zt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",h=null;Qr(e=e||{})==="object"&&(n=e.orientation,a=e.unit||a,s=e.format||s,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},v={internal:{},__private__:{}};v.__private__.PubSub=GT;var g="1.3",y=v.__private__.getPdfVersion=function(){return g};v.__private__.setPdfVersion=function(q){g=q};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return x};var j=v.__private__.getPageFormat=function(q){return x[q]};s=s||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},N=b.COMPAT;function P(){this.saveGraphicsState(),le(new Xt(jt,0,0,-jt,0,Ll()*jt).toString()+" cm"),this.setFontSize(this.getFontSize()/jt),u="n",N=b.ADVANCED}function I(){this.restoreGraphicsState(),u="S",N=b.COMPAT}var w=v.__private__.combineFontStyleAndFontWeight=function(q,ne){if(q=="bold"&&ne=="normal"||q=="bold"&&ne==400||q=="normal"&&ne=="italic"||q=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(q=ne==400||ne==="normal"?q==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||q!=="normal"?(ne==700?"bold":ne)+""+q:"bold"),q};v.advancedAPI=function(q){var ne=N===b.COMPAT;return ne&&P.call(this),typeof q!="function"||(q(this),ne&&I.call(this)),this},v.compatAPI=function(q){var ne=N===b.ADVANCED;return ne&&I.call(this),typeof q!="function"||(q(this),ne&&P.call(this)),this},v.isAdvancedAPI=function(){return N===b.ADVANCED};var E,C=function(q){if(N!==b.ADVANCED)throw new Error(q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=v.roundToPrecision=v.__private__.roundToPrecision=function(q,ne){var je=t||ne;if(isNaN(q)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return q.toFixed(je).replace(/0+$/,"")};E=v.hpf=v.__private__.hpf=typeof c=="number"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return _(q,c)}:c==="smart"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return _(q,q>-1&&q<1?16:5)}:function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return _(q,16)};var M=v.f2=v.__private__.f2=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f2");return _(q,2)},k=v.__private__.f3=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f3");return _(q,3)},D=v.scale=v.__private__.scale=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.scale");return N===b.COMPAT?q*jt:N===b.ADVANCED?q:void 0},R=function(q){return N===b.COMPAT?Ll()-q:N===b.ADVANCED?q:void 0},F=function(q){return D(R(q))};v.__private__.setPrecision=v.setPrecision=function(q){typeof parseInt(q,10)=="number"&&(t=parseInt(q,10))};var z,V="00000000000000000000000000000000",B=v.__private__.getFileId=function(){return V},H=v.__private__.setFileId=function(q){return V=q!==void 0&&/^[a-fA-F0-9]{32}$/.test(q)?q.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Tn=new dm(h.userPermissions,h.userPassword,h.ownerPassword,V)),V};v.setFileId=function(q){return H(q),this},v.getFileId=function(){return B()};var G=v.__private__.convertDateToPDFDate=function(q){var ne=q.getTimezoneOffset(),je=ne<0?"+":"-",De=Math.floor(Math.abs(ne/60)),$e=Math.abs(ne%60),rt=[je,te(De),"'",te($e),"'"].join("");return["D:",q.getFullYear(),te(q.getMonth()+1),te(q.getDate()),te(q.getHours()),te(q.getMinutes()),te(q.getSeconds()),rt].join("")},Z=v.__private__.convertPDFDateToDate=function(q){var ne=parseInt(q.substr(2,4),10),je=parseInt(q.substr(6,2),10)-1,De=parseInt(q.substr(8,2),10),$e=parseInt(q.substr(10,2),10),rt=parseInt(q.substr(12,2),10),mt=parseInt(q.substr(14,2),10);return new Date(ne,je,De,$e,rt,mt,0)},Q=v.__private__.setCreationDate=function(q){var ne;if(q===void 0&&(q=new Date),q instanceof Date)ne=G(q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=q}return z=ne},$=v.__private__.getCreationDate=function(q){var ne=z;return q==="jsDate"&&(ne=Z(z)),ne};v.setCreationDate=function(q){return Q(q),this},v.getCreationDate=function(q){return $(q)};var K,te=v.__private__.padd2=function(q){return("0"+parseInt(q)).slice(-2)},se=v.__private__.padd2Hex=function(q){return("00"+(q=q.toString())).substr(q.length)},oe=0,me=[],ve=[],pe=0,we=[],Se=[],Ce=!1,ze=ve,He=function(){oe=0,pe=0,ve=[],me=[],we=[],Oo=En(),Ai=En()};v.__private__.setCustomOutputDestination=function(q){Ce=!0,ze=q};var ge=function(q){Ce||(ze=q)};v.__private__.resetCustomOutputDestination=function(){Ce=!1,ze=ve};var le=v.__private__.out=function(q){return q=q.toString(),pe+=q.length+1,ze.push(q),ze},st=v.__private__.write=function(q){return le(arguments.length===1?q.toString():Array.prototype.join.call(arguments," "))},Ie=v.__private__.getArrayBuffer=function(q){for(var ne=q.length,je=new ArrayBuffer(ne),De=new Uint8Array(je);ne--;)De[ne]=q.charCodeAt(ne);return je},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Ue};var ct=e.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(q){return ct=N===b.ADVANCED?q/jt:q,this};var xt,gt=v.__private__.getFontSize=v.getFontSize=function(){return N===b.COMPAT?ct:ct*jt},kt=e.R2L||!1;v.__private__.setR2L=v.setR2L=function(q){return kt=q,this},v.__private__.getR2L=v.getR2L=function(){return kt};var et,ht=v.__private__.setZoomMode=function(q){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(q))xt=q;else if(isNaN(q)){if(ne.indexOf(q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+q+'" is not recognized.');xt=q}else xt=parseInt(q,10)};v.__private__.getZoomMode=function(){return xt};var Ct,_t=v.__private__.setPageMode=function(q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+q+'" is not recognized.');et=q};v.__private__.getPageMode=function(){return et};var Gt=v.__private__.setLayoutMode=function(q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+q+'" is not recognized.');Ct=q};v.__private__.getLayoutMode=function(){return Ct},v.__private__.setDisplayMode=v.setDisplayMode=function(q,ne,je){return ht(q),Gt(ne),_t(je),this};var Vt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(q){if(Object.keys(Vt).indexOf(q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vt[q]},v.__private__.getDocumentProperties=function(){return Vt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(q){for(var ne in Vt)Vt.hasOwnProperty(ne)&&q[ne]&&(Vt[ne]=q[ne]);return this},v.__private__.setDocumentProperty=function(q,ne){if(Object.keys(Vt).indexOf(q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vt[q]=ne};var er,jt,Mr,xr,Zn,$r={},Gr={},Ma=[],Nr={},Si={},jn={},$a={},hs=null,Cn=0,fr=[],Br=new GT(v),Sl=e.hotfixes||[],ya={},ti={},Ci=[],Xt=function q(ne,je,De,$e,rt,mt){if(!(this instanceof q))return new q(ne,je,De,$e,rt,mt);isNaN(ne)&&(ne=1),isNaN(je)&&(je=0),isNaN(De)&&(De=0),isNaN($e)&&($e=1),isNaN(rt)&&(rt=0),isNaN(mt)&&(mt=0),this._matrix=[ne,je,De,$e,rt,mt]};Object.defineProperty(Xt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(Xt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(Xt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(Xt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(Xt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(Xt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(Xt.prototype,"a",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(Xt.prototype,"b",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(Xt.prototype,"c",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(Xt.prototype,"d",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(Xt.prototype,"e",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(Xt.prototype,"f",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(Xt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xt.prototype.join=function(q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(q)},Xt.prototype.multiply=function(q){var ne=q.sx*this.sx+q.shy*this.shx,je=q.sx*this.shy+q.shy*this.sy,De=q.shx*this.sx+q.sy*this.shx,$e=q.shx*this.shy+q.sy*this.sy,rt=q.tx*this.sx+q.ty*this.shx+this.tx,mt=q.tx*this.shy+q.ty*this.sy+this.ty;return new Xt(ne,je,De,$e,rt,mt)},Xt.prototype.decompose=function(){var q=this.sx,ne=this.shy,je=this.shx,De=this.sy,$e=this.tx,rt=this.ty,mt=Math.sqrt(q*q+ne*ne),It=(q/=mt)*je+(ne/=mt)*De;je-=q*It,De-=ne*It;var Kt=Math.sqrt(je*je+De*De);return It/=Kt,q*(De/=Kt)<ne*(je/=Kt)&&(q=-q,ne=-ne,It=-It,mt=-mt),{scale:new Xt(mt,0,0,Kt,0,0),translate:new Xt(1,0,0,1,$e,rt),rotate:new Xt(q,ne,-ne,q,0,0),skew:new Xt(1,0,It,1,0,0)}},Xt.prototype.toString=function(q){return this.join(" ")},Xt.prototype.inversed=function(){var q=this.sx,ne=this.shy,je=this.shx,De=this.sy,$e=this.tx,rt=this.ty,mt=1/(q*De-ne*je),It=De*mt,Kt=-ne*mt,gr=-je*mt,pr=q*mt;return new Xt(It,Kt,gr,pr,-It*$e-gr*rt,-Kt*$e-pr*rt)},Xt.prototype.applyToPoint=function(q){var ne=q.x*this.sx+q.y*this.shx+this.tx,je=q.x*this.shy+q.y*this.sy+this.ty;return new no(ne,je)},Xt.prototype.applyToRectangle=function(q){var ne=this.applyToPoint(q),je=this.applyToPoint(new no(q.x+q.w,q.y+q.h));return new Rl(ne.x,ne.y,je.x-ne.x,je.y-ne.y)},Xt.prototype.clone=function(){var q=this.sx,ne=this.shy,je=this.shx,De=this.sy,$e=this.tx,rt=this.ty;return new Xt(q,ne,je,De,$e,rt)},v.Matrix=Xt;var Ls=v.matrixMult=function(q,ne){return ne.multiply(q)},ms=new Xt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=ms;var ps=function(q,ne){if(!Si[q]){var je=(ne instanceof bd?"Sh":"P")+(Object.keys(Nr).length+1).toString(10);ne.id=je,Si[q]=je,Nr[je]=ne,Br.publish("addPattern",ne)}};v.ShadingPattern=bd,v.TilingPattern=zf,v.addShadingPattern=function(q,ne){return C("addShadingPattern()"),ps(q,ne),this},v.beginTilingPattern=function(q){C("beginTilingPattern()"),Oh(q.boundingBox[0],q.boundingBox[1],q.boundingBox[2]-q.boundingBox[0],q.boundingBox[3]-q.boundingBox[1],q.matrix)},v.endTilingPattern=function(q,ne){C("endTilingPattern()"),ne.stream=Se[K].join(`
`),ps(q,ne),Br.publish("endTilingPattern",ne),Ci.pop().restore()};var An=v.__private__.newObject=function(){var q=En();return Ba(q,!0),q},En=v.__private__.newObjectDeferred=function(){return oe++,me[oe]=function(){return pe},oe},Ba=function(q,ne){return ne=typeof ne=="boolean"&&ne,me[q]=pe,ne&&le(q+" 0 obj"),q},Cl=v.__private__.newAdditionalObject=function(){var q={objId:En(),content:""};return we.push(q),q},Oo=En(),Ai=En(),Ei=v.__private__.decodeColorString=function(q){var ne=q.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var je=parseFloat(ne[0]);ne=[je,je,je,"r"]}for(var De="#",$e=0;$e<3;$e++)De+=("0"+Math.floor(255*parseFloat(ne[$e])).toString(16)).slice(-2);return De},Ca=v.__private__.encodeColorString=function(q){var ne;typeof q=="string"&&(q={ch1:q});var je=q.ch1,De=q.ch2,$e=q.ch3,rt=q.ch4,mt=q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var It=new _8(je);if(It.ok)je=It.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var Kt=parseInt(je.substr(1),16);je=Kt>>16&255,De=Kt>>8&255,$e=255&Kt}if(De===void 0||rt===void 0&&je===De&&De===$e)if(typeof je=="string")ne=je+" "+mt[0];else switch(q.precision){case 2:ne=M(je/255)+" "+mt[0];break;case 3:default:ne=k(je/255)+" "+mt[0]}else if(rt===void 0||Qr(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return ne=["1.","1.","1.",mt[1]].join(" ");if(typeof je=="string")ne=[je,De,$e,mt[1]].join(" ");else switch(q.precision){case 2:ne=[M(je/255),M(De/255),M($e/255),mt[1]].join(" ");break;default:case 3:ne=[k(je/255),k(De/255),k($e/255),mt[1]].join(" ")}}else if(typeof je=="string")ne=[je,De,$e,rt,mt[2]].join(" ");else switch(q.precision){case 2:ne=[M(je),M(De),M($e),M(rt),mt[2]].join(" ");break;case 3:default:ne=[k(je),k(De),k($e),k(rt),mt[2]].join(" ")}return ne},Pi=v.__private__.getFilters=function(){return o},Fs=v.__private__.putStream=function(q){var ne=(q=q||{}).data||"",je=q.filters||Pi(),De=q.alreadyAppliedFilters||[],$e=q.addLength1||!1,rt=ne.length,mt=q.objectId,It=function(qa){return qa};if(h!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(It=Tn.encryptor(mt,0));var Kt={};je===!0&&(je=["FlateEncode"]);var gr=q.additionalKeyValues||[],pr=(Kt=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(ne,je):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(Kt.data.length!==0&&(gr.push({key:"Length",value:Kt.data.length}),$e===!0&&gr.push({key:"Length1",value:rt})),pr.length!=0)if(pr.split("/").length-1==1)gr.push({key:"Filter",value:pr});else{gr.push({key:"Filter",value:"["+pr+"]"});for(var Er=0;Er<gr.length;Er+=1)if(gr[Er].key==="DecodeParms"){for(var In=[],$n=0;$n<Kt.reverseChain.split("/").length-1;$n+=1)In.push("null");In.push(gr[Er].value),gr[Er].value="["+In.join(" ")+"]"}}le("<<");for(var ea=0;ea<gr.length;ea++)le("/"+gr[ea].key+" "+gr[ea].value);le(">>"),Kt.data.length!==0&&(le("stream"),le(It(Kt.data)),le("endstream"))},Ji=v.__private__.putPage=function(q){var ne=q.number,je=q.data,De=q.objId,$e=q.contentsObjId;Ba(De,!0),le("<</Type /Page"),le("/Parent "+q.rootDictionaryObjId+" 0 R"),le("/Resources "+q.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(E(q.mediaBox.bottomLeftX))+" "+parseFloat(E(q.mediaBox.bottomLeftY))+" "+E(q.mediaBox.topRightX)+" "+E(q.mediaBox.topRightY)+"]"),q.cropBox!==null&&le("/CropBox ["+E(q.cropBox.bottomLeftX)+" "+E(q.cropBox.bottomLeftY)+" "+E(q.cropBox.topRightX)+" "+E(q.cropBox.topRightY)+"]"),q.bleedBox!==null&&le("/BleedBox ["+E(q.bleedBox.bottomLeftX)+" "+E(q.bleedBox.bottomLeftY)+" "+E(q.bleedBox.topRightX)+" "+E(q.bleedBox.topRightY)+"]"),q.trimBox!==null&&le("/TrimBox ["+E(q.trimBox.bottomLeftX)+" "+E(q.trimBox.bottomLeftY)+" "+E(q.trimBox.topRightX)+" "+E(q.trimBox.topRightY)+"]"),q.artBox!==null&&le("/ArtBox ["+E(q.artBox.bottomLeftX)+" "+E(q.artBox.bottomLeftY)+" "+E(q.artBox.topRightX)+" "+E(q.artBox.topRightY)+"]"),typeof q.userUnit=="number"&&q.userUnit!==1&&le("/UserUnit "+q.userUnit),Br.publish("putPage",{objId:De,pageContext:fr[ne],pageNumber:ne,page:je}),le("/Contents "+$e+" 0 R"),le(">>"),le("endobj");var rt=je.join(`
`);return N===b.ADVANCED&&(rt+=`
Q`),Ba($e,!0),Fs({data:rt,filters:Pi(),objectId:$e}),le("endobj"),De},Al=v.__private__.putPages=function(){var q,ne,je=[];for(q=1;q<=Cn;q++)fr[q].objId=En(),fr[q].contentsObjId=En();for(q=1;q<=Cn;q++)je.push(Ji({number:q,data:Se[q],objId:fr[q].objId,contentsObjId:fr[q].contentsObjId,mediaBox:fr[q].mediaBox,cropBox:fr[q].cropBox,bleedBox:fr[q].bleedBox,trimBox:fr[q].trimBox,artBox:fr[q].artBox,userUnit:fr[q].userUnit,rootDictionaryObjId:Oo,resourceDictionaryObjId:Ai}));Ba(Oo,!0),le("<</Type /Pages");var De="/Kids [";for(ne=0;ne<Cn;ne++)De+=je[ne]+" 0 R ";le(De+"]"),le("/Count "+Cn),le(">>"),le("endobj"),Br.publish("postPutPages")},xc=function(q){Br.publish("putFont",{font:q,out:le,newObject:An,putStream:Fs}),q.isAlreadyPutted!==!0&&(q.objectNumber=An(),le("<<"),le("/Type /Font"),le("/BaseFont /"+fm(q.postScriptName)),le("/Subtype /Type1"),typeof q.encoding=="string"&&le("/Encoding /"+q.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},gc=function(){for(var q in $r)$r.hasOwnProperty(q)&&(f===!1||f===!0&&p.hasOwnProperty(q))&&xc($r[q])},yc=function(q){q.objectNumber=An();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[E(q.x),E(q.y),E(q.x+q.width),E(q.y+q.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+q.matrix.toString()+"]"});var je=q.pages[1].join(`
`);Fs({data:je,additionalKeyValues:ne,objectId:q.objectNumber}),le("endobj")},bu=function(){for(var q in ya)ya.hasOwnProperty(q)&&yc(ya[q])},Ah=function(q,ne){var je,De=[],$e=1/(ne-1);for(je=0;je<1;je+=$e)De.push(je);if(De.push(1),q[0].offset!=0){var rt={offset:0,color:q[0].color};q.unshift(rt)}if(q[q.length-1].offset!=1){var mt={offset:1,color:q[q.length-1].color};q.push(mt)}for(var It="",Kt=0,gr=0;gr<De.length;gr++){for(je=De[gr];je>q[Kt+1].offset;)Kt++;var pr=q[Kt].offset,Er=(je-pr)/(q[Kt+1].offset-pr),In=q[Kt].color,$n=q[Kt+1].color;It+=se(Math.round((1-Er)*In[0]+Er*$n[0]).toString(16))+se(Math.round((1-Er)*In[1]+Er*$n[1]).toString(16))+se(Math.round((1-Er)*In[2]+Er*$n[2]).toString(16))}return It.trim()},Pn=function(q,ne){ne||(ne=21);var je=An(),De=Ah(q.colors,ne),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+ne+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fs({data:De,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),le("endobj"),q.objectNumber=An(),le("<< /ShadingType "+q.type),le("/ColorSpace /DeviceRGB");var rt="/Coords ["+E(parseFloat(q.coords[0]))+" "+E(parseFloat(q.coords[1]))+" ";q.type===2?rt+=E(parseFloat(q.coords[2]))+" "+E(parseFloat(q.coords[3])):rt+=E(parseFloat(q.coords[2]))+" "+E(parseFloat(q.coords[3]))+" "+E(parseFloat(q.coords[4]))+" "+E(parseFloat(q.coords[5])),le(rt+="]"),q.matrix&&le("/Matrix ["+q.matrix.toString()+"]"),le("/Function "+je+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Ap=function(q,ne){var je=En(),De=An();ne.push({resourcesOid:je,objectOid:De}),q.objectNumber=De;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+q.boundingBox.map(E).join(" ")+"]"}),$e.push({key:"XStep",value:E(q.xStep)}),$e.push({key:"YStep",value:E(q.yStep)}),$e.push({key:"Resources",value:je+" 0 R"}),q.matrix&&$e.push({key:"Matrix",value:"["+q.matrix.toString()+"]"}),Fs({data:q.stream,additionalKeyValues:$e,objectId:q.objectNumber}),le("endobj")},El=function(q){var ne;for(ne in Nr)Nr.hasOwnProperty(ne)&&(Nr[ne]instanceof bd?Pn(Nr[ne]):Nr[ne]instanceof zf&&Ap(Nr[ne],q))},Qd=function(q){for(var ne in q.objectNumber=An(),le("<<"),q)switch(ne){case"opacity":le("/ca "+M(q[ne]));break;case"stroke-opacity":le("/CA "+M(q[ne]))}le(">>"),le("endobj")},ju=function(){var q;for(q in jn)jn.hasOwnProperty(q)&&Qd(jn[q])},Jd=function(){for(var q in le("/XObject <<"),ya)ya.hasOwnProperty(q)&&ya[q].objectNumber>=0&&le("/"+q+" "+ya[q].objectNumber+" 0 R");Br.publish("putXobjectDict"),le(">>")},Eh=function(){Tn.oid=An(),le("<<"),le("/Filter /Standard"),le("/V "+Tn.v),le("/R "+Tn.r),le("/U <"+Tn.toHexString(Tn.U)+">"),le("/O <"+Tn.toHexString(Tn.O)+">"),le("/P "+Tn.P),le(">>"),le("endobj")},bc=function(){for(var q in le("/Font <<"),$r)$r.hasOwnProperty(q)&&(f===!1||f===!0&&p.hasOwnProperty(q))&&le("/"+q+" "+$r[q].objectNumber+" 0 R");le(">>")},ri=function(){if(Object.keys(Nr).length>0){for(var q in le("/Shading <<"),Nr)Nr.hasOwnProperty(q)&&Nr[q]instanceof bd&&Nr[q].objectNumber>=0&&le("/"+q+" "+Nr[q].objectNumber+" 0 R");Br.publish("putShadingPatternDict"),le(">>")}},wu=function(q){if(Object.keys(Nr).length>0){for(var ne in le("/Pattern <<"),Nr)Nr.hasOwnProperty(ne)&&Nr[ne]instanceof v.TilingPattern&&Nr[ne].objectNumber>=0&&Nr[ne].objectNumber<q&&le("/"+ne+" "+Nr[ne].objectNumber+" 0 R");Br.publish("putTilingPatternDict"),le(">>")}},Ms=function(){if(Object.keys(jn).length>0){var q;for(q in le("/ExtGState <<"),jn)jn.hasOwnProperty(q)&&jn[q].objectNumber>=0&&le("/"+q+" "+jn[q].objectNumber+" 0 R");Br.publish("putGStateDict"),le(">>")}},Hn=function(q){Ba(q.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bc(),ri(),wu(q.objectOid),Ms(),Jd(),le(">>"),le("endobj")},Ph=function(){var q=[];gc(),ju(),bu(),El(q),Br.publish("putResources"),q.forEach(Hn),Hn({resourcesOid:Ai,objectOid:Number.MAX_SAFE_INTEGER}),Br.publish("postPutResources")},Th=function(){Br.publish("putAdditionalObjects");for(var q=0;q<we.length;q++){var ne=we[q];Ba(ne.objId,!0),le(ne.content),le("endobj")}Br.publish("postPutAdditionalObjects")},jc=function(q){Gr[q.fontName]=Gr[q.fontName]||{},Gr[q.fontName][q.fontStyle]=q.id},Pl=function(q,ne,je,De,$e){var rt={id:"F"+(Object.keys($r).length+1).toString(10),postScriptName:q,fontName:ne,fontStyle:je,encoding:De,isStandardFont:$e||!1,metadata:{}};return Br.publish("addFont",{font:rt,instance:this}),$r[rt.id]=rt,jc(rt),rt.id},wc=function(q){for(var ne=0,je=Ue.length;ne<je;ne++){var De=Pl.call(this,q[ne][0],q[ne][1],q[ne][2],Ue[ne][3],!0);f===!1&&(p[De]=!0);var $e=q[ne][0].split("-");jc({id:De,fontName:$e[0],fontStyle:$e[1]||""})}Br.publish("addFonts",{fonts:$r,dictionary:Gr})},vs=function(q){return q.foo=function(){try{return q.apply(this,arguments)}catch(De){var ne=De.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var je="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+De.message;if(!or.console)throw new Error(je);or.console.error(je,De),or.alert&&alert(je)}},q.foo.bar=q,q.foo},Nu=function(q,ne){var je,De,$e,rt,mt,It,Kt,gr,pr;if($e=(ne=ne||{}).sourceEncoding||"Unicode",mt=ne.outputEncoding,(ne.autoencode||mt)&&$r[er].metadata&&$r[er].metadata[$e]&&$r[er].metadata[$e].encoding&&(rt=$r[er].metadata[$e].encoding,!mt&&$r[er].encoding&&(mt=$r[er].encoding),!mt&&rt.codePages&&(mt=rt.codePages[0]),typeof mt=="string"&&(mt=rt[mt]),mt)){for(Kt=!1,It=[],je=0,De=q.length;je<De;je++)(gr=mt[q.charCodeAt(je)])?It.push(String.fromCharCode(gr)):It.push(q[je]),It[je].charCodeAt(0)>>8&&(Kt=!0);q=It.join("")}for(je=q.length;Kt===void 0&&je!==0;)q.charCodeAt(je-1)>>8&&(Kt=!0),je--;if(!Kt)return q;for(It=ne.noBOM?[]:[254,255],je=0,De=q.length;je<De;je++){if((pr=(gr=q.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");It.push(pr),It.push(gr-(pr<<8))}return String.fromCharCode.apply(void 0,It)},xs=v.__private__.pdfEscape=v.pdfEscape=function(q,ne){return Nu(q,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nc=v.__private__.beginPage=function(q){Se[++Cn]=[],fr[Cn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}},Tl(Cn),ge(Se[K])},Zd=function(q,ne){var je,De,$e;switch(n=ne||n,typeof q=="string"&&(je=j(q.toLowerCase()),Array.isArray(je)&&(De=je[0],$e=je[1])),Array.isArray(q)&&(De=q[0]*jt,$e=q[1]*jt),isNaN(De)&&(De=s[0],$e=s[1]),(De>14400||$e>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),$e=Math.min(14400,$e)),s=[De,$e],n.substr(0,1)){case"l":$e>De&&(s=[$e,De]);break;case"p":De>$e&&(s=[$e,De])}Nc(s),Pc(nf),le(gs),sf!==0&&le(sf+" J"),Ic!==0&&le(Ic+" j"),Br.publish("addPage",{pageNumber:Cn})},ef=function(q){q>0&&q<=Cn&&(Se.splice(q,1),fr.splice(q,1),Cn--,K>Cn&&(K=Cn),this.setPage(K))},Tl=function(q){q>0&&q<=Cn&&(K=q)},Ep=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Se.length-1},Su=function(q,ne,je){var De,$e=void 0;return je=je||{},q=q!==void 0?q:$r[er].fontName,ne=ne!==void 0?ne:$r[er].fontStyle,De=q.toLowerCase(),Gr[De]!==void 0&&Gr[De][ne]!==void 0?$e=Gr[De][ne]:Gr[q]!==void 0&&Gr[q][ne]!==void 0?$e=Gr[q][ne]:je.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+q+"', '"+ne+"'. Refer to getFontList() for available fonts."),$e||je.noFallback||($e=Gr.times[ne])==null&&($e=Gr.times.normal),$e},qr=v.__private__.putInfo=function(){var q=An(),ne=function(De){return De};for(var je in h!==null&&(ne=Tn.encryptor(q,0)),le("<<"),le("/Producer ("+xs(ne("jsPDF "+Zt.version))+")"),Vt)Vt.hasOwnProperty(je)&&Vt[je]&&le("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+xs(ne(Vt[je]))+")");le("/CreationDate ("+xs(ne(z))+")"),le(">>"),le("endobj")},Cu=v.__private__.putCatalog=function(q){var ne=(q=q||{}).rootDictionaryObjId||Oo;switch(An(),le("<<"),le("/Type /Catalog"),le("/Pages "+ne+" 0 R"),xt||(xt="fullwidth"),xt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+xt;je.substr(je.length-1)==="%"&&(xt=parseInt(xt)/100),typeof xt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+M(xt)+"]")}switch(Ct||(Ct="continuous"),Ct){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}et&&le("/PageMode /"+et),Br.publish("putCatalog"),le(">>"),le("endobj")},Ih=v.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(oe+1)),le("/Root "+oe+" 0 R"),le("/Info "+(oe-1)+" 0 R"),h!==null&&le("/Encrypt "+Tn.oid+" 0 R"),le("/ID [ <"+V+"> <"+V+"> ]"),le(">>")},tf=v.__private__.putHeader=function(){le("%PDF-"+g),le("%ºß¬à")},Dh=v.__private__.putXRef=function(){var q="0000000000";le("xref"),le("0 "+(oe+1)),le("0000000000 65535 f ");for(var ne=1;ne<=oe;ne++)typeof me[ne]=="function"?le((q+me[ne]()).slice(-10)+" 00000 n "):me[ne]!==void 0?le((q+me[ne]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Zi=v.__private__.buildDocument=function(){He(),ge(ve),Br.publish("buildDocument"),tf(),Al(),Th(),Ph(),h!==null&&Eh(),qr(),Cu();var q=pe;return Dh(),Ih(),le("startxref"),le(""+q),le("%%EOF"),ge(Se[K]),ve.join(`
`)},Sc=v.__private__.getBlob=function(q){return new Blob([Ie(q)],{type:"application/pdf"})},Il=v.output=v.__private__.output=vs(function(q,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",q){case void 0:return Zi();case"save":v.save(ne.filename);break;case"arraybuffer":return Ie(Zi());case"blob":return Sc(Zi());case"bloburi":case"bloburl":if(or.URL!==void 0&&typeof or.URL.createObjectURL=="function")return or.URL&&or.URL.createObjectURL(Sc(Zi()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",De=Zi();try{je=kS(De)}catch{je=kS(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+ne.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(or)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&($e=ne.pdfObjectUrl,rt="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",It=or.open();return It!==null&&It.document.write(mt),It}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(or)==="[object Window]"){var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',gr=or.open();if(gr!==null){gr.document.write(Kt);var pr=this;gr.document.documentElement.querySelector("#pdfViewer").onload=function(){gr.document.title=ne.filename,gr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pr.output("bloburl"))}}return gr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',In=or.open();if(In!==null&&(In.document.write(Er),In.document.title=ne.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return or.document.location.href=this.output("datauristring",ne);default:return null}}),Cc=function(q){return Array.isArray(Sl)===!0&&Sl.indexOf(q)>-1};switch(a){case"pt":jt=1;break;case"mm":jt=72/25.4;break;case"cm":jt=72/2.54;break;case"in":jt=72;break;case"px":jt=Cc("px_scaling")==1?.75:96/72;break;case"pc":case"em":jt=12;break;case"ex":jt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);jt=a}var Tn=null;Q(),H();var eo=function(q){return h!==null?Tn.encryptor(q,0):function(ne){return ne}},Ti=v.__private__.getPageInfo=v.getPageInfo=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:fr[q].objId,pageNumber:q,pageContext:fr[q]}},nr=v.__private__.getPageInfoByObjId=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in fr)if(fr[ne].objId===q)break;return Ti(ne)},Ac=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:fr[K].objId,pageNumber:K,pageContext:fr[K]}};v.addPage=function(){return Zd.apply(this,arguments),this},v.setPage=function(){return Tl.apply(this,arguments),ge.call(this,Se[K]),this},v.insertPage=function(q){return this.addPage(),this.movePage(K,q),this},v.movePage=function(q,ne){var je,De;if(q>ne){je=Se[q],De=fr[q];for(var $e=q;$e>ne;$e--)Se[$e]=Se[$e-1],fr[$e]=fr[$e-1];Se[ne]=je,fr[ne]=De,this.setPage(ne)}else if(q<ne){je=Se[q],De=fr[q];for(var rt=q;rt<ne;rt++)Se[rt]=Se[rt+1],fr[rt]=fr[rt+1];Se[ne]=je,fr[ne]=De,this.setPage(ne)}return this},v.deletePage=function(){return ef.apply(this,arguments),this},v.__private__.text=v.text=function(q,ne,je,De,$e){var rt,mt,It,Kt,gr,pr,Er,In,$n,ea=(De=De||{}).scope||this;if(typeof q=="number"&&typeof ne=="number"&&(typeof je=="string"||Array.isArray(je))){var qa=je;je=ne,ne=q,q=qa}if(arguments[3]instanceof Xt?(C("The transform parameter of text() with a Matrix value"),$n=$e):(It=arguments[4],Kt=arguments[5],Qr(Er=arguments[3])==="object"&&Er!==null||(typeof It=="string"&&(Kt=It,It=null),typeof Er=="string"&&(Kt=Er,Er=null),typeof Er=="number"&&(It=Er,Er=null),De={flags:Er,angle:It,align:Kt})),isNaN(ne)||isNaN(je)||q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(q.length===0)return ea;var ba="",ki=!1,Bs=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:Ec,si=ea.internal.scaleFactor;function Fl(ln){return ln=ln.split("	").join(Array(De.TabLen||9).join(" ")),xs(ln,Er)}function cf(ln){for(var Zr,qn=ln.concat(),ta=[],io=qn.length;io--;)typeof(Zr=qn.shift())=="string"?ta.push(Zr):Array.isArray(ln)&&(Zr.length===1||Zr[1]===void 0&&Zr[2]===void 0)?ta.push(Zr[0]):ta.push([Zr[0],Zr[1],Zr[2]]);return ta}function Ru(ln,Zr){var qn;if(typeof ln=="string")qn=Zr(ln)[0];else if(Array.isArray(ln)){for(var ta,io,Wu=ln.concat(),Mc=[],ff=Wu.length;ff--;)typeof(ta=Wu.shift())=="string"?Mc.push(Zr(ta)[0]):Array.isArray(ta)&&typeof ta[0]=="string"&&(io=Zr(ta[0],ta[1],ta[2]),Mc.push([io[0],io[1],io[2]]));qn=Mc}return qn}var Dc=!1,Lu=!0;if(typeof q=="string")Dc=!0;else if(Array.isArray(q)){var Fu=q.concat();mt=[];for(var _c,Bn=Fu.length;Bn--;)(typeof(_c=Fu.shift())!="string"||Array.isArray(_c)&&typeof _c[0]!="string")&&(Lu=!1);Dc=Lu}if(Dc===!1)throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.');typeof q=="string"&&(q=q.match(/[\r?\n]/)?q.split(/\r\n|\r|\n/g):[q]);var Mu=ct/ea.internal.scaleFactor,$u=Mu*(Bs-1);switch(De.baseline){case"bottom":je-=$u;break;case"top":je+=Mu-$u;break;case"hanging":je+=Mu-2*$u;break;case"middle":je+=Mu/2-$u}if((pr=De.maxWidth||0)>0&&(typeof q=="string"?q=ea.splitTextToSize(q,pr):Object.prototype.toString.call(q)==="[object Array]"&&(q=q.reduce(function(ln,Zr){return ln.concat(ea.splitTextToSize(Zr,pr))},[]))),rt={text:q,x:ne,y:je,options:De,mutex:{pdfEscape:xs,activeFontKey:er,fonts:$r,activeFontSize:ct}},Br.publish("preProcessText",rt),q=rt.text,It=(De=rt.options).angle,!($n instanceof Xt)&&It&&typeof It=="number"){It*=Math.PI/180,De.rotationDirection===0&&(It=-It),N===b.ADVANCED&&(It=-It);var Bu=Math.cos(It),qu=Math.sin(It);$n=new Xt(Bu,qu,-qu,Bu,0,0)}else It&&It instanceof Xt&&($n=It);N!==b.ADVANCED||$n||($n=ms),(gr=De.charSpace||Ol)!==void 0&&(ba+=E(D(gr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=De.horizontalScale)!==void 0&&(ba+=E(100*In)+` Tz
`),De.lang;var Za=-1,kc=De.renderingMode!==void 0?De.renderingMode:De.stroke,Fo=ea.internal.getCurrentPageInfo().pageContext;switch(kc){case 0:case!1:case"fill":Za=0;break;case 1:case!0:case"stroke":Za=1;break;case 2:case"fillThenStroke":Za=2;break;case 3:case"invisible":Za=3;break;case 4:case"fillAndAddForClipping":Za=4;break;case 5:case"strokeAndAddPathForClipping":Za=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Za=6;break;case 7:case"addToPathForClipping":Za=7}var Rh=Fo.usedRenderingMode!==void 0?Fo.usedRenderingMode:-1;Za!==-1?ba+=Za+` Tr
`:Rh!==-1&&(ba+=`0 Tr
`),Za!==-1&&(Fo.usedRenderingMode=Za),Kt=De.align||"left";var es,zu=ct*Bs,uf=ea.internal.pageSize.getWidth(),Uu=$r[er];gr=De.charSpace||Ol,pr=De.maxWidth||0,Er=Object.assign({autoencode:!0,noBOM:!0},De.flags);var ao=[],Ml=function(ln){return ea.getStringUnitWidth(ln,{font:Uu,charSpace:gr,fontSize:ct,doKerning:!1})*ct/si};if(Object.prototype.toString.call(q)==="[object Array]"){var ts;mt=cf(q),Kt!=="left"&&(es=mt.map(Ml));var za,$l=0;if(Kt==="right"){ne-=es[0],q=[],Bn=mt.length;for(var Mo=0;Mo<Bn;Mo++)Mo===0?(za=ni(ne),ts=ai(je)):(za=D($l-es[Mo]),ts=-zu),q.push([mt[Mo],za,ts]),$l=es[Mo]}else if(Kt==="center"){ne-=es[0]/2,q=[],Bn=mt.length;for(var $o=0;$o<Bn;$o++)$o===0?(za=ni(ne),ts=ai(je)):(za=D(($l-es[$o])/2),ts=-zu),q.push([mt[$o],za,ts]),$l=es[$o]}else if(Kt==="left"){q=[],Bn=mt.length;for(var Vu=0;Vu<Bn;Vu++)q.push(mt[Vu])}else if(Kt==="justify"&&Uu.encoding==="Identity-H"){q=[],Bn=mt.length,pr=pr!==0?pr:uf;for(var Bo=0,zr=0;zr<Bn;zr++)if(ts=zr===0?ai(je):-zu,za=zr===0?ni(ne):Bo,zr<Bn-1){var qo=D((pr-es[zr])/(mt[zr].split(" ").length-1)),Ua=mt[zr].split(" ");q.push([Ua[0]+" ",za,ts]),Bo=0;for(var qs=1;qs<Ua.length;qs++){var Oc=(Ml(Ua[qs-1]+" "+Ua[qs])-Ml(Ua[qs]))*si+qo;qs==Ua.length-1?q.push([Ua[qs],Oc,0]):q.push([Ua[qs]+" ",Oc,0]),Bo-=Oc}}else q.push([mt[zr],za,ts]);q.push(["",Bo,0])}else{if(Kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(q=[],Bn=mt.length,pr=pr!==0?pr:uf,zr=0;zr<Bn;zr++)ts=zr===0?ai(je):-zu,za=zr===0?ni(ne):0,zr<Bn-1?ao.push(E(D((pr-es[zr])/(mt[zr].split(" ").length-1)))):ao.push(0),q.push([mt[zr],za,ts])}}var df=typeof De.R2L=="boolean"?De.R2L:kt;df===!0&&(q=Ru(q,function(ln,Zr,qn){return[ln.split("").reverse().join(""),Zr,qn]})),rt={text:q,x:ne,y:je,options:De,mutex:{pdfEscape:xs,activeFontKey:er,fonts:$r,activeFontSize:ct}},Br.publish("postProcessText",rt),q=rt.text,ki=rt.mutex.isHex||!1;var Rc=$r[er].encoding;Rc!=="WinAnsiEncoding"&&Rc!=="StandardEncoding"||(q=Ru(q,function(ln,Zr,qn){return[Fl(ln),Zr,qn]})),mt=cf(q),q=[];for(var Lc,Fc,zs,zo=0,so=1,Uo=Array.isArray(mt[0])?so:zo,Vo="",Bl=function(ln,Zr,qn){var ta="";return qn instanceof Xt?(qn=typeof De.angle=="number"?Ls(qn,new Xt(1,0,0,1,ln,Zr)):Ls(new Xt(1,0,0,1,ln,Zr),qn),N===b.ADVANCED&&(qn=Ls(new Xt(1,0,0,-1,0,0),qn)),ta=qn.join(" ")+` Tm
`):ta=E(ln)+" "+E(Zr)+` Td
`,ta},Aa=0;Aa<mt.length;Aa++){switch(Vo="",Uo){case so:zs=(ki?"<":"(")+mt[Aa][0]+(ki?">":")"),Lc=parseFloat(mt[Aa][1]),Fc=parseFloat(mt[Aa][2]);break;case zo:zs=(ki?"<":"(")+mt[Aa]+(ki?">":")"),Lc=ni(ne),Fc=ai(je)}ao!==void 0&&ao[Aa]!==void 0&&(Vo=ao[Aa]+` Tw
`),Aa===0?q.push(Vo+Bl(Lc,Fc,$n)+zs):Uo===zo?q.push(Vo+zs):Uo===so&&q.push(Vo+Bl(Lc,Fc,$n)+zs)}q=Uo===zo?q.join(` Tj
T* `):q.join(` Tj
`),q+=` Tj
`;var ys=`BT
/`;return ys+=er+" "+ct+` Tf
`,ys+=E(ct*Bs)+` TL
`,ys+=ca+`
`,ys+=ba,ys+=q,le(ys+="ET"),p[er]=!0,ea};var to=v.__private__.clip=v.clip=function(q){return le(q==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return to("evenodd")},v.__private__.discardPath=v.discardPath=function(){return le("n"),this};var ro=v.__private__.isValidStyle=function(q){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(q)!==-1&&(ne=!0),ne};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(q){return ro(q)&&(u=q),this};var rf=v.__private__.getStyle=v.getStyle=function(q){var ne=u;switch(q){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=q}return ne},Dl=v.close=function(){return le("h"),this};v.stroke=function(){return le("S"),this},v.fill=function(q){return Au("f",q),this},v.fillEvenOdd=function(q){return Au("f*",q),this},v.fillStroke=function(q){return Au("B",q),this},v.fillStrokeEvenOdd=function(q){return Au("B*",q),this};var Au=function(q,ne){Qr(ne)==="object"?_h(ne,q):le(q)},Eu=function(q){q===null||N===b.ADVANCED&&q===void 0||(q=rf(q),le(q))};function Pu(q,ne,je,De,$e){var rt=new zf(ne||this.boundingBox,je||this.xStep,De||this.yStep,this.gState,$e||this.matrix);rt.stream=this.stream;var mt=q+"$$"+this.cloneIndex+++"$$";return ps(mt,rt),rt}var _h=function(q,ne){var je=Si[q.key],De=Nr[je];if(De instanceof bd)le("q"),le(Pp(ne)),De.gState&&v.setGState(De.gState),le(q.matrix.toString()+" cm"),le("/"+je+" sh"),le("Q");else if(De instanceof zf){var $e=new Xt(1,0,0,-1,0,Ll());q.matrix&&($e=$e.multiply(q.matrix||ms),je=Pu.call(De,q.key,q.boundingBox,q.xStep,q.yStep,$e).id),le("q"),le("/Pattern cs"),le("/"+je+" scn"),De.gState&&v.setGState(De.gState),le(ne),le("Q")}},Pp=function(q){switch(q){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ro=v.moveTo=function(q,ne){return le(E(D(q))+" "+E(F(ne))+" m"),this},Ii=v.lineTo=function(q,ne){return le(E(D(q))+" "+E(F(ne))+" l"),this},$s=v.curveTo=function(q,ne,je,De,$e,rt){return le([E(D(q)),E(F(ne)),E(D(je)),E(F(De)),E(D($e)),E(F(rt)),"c"].join(" ")),this};v.__private__.line=v.line=function(q,ne,je,De,$e){if(isNaN(q)||isNaN(ne)||isNaN(je)||isNaN(De)||!ro($e))throw new Error("Invalid arguments passed to jsPDF.line");return N===b.COMPAT?this.lines([[je-q,De-ne]],q,ne,[1,1],$e||"S"):this.lines([[je-q,De-ne]],q,ne,[1,1]).stroke()},v.__private__.lines=v.lines=function(q,ne,je,De,$e,rt){var mt,It,Kt,gr,pr,Er,In,$n,ea,qa,ba,ki;if(typeof q=="number"&&(ki=je,je=ne,ne=q,q=ki),De=De||[1,1],rt=rt||!1,isNaN(ne)||isNaN(je)||!Array.isArray(q)||!Array.isArray(De)||!ro($e)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ro(ne,je),mt=De[0],It=De[1],gr=q.length,qa=ne,ba=je,Kt=0;Kt<gr;Kt++)(pr=q[Kt]).length===2?(qa=pr[0]*mt+qa,ba=pr[1]*It+ba,Ii(qa,ba)):(Er=pr[0]*mt+qa,In=pr[1]*It+ba,$n=pr[2]*mt+qa,ea=pr[3]*It+ba,qa=pr[4]*mt+qa,ba=pr[5]*It+ba,$s(Er,In,$n,ea,qa,ba));return rt&&Dl(),Eu($e),this},v.path=function(q){for(var ne=0;ne<q.length;ne++){var je=q[ne],De=je.c;switch(je.op){case"m":Ro(De[0],De[1]);break;case"l":Ii(De[0],De[1]);break;case"c":$s.apply(this,De);break;case"h":Dl()}}return this},v.__private__.rect=v.rect=function(q,ne,je,De,$e){if(isNaN(q)||isNaN(ne)||isNaN(je)||isNaN(De)||!ro($e))throw new Error("Invalid arguments passed to jsPDF.rect");return N===b.COMPAT&&(De=-De),le([E(D(q)),E(F(ne)),E(D(je)),E(D(De)),"re"].join(" ")),Eu($e),this},v.__private__.triangle=v.triangle=function(q,ne,je,De,$e,rt,mt){if(isNaN(q)||isNaN(ne)||isNaN(je)||isNaN(De)||isNaN($e)||isNaN(rt)||!ro(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-q,De-ne],[$e-je,rt-De],[q-$e,ne-rt]],q,ne,[1,1],mt,!0),this},v.__private__.roundedRect=v.roundedRect=function(q,ne,je,De,$e,rt,mt){if(isNaN(q)||isNaN(ne)||isNaN(je)||isNaN(De)||isNaN($e)||isNaN(rt)||!ro(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var It=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*je),rt=Math.min(rt,.5*De),this.lines([[je-2*$e,0],[$e*It,0,$e,rt-rt*It,$e,rt],[0,De-2*rt],[0,rt*It,-$e*It,rt,-$e,rt],[2*$e-je,0],[-$e*It,0,-$e,-rt*It,-$e,-rt],[0,2*rt-De],[0,-rt*It,$e*It,-rt,$e,-rt]],q+$e,ne,[1,1],mt,!0),this},v.__private__.ellipse=v.ellipse=function(q,ne,je,De,$e){if(isNaN(q)||isNaN(ne)||isNaN(je)||isNaN(De)||!ro($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*je,mt=4/3*(Math.SQRT2-1)*De;return Ro(q+je,ne),$s(q+je,ne-mt,q+rt,ne-De,q,ne-De),$s(q-rt,ne-De,q-je,ne-mt,q-je,ne),$s(q-je,ne+mt,q-rt,ne+De,q,ne+De),$s(q+rt,ne+De,q+je,ne+mt,q+je,ne),Eu($e),this},v.__private__.circle=v.circle=function(q,ne,je,De){if(isNaN(q)||isNaN(ne)||isNaN(je)||!ro(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(q,ne,je,je,De)},v.setFont=function(q,ne,je){return je&&(ne=w(ne,je)),er=Su(q,ne,{disableWarning:!1}),this};var Tu=v.__private__.getFont=v.getFont=function(){return $r[Su.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var q,ne,je={};for(q in Gr)if(Gr.hasOwnProperty(q))for(ne in je[q]=[],Gr[q])Gr[q].hasOwnProperty(ne)&&je[q].push(ne);return je},v.addFont=function(q,ne,je,De,$e){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(je=w(je,De)),$e=$e||"Identity-H",Pl.call(this,q,ne,je,$e)};var Ec,nf=e.lineWidth||.200025,_l=v.__private__.getLineWidth=v.getLineWidth=function(){return nf},Pc=v.__private__.setLineWidth=v.setLineWidth=function(q){return nf=q,le(E(D(q))+" w"),this};v.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(q,ne){if(q=q||[],ne=ne||0,isNaN(ne)||!Array.isArray(q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return q=q.map(function(je){return E(D(je))}).join(" "),ne=E(D(ne)),le("["+q+"] "+ne+" d"),this};var Iu=v.__private__.getLineHeight=v.getLineHeight=function(){return ct*Ec};v.__private__.getLineHeight=v.getLineHeight=function(){return ct*Ec};var af=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(q){return typeof(q=q||1.15)=="number"&&(Ec=q),this},Di=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Ec};af(e.lineHeight);var ni=v.__private__.getHorizontalCoordinate=function(q){return D(q)},ai=v.__private__.getVerticalCoordinate=function(q){return N===b.ADVANCED?q:fr[K].mediaBox.topRightY-fr[K].mediaBox.bottomLeftY-D(q)},kh=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(q){return E(ni(q))},_i=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(q){return E(ai(q))},gs=e.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Ei(gs)},v.__private__.setStrokeColor=v.setDrawColor=function(q,ne,je,De){return gs=Ca({ch1:q,ch2:ne,ch3:je,ch4:De,pdfColorType:"draw",precision:2}),le(gs),this};var Du=e.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Ei(Du)},v.__private__.setFillColor=v.setFillColor=function(q,ne,je,De){return Du=Ca({ch1:q,ch2:ne,ch3:je,ch4:De,pdfColorType:"fill",precision:2}),le(Du),this};var ca=e.textColor||"0 g",kl=v.__private__.getTextColor=v.getTextColor=function(){return Ei(ca)};v.__private__.setTextColor=v.setTextColor=function(q,ne,je,De){return ca=Ca({ch1:q,ch2:ne,ch3:je,ch4:De,pdfColorType:"text",precision:3}),this};var Ol=e.charSpace,Tc=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Ol||0)};v.__private__.setCharSpace=v.setCharSpace=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ol=q,this};var sf=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(q){var ne=v.CapJoinStyles[q];if(ne===void 0)throw new Error("Line cap style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sf=ne,le(ne+" J"),this};var Ic=0;v.__private__.setLineJoin=v.setLineJoin=function(q){var ne=v.CapJoinStyles[q];if(ne===void 0)throw new Error("Line join style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ic=ne,le(ne+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(q){if(q=q||0,isNaN(q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(E(D(q))+" M"),this},v.GState=Uv,v.setGState=function(q){(q=typeof q=="string"?jn[$a[q]]:_u(null,q)).equals(hs)||(le("/"+q.id+" gs"),hs=q)};var _u=function(q,ne){if(!q||!$a[q]){var je=!1;for(var De in jn)if(jn.hasOwnProperty(De)&&jn[De].equals(ne)){je=!0;break}if(je)ne=jn[De];else{var $e="GS"+(Object.keys(jn).length+1).toString(10);jn[$e]=ne,ne.id=$e}return q&&($a[q]=ne.id),Br.publish("addGState",ne),ne}};v.addGState=function(q,ne){return _u(q,ne),this},v.saveGraphicsState=function(){return le("q"),Ma.push({key:er,size:ct,color:ca}),this},v.restoreGraphicsState=function(){le("Q");var q=Ma.pop();return er=q.key,ct=q.size,ca=q.color,hs=null,this},v.setCurrentTransformationMatrix=function(q){return le(q.toString()+" cm"),this},v.comment=function(q){return le("#"+q),this};var no=function(q,ne){var je=q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(rt){isNaN(rt)||(je=parseFloat(rt))}});var De=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(rt){isNaN(rt)||(De=parseFloat(rt))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(rt){$e=rt.toString()}}),this},Rl=function(q,ne,je,De){no.call(this,q,ne),this.type="rect";var $e=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(mt){isNaN(mt)||($e=parseFloat(mt))}});var rt=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(mt){isNaN(mt)||(rt=parseFloat(mt))}}),this},ku=function(){this.page=Cn,this.currentPage=K,this.pages=Se.slice(0),this.pagesContext=fr.slice(0),this.x=Mr,this.y=xr,this.matrix=Zn,this.width=Lo(K),this.height=Ll(K),this.outputDestination=ze,this.id="",this.objectNumber=-1};ku.prototype.restore=function(){Cn=this.page,K=this.currentPage,fr=this.pagesContext,Se=this.pages,Mr=this.x,xr=this.y,Zn=this.matrix,of(K,this.width),lf(K,this.height),ze=this.outputDestination};var Oh=function(q,ne,je,De,$e){Ci.push(new ku),Cn=K=0,Se=[],Mr=q,xr=ne,Zn=$e,Nc([je,De])},Tp=function(q){if(ti[q])Ci.pop().restore();else{var ne=new ku,je="Xo"+(Object.keys(ya).length+1).toString(10);ne.id=je,ti[q]=je,ya[je]=ne,Br.publish("addFormObject",ne),Ci.pop().restore()}};for(var Ou in v.beginFormObject=function(q,ne,je,De,$e){return Oh(q,ne,je,De,$e),this},v.endFormObject=function(q){return Tp(q),this},v.doFormObject=function(q,ne){var je=ya[ti[q]];return le("q"),le(ne.toString()+" cm"),le("/"+je.id+" Do"),le("Q"),this},v.getFormObject=function(q){var ne=ya[ti[q]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},v.save=function(q,ne){return q=q||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(_f(Sc(Zi()),q),typeof _f.unload=="function"&&or.setTimeout&&setTimeout(_f.unload,911),this):new Promise(function(je,De){try{var $e=_f(Sc(Zi()),q);typeof _f.unload=="function"&&or.setTimeout&&setTimeout(_f.unload,911),je($e)}catch(rt){De(rt.message)}})},Zt.API)Zt.API.hasOwnProperty(Ou)&&(Ou==="events"&&Zt.API.events.length?function(q,ne){var je,De,$e;for($e=ne.length-1;$e!==-1;$e--)je=ne[$e][0],De=ne[$e][1],q.subscribe.apply(q,[je].concat(typeof De=="function"?[De]:De))}(Br,Zt.API.events):v[Ou]=Zt.API[Ou]);var Lo=v.getPageWidth=function(q){return(fr[q=q||K].mediaBox.topRightX-fr[q].mediaBox.bottomLeftX)/jt},of=v.setPageWidth=function(q,ne){fr[q].mediaBox.topRightX=ne*jt+fr[q].mediaBox.bottomLeftX},Ll=v.getPageHeight=function(q){return(fr[q=q||K].mediaBox.topRightY-fr[q].mediaBox.bottomLeftY)/jt},lf=v.setPageHeight=function(q,ne){fr[q].mediaBox.topRightY=ne*jt+fr[q].mediaBox.bottomLeftY};return v.internal={pdfEscape:xs,getStyle:rf,getFont:Tu,getFontSize:gt,getCharSpace:Tc,getTextColor:kl,getLineHeight:Iu,getLineHeightFactor:Di,getLineWidth:_l,write:st,getHorizontalCoordinate:ni,getVerticalCoordinate:ai,getCoordinateString:kh,getVerticalCoordinateString:_i,collections:{},newObject:An,newAdditionalObject:Cl,newObjectDeferred:En,newObjectDeferredBegin:Ba,getFilters:Pi,putStream:Fs,events:Br,scaleFactor:jt,pageSize:{getWidth:function(){return Lo(K)},setWidth:function(q){of(K,q)},getHeight:function(){return Ll(K)},setHeight:function(q){lf(K,q)}},encryptionOptions:h,encryption:Tn,getEncryptor:eo,output:Il,getNumberOfPages:Ep,pages:Se,out:le,f2:M,f3:k,getPageInfo:Ti,getPageInfoByObjId:nr,getCurrentPageInfo:Ac,getPDFVersion:y,Point:no,Rectangle:Rl,Matrix:Xt,hasHotfix:Cc},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Lo(K)},set:function(q){of(K,q)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Ll(K)},set:function(q){lf(K,q)},enumerable:!0,configurable:!0}),wc.call(v,Ue),er="F1",Zd(s,n),Br.publish("initialized"),v}dm.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},dm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dm.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},dm.prototype.processOwnerPassword=function(e,t){return RS(OS(t).substr(0,5),e)},dm.prototype.encryptor=function(e,t){var n=OS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return RS(n,a)}},Uv.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Qr(e)!==Qr(this))return!1;var a=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&a--;return a===0},Zt.API={events:[]},Zt.version="2.5.2";var sa=Zt.API,d4=1,bh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},im=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},md=function(e){return e.toFixed(5)};sa.__acroform__={};var wi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},KT=function(e){return e*d4},Yl=function(e){var t=new L8,n=$t.internal.getHeight(e)||0,a=$t.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(a)),Number(yr(n))],t},zse=sa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Use=sa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Vse=sa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},pa=sa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vse(e,t-1)},va=sa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zse(e,t-1)},xa=sa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Use(e,t-1)},Wse=sa.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=a(i+l)||0,c.upperRight_X=n(s+o)||0,c.upperRight_Y=a(i)||0,[Number(yr(c.lowerLeft_X)),Number(yr(c.lowerLeft_Y)),Number(yr(c.upperRight_X)),Number(yr(c.upperRight_Y))]},Hse=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,a=LS(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+yr(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Yl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},LS=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(k){return k.split(`
`)}):s.map(function(k){return[k]});var i=n,o=$t.internal.getHeight(e)||0;o=o<0?-o:o;var l=$t.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(k,D,R){if(k+1<s.length){var F=D+" "+s[k+1][0];return Wg(F,e,R).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,h,f=Wg("3",e,i).height,p=e.multiline?o-i:(o-f)/2,v=p+=2,g=0,y=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Wg(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var j="",b=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var P=!1;if(s[N].length!==1&&x!==s[N].length-1){if((f+2)*(b+2)+2>o)continue e;j+=s[N][x],P=!0,y=N,N--}else{j=(j+=s[N][x]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var I=parseInt(N),w=c(I,j,i),E=N>=s.length-1;if(w&&!E){j+=" ",x=0;continue}if(w||E){if(E)y=I;else if(e.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>o)continue e;y=I}}for(var C="",_=g;_<=y;_++){var M=s[_];if(e.multiline){if(_===y){C+=M[x]+" ",x=(x+1)%M.length;continue}if(_===g){C+=M[M.length-1]+" ";continue}}C+=M[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,h=Wg(C,e,i).width,e.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;case"left":default:u=2}t+=yr(u)+" "+yr(v)+` Td
`,t+="("+bh(C)+`) Tj
`,t+=-yr(u)+` 0 Td
`,v=-(i+2),h=0,g=P?y:y+1,b++,j=""}break}return a.text=t,a.fontSize=i,a},Wg=function(e,t,n){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},Gse={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Kse=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===n.type&&a.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Yse=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var a=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),Qr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[a]}},Xse=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(jl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Gse)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");d4=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new F8,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];i.objId=void 0,i.hasAnnotation&&Kse(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(a,s){var i=!a;for(var o in a||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var l=a[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Wse(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=$t.createDefaultAppearanceStream(l),Qr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=Hse(l);c.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var f="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var v=l.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var g=v[o];typeof g=="function"&&(g=g.call(s,l)),f+="/"+o+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=v)=="function"&&(g=g.call(s,l)),f+="/"+o+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&Yse(s.internal.acroformPlugin.xForms,s)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},R8=sa.__acroform__.arrayToPdfArray=function(e,t,n){var a=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Qr(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(a=n.internal.getEncryptor(t)),s+="("+bh(a(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Oj=function(e,t,n){var a=function(s){return s};return t!==void 0&&n&&(a=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+bh(a(e))+")"},rc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};rc.prototype.toString=function(){return this.objId+" 0 R"},rc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},rc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var a=t[n],s=this[a];s&&(Array.isArray(s)?e.push({key:a,value:R8(s,this.objId,this.scope)}):s instanceof rc?(s.scope=this.scope,e.push({key:a,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:a,value:s}))}return e};var L8=function(){rc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};wi(L8,rc);var F8=function(){rc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(a){return a};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+bh(n(e))+")"}},set:function(n){e=n}})};wi(F8,rc);var jl=function e(){rc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');t=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pa(t,3)},set:function(j){j?this.F=va(t,3):this.F=xa(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');n=j}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(j){a=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(j){a[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(j){a[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(j){a[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(j){a[3]=j}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof V0)return;i="FieldObject"+e.FieldNum++}var j=function(b){return b};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+bh(j(i))+")"},set:function(j){i=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(j){i=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/d4:u},set:function(j){u=j}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(j){h=j}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof V0||this instanceof Dd))return Oj(f,this.objId,this.scope)},set:function(j){j=j.toString(),f=j}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ka?p:Oj(p,this.objId,this.scope)},set:function(j){j=j.toString(),p=this instanceof ka?j:j.substr(0,1)==="("?im(j.substr(1,j.length-2)):im(j)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ka?im(p.substr(1,p.length-1)):p},set:function(j){j=j.toString(),p=this instanceof ka?"/"+j:j}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ka?v:Oj(v,this.objId,this.scope)},set:function(j){j=j.toString(),v=this instanceof ka?j:j.substr(0,1)==="("?im(j.substr(1,j.length-2)):im(j)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ka?im(v.substr(1,v.length-1)):v},set:function(j){j=j.toString(),v=this instanceof ka?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(j){j=!!j,y=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(j){g=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,1)},set:function(j){j?this.Ff=va(this.Ff,1):this.Ff=xa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,2)},set:function(j){j?this.Ff=va(this.Ff,2):this.Ff=xa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,3)},set:function(j){j?this.Ff=va(this.Ff,3):this.Ff=xa(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');x=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(x){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};wi(jl,rc);var Qf=function(){jl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return R8(t,this.objId,this.scope)},set:function(n){var a,s;s=[],typeof(a=n)=="string"&&(s=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(a,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,a){for(a=a||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,18)},set:function(n){n?this.Ff=va(this.Ff,18):this.Ff=xa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=va(this.Ff,19):this.Ff=xa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,20)},set:function(n){n?(this.Ff=va(this.Ff,20),t.sort()):this.Ff=xa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,22)},set:function(n){n?this.Ff=va(this.Ff,22):this.Ff=xa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(n){n?this.Ff=va(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,27)},set:function(n){n?this.Ff=va(this.Ff,27):this.Ff=xa(this.Ff,27)}}),this.hasAppearanceStream=!1};wi(Qf,jl);var Jf=function(){Qf.call(this),this.fontName="helvetica",this.combo=!1};wi(Jf,Qf);var Zf=function(){Jf.call(this),this.combo=!0};wi(Zf,Jf);var wv=function(){Zf.call(this),this.edit=!0};wi(wv,Zf);var ka=function(){jl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,15)},set:function(n){n?this.Ff=va(this.Ff,15):this.Ff=xa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,16)},set:function(n){n?this.Ff=va(this.Ff,16):this.Ff=xa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,17)},set:function(n){n?this.Ff=va(this.Ff,17):this.Ff=xa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(n){n?this.Ff=va(this.Ff,26):this.Ff=xa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,s=[];for(a in s.push("<<"),t)s.push("/"+a+" ("+bh(n(t[a]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Qr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};wi(ka,jl);var Nv=function(){ka.call(this),this.pushButton=!0};wi(Nv,ka);var eh=function(){ka.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};wi(eh,ka);var V0=function(){var e,t;jl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+bh(s(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Qr(s)==="object"&&(a=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(s){typeof s=="string"&&(a.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wi(V0,jl),eh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},eh.prototype.createOption=function(e){var t=new V0;return t.Parent=this,t.optionName=e,this.Kids.push(t),Qse.call(this.scope,t),t};var Sv=function(){ka.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$t.CheckBox.createAppearanceStream()};wi(Sv,ka);var Dd=function(){jl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,13)},set:function(t){t?this.Ff=va(this.Ff,13):this.Ff=xa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,21)},set:function(t){t?this.Ff=va(this.Ff,21):this.Ff=xa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,23)},set:function(t){t?this.Ff=va(this.Ff,23):this.Ff=xa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,24)},set:function(t){t?this.Ff=va(this.Ff,24):this.Ff=xa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,25)},set:function(t){t?this.Ff=va(this.Ff,25):this.Ff=xa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,26)},set:function(t){t?this.Ff=va(this.Ff,26):this.Ff=xa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wi(Dd,jl);var Cv=function(){Dd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pa(this.Ff,14)},set:function(e){e?this.Ff=va(this.Ff,14):this.Ff=xa(this.Ff,14)}}),this.password=!0};wi(Cv,Dd);var $t={CheckBox:{createAppearanceStream:function(){return{N:{On:$t.CheckBox.YesNormal},D:{On:$t.CheckBox.YesPushDown,Off:$t.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Yl(e);t.scope=e.scope;var n=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=LS(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+a+" "+yr(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Yl(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=[],i=$t.internal.getHeight(e),o=$t.internal.getWidth(e),l=LS(e,e.caption);return s.push("1 g"),s.push("0 0 "+yr(o)+" "+yr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+yr(o-1)+" "+yr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+yr(l.fontSize)+" Tf "+a),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Yl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Circle.YesNormal,t.D[e]=$t.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Yl(e);t.scope=e.scope;var n=[],a=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=$t.internal.Bezier_C,i=Number((a*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+md($t.internal.getWidth(e)/2)+" "+md($t.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Yl(e);t.scope=e.scope;var n=[],a=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*$t.internal.Bezier_C).toFixed(5)),o=Number((a*$t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+md($t.internal.getWidth(e)/2)+" "+md($t.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+md($t.internal.getWidth(e)/2)+" "+md($t.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),n.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),n.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),n.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Yl(e);t.scope=e.scope;var n=[],a=$t.internal.getWidth(e)<=$t.internal.getHeight(e)?$t.internal.getWidth(e)/4:$t.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var s=Number((2*a).toFixed(5)),i=Number((s*$t.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+md($t.internal.getWidth(e)/2)+" "+md($t.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:$t.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=$t.RadioButton.Cross.YesNormal,t.D[e]=$t.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Yl(e);t.scope=e.scope;var n=[],a=$t.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+yr($t.internal.getWidth(e)-2)+" "+yr($t.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(a.x1.x)+" "+yr(a.x1.y)+" m"),n.push(yr(a.x2.x)+" "+yr(a.x2.y)+" l"),n.push(yr(a.x4.x)+" "+yr(a.x4.y)+" m"),n.push(yr(a.x3.x)+" "+yr(a.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Yl(e);t.scope=e.scope;var n=$t.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+yr($t.internal.getWidth(e)-2)+" "+yr($t.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),a.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),a.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),a.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Yl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yr($t.internal.getWidth(e))+" "+yr($t.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};$t.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=$t.internal.getWidth(e),n=$t.internal.getHeight(e),a=Math.min(t,n);return{x1:{x:(t-a)/2,y:(n-a)/2+a},x2:{x:(t-a)/2+a,y:(n-a)/2},x3:{x:(t-a)/2,y:(n-a)/2},x4:{x:(t-a)/2+a,y:(n-a)/2+a}}}},$t.internal.getWidth=function(e){var t=0;return Qr(e)==="object"&&(t=KT(e.Rect[2])),t},$t.internal.getHeight=function(e){var t=0;return Qr(e)==="object"&&(t=KT(e.Rect[3])),t};var Qse=sa.addField=function(e){if(Xse(this,e),!(e instanceof jl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};sa.AcroFormChoiceField=Qf,sa.AcroFormListBox=Jf,sa.AcroFormComboBox=Zf,sa.AcroFormEditBox=wv,sa.AcroFormButton=ka,sa.AcroFormPushButton=Nv,sa.AcroFormRadioButton=eh,sa.AcroFormCheckBox=Sv,sa.AcroFormTextField=Dd,sa.AcroFormPasswordField=Cv,sa.AcroFormAppearance=$t,sa.AcroForm={ChoiceField:Qf,ListBox:Jf,ComboBox:Zf,EditBox:wv,Button:ka,PushButton:Nv,RadioButton:eh,CheckBox:Sv,TextField:Dd,PasswordField:Cv,Appearance:$t},Zt.AcroForm={ChoiceField:Qf,ListBox:Jf,ComboBox:Zf,EditBox:wv,Button:ka,PushButton:Nv,RadioButton:eh,CheckBox:Sv,TextField:Dd,PasswordField:Cv,Appearance:$t};var Jse=Zt.AcroForm;function M8(e){return e.reduce(function(t,n,a){return t[n]=a,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(k,D){var R,F,z,V,B,H=t;if((D=D||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(w(k))for(B in n)for(z=n[B],R=0;R<z.length;R+=1){for(V=!0,F=0;F<z[R].length;F+=1)if(z[R][F]!==void 0&&z[R][F]!==k[F]){V=!1;break}if(V===!0){H=B;break}}else for(B in n)for(z=n[B],R=0;R<z.length;R+=1){for(V=!0,F=0;F<z[R].length;F+=1)if(z[R][F]!==void 0&&z[R][F]!==k.charCodeAt(F)){V=!1;break}if(V===!0){H=B;break}}return H===t&&D!==t&&(H=D),H},s=function k(D){for(var R=this.internal.write,F=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:D.width}),V.push({key:"Height",value:D.height}),D.colorSpace===x.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===x.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var B="",H=0,G=D.transparency.length;H<G;H++)B+=D.transparency[H]+" "+D.transparency[H]+" ";V.push({key:"Mask",value:"["+B+"]"})}D.sMask!==void 0&&V.push({key:"SMask",value:D.objectId+1+" 0 R"});var Z=D.filter!==void 0?["/"+D.filter]:void 0;if(F({data:D.data,additionalKeyValues:V,alreadyAppliedFilters:Z,objectId:D.objectId}),R("endobj"),"sMask"in D&&D.sMask!==void 0){var Q="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,$={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:Q,data:D.sMask};"filter"in D&&($.filter=D.filter),k.call(this,$)}if(D.colorSpace===x.INDEXED){var K=this.internal.newObject();F({data:C(new Uint8Array(D.palette)),objectId:K}),R("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var D in k)s.call(this,k[D])},o=function(){var k,D=this.internal.collections.addImage_images,R=this.internal.write;for(var F in D)R("/I"+(k=D[F]).index,k.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return l.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return Qr(k)==="object"&&k.nodeType===1},p=function(k,D){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var R=""+k.getAttribute("src");if(R.indexOf("data:image/")===0)return jv(unescape(R).split("base64,").pop());var F=e.loadFile(R,!0);if(F!==void 0)return F}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var z;switch(D){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return jv(k.toDataURL(z,1).split("base64,").pop())}},v=function(k){var D=this.internal.collections.addImage_images;if(D){for(var R in D)if(k===D[R].alias)return D[R]}},g=function(k,D,R){return k||D||(k=-96,D=-96),k<0&&(k=-1*R.width*72/k/this.internal.scaleFactor),D<0&&(D=-1*R.height*72/D/this.internal.scaleFactor),k===0&&(k=D*R.width/R.height),D===0&&(D=k*R.height/R.width),[k,D]},y=function(k,D,R,F,z,V){var B=g.call(this,R,F,z),H=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,Z=c.call(this);if(R=B[0],F=B[1],Z[z.index]=z,V){V*=Math.PI/180;var Q=Math.cos(V),$=Math.sin(V),K=function(se){return se.toFixed(4)},te=[K(Q),K($),K(-1*$),K(Q),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,H(k),G(D+F),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([H(R),"0","0",H(F),"0","0","cm"].join(" "))):this.internal.write([H(R),"0","0",H(F),H(k),G(D+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(k){var D,R,F=0;if(typeof k=="string")for(R=k.length,D=0;D<R;D++)F=(F<<5)-F+k.charCodeAt(D),F|=0;else if(w(k))for(R=k.byteLength/2,D=0;D<R;D++)F=(F<<5)-F+k[D],F|=0;return F},N=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var D=!0;return k.length===0&&(D=!1),k.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(D=!1),D},P=e.__addimage__.extractImageFromDataUrl=function(k){var D=(k=k||"").split("base64,"),R=null;if(D.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(D[0]);Array.isArray(F)&&(R={mimeType:F[1],charset:F[2],data:D[1]})}return R},I=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return I()&&k instanceof ArrayBuffer};var w=e.__addimage__.isArrayBufferView=function(k){return I()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},E=e.__addimage__.binaryStringToUint8Array=function(k){for(var D=k.length,R=new Uint8Array(D),F=0;F<D;F++)R[F]=k.charCodeAt(F);return R},C=e.__addimage__.arrayBufferToBinaryString=function(k){for(var D="",R=w(k)?k:new Uint8Array(k),F=0;F<R.length;F+=8192)D+=String.fromCharCode.apply(null,R.subarray(F,F+8192));return D};e.addImage=function(){var k,D,R,F,z,V,B,H,G;if(typeof arguments[1]=="number"?(D=t,R=arguments[1],F=arguments[2],z=arguments[3],V=arguments[4],B=arguments[5],H=arguments[6],G=arguments[7]):(D=arguments[1],R=arguments[2],F=arguments[3],z=arguments[4],V=arguments[5],B=arguments[6],H=arguments[7],G=arguments[8]),Qr(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var Z=k;k=Z.imageData,D=Z.format||D||t,R=Z.x||R||0,F=Z.y||F||0,z=Z.w||Z.width||z,V=Z.h||Z.height||V,B=Z.alias||B,H=Z.compression||H,G=Z.rotation||Z.angle||G}var Q=this.internal.getFilters();if(H===void 0&&Q.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(R)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=_.call(this,k,D,B,H);return y.call(this,R,F,z,V,$,G),this};var _=function(k,D,R,F){var z,V,B;if(typeof k=="string"&&a(k)===t){k=unescape(k);var H=M(k,!1);(H!==""||(H=e.loadFile(k,!0))!==void 0)&&(k=H)}if(f(k)&&(k=p(k,D)),D=a(k,D),!h(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((B=R)==null||B.length===0)&&(R=function(G){return typeof G=="string"||w(G)?b(G):w(G.data)?b(G.data):null}(k)),(z=v.call(this,R))||(I()&&(k instanceof Uint8Array||D==="RGBA"||(V=k,k=E(k))),z=this["process"+D.toUpperCase()](k,u.call(this),R,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:j.NONE}(F),V)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},M=e.__addimage__.convertBase64ToBinaryString=function(k,D){var R;D=typeof D!="boolean"||D;var F,z="";if(typeof k=="string"){F=(R=P(k))!==null?R.data:k;try{z=jv(F)}catch(V){if(D)throw N(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(k){var D,R,F="";if(f(k)&&(k=p(k)),typeof k=="string"&&a(k)===t&&((F=M(k,!1))===""&&(F=e.loadFile(k)||""),k=F),R=a(k),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!I()||k instanceof Uint8Array||(k=E(k)),!(D=this["process"+R.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=R,D}})(Zt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Zt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var a,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((a=u[f]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){a=u[p];var v=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(y.objId),b=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y)+"] ")+"/Contents ("+v(j(a.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+v(j(b))+") >>",y.content=i;var N=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(a.bounds.x+30)+" "+l(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+l(a.bounds.y)+"] ")+" /Parent "+N,a.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(y.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+o(a.bounds.x)+" "+l(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+l(a.bounds.y+a.bounds.h)+"] ";var P=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+v(g(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var I=this.annotations._nameMap[a.options.name];a.options.pageNumber=I.page,a.options.top=I.y}else a.options.top||(a.options.top=0);if(s="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+v(g(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var w=l(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+w+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var a=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":a.pageContext.annotations.push(n)}},e.link=function(n,a,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(a),w:c(n+s),h:u(a+i)},options:o,type:"link"})},e.textWithLink=function(n,a,s,i){var o,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(n,l).length;o=Math.ceil(u*h)}else l=c,o=u;return this.text(n,a,s,i),s+=.2*u,i.align==="center"&&(a-=c/2),i.align==="right"&&(a-=c),this.link(a,s-u,l,o,i),c},e.getTextWidth=function(n){var a=this.internal.getFontSize();return this.getStringUnitWidth(n)*a/this.internal.scaleFactor}}(Zt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&s.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&i(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var x=0,j=n,b="",N=0;for(x=0;x<y.length;x+=1)j[y.charCodeAt(x)]!==void 0?(N++,typeof(j=j[y.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(j),j=n,N=0),x===y.length-1&&(j=n,b+=y.charAt(x-(N-1)),x-=N-1,N=0)):(j=n,b+=y.charAt(x-N),x-=N,N=0);return b};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&a[y.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(y,x,j){return o(y)?i(y)===!1?-1:!u(y)||!o(x)&&!o(j)||!o(j)&&l(x)||l(y)&&!o(x)||l(y)&&c(x)||l(y)&&l(x)?0:h(y)&&o(x)&&!l(x)&&o(j)&&u(j)?3:l(y)||!o(j)?1:2:-1},v=function(y){var x=0,j=0,b=0,N="",P="",I="",w=(y=y||"").split("\\s+"),E=[];for(x=0;x<w.length;x+=1){for(E.push(""),j=0;j<w[x].length;j+=1)N=w[x][j],P=w[x][j-1],I=w[x][j+1],o(N)?(b=p(N,P,I),E[x]+=b!==-1?String.fromCharCode(t[N.charCodeAt(0)][b]):N):E[x]+=N;E[x]=f(E[x])}return E.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var y,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(x)){var b=0;for(j=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?j.push([v(x[b][0]),x[b][1],x[b][2]]):j.push([v(x[b])]);y=j}else y=v(x);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",g])}(Zt.API),Zt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,a){var s;if((n=n||"2d")!=="2d")return null;for(s in a)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=a[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Zt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(y){v=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return a.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){a.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,v=0,g=0,y=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var j=u.maxWidth;j>0?typeof c=="string"?c=this.splitTextToSize(c,j):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,P){return N.concat(x.splitTextToSize(P,j))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)v<(y=this.getStringUnitWidth(c[b],{font:f})*h)&&(v=y);return v!==0&&(g=c.length),{w:v/=p,h:Math.max((g*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,v&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,h,f,p){if(a.call(this),!h)throw new Error("No data for PDF table.");var v,g,y,x,j=[],b=[],N=[],P={},I={},w=[],E=[],C=(p=p||{}).autoSize||!1,_=p.printHeaders!==!1,M=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},t),D=typeof p.padding=="number"?p.padding:3,R=p.headerBackgroundColor||"#c8c8c8",F=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=F,this.setFontSize(M),f==null)b=j=Object.keys(h[0]),N=j.map(function(){return"left"});else if(Array.isArray(f)&&Qr(f[0])==="object")for(j=f.map(function(Z){return Z.name}),b=f.map(function(Z){return Z.prompt||Z.name||""}),N=f.map(function(Z){return Z.align||"left"}),v=0;v<f.length;v+=1)I[f[v].name]=f[v].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=j=f,N=j.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(v=0;v<j.length;v+=1){for(P[x=j[v]]=h.map(function(Z){return Z[x]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=P[x],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)w.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[x]=Math.max.apply(null,w)+D+D,w=[]}if(_){var z={};for(v=0;v<j.length;v+=1)z[j[v]]={},z[j[v]].text=b[v],z[j[v]].align=N[v];var V=l.call(this,z,I);E=j.map(function(Z){return new i(c,u,I[Z],V,z[Z].text,void 0,z[Z].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var B=f.reduce(function(Z,Q){return Z[Q.name]=Q.align,Z},{});for(v=0;v<h.length;v+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:v,data:h[v]},this);var H=l.call(this,h[v],I);for(y=0;y<j.length;y+=1){var G=h[v][j[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:v,col:y,data:G},this),o.call(this,new i(c,u,I[j[y]],H,G,v+2,B[j[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(v){var g=c[v];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[v]-h-h)},this).map(function(v){return this.getLineHeightFactor()*v.length*f/p+h+h},this).reduce(function(v,g){return Math.max(v,g)},0)};e.setTableHeaderRow=function(c){a.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){h=this.internal.__cell__.tableHeaderRow[v].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(Zt.API);var $8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},B8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],FS=M8(B8),q8=[100,200,300,400,500,600,700,800,900],Zse=M8(q8);function MS(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return $8[i=i||"normal"]?i:"normal"}(e.style),a=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof FS[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:a,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,a].join(" ")}}}function YT(e,t,n,a){var s;for(s=n;s>=0&&s<t.length;s+=a)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=a)if(e[t[s]])return e[t[s]]}var eie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},XT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function QT(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function tie(e,t,n){for(var a=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},eie,n.genericFontFamilies||{}),i=null,o=null,l=0;l<t.length;++l)if(s[(i=MS(t[l])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[a]))throw new Error("Could not find a font-family for the rule '"+QT(i)+"' and default family '"+a+"'.");if(o=function(c,u){if(u[c])return u[c];var h=FS[c],f=h<=FS.normal?-1:1,p=YT(u,B8,h,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var h=$8[c],f=0;f<h.length;++f)if(u[h[f]])return u[h[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var h=Zse[c],f=YT(u,q8,h,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+QT(i)+"'.");return o}function JT(e){return e.trimLeft()}function rie(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function nie(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Hg,ZT,eI,Rj=["times"];(function(e){var t,n,a,s,i,o,l,c,u,h=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new h}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=$;Object.defineProperty(this,"pdf",{get:function(){return K}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(ge){te=!!ge}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(ge){se=!!ge}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(ge){isNaN(ge)||(oe=ge)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(ge){isNaN(ge)||(me=ge)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ge){var le;typeof ge=="number"?le=[ge,ge,ge,ge]:((le=new Array(4))[0]=ge[0],le[1]=ge.length>=2?ge[1]:le[0],le[2]=ge.length>=3?ge[2]:le[0],le[3]=ge.length>=4?ge[3]:le[1]),u.margin=le}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(ge){ve=ge}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(ge){pe=ge}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(ge){we=ge}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ge){ge instanceof h&&(u=ge)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ge){u.path=ge}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ge){Se=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var le;le=p(ge),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var le=p(ge);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Ce=null;function ze(ge,le){if(Ce===null){var st=function(Ie){var Ue=[];return Object.keys(Ie).forEach(function(ct){Ie[ct].forEach(function(xt){var gt=null;switch(xt){case"bold":gt={family:ct,weight:"bold"};break;case"italic":gt={family:ct,style:"italic"};break;case"bolditalic":gt={family:ct,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:ct}}gt!==null&&(gt.ref={name:ct,style:xt},Ue.push(gt))})}),Ue}(ge.getFontList());Ce=function(Ie){for(var Ue={},ct=0;ct<Ie.length;++ct){var xt=MS(Ie[ct]),gt=xt.family,kt=xt.stretch,et=xt.style,ht=xt.weight;Ue[gt]=Ue[gt]||{},Ue[gt][kt]=Ue[gt][kt]||{},Ue[gt][kt][et]=Ue[gt][kt][et]||{},Ue[gt][kt][et][ht]=xt}return Ue}(st.concat(le))}return Ce}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(ge){Ce=null,He=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var le;if(this.ctx.font=ge,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var st=le[1],Ie=(le[2],le[3]),Ue=le[4],ct=(le[5],le[6]),xt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ue)[2];Ue=Math.floor(xt==="px"?parseFloat(Ue)*this.pdf.internal.scaleFactor:xt==="em"?parseFloat(Ue)*this.pdf.getFontSize():parseFloat(Ue)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ue);var gt=function(Vt){var er,jt,Mr=[],xr=Vt.trim();if(xr==="")return Rj;if(xr in XT)return[XT[xr]];for(;xr!=="";){switch(jt=null,er=(xr=JT(xr)).charAt(0)){case'"':case"'":jt=rie(xr.substring(1),er);break;default:jt=nie(xr)}if(jt===null||(Mr.push(jt[0]),(xr=JT(jt[1]))!==""&&xr.charAt(0)!==","))return Rj;xr=xr.replace(/^,/,"")}return Mr}(ct);if(this.fontFaces){var kt=tie(ze(this.pdf,this.fontFaces),gt.map(function(Vt){return{family:Vt,stretch:"normal",weight:Ie,style:st}}));this.pdf.setFont(kt.ref.name,kt.ref.style)}else{var et="";(Ie==="bold"||parseInt(Ie,10)>=700||st==="bold")&&(et="bold"),st==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var ht="",Ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<gt.length;_t++){if(this.pdf.internal.getFont(gt[_t],et,{noFallback:!0,disableWarning:!0})!==void 0){ht=gt[_t];break}if(et==="bolditalic"&&this.pdf.internal.getFont(gt[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=gt[_t],et="bold";else if(this.pdf.internal.getFont(gt[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=gt[_t],et="normal";break}}if(ht===""){for(var Gt=0;Gt<gt.length;Gt++)if(Ct[gt[Gt]]){ht=Ct[gt[Gt]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){P.call(this,"fill",!1)},f.prototype.stroke=function(){P.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,K){if(isNaN($)||isNaN(K))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o($,K));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o($,K)},f.prototype.closePath=function(){var $=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Qr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){$=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.lineTo=function($,K){if(isNaN($)||isNaN(K))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o($,K));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,K,te,se){if(isNaN(te)||isNaN(se)||isNaN($)||isNaN(K))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(te,se)),me=this.ctx.transform.applyToPoint(new o($,K));this.path.push({type:"qct",x1:me.x,y1:me.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},f.prototype.bezierCurveTo=function($,K,te,se,oe,me){if(isNaN(oe)||isNaN(me)||isNaN($)||isNaN(K)||isNaN(te)||isNaN(se))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(oe,me)),pe=this.ctx.transform.applyToPoint(new o($,K)),we=this.ctx.transform.applyToPoint(new o(te,se));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:we.x,y2:we.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},f.prototype.arc=function($,K,te,se,oe,me){if(isNaN($)||isNaN(K)||isNaN(te)||isNaN(se)||isNaN(oe))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o($,K));$=ve.x,K=ve.y;var pe=this.ctx.transform.applyToPoint(new o(0,te)),we=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(pe.x-we.x,2)+Math.pow(pe.y-we.y,2))}Math.abs(oe-se)>=2*Math.PI&&(se=0,oe=2*Math.PI),this.path.push({type:"arc",x:$,y:K,radius:te,startAngle:se,endAngle:oe,counterclockwise:me})},f.prototype.arcTo=function($,K,te,se,oe){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,K,te,se){if(isNaN($)||isNaN(K)||isNaN(te)||isNaN(se))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,K),this.lineTo($+te,K),this.lineTo($+te,K+se),this.lineTo($,K+se),this.lineTo($,K),this.lineTo($+te,K),this.lineTo($,K)},f.prototype.fillRect=function($,K,te,se){if(isNaN($)||isNaN(K)||isNaN(te)||isNaN(se))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,K,te,se),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},f.prototype.strokeRect=function($,K,te,se){if(isNaN($)||isNaN(K)||isNaN(te)||isNaN(se))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,K,te,se),this.stroke())},f.prototype.clearRect=function($,K,te,se){if(isNaN($)||isNaN(K)||isNaN(te)||isNaN(se))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,K,te,se))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(K),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function($){var K,te,se,oe;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))K=0,te=0,se=0,oe=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(me!==null)K=parseInt(me[1]),te=parseInt(me[2]),se=parseInt(me[3]),oe=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)K=parseInt(me[1]),te=parseInt(me[2]),se=parseInt(me[3]),oe=parseFloat(me[4]);else{if(oe=1,typeof $=="string"&&$.charAt(0)!=="#"){var ve=new _8($);$=ve.ok?ve.toHex():"#000000"}$.length===4?(K=$.substring(1,2),K+=K,te=$.substring(2,3),te+=te,se=$.substring(3,4),se+=se):(K=$.substring(1,3),te=$.substring(3,5),se=$.substring(5,7)),K=parseInt(K,16),te=parseInt(te,16),se=parseInt(se,16)}}return{r:K,g:te,b:se,a:oe,style:$}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,K,te,se){if(isNaN(K)||isNaN(te)||typeof $!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!v.call(this)){var oe=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;D.call(this,{text:$,x:K,y:te,scale:me,angle:oe,align:this.textAlign,maxWidth:se})}},f.prototype.strokeText=function($,K,te,se){if(isNaN(K)||isNaN(te)||typeof $!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){se=isNaN(se)?void 0:se;var oe=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;D.call(this,{text:$,x:K,y:te,scale:me,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:se})}},f.prototype.measureText=function($){if(typeof $!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,te=this.pdf.internal.scaleFactor,se=K.internal.getFontSize(),oe=K.getStringUnitWidth($)*se/K.internal.scaleFactor,me=function(ve){var pe=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new me({width:oe*=Math.round(96*te/72*1e4)/1e4})},f.prototype.scale=function($,K){if(isNaN($)||isNaN(K))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c($,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.rotate=function($){if(isNaN($))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function($,K){if(isNaN($)||isNaN(K))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,$,K);this.ctx.transform=this.ctx.transform.multiply(te)},f.prototype.transform=function($,K,te,se,oe,me){if(isNaN($)||isNaN(K)||isNaN(te)||isNaN(se)||isNaN(oe)||isNaN(me))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new c($,K,te,se,oe,me);this.ctx.transform=this.ctx.transform.multiply(ve)},f.prototype.setTransform=function($,K,te,se,oe,me){$=isNaN($)?1:$,K=isNaN(K)?0:K,te=isNaN(te)?0:te,se=isNaN(se)?1:se,oe=isNaN(oe)?0:oe,me=isNaN(me)?0:me,this.ctx.transform=new c($,K,te,se,oe,me)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,K,te,se,oe,me,ve,pe,we){var Se=this.pdf.getImageProperties($),Ce=1,ze=1,He=1,ge=1;se!==void 0&&pe!==void 0&&(He=pe/se,ge=we/oe,Ce=Se.width/se*pe/se,ze=Se.height/oe*we/oe),me===void 0&&(me=K,ve=te,K=0,te=0),se!==void 0&&pe===void 0&&(pe=se,we=oe),se===void 0&&pe===void 0&&(pe=Se.width,we=Se.height);for(var le,st=this.ctx.transform.decompose(),Ie=H(st.rotate.shx),Ue=new c,ct=(Ue=(Ue=(Ue=Ue.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new l(me-K*He,ve-te*ge,se*Ce,oe*ze)),xt=x.call(this,ct),gt=[],kt=0;kt<xt.length;kt+=1)gt.indexOf(xt[kt])===-1&&gt.push(xt[kt]);if(N(gt),this.autoPaging)for(var et=gt[0],ht=gt[gt.length-1],Ct=et;Ct<ht+1;Ct++){this.pdf.setPage(Ct);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gt=Ct===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],er=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=Ct===1?0:Vt+(Ct-2)*er;if(this.ctx.clip_path.length!==0){var Mr=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-jt+Gt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=Mr}var xr=JSON.parse(JSON.stringify(ct));xr=b([xr],this.posX+this.margin[3],-jt+Gt+this.ctx.prevPageLastElemOffset)[0];var Zn=(Ct>et||Ct<ht)&&y.call(this);Zn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,er,null).clip().discardPath()),this.pdf.addImage($,"JPEG",xr.x,xr.y,xr.w,xr.h,null,null,Ie),Zn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",ct.x,ct.y,ct.w,ct.h,null,null,Ie)};var x=function($,K,te){var se=[];K=K||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":se.push(Math.floor(($.y+oe)/te)+1);break;case"arc":se.push(Math.floor(($.y+oe-$.radius)/te)+1),se.push(Math.floor(($.y+oe+$.radius)/te)+1);break;case"qct":var me=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);se.push(Math.floor((me.y+oe)/te)+1),se.push(Math.floor((me.y+me.h+oe)/te)+1);break;case"bct":var ve=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);se.push(Math.floor((ve.y+oe)/te)+1),se.push(Math.floor((ve.y+ve.h+oe)/te)+1);break;case"rect":se.push(Math.floor(($.y+oe)/te)+1),se.push(Math.floor(($.y+$.h+oe)/te)+1)}for(var pe=0;pe<se.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<se[pe];)j.call(this);return se},j=function(){var $=this.fillStyle,K=this.strokeStyle,te=this.font,se=this.lineCap,oe=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=K,this.font=te,this.lineCap=se,this.lineWidth=oe,this.lineJoin=me},b=function($,K,te){for(var se=0;se<$.length;se++)switch($[se].type){case"bct":$[se].x2+=K,$[se].y2+=te;case"qct":$[se].x1+=K,$[se].y1+=te;case"mt":case"lt":case"arc":default:$[se].x+=K,$[se].y+=te}return $},N=function($){return $.sort(function(K,te){return K-te})},P=function($,K){for(var te,se,oe=this.fillStyle,me=this.strokeStyle,ve=this.lineCap,pe=this.lineWidth,we=Math.abs(pe*this.ctx.transform.scaleX),Se=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),He=[],ge=0;ge<ze.length;ge++)if(ze[ge].x!==void 0)for(var le=x.call(this,ze[ge]),st=0;st<le.length;st+=1)He.indexOf(le[st])===-1&&He.push(le[st]);for(var Ie=0;Ie<He.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<He[Ie];)j.call(this);if(N(He),this.autoPaging)for(var Ue=He[0],ct=He[He.length-1],xt=Ue;xt<ct+1;xt++){this.pdf.setPage(xt),this.fillStyle=oe,this.strokeStyle=me,this.lineCap=ve,this.lineWidth=we,this.lineJoin=Se;var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=xt===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=xt===1?0:et+(xt-2)*ht;if(this.ctx.clip_path.length!==0){var _t=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(te,this.posX+this.margin[3],-Ct+kt+this.ctx.prevPageLastElemOffset),I.call(this,$,!0),this.path=_t}if(se=JSON.parse(JSON.stringify(Ce)),this.path=b(se,this.posX+this.margin[3],-Ct+kt+this.ctx.prevPageLastElemOffset),K===!1||xt===0){var Gt=(xt>Ue||xt<ct)&&y.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,ht,null).clip().discardPath()),I.call(this,$,K),Gt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=we,I.call(this,$,K),this.lineWidth=pe;this.path=Ce},I=function($,K){if(($!=="stroke"||K||!g.call(this))&&($==="stroke"||K||!v.call(this))){for(var te,se,oe=[],me=this.path,ve=0;ve<me.length;ve++){var pe=me[ve];switch(pe.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:pe,deltas:[],abs:[]});break;case"lt":var we=oe.length;if(me[ve-1]&&!isNaN(me[ve-1].x)&&(te=[pe.x-me[ve-1].x,pe.y-me[ve-1].y],we>0)){for(;we>=0;we--)if(oe[we-1].close!==!0&&oe[we-1].begin!==!0){oe[we-1].deltas.push(te),oe[we-1].abs.push(pe);break}}break;case"bct":te=[pe.x1-me[ve-1].x,pe.y1-me[ve-1].y,pe.x2-me[ve-1].x,pe.y2-me[ve-1].y,pe.x-me[ve-1].x,pe.y-me[ve-1].y],oe[oe.length-1].deltas.push(te);break;case"qct":var Se=me[ve-1].x+2/3*(pe.x1-me[ve-1].x),Ce=me[ve-1].y+2/3*(pe.y1-me[ve-1].y),ze=pe.x+2/3*(pe.x1-pe.x),He=pe.y+2/3*(pe.y1-pe.y),ge=pe.x,le=pe.y;te=[Se-me[ve-1].x,Ce-me[ve-1].y,ze-me[ve-1].x,He-me[ve-1].y,ge-me[ve-1].x,le-me[ve-1].y],oe[oe.length-1].deltas.push(te);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(pe)}}se=K?null:$==="stroke"?"stroke":"fill";for(var st=!1,Ie=0;Ie<oe.length;Ie++)if(oe[Ie].arc)for(var Ue=oe[Ie].abs,ct=0;ct<Ue.length;ct++){var xt=Ue[ct];xt.type==="arc"?C.call(this,xt.x,xt.y,xt.radius,xt.startAngle,xt.endAngle,xt.counterclockwise,void 0,K,!st):R.call(this,xt.x,xt.y),st=!0}else if(oe[Ie].close===!0)this.pdf.internal.out("h"),st=!1;else if(oe[Ie].begin!==!0){var gt=oe[Ie].start.x,kt=oe[Ie].start.y;F.call(this,oe[Ie].deltas,gt,kt),st=!0}se&&_.call(this,se),K&&M.call(this)}},w=function($){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-te;case"top":return $+K-te;case"hanging":return $+K-2*te;case"middle":return $+K/2-te;case"ideographic":return $;case"alphabetic":default:return $}},E=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(K,te){this.colorStops.push([K,te])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function($,K,te,se,oe,me,ve,pe,we){for(var Se=V.call(this,te,se,oe,me),Ce=0;Ce<Se.length;Ce++){var ze=Se[Ce];Ce===0&&(we?k.call(this,ze.x1+$,ze.y1+K):R.call(this,ze.x1+$,ze.y1+K)),z.call(this,$,K,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}pe?M.call(this):_.call(this,ve)},_=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},k=function($,K){this.pdf.internal.out(n($)+" "+a(K)+" m")},D=function($){var K;switch($.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var te=this.pdf.getTextDimensions($.text),se=w.call(this,$.y),oe=E.call(this,se)-te.h,me=this.ctx.transform.applyToPoint(new o($.x,se)),ve=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var we,Se,Ce,ze=this.ctx.transform.applyToRectangle(new l($.x,se,te.w,te.h)),He=pe.applyToRectangle(new l($.x,oe,te.w,te.h)),ge=x.call(this,He),le=[],st=0;st<ge.length;st+=1)le.indexOf(ge[st])===-1&&le.push(ge[st]);if(N(le),this.autoPaging)for(var Ie=le[0],Ue=le[le.length-1],ct=Ie;ct<Ue+1;ct++){this.pdf.setPage(ct);var xt=ct===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],et=kt-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],Ct=ht-this.margin[3],_t=ct===1?0:gt+(ct-2)*et;if(this.ctx.clip_path.length!==0){var Gt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(we,this.posX+this.margin[3],-1*_t+xt),I.call(this,"fill",!0),this.path=Gt}var Vt=b([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-_t+xt+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*$.scale),Ce=this.lineWidth,this.lineWidth=Ce*$.scale);var er=this.autoPaging!=="text";if(er||Vt.y+Vt.h<=kt){if(er||Vt.y>=xt&&Vt.x<=ht){var jt=er?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||ht-Vt.x)[0],Mr=b([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-_t+xt+this.ctx.prevPageLastElemOffset)[0],xr=er&&(ct>Ie||ct<Ue)&&y.call(this);xr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,et,null).clip().discardPath()),this.pdf.text(jt,Mr.x,Mr.y,{angle:$.angle,align:K,renderingMode:$.renderingMode}),xr&&this.pdf.restoreGraphicsState()}}else Vt.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-Vt.y);$.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Ce)}else $.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*$.scale),Ce=this.lineWidth,this.lineWidth=Ce*$.scale),this.pdf.text($.text,me.x+this.posX,me.y+this.posY,{angle:$.angle,align:K,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Ce)},R=function($,K,te,se){te=te||0,se=se||0,this.pdf.internal.out(n($+te)+" "+a(K+se)+" l")},F=function($,K,te){return this.pdf.lines($,K,te,null,null)},z=function($,K,te,se,oe,me,ve,pe){this.pdf.internal.out([t(s(te+$)),t(i(se+K)),t(s(oe+$)),t(i(me+K)),t(s(ve+$)),t(i(pe+K)),"c"].join(" "))},V=function($,K,te,se){for(var oe=2*Math.PI,me=Math.PI/2;K>te;)K-=oe;var ve=Math.abs(te-K);ve<oe&&se&&(ve=oe-ve);for(var pe=[],we=se?-1:1,Se=K;ve>1e-5;){var Ce=Se+we*Math.min(ve,me);pe.push(B.call(this,$,Se,Ce)),ve-=Math.abs(Ce-Se),Se=Ce}return pe},B=function($,K,te){var se=(te-K)/2,oe=$*Math.cos(se),me=$*Math.sin(se),ve=oe,pe=-me,we=ve*ve+pe*pe,Se=we+ve*oe+pe*me,Ce=4/3*(Math.sqrt(2*we*Se)-Se)/(ve*me-pe*oe),ze=ve-Ce*pe,He=pe+Ce*ve,ge=ze,le=-He,st=se+K,Ie=Math.cos(st),Ue=Math.sin(st);return{x1:$*Math.cos(K),y1:$*Math.sin(K),x2:ze*Ie-He*Ue,y2:ze*Ue+He*Ie,x3:ge*Ie-le*Ue,y3:ge*Ue+le*Ie,x4:$*Math.cos(te),y4:$*Math.sin(te)}},H=function($){return 180*$/Math.PI},G=function($,K,te,se,oe,me){var ve=$+.5*(te-$),pe=K+.5*(se-K),we=oe+.5*(te-oe),Se=me+.5*(se-me),Ce=Math.min($,oe,ve,we),ze=Math.max($,oe,ve,we),He=Math.min(K,me,pe,Se),ge=Math.max(K,me,pe,Se);return new l(Ce,He,ze-Ce,ge-He)},Z=function($,K,te,se,oe,me,ve,pe){var we,Se,Ce,ze,He,ge,le,st,Ie,Ue,ct,xt,gt,kt,et=te-$,ht=se-K,Ct=oe-te,_t=me-se,Gt=ve-oe,Vt=pe-me;for(Se=0;Se<41;Se++)Ie=(le=(Ce=$+(we=Se/40)*et)+we*((He=te+we*Ct)-Ce))+we*(He+we*(oe+we*Gt-He)-le),Ue=(st=(ze=K+we*ht)+we*((ge=se+we*_t)-ze))+we*(ge+we*(me+we*Vt-ge)-st),Se==0?(ct=Ie,xt=Ue,gt=Ie,kt=Ue):(ct=Math.min(ct,Ie),xt=Math.min(xt,Ue),gt=Math.max(gt,Ie),kt=Math.max(kt,Ue));return new l(Math.round(ct),Math.round(xt),Math.round(gt-ct),Math.round(kt-xt))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,K,te=($=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:K}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Zt.API),function(e){var t=function(i){var o,l,c,u,h,f,p,v,g,y;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(h=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(h=((h=((h=((h=(h-(y=h%85))/85)-(g=h%85))/85)-(v=h%85))/85)-(p=h%85))/85)%85,l.push(f+33,p+33,v+33,g+33,y+33)):l.push(122);return function(x,j){for(var b=j;b>0;b--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(i){var o,l,c,u,h,f=String,p="length",v=255,g="charCodeAt",y="slice",x="replace";for(i[y](-2),i=i[y](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,h=(i+=o="uuuuu"[y](i[p]%5||5))[p];h>u;u+=5)l=52200625*(i[g](u)-33)+614125*(i[g](u+1)-33)+7225*(i[g](u+2)-33)+85*(i[g](u+3)-33)+(i[g](u+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(j,b){for(var N=b;N>0;N--)j.pop()}(c,o[p]),f.fromCharCode.apply(f,c)},a=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=_S(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Zt.API),function(e){e.loadFile=function(t,n,a){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,h){var f=new XMLHttpRequest,p=0,v=function(g){var y=g.length,x=[],j=String.fromCharCode;for(p=0;p<y;p+=1)x.push(j(255&g.charCodeAt(p)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(v(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return v(f.responseText)}(s,i,o)}catch{}return l}(t,n,a)},e.loadImageFile=e.loadFile}(Zt.API),function(e){function t(){return(or.html2canvas?Promise.resolve(or.html2canvas):ES(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(or.DOMPurify?Promise.resolve(or.DOMPurify):ES(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var a=function(o){var l=Qr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(a(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(c(p,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var v=u[p],g=v.src.find(function(y){return y.format==="truetype"});g&&c.addFont(g.url,v.ref.name,v.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(a(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(a(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,h).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=c.call(u,o,l);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Zt.getPageSize=function(o,l,c){if(Qr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var v,g=0,y=0;if(p.hasOwnProperty(f))g=p[f][1]/h,y=p[f][0]/h;else try{g=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",y>g&&(v=y,y=g,g=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>y&&(v=y,y=g,g=v)}return{width:y,height:g,unit:l,k:h,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(MS):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(Zt.API),Zt.API.addJS=function(e){return eI=e,this.internal.events.subscribe("postPutResources",function(){Hg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ZT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+eI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hg!==void 0&&ZT!==void 0&&this.internal.out("/Names <</JavaScript "+Hg+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=a.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var f=n.internal.newObject();h.push(f);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var v=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<h.length;i++)n.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+v+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(a,s,i){var o={title:s,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(a){a.id=n.internal.newObjectDeferred();for(var s=0;s<a.children.length;s++)this.genIds_r(a.children[s])},n.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},n.outline.renderItems=function(a){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<a.children.length;u++)this.renderItems(a.children[u])},n.outline.line=function(a){this.ctx.val+=a+`\r
`},n.outline.makeRef=function(a){return a.id+" 0 R"},n.outline.makeString=function(a){return"("+n.internal.pdfEscape(a)+")"},n.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(a,s){for(var i=0;i<s.children.length;i++)a.count++,this.count_r(a,s.children[i]);return a.count}}])}(Zt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,a,s,i,o,l){var c,u=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(f){for(var p,v=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,y={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=v,t.indexOf(f.charCodeAt(x+1))!==-1){p=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),y={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:p,numcomponents:f.charCodeAt(x+9)};break}v=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:a,alias:s}}return h}}(Zt.API);var om,Gg,tI,rI,nI,aie=function(){var e,t,n;function a(i){var o,l,c,u,h,f,p,v,g,y,x,j,b,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),g=(function(){var P,I;for(I=[],P=0;P<4;++P)I.push(String.fromCharCode(this.data[this.pos++]));return I}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*h/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),i=f?.data||this.imgData,j=0;0<=o?j<o:j>o;0<=o?++j:--j)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(b=0;0<=y?b<y:b>y;0<=y?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(x=this.read(o)).indexOf(0),v=String.fromCharCode.apply(String,x.slice(0,p)),this.text[v]=String.fromCharCode.apply(String,x.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(f,p,v,g){var y,x,j,b,N,P,I,w,E,C,_,M,k,D,R,F,z,V,B,H,G,Z=Math.ceil((u.width-f)/v),Q=Math.ceil((u.height-p)/g),$=u.width==Z&&u.height==Q;for(D=o*Z,M=$?l:new Uint8Array(D*Q),P=i.length,k=0,x=0;k<Q&&c<P;){switch(i[c++]){case 0:for(b=z=0;z<D;b=z+=1)M[x++]=i[c++];break;case 1:for(b=V=0;V<D;b=V+=1)y=i[c++],N=b<o?0:M[x-o],M[x++]=(y+N)%256;break;case 2:for(b=B=0;B<D;b=B+=1)y=i[c++],j=(b-b%o)/o,R=k&&M[(k-1)*D+j*o+b%o],M[x++]=(R+y)%256;break;case 3:for(b=H=0;H<D;b=H+=1)y=i[c++],j=(b-b%o)/o,N=b<o?0:M[x-o],R=k&&M[(k-1)*D+j*o+b%o],M[x++]=(y+Math.floor((N+R)/2))%256;break;case 4:for(b=G=0;G<D;b=G+=1)y=i[c++],j=(b-b%o)/o,N=b<o?0:M[x-o],k===0?R=F=0:(R=M[(k-1)*D+j*o+b%o],F=j&&M[(k-1)*D+(j-1)*o+b%o]),I=N+R-F,w=Math.abs(I-N),C=Math.abs(I-R),_=Math.abs(I-F),E=w<=C&&w<=_?N:C<=_?R:F,M[x++]=(y+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!$){var K=((p+k*g)*u.width+f)*o,te=k*D;for(b=0;b<Z;b+=1){for(var se=0;se<o;se+=1)l[K++]=M[te++];K+=(v-1)*o}}k++}}return i=Rse(i),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},a.prototype.decodePalette=function(){var i,o,l,c,u,h,f,p,v;for(l=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+l.length),c=0,i=0,o=f=0,p=l.length;f<p;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(v=h[i++])!=null?v:255;return u},a.prototype.copyToImageData=function(i,o){var l,c,u,h,f,p,v,g,y,x,j;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(j=this._decodedPalette)!=null?j:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(u=i.data||i).length,f=y||o,h=p=0,c===1)for(;h<g;)v=y?4*o[h/4]:p,x=f[v++],u[h++]=x,u[h++]=x,u[h++]=x,u[h++]=l?f[v++]:255,p=v;else for(;h<g;)v=y?4*o[h/4]:p,u[h++]=f[v++],u[h++]=f[v++],u[h++]=f[v++],u[h++]=l?f[v++]:255,p=v},a.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(or)==="[object Window]"){try{t=or.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var o;if(s()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(i){var o,l,c,u,h,f,p,v;if(this.animation){for(v=[],l=h=0,f=(p=this.animation.frames).length;h<f;l=++h)o=p[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,v.push(o.image=e(c));return v}},a.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),u?.disposeOp===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):u?.disposeOp===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},a.prototype.animate=function(i){var o,l,c,u,h,f,p=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,h=f.numPlays,(o=function(){var v,g;if(v=l++%u,g=c[v],p.renderFrame(i,v),u>1&&l/u<h)return p.animation._timeout=setTimeout(o,g.delay)})()},a.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},a.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},a}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function sie(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=o,t+=3*o);var u=!0,h=[],f=0,p=null,v=0,g=null;for(this.width=n,this.height=a;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],(1&y)==0&&(p=null),v=y>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,P=e[t++],I=P>>6&1,w=1<<(7&P)+1,E=l,C=c,_=!1;P>>7&&(_=!0,E=t,C=w,t+=3*w);var M=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}h.push({x,y:j,width:b,height:N,has_local_palette:_,palette_offset:E,palette_size:C,data_offset:M,data_length:t-M,transparent_index:p,interlaced:!!I,delay:f,disposal:v});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return g},this.frameInfo=function(D){if(D<0||D>=h.length)throw new Error("Frame index out of range.");return h[D]},this.decodeAndBlitFrameBGRA=function(D,R){var F=this.frameInfo(D),z=F.width*F.height,V=new Uint8Array(z);aI(e,F.data_offset,V,z);var B=F.palette_offset,H=F.transparent_index;H===null&&(H=256);var G=F.width,Z=n-G,Q=G,$=4*(F.y*n+F.x),K=4*((F.y+F.height)*n+F.x),te=$,se=4*Z;F.interlaced===!0&&(se+=4*n*7);for(var oe=8,me=0,ve=V.length;me<ve;++me){var pe=V[me];if(Q===0&&(Q=G,(te+=se)>=K&&(se=4*Z+4*n*(oe-1),te=$+(G+Z)*(oe<<1),oe>>=1)),pe===H)te+=4;else{var we=e[B+3*pe],Se=e[B+3*pe+1],Ce=e[B+3*pe+2];R[te++]=Ce,R[te++]=Se,R[te++]=we,R[te++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(D,R){var F=this.frameInfo(D),z=F.width*F.height,V=new Uint8Array(z);aI(e,F.data_offset,V,z);var B=F.palette_offset,H=F.transparent_index;H===null&&(H=256);var G=F.width,Z=n-G,Q=G,$=4*(F.y*n+F.x),K=4*((F.y+F.height)*n+F.x),te=$,se=4*Z;F.interlaced===!0&&(se+=4*n*7);for(var oe=8,me=0,ve=V.length;me<ve;++me){var pe=V[me];if(Q===0&&(Q=G,(te+=se)>=K&&(se=4*Z+4*n*(oe-1),te=$+(G+Z)*(oe<<1),oe>>=1)),pe===H)te+=4;else{var we=e[B+3*pe],Se=e[B+3*pe+1],Ce=e[B+3*pe+2];R[te++]=we,R[te++]=Se,R[te++]=Ce,R[te++]=255}--Q}}}function aI(e,t,n,a){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,c=s+1,u=(1<<c)-1,h=0,f=0,p=0,v=e[t++],g=new Int32Array(4096),y=null;;){for(;h<16&&v!==0;)f|=e[t++]<<h,h+=8,v===1?v=e[t++]:--v;if(h<c)break;var x=f&u;if(f>>=c,h-=c,x!==i){if(x===o)break;for(var j=x<l?x:y,b=0,N=j;N>i;)N=g[N]>>8,++b;var P=N;if(p+b+(j!==x?1:0)>a)return void pn.log("Warning, gif stream longer than expected.");n[p++]=P;var I=p+=b;for(j!==x&&(n[p++]=P),N=j;b--;)N=g[N],n[--I]=255&N,N>>=8;y!==null&&l<4096&&(g[l++]=y<<8|P,l>=u+1&&c<12&&(++c,u=u<<1|1)),y=x}else l=o+1,u=(1<<(c=s+1))-1,y=null}return p!==a&&pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Lj(e){var t,n,a,s,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),v=new Array(64),g=new Array(64),y=[],x=0,j=7,b=new Array(64),N=new Array(64),P=new Array(64),I=new Array(256),w=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V($,K){for(var te=0,se=0,oe=new Array,me=1;me<=16;me++){for(var ve=1;ve<=$[me];ve++)oe[K[se]]=[],oe[K[se]][0]=te,oe[K[se]][1]=me,se++,te++;te*=2}return oe}function B($){for(var K=$[0],te=$[1]-1;te>=0;)K&1<<te&&(x|=1<<j),te--,--j<0&&(x==255?(H(255),H(0)):H(x),j=7,x=0)}function H($){y.push($)}function G($){H($>>8&255),H(255&$)}function Z($,K,te,se,oe){for(var me,ve=oe[0],pe=oe[240],we=function(Ue,ct){var xt,gt,kt,et,ht,Ct,_t,Gt,Vt,er,jt=0;for(Vt=0;Vt<8;++Vt){xt=Ue[jt],gt=Ue[jt+1],kt=Ue[jt+2],et=Ue[jt+3],ht=Ue[jt+4],Ct=Ue[jt+5],_t=Ue[jt+6];var Mr=xt+(Gt=Ue[jt+7]),xr=xt-Gt,Zn=gt+_t,$r=gt-_t,Gr=kt+Ct,Ma=kt-Ct,Nr=et+ht,Si=et-ht,jn=Mr+Nr,$a=Mr-Nr,hs=Zn+Gr,Cn=Zn-Gr;Ue[jt]=jn+hs,Ue[jt+4]=jn-hs;var fr=.707106781*(Cn+$a);Ue[jt+2]=$a+fr,Ue[jt+6]=$a-fr;var Br=.382683433*((jn=Si+Ma)-(Cn=$r+xr)),Sl=.5411961*jn+Br,ya=1.306562965*Cn+Br,ti=.707106781*(hs=Ma+$r),Ci=xr+ti,Xt=xr-ti;Ue[jt+5]=Xt+Sl,Ue[jt+3]=Xt-Sl,Ue[jt+1]=Ci+ya,Ue[jt+7]=Ci-ya,jt+=8}for(jt=0,Vt=0;Vt<8;++Vt){xt=Ue[jt],gt=Ue[jt+8],kt=Ue[jt+16],et=Ue[jt+24],ht=Ue[jt+32],Ct=Ue[jt+40],_t=Ue[jt+48];var Ls=xt+(Gt=Ue[jt+56]),ms=xt-Gt,ps=gt+_t,An=gt-_t,En=kt+Ct,Ba=kt-Ct,Cl=et+ht,Oo=et-ht,Ai=Ls+Cl,Ei=Ls-Cl,Ca=ps+En,Pi=ps-En;Ue[jt]=Ai+Ca,Ue[jt+32]=Ai-Ca;var Fs=.707106781*(Pi+Ei);Ue[jt+16]=Ei+Fs,Ue[jt+48]=Ei-Fs;var Ji=.382683433*((Ai=Oo+Ba)-(Pi=An+ms)),Al=.5411961*Ai+Ji,xc=1.306562965*Pi+Ji,gc=.707106781*(Ca=Ba+An),yc=ms+gc,bu=ms-gc;Ue[jt+40]=bu+Al,Ue[jt+24]=bu-Al,Ue[jt+8]=yc+xc,Ue[jt+56]=yc-xc,jt++}for(Vt=0;Vt<64;++Vt)er=Ue[Vt]*ct[Vt],v[Vt]=er>0?er+.5|0:er-.5|0;return v}($,K),Se=0;Se<64;++Se)g[E[Se]]=we[Se];var Ce=g[0]-te;te=g[0],Ce==0?B(se[0]):(B(se[p[me=32767+Ce]]),B(f[me]));for(var ze=63;ze>0&&g[ze]==0;)ze--;if(ze==0)return B(ve),te;for(var He,ge=1;ge<=ze;){for(var le=ge;g[ge]==0&&ge<=ze;)++ge;var st=ge-le;if(st>=16){He=st>>4;for(var Ie=1;Ie<=He;++Ie)B(pe);st&=15}me=32767+g[ge],B(oe[(st<<4)+p[me]]),B(f[me]),ge++}return ze!=63&&B(ve),te}function Q($){$=Math.min(Math.max($,1),100),i!=$&&(function(K){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var oe=o((te[se]*K+50)/100);oe=Math.min(Math.max(oe,1),255),l[E[se]]=oe}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var pe=o((me[ve]*K+50)/100);pe=Math.min(Math.max(pe,1),255),c[E[ve]]=pe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Ce=0;Ce<8;Ce++)for(var ze=0;ze<8;ze++)u[Se]=1/(l[E[Se]]*we[Ce]*we[ze]*8),h[Se]=1/(c[E[Se]]*we[Ce]*we[ze]*8),Se++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,K){K&&Q(K),y=new Array,x=0,j=7,G(65496),G(65504),G(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),G(1),G(1),H(0),H(0),function(){G(65499),G(132),H(0);for(var gt=0;gt<64;gt++)H(l[gt]);H(1);for(var kt=0;kt<64;kt++)H(c[kt])}(),function(gt,kt){G(65472),G(17),H(8),G(kt),G(gt),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}($.width,$.height),function(){G(65476),G(418),H(0);for(var gt=0;gt<16;gt++)H(C[gt+1]);for(var kt=0;kt<=11;kt++)H(_[kt]);H(16);for(var et=0;et<16;et++)H(M[et+1]);for(var ht=0;ht<=161;ht++)H(k[ht]);H(1);for(var Ct=0;Ct<16;Ct++)H(D[Ct+1]);for(var _t=0;_t<=11;_t++)H(R[_t]);H(17);for(var Gt=0;Gt<16;Gt++)H(F[Gt+1]);for(var Vt=0;Vt<=161;Vt++)H(z[Vt])}(),G(65498),G(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var te=0,se=0,oe=0;x=0,j=7,this.encode.displayName="_encode_";for(var me,ve,pe,we,Se,Ce,ze,He,ge,le=$.data,st=$.width,Ie=$.height,Ue=4*st,ct=0;ct<Ie;){for(me=0;me<Ue;){for(Se=Ue*ct+me,ze=-1,He=0,ge=0;ge<64;ge++)Ce=Se+(He=ge>>3)*Ue+(ze=4*(7&ge)),ct+He>=Ie&&(Ce-=Ue*(ct+1+He-Ie)),me+ze>=Ue&&(Ce-=me+ze-Ue+4),ve=le[Ce++],pe=le[Ce++],we=le[Ce++],b[ge]=(w[ve]+w[pe+256>>0]+w[we+512>>0]>>16)-128,N[ge]=(w[ve+768>>0]+w[pe+1024>>0]+w[we+1280>>0]>>16)-128,P[ge]=(w[ve+1280>>0]+w[pe+1536>>0]+w[we+1792>>0]>>16)-128;te=Z(b,u,te,t,a),se=Z(N,h,se,n,s),oe=Z(P,h,oe,n,s),me+=32}ct+=8}if(j>=0){var xt=[];xt[1]=j+1,xt[0]=(1<<j+1)-1,B(xt)}return G(65497),new Uint8Array(y)},e=e||50,function(){for(var $=String.fromCharCode,K=0;K<256;K++)I[K]=$(K)}(),t=V(C,_),n=V(D,R),a=V(M,k),s=V(F,z),function(){for(var $=1,K=2,te=1;te<=15;te++){for(var se=$;se<K;se++)p[32767+se]=te,f[32767+se]=[],f[32767+se][1]=te,f[32767+se][0]=se;for(var oe=-(K-1);oe<=-$;oe++)p[32767+oe]=te,f[32767+oe]=[],f[32767+oe][1]=te,f[32767+oe][0]=K-1+oe;$<<=1,K<<=1}}(),function(){for(var $=0;$<256;$++)w[$]=19595*$,w[$+256>>0]=38470*$,w[$+512>>0]=7471*$+32768,w[$+768>>0]=-11059*$,w[$+1024>>0]=-21709*$,w[$+1280>>0]=32768*$+8421375,w[$+1536>>0]=-27439*$,w[$+1792>>0]=-5329*$}(),Q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function al(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sI(e){function t(C){if(!C)throw Error("assert :P")}function n(C,_,M){for(var k=0;4>k;k++)if(C[_+k]!=M.charCodeAt(k))return!0;return!1}function a(C,_,M,k,D){for(var R=0;R<D;R++)C[_+R]=M[k+R]}function s(C,_,M,k){for(var D=0;D<k;D++)C[_+D]=M}function i(C){return new Int32Array(C)}function o(C,_){for(var M=[],k=0;k<C;k++)M.push(new _);return M}function l(C,_){var M=[];return function k(D,R,F){for(var z=F[R],V=0;V<z&&(D.push(F.length>R+1?[]:new _),!(F.length<R+1));V++)k(D[V],R+1,F)}(M,0,C),M}var c=function(){var C=this;function _(T,L){for(var W=1<<L-1>>>0;T&W;)W>>>=1;return W?(T&W-1)+W:T}function M(T,L,W,J,re){t(!(J%W));do T[L+(J-=W)]=re;while(0<J)}function k(T,L,W,J,re){if(t(2328>=re),512>=re)var ce=i(512);else if((ce=i(re))==null)return 0;return function(de,fe,he,xe,_e,Be){var qe,Fe,dt=fe,Je=1<<he,Oe=i(16),Re=i(16);for(t(_e!=0),t(xe!=null),t(de!=null),t(0<he),Fe=0;Fe<_e;++Fe){if(15<xe[Fe])return 0;++Oe[xe[Fe]]}if(Oe[0]==_e)return 0;for(Re[1]=0,qe=1;15>qe;++qe){if(Oe[qe]>1<<qe)return 0;Re[qe+1]=Re[qe]+Oe[qe]}for(Fe=0;Fe<_e;++Fe)qe=xe[Fe],0<xe[Fe]&&(Be[Re[qe]++]=Fe);if(Re[15]==1)return(xe=new D).g=0,xe.value=Be[0],M(de,dt,1,Je,xe),Je;var at,nt=-1,it=Je-1,Dt=0,St=1,Qt=1,At=1<<he;for(Fe=0,qe=1,_e=2;qe<=he;++qe,_e<<=1){if(St+=Qt<<=1,0>(Qt-=Oe[qe]))return 0;for(;0<Oe[qe];--Oe[qe])(xe=new D).g=qe,xe.value=Be[Fe++],M(de,dt+Dt,_e,At,xe),Dt=_(Dt,qe)}for(qe=he+1,_e=2;15>=qe;++qe,_e<<=1){if(St+=Qt<<=1,0>(Qt-=Oe[qe]))return 0;for(;0<Oe[qe];--Oe[qe]){if(xe=new D,(Dt&it)!=nt){for(dt+=At,at=1<<(nt=qe)-he;15>nt&&!(0>=(at-=Oe[nt]));)++nt,at<<=1;Je+=At=1<<(at=nt-he),de[fe+(nt=Dt&it)].g=at+he,de[fe+nt].value=dt-fe-nt}xe.g=qe-he,xe.value=Be[Fe++],M(de,dt+(Dt>>he),_e,At,xe),Dt=_(Dt,qe)}}return St!=2*Re[15]-1?0:Je}(T,L,W,J,re,ce)}function D(){this.value=this.g=0}function R(){this.value=this.g=0}function F(){this.G=o(5,D),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Bn,R)}function z(T,L,W,J){t(T!=null),t(L!=null),t(2147483648>J),T.Ca=254,T.I=0,T.b=-8,T.Ka=0,T.oa=L,T.pa=W,T.Jd=L,T.Yc=W+J,T.Zc=4<=J?W+J-4+1:W,me(T)}function V(T,L){for(var W=0;0<L--;)W|=pe(T,128)<<L;return W}function B(T,L){var W=V(T,L);return ve(T)?-W:W}function H(T,L,W,J){var re,ce=0;for(t(T!=null),t(L!=null),t(4294967288>J),T.Sb=J,T.Ra=0,T.u=0,T.h=0,4<J&&(J=4),re=0;re<J;++re)ce+=L[W+re]<<8*re;T.Ra=ce,T.bb=J,T.oa=L,T.pa=W}function G(T){for(;8<=T.u&&T.bb<T.Sb;)T.Ra>>>=8,T.Ra+=T.oa[T.pa+T.bb]<<Bu-8>>>0,++T.bb,T.u-=8;te(T)&&(T.h=1,T.u=0)}function Z(T,L){if(t(0<=L),!T.h&&L<=$u){var W=K(T)&Mu[L];return T.u+=L,G(T),W}return T.h=1,T.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(T){return T.Ra>>>(T.u&Bu-1)>>>0}function te(T){return t(T.bb<=T.Sb),T.h||T.bb==T.Sb&&T.u>Bu}function se(T,L){T.u=L,T.h=te(T)}function oe(T){T.u>=qu&&(t(T.u>=qu),G(T))}function me(T){t(T!=null&&T.oa!=null),T.pa<T.Zc?(T.I=(T.oa[T.pa++]|T.I<<8)>>>0,T.b+=8):(t(T!=null&&T.oa!=null),T.pa<T.Yc?(T.b+=8,T.I=T.oa[T.pa++]|T.I<<8):T.Ka?T.b=0:(T.I<<=8,T.b+=8,T.Ka=1))}function ve(T){return V(T,1)}function pe(T,L){var W=T.Ca;0>T.b&&me(T);var J=T.b,re=W*L>>>8,ce=(T.I>>>J>re)+0;for(ce?(W-=re,T.I-=re+1<<J>>>0):W=re+1,J=W,re=0;256<=J;)re+=8,J>>=8;return J=7^re+Za[J],T.b-=J,T.Ca=(W<<J)-1,ce}function we(T,L,W){T[L+0]=W>>24&255,T[L+1]=W>>16&255,T[L+2]=W>>8&255,T[L+3]=W>>0&255}function Se(T,L){return T[L+0]<<0|T[L+1]<<8}function Ce(T,L){return Se(T,L)|T[L+2]<<16}function ze(T,L){return Se(T,L)|Se(T,L+2)<<16}function He(T,L){var W=1<<L;return t(T!=null),t(0<L),T.X=i(W),T.X==null?0:(T.Mb=32-L,T.Xa=L,1)}function ge(T,L){t(T!=null),t(L!=null),t(T.Xa==L.Xa),a(L.X,0,T.X,0,1<<L.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function st(T,L,W,J){t(W!=null),t(J!=null);var re=W[0],ce=J[0];return re==0&&(re=(T*ce+L/2)/L),ce==0&&(ce=(L*re+T/2)/T),0>=re||0>=ce?0:(W[0]=re,J[0]=ce,1)}function Ie(T,L){return T+(1<<L)-1>>>L}function Ue(T,L){return((4278255360&T)+(4278255360&L)>>>0&4278255360)+((16711935&T)+(16711935&L)>>>0&16711935)>>>0}function ct(T,L){C[L]=function(W,J,re,ce,de,fe,he){var xe;for(xe=0;xe<de;++xe){var _e=C[T](fe[he+xe-1],re,ce+xe);fe[he+xe]=Ue(W[J+xe],_e)}}}function xt(){this.ud=this.hd=this.jd=0}function gt(T,L){return((4278124286&(T^L))>>>1)+(T&L)>>>0}function kt(T){return 0<=T&&256>T?T:0>T?0:255<T?255:void 0}function et(T,L){return kt(T+(T-L+.5>>1))}function ht(T,L,W){return Math.abs(L-W)-Math.abs(T-W)}function Ct(T,L,W,J,re,ce,de){for(J=ce[de-1],W=0;W<re;++W)ce[de+W]=J=Ue(T[L+W],J)}function _t(T,L,W,J,re){var ce;for(ce=0;ce<W;++ce){var de=T[L+ce],fe=de>>8&255,he=16711935&(he=(he=16711935&de)+((fe<<16)+fe));J[re+ce]=(4278255360&de)+he>>>0}}function Gt(T,L){L.jd=T>>0&255,L.hd=T>>8&255,L.ud=T>>16&255}function Vt(T,L,W,J,re,ce){var de;for(de=0;de<J;++de){var fe=L[W+de],he=fe>>>8,xe=fe,_e=255&(_e=(_e=fe>>>16)+((T.jd<<24>>24)*(he<<24>>24)>>>5));xe=255&(xe=(xe=xe+((T.hd<<24>>24)*(he<<24>>24)>>>5))+((T.ud<<24>>24)*(_e<<24>>24)>>>5)),re[ce+de]=(4278255360&fe)+(_e<<16)+xe}}function er(T,L,W,J,re){C[L]=function(ce,de,fe,he,xe,_e,Be,qe,Fe){for(he=Be;he<qe;++he)for(Be=0;Be<Fe;++Be)xe[_e++]=re(fe[J(ce[de++])])},C[T]=function(ce,de,fe,he,xe,_e,Be){var qe=8>>ce.b,Fe=ce.Ea,dt=ce.K[0],Je=ce.w;if(8>qe)for(ce=(1<<ce.b)-1,Je=(1<<qe)-1;de<fe;++de){var Oe,Re=0;for(Oe=0;Oe<Fe;++Oe)Oe&ce||(Re=J(he[xe++])),_e[Be++]=re(dt[Re&Je]),Re>>=qe}else C["VP8LMapColor"+W](he,xe,dt,Je,_e,Be,de,fe,Fe)}}function jt(T,L,W,J,re){for(W=L+W;L<W;){var ce=T[L++];J[re++]=ce>>16&255,J[re++]=ce>>8&255,J[re++]=ce>>0&255}}function Mr(T,L,W,J,re){for(W=L+W;L<W;){var ce=T[L++];J[re++]=ce>>16&255,J[re++]=ce>>8&255,J[re++]=ce>>0&255,J[re++]=ce>>24&255}}function xr(T,L,W,J,re){for(W=L+W;L<W;){var ce=(de=T[L++])>>16&240|de>>12&15,de=de>>0&240|de>>28&15;J[re++]=ce,J[re++]=de}}function Zn(T,L,W,J,re){for(W=L+W;L<W;){var ce=(de=T[L++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;J[re++]=ce,J[re++]=de}}function $r(T,L,W,J,re){for(W=L+W;L<W;){var ce=T[L++];J[re++]=ce>>0&255,J[re++]=ce>>8&255,J[re++]=ce>>16&255}}function Gr(T,L,W,J,re,ce){if(ce==0)for(W=L+W;L<W;)we(J,((ce=T[L++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),re+=32;else a(J,re,T,L,W)}function Ma(T,L){C[L][0]=C[T+"0"],C[L][1]=C[T+"1"],C[L][2]=C[T+"2"],C[L][3]=C[T+"3"],C[L][4]=C[T+"4"],C[L][5]=C[T+"5"],C[L][6]=C[T+"6"],C[L][7]=C[T+"7"],C[L][8]=C[T+"8"],C[L][9]=C[T+"9"],C[L][10]=C[T+"10"],C[L][11]=C[T+"11"],C[L][12]=C[T+"12"],C[L][13]=C[T+"13"],C[L][14]=C[T+"0"],C[L][15]=C[T+"0"]}function Nr(T){return T==Gu||T==$c||T==pf||T==vf}function Si(){this.eb=[],this.size=this.A=this.fb=0}function jn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $a(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Si,this.f.kb=new jn,this.sd=null}function hs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Cn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function fr(T){return alert("todo:WebPSamplerProcessPlane"),T.T}function Br(T,L){var W=T.T,J=L.ba.f.RGBA,re=J.eb,ce=J.fb+T.ka*J.A,de=js[L.ba.S],fe=T.y,he=T.O,xe=T.f,_e=T.N,Be=T.ea,qe=T.W,Fe=L.cc,dt=L.dc,Je=L.Mc,Oe=L.Nc,Re=T.ka,at=T.ka+T.T,nt=T.U,it=nt+1>>1;for(Re==0?de(fe,he,null,null,xe,_e,Be,qe,xe,_e,Be,qe,re,ce,null,null,nt):(de(L.ec,L.fc,fe,he,Fe,dt,Je,Oe,xe,_e,Be,qe,re,ce-J.A,re,ce,nt),++W);Re+2<at;Re+=2)Fe=xe,dt=_e,Je=Be,Oe=qe,_e+=T.Rc,qe+=T.Rc,ce+=2*J.A,de(fe,(he+=2*T.fa)-T.fa,fe,he,Fe,dt,Je,Oe,xe,_e,Be,qe,re,ce-J.A,re,ce,nt);return he+=T.fa,T.j+at<T.o?(a(L.ec,L.fc,fe,he,nt),a(L.cc,L.dc,xe,_e,it),a(L.Mc,L.Nc,Be,qe,it),W--):1&at||de(fe,he,null,null,xe,_e,Be,qe,xe,_e,Be,qe,re,ce+J.A,null,null,nt),W}function Sl(T,L,W){var J=T.F,re=[T.J];if(J!=null){var ce=T.U,de=L.ba.S,fe=de==mf||de==pf;L=L.ba.f.RGBA;var he=[0],xe=T.ka;he[0]=T.T,T.Kb&&(xe==0?--he[0]:(--xe,re[0]-=T.width),T.j+T.ka+T.T==T.o&&(he[0]=T.o-T.j-xe));var _e=L.eb;xe=L.fb+xe*L.A,T=Zr(J,re[0],T.width,ce,he,_e,xe+(fe?0:3),L.A),t(W==he),T&&Nr(de)&&ys(_e,xe,fe,ce,he,L.A)}return 0}function ya(T){var L=T.ma,W=L.ba.S,J=11>W,re=W==ql||W==hf||W==mf||W==cn||W==12||Nr(W);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!Lu(L.Oa,T,re?11:12))return 0;if(re&&Nr(W)&&mt(),T.da)alert("todo:use_scaling");else{if(J){if(L.Ib=fr,T.Kb){if(W=T.U+1>>1,L.memory=i(T.U+2*W),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+T.U,L.Mc=L.cc,L.Nc=L.dc+W,L.Ib=Br,mt()}}else alert("todo:EmitYUV");re&&(L.Jb=Sl,J&&$e())}if(J&&!Ea){for(T=0;256>T;++T)ws[T]=89858*(T-128)+Oi>>Wo,Ns[T]=-22014*(T-128)+Oi,Qu[T]=-45773*(T-128),Uc[T]=113618*(T-128)+Oi>>Wo;for(T=en;T<nn;++T)L=76283*(T-16)+Oi>>Wo,Bh[T-en]=Bs(L,255),Yx[T-en]=Bs(L+8>>4,15);Ea=1}return 1}function ti(T){var L=T.ma,W=T.U,J=T.T;return t(!(1&T.ka)),0>=W||0>=J?0:(W=L.Ib(T,L),L.Jb!=null&&L.Jb(T,L,W),L.Dc+=W,1)}function Ci(T){T.ma.memory=null}function Xt(T,L,W,J){return Z(T,8)!=47?0:(L[0]=Z(T,14)+1,W[0]=Z(T,14)+1,J[0]=Z(T,1),Z(T,3)!=0?0:!T.h)}function Ls(T,L){if(4>T)return T+1;var W=T-2>>1;return(2+(1&T)<<W)+Z(L,W)+1}function ms(T,L){return 120<L?L-120:1<=(W=((W=Kb[L-1])>>4)*T+(8-(15&W)))?W:1;var W}function ps(T,L,W){var J=K(W),re=T[L+=255&J].g-8;return 0<re&&(se(W,W.u+8),J=K(W),L+=T[L].value,L+=J&(1<<re)-1),se(W,W.u+T[L].g),T[L].value}function An(T,L,W){return W.g+=T.g,W.value+=T.value<<L>>>0,t(8>=W.g),T.g}function En(T,L,W){var J=T.xc;return t((L=J==0?0:T.vc[T.md*(W>>J)+(L>>J)])<T.Wb),T.Ya[L]}function Ba(T,L,W,J){var re=T.ab,ce=T.c*L,de=T.C;L=de+L;var fe=W,he=J;for(J=T.Ta,W=T.Ua;0<re--;){var xe=T.gc[re],_e=de,Be=L,qe=fe,Fe=he,dt=(he=J,fe=W,xe.Ea);switch(t(_e<Be),t(Be<=xe.nc),xe.hc){case 2:Rh(qe,Fe,(Be-_e)*dt,he,fe);break;case 0:var Je=_e,Oe=Be,Re=he,at=fe,nt=(At=xe).Ea;Je==0&&(kc(qe,Fe,null,null,1,Re,at),Ct(qe,Fe+1,0,0,nt-1,Re,at+1),Fe+=nt,at+=nt,++Je);for(var it=1<<At.b,Dt=it-1,St=Ie(nt,At.b),Qt=At.K,At=At.w+(Je>>At.b)*St;Je<Oe;){var Rr=Qt,Lr=At,Pr=1;for(Fo(qe,Fe,Re,at-nt,1,Re,at);Pr<nt;){var br=(Pr&~Dt)+it;br>nt&&(br=nt),(0,ao[Rr[Lr++]>>8&15])(qe,Fe+ +Pr,Re,at+Pr-nt,br-Pr,Re,at+Pr),Pr=br}Fe+=nt,at+=nt,++Je&Dt||(At+=St)}Be!=xe.nc&&a(he,fe-dt,he,fe+(Be-_e-1)*dt,dt);break;case 1:for(dt=qe,Oe=Fe,nt=(qe=xe.Ea)-(at=qe&~(Re=(Fe=1<<xe.b)-1)),Je=Ie(qe,xe.b),it=xe.K,xe=xe.w+(_e>>xe.b)*Je;_e<Be;){for(Dt=it,St=xe,Qt=new xt,At=Oe+at,Rr=Oe+qe;Oe<At;)Gt(Dt[St++],Qt),Ml(Qt,dt,Oe,Fe,he,fe),Oe+=Fe,fe+=Fe;Oe<Rr&&(Gt(Dt[St++],Qt),Ml(Qt,dt,Oe,nt,he,fe),Oe+=nt,fe+=nt),++_e&Re||(xe+=Je)}break;case 3:if(qe==he&&Fe==fe&&0<xe.b){for(Oe=he,qe=dt=fe+(Be-_e)*dt-(at=(Be-_e)*Ie(xe.Ea,xe.b)),Fe=he,Re=fe,Je=[],at=(nt=at)-1;0<=at;--at)Je[at]=Fe[Re+at];for(at=nt-1;0<=at;--at)Oe[qe+at]=Je[at];es(xe,_e,Be,he,dt,he,fe)}else es(xe,_e,Be,qe,Fe,he,fe)}fe=J,he=W}he!=W&&a(J,W,fe,he,ce)}function Cl(T,L){var W=T.V,J=T.Ba+T.c*T.C,re=L-T.C;if(t(L<=T.l.o),t(16>=re),0<re){var ce=T.l,de=T.Ta,fe=T.Ua,he=ce.width;if(Ba(T,re,W,J),re=fe=[fe],t((W=T.C)<(J=L)),t(ce.v<ce.va),J>ce.o&&(J=ce.o),W<ce.j){var xe=ce.j-W;W=ce.j,re[0]+=xe*he}if(W>=J?W=0:(re[0]+=4*ce.v,ce.ka=W-ce.j,ce.U=ce.va-ce.v,ce.T=J-W,W=1),W){if(fe=fe[0],11>(W=T.ca).S){var _e=W.f.RGBA,Be=(J=W.S,re=ce.U,ce=ce.T,xe=_e.eb,_e.A),qe=ce;for(_e=_e.fb+T.Ma*_e.A;0<qe--;){var Fe=de,dt=fe,Je=re,Oe=xe,Re=_e;switch(J){case Lh:ts(Fe,dt,Je,Oe,Re);break;case ql:za(Fe,dt,Je,Oe,Re);break;case Gu:za(Fe,dt,Je,Oe,Re),ys(Oe,Re,0,Je,1,0);break;case Vx:$o(Fe,dt,Je,Oe,Re);break;case hf:Gr(Fe,dt,Je,Oe,Re,1);break;case $c:Gr(Fe,dt,Je,Oe,Re,1),ys(Oe,Re,0,Je,1,0);break;case mf:Gr(Fe,dt,Je,Oe,Re,0);break;case pf:Gr(Fe,dt,Je,Oe,Re,0),ys(Oe,Re,1,Je,1,0);break;case cn:$l(Fe,dt,Je,Oe,Re);break;case vf:$l(Fe,dt,Je,Oe,Re),ln(Oe,Re,Je,1,0);break;case Fh:Mo(Fe,dt,Je,Oe,Re);break;default:t(0)}fe+=he,_e+=Be}T.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");t(T.Ma<=W.height)}}T.C=L,t(T.C<=T.i)}function Oo(T){var L;if(0<T.ua)return 0;for(L=0;L<T.Wb;++L){var W=T.Ya[L].G,J=T.Ya[L].H;if(0<W[1][J[1]+0].g||0<W[2][J[2]+0].g||0<W[3][J[3]+0].g)return 0}return 1}function Ai(T,L,W,J,re,ce){if(T.Z!=0){var de=T.qd,fe=T.rd;for(t(Va[T.Z]!=null);L<W;++L)Va[T.Z](de,fe,J,re,J,re,ce),de=J,fe=re,re+=ce;T.qd=de,T.rd=fe}}function Ei(T,L){var W=T.l.ma,J=W.Z==0||W.Z==1?T.l.j:T.C;if(J=T.C<J?J:T.C,t(L<=T.l.o),L>J){var re=T.l.width,ce=W.ca,de=W.tb+re*J,fe=T.V,he=T.Ba+T.c*J,xe=T.gc;t(T.ab==1),t(xe[0].hc==3),uf(xe[0],J,L,fe,he,ce,de),Ai(W,J,L,ce,de,re)}T.C=T.Ma=L}function Ca(T,L,W,J,re,ce,de){var fe=T.$/J,he=T.$%J,xe=T.m,_e=T.s,Be=W+T.$,qe=Be;re=W+J*re;var Fe=W+J*ce,dt=280+_e.ua,Je=T.Pb?fe:16777216,Oe=0<_e.ua?_e.Wa:null,Re=_e.wc,at=Be<Fe?En(_e,he,fe):null;t(T.C<ce),t(Fe<=re);var nt=!1;e:for(;;){for(;nt||Be<Fe;){var it=0;if(fe>=Je){var Dt=Be-W;t((Je=T).Pb),Je.wd=Je.m,Je.xd=Dt,0<Je.s.ua&&ge(Je.s.Wa,Je.s.vb),Je=fe+$h}if(he&Re||(at=En(_e,he,fe)),t(at!=null),at.Qb&&(L[Be]=at.qb,nt=!0),!nt)if(oe(xe),at.jc){it=xe,Dt=L;var St=Be,Qt=at.pd[K(it)&Bn-1];t(at.jc),256>Qt.g?(se(it,it.u+Qt.g),Dt[St]=Qt.value,it=0):(se(it,it.u+Qt.g-256),t(256<=Qt.value),it=Qt.value),it==0&&(nt=!0)}else it=ps(at.G[0],at.H[0],xe);if(xe.h)break;if(nt||256>it){if(!nt)if(at.nd)L[Be]=(at.qb|it<<8)>>>0;else{if(oe(xe),nt=ps(at.G[1],at.H[1],xe),oe(xe),Dt=ps(at.G[2],at.H[2],xe),St=ps(at.G[3],at.H[3],xe),xe.h)break;L[Be]=(St<<24|nt<<16|it<<8|Dt)>>>0}if(nt=!1,++Be,++he>=J&&(he=0,++fe,de!=null&&fe<=ce&&!(fe%16)&&de(T,fe),Oe!=null))for(;qe<Be;)it=L[qe++],Oe.X[(506832829*it&4294967295)>>>Oe.Mb]=it}else if(280>it){if(it=Ls(it-256,xe),Dt=ps(at.G[4],at.H[4],xe),oe(xe),Dt=ms(J,Dt=Ls(Dt,xe)),xe.h)break;if(Be-W<Dt||re-Be<it)break e;for(St=0;St<it;++St)L[Be+St]=L[Be+St-Dt];for(Be+=it,he+=it;he>=J;)he-=J,++fe,de!=null&&fe<=ce&&!(fe%16)&&de(T,fe);if(t(Be<=re),he&Re&&(at=En(_e,he,fe)),Oe!=null)for(;qe<Be;)it=L[qe++],Oe.X[(506832829*it&4294967295)>>>Oe.Mb]=it}else{if(!(it<dt))break e;for(nt=it-280,t(Oe!=null);qe<Be;)it=L[qe++],Oe.X[(506832829*it&4294967295)>>>Oe.Mb]=it;it=Be,t(!(nt>>>(Dt=Oe).Xa)),L[it]=Dt.X[nt],nt=!0}nt||t(xe.h==te(xe))}if(T.Pb&&xe.h&&Be<re)t(T.m.h),T.a=5,T.m=T.wd,T.$=T.xd,0<T.s.ua&&ge(T.s.vb,T.s.Wa);else{if(xe.h)break e;de?.(T,fe>ce?ce:fe),T.a=0,T.$=Be-W}return 1}return T.a=3,0}function Pi(T){t(T!=null),T.vc=null,T.yc=null,T.Ya=null;var L=T.Wa;L!=null&&(L.X=null),T.vb=null,t(T!=null)}function Fs(){var T=new Tp;return T==null?null:(T.a=0,T.xb=Yu,Ma("Predictor","VP8LPredictors"),Ma("Predictor","VP8LPredictors_C"),Ma("PredictorAdd","VP8LPredictorsAdd"),Ma("PredictorAdd","VP8LPredictorsAdd_C"),Rh=_t,Ml=Vt,ts=jt,za=Mr,$l=xr,Mo=Zn,$o=$r,C.VP8LMapColor32b=zu,C.VP8LMapColor8b=Uu,T)}function Ji(T,L,W,J,re){var ce=1,de=[T],fe=[L],he=J.m,xe=J.s,_e=null,Be=0;e:for(;;){if(W)for(;ce&&Z(he,1);){var qe=de,Fe=fe,dt=J,Je=1,Oe=dt.m,Re=dt.gc[dt.ab],at=Z(Oe,2);if(dt.Oc&1<<at)ce=0;else{switch(dt.Oc|=1<<at,Re.hc=at,Re.Ea=qe[0],Re.nc=Fe[0],Re.K=[null],++dt.ab,t(4>=dt.ab),at){case 0:case 1:Re.b=Z(Oe,3)+2,Je=Ji(Ie(Re.Ea,Re.b),Ie(Re.nc,Re.b),0,dt,Re.K),Re.K=Re.K[0];break;case 3:var nt,it=Z(Oe,8)+1,Dt=16<it?0:4<it?1:2<it?2:3;if(qe[0]=Ie(Re.Ea,Dt),Re.b=Dt,nt=Je=Ji(it,1,0,dt,Re.K)){var St,Qt=it,At=Re,Rr=1<<(8>>At.b),Lr=i(Rr);if(Lr==null)nt=0;else{var Pr=At.K[0],br=At.w;for(Lr[0]=At.K[0][0],St=1;St<1*Qt;++St)Lr[St]=Ue(Pr[br+St],Lr[St-1]);for(;St<4*Rr;++St)Lr[St]=0;At.K[0]=null,At.K[0]=Lr,nt=1}}Je=nt;break;case 2:break;default:t(0)}ce=Je}}if(de=de[0],fe=fe[0],ce&&Z(he,1)&&!(ce=1<=(Be=Z(he,4))&&11>=Be)){J.a=3;break e}var tn;if(tn=ce)t:{var an,ur,Dn,as=J,Gn=de,ua=fe,Kr=Be,Wa=W,Ha=as.m,_n=as.s,da=[null],Pa=1,Ss=0,li=Hx[Kr];r:for(;;){if(Wa&&Z(Ha,1)){var kn=Z(Ha,3)+2,ra=Ie(Gn,kn),Us=Ie(ua,kn),Vl=ra*Us;if(!Ji(ra,Us,0,as,da))break r;for(da=da[0],_n.xc=kn,an=0;an<Vl;++an){var Go=da[an]>>8&65535;da[an]=Go,Go>=Pa&&(Pa=Go+1)}}if(Ha.h)break r;for(ur=0;5>ur;++ur){var Yr=Bc[ur];!ur&&0<Kr&&(Yr+=1<<Kr),Ss<Yr&&(Ss=Yr)}var co=o(Pa*li,D),qh=Pa,Rp=o(qh,F);if(Rp==null)var ci=null;else t(65536>=qh),ci=Rp;var ui=i(Ss);if(ci==null||ui==null||co==null){as.a=1;break r}var Wc=co;for(an=Dn=0;an<Pa;++an){var di=ci[an],Ko=di.G,Hc=di.H,Ju=0,Vs=1,Zu=0;for(ur=0;5>ur;++ur){Yr=Bc[ur],Ko[ur]=Wc,Hc[ur]=Dn,!ur&&0<Kr&&(Yr+=1<<Kr);a:{var Wl,Yo=Yr,ed=as,uo=ui,Qx=Wc,Lp=Dn,mn=0,Ri=ed.m,Fp=Z(Ri,1);if(s(uo,0,0,Yo),Fp){var Mp=Z(Ri,1)+1,zh=Z(Ri,1),Uh=Z(Ri,zh==0?1:8);uo[Uh]=1,Mp==2&&(uo[Uh=Z(Ri,8)]=1);var fo=1}else{var wn=i(19),na=Z(Ri,4)+4;if(19<na){ed.a=3;var Kn=0;break a}for(Wl=0;Wl<na;++Wl)wn[Gb[Wl]]=Z(Ri,3);var td=void 0,Xo=void 0,rd=ed,Zb=wn,fa=Yo,Vh=uo,jf=0,ho=rd.m,Li=8,Ws=o(128,D);n:for(;k(Ws,0,7,Zb,19);){if(Z(ho,1)){var wf=2+2*Z(ho,3);if((td=2+Z(ho,wf))>fa)break n}else td=fa;for(Xo=0;Xo<fa&&td--;){oe(ho);var Wh=Ws[0+(127&K(ho))];se(ho,ho.u+Wh.g);var Hl=Wh.value;if(16>Hl)Vh[Xo++]=Hl,Hl!=0&&(Li=Hl);else{var Jx=Hl==16,$p=Hl-16,Zx=Mh[$p],Bp=Z(ho,xf[$p])+Zx;if(Xo+Bp>fa)break n;for(var eg=Jx?Li:0;0<Bp--;)Vh[Xo++]=eg}}jf=1;break n}jf||(rd.a=3),fo=jf}(fo=fo&&!Ri.h)&&(mn=k(Qx,Lp,8,uo,Yo)),fo&&mn!=0?Kn=mn:(ed.a=3,Kn=0)}if(Kn==0)break r;if(Vs&&Wx[ur]==1&&(Vs=Wc[Dn].g==0),Ju+=Wc[Dn].g,Dn+=Kn,3>=ur){var nd,Hh=ui[0];for(nd=1;nd<Yr;++nd)ui[nd]>Hh&&(Hh=ui[nd]);Zu+=Hh}}if(di.nd=Vs,di.Qb=0,Vs&&(di.qb=(Ko[3][Hc[3]+0].value<<24|Ko[1][Hc[1]+0].value<<16|Ko[2][Hc[2]+0].value)>>>0,Ju==0&&256>Ko[0][Hc[0]+0].value&&(di.Qb=1,di.qb+=Ko[0][Hc[0]+0].value<<8)),di.jc=!di.Qb&&6>Zu,di.jc){var Nf,Hs=di;for(Nf=0;Nf<Bn;++Nf){var Qo=Nf,Fi=Hs.pd[Qo],Gc=Hs.G[0][Hs.H[0]+Qo];256<=Gc.value?(Fi.g=Gc.g+256,Fi.value=Gc.value):(Fi.g=0,Fi.value=0,Qo>>=An(Gc,8,Fi),Qo>>=An(Hs.G[1][Hs.H[1]+Qo],16,Fi),Qo>>=An(Hs.G[2][Hs.H[2]+Qo],0,Fi),An(Hs.G[3][Hs.H[3]+Qo],24,Fi))}}}_n.vc=da,_n.Wb=Pa,_n.Ya=ci,_n.yc=co,tn=1;break t}tn=0}if(!(ce=tn)){J.a=3;break e}if(0<Be){if(xe.ua=1<<Be,!He(xe.Wa,Be)){J.a=1,ce=0;break e}}else xe.ua=0;var Gh=J,Kh=de,tg=fe,Yh=Gh.s,Xh=Yh.xc;if(Gh.c=Kh,Gh.i=tg,Yh.md=Ie(Kh,Xh),Yh.wc=Xh==0?-1:(1<<Xh)-1,W){J.xb=lo;break e}if((_e=i(de*fe))==null){J.a=1,ce=0;break e}ce=(ce=Ca(J,_e,0,de,fe,fe,null))&&!he.h;break e}return ce?(re!=null?re[0]=_e:(t(_e==null),t(W)),J.$=0,W||Pi(xe)):Pi(xe),ce}function Al(T,L){var W=T.c*T.i,J=W+L+16*L;return t(T.c<=L),T.V=i(J),T.V==null?(T.Ta=null,T.Ua=0,T.a=1,0):(T.Ta=T.V,T.Ua=T.Ba+W+L,1)}function xc(T,L){var W=T.C,J=L-W,re=T.V,ce=T.Ba+T.c*W;for(t(L<=T.l.o);0<J;){var de=16<J?16:J,fe=T.l.ma,he=T.l.width,xe=he*de,_e=fe.ca,Be=fe.tb+he*W,qe=T.Ta,Fe=T.Ua;Ba(T,de,re,ce),qn(qe,Fe,_e,Be,xe),Ai(fe,W,W+de,_e,Be,he),J-=de,re+=de*T.c,W+=de}t(W==L),T.C=T.Ma=L}function gc(){this.ub=this.yd=this.td=this.Rb=0}function yc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bu(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ah(){this.Yb=function(){var T=[];return function L(W,J,re){for(var ce=re[J],de=0;de<ce&&(W.push(re.length>J+1?[]:0),!(re.length<J+1));de++)L(W[de],J+1,re)}(T,0,[3,11]),T}()}function Pn(){this.jb=i(3),this.Wc=l([4,8],Ah),this.Xc=l([4,17],Ah)}function Ap(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function El(){this.ld=this.La=this.dd=this.tc=0}function Qd(){this.Na=this.la=0}function ju(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Jd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Eh(){this.uc=this.M=this.Nb=0,this.wa=Array(new El),this.Y=0,this.ya=Array(new Jd),this.aa=0,this.l=new wu}function bc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ri(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new gc,this.Kc=new yc,this.ed=new Ap,this.Qa=new bu,this.Ic=this.$c=this.Aa=0,this.D=new Eh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Q),this.ia=0,this.pb=o(4,ju),this.Pa=new Pn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bc),this.Hd=0,this.rb=Array(new Qd),this.sb=0,this.wa=Array(new El),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Jd),this.L=this.aa=0,this.gd=l([4,2],El),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ms(){var T=new ri;return T!=null&&(T.a=0,T.sc="OK",T.cb=0,T.Xb=0,qc||(qc=jc)),T}function Hn(T,L,W){return T.a==0&&(T.a=L,T.sc=W,T.cb=0),0}function Ph(T,L,W){return 3<=W&&T[L+0]==157&&T[L+1]==1&&T[L+2]==42}function Th(T,L){if(T==null)return 0;if(T.a=0,T.sc="OK",L==null)return Hn(T,2,"null VP8Io passed to VP8GetHeaders()");var W=L.data,J=L.w,re=L.ha;if(4>re)return Hn(T,7,"Truncated header.");var ce=W[J+0]|W[J+1]<<8|W[J+2]<<16,de=T.Od;if(de.Rb=!(1&ce),de.td=ce>>1&7,de.yd=ce>>4&1,de.ub=ce>>5,3<de.td)return Hn(T,3,"Incorrect keyframe parameters.");if(!de.yd)return Hn(T,4,"Frame not displayable.");J+=3,re-=3;var fe=T.Kc;if(de.Rb){if(7>re)return Hn(T,7,"cannot parse picture header");if(!Ph(W,J,re))return Hn(T,3,"Bad code word");fe.c=16383&(W[J+4]<<8|W[J+3]),fe.Td=W[J+4]>>6,fe.i=16383&(W[J+6]<<8|W[J+5]),fe.Ud=W[J+6]>>6,J+=7,re-=7,T.za=fe.c+15>>4,T.Ub=fe.i+15>>4,L.width=fe.c,L.height=fe.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,s((ce=T.Pa).jb,0,255,ce.jb.length),t((ce=T.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,s(ce.Zb,0,0,ce.Zb.length),s(ce.Lb,0,0,ce.Lb)}if(de.ub>re)return Hn(T,7,"bad partition length");z(ce=T.m,W,J,de.ub),J+=de.ub,re-=de.ub,de.Rb&&(fe.Ld=ve(ce),fe.Kd=ve(ce)),fe=T.Qa;var he,xe=T.Pa;if(t(ce!=null),t(fe!=null),fe.Cb=ve(ce),fe.Cb){if(fe.Bb=ve(ce),ve(ce)){for(fe.Fb=ve(ce),he=0;4>he;++he)fe.Zb[he]=ve(ce)?B(ce,7):0;for(he=0;4>he;++he)fe.Lb[he]=ve(ce)?B(ce,6):0}if(fe.Bb)for(he=0;3>he;++he)xe.jb[he]=ve(ce)?V(ce,8):255}else fe.Bb=0;if(ce.Ka)return Hn(T,3,"cannot parse segment header");if((fe=T.ed).zd=ve(ce),fe.Tb=V(ce,6),fe.wb=V(ce,3),fe.Pc=ve(ce),fe.Pc&&ve(ce)){for(xe=0;4>xe;++xe)ve(ce)&&(fe.vd[xe]=B(ce,6));for(xe=0;4>xe;++xe)ve(ce)&&(fe.od[xe]=B(ce,6))}if(T.L=fe.Tb==0?0:fe.zd?1:2,ce.Ka)return Hn(T,3,"cannot parse filter header");var _e=re;if(re=he=J,J=he+_e,fe=_e,T.Xb=(1<<V(T.m,2))-1,_e<3*(xe=T.Xb))W=7;else{for(he+=3*xe,fe-=3*xe,_e=0;_e<xe;++_e){var Be=W[re+0]|W[re+1]<<8|W[re+2]<<16;Be>fe&&(Be=fe),z(T.Jc[+_e],W,he,Be),he+=Be,fe-=Be,re+=3}z(T.Jc[+xe],W,he,fe),W=he<J?0:5}if(W!=0)return Hn(T,W,"cannot parse partitions");for(W=V(he=T.m,7),re=ve(he)?B(he,4):0,J=ve(he)?B(he,4):0,fe=ve(he)?B(he,4):0,xe=ve(he)?B(he,4):0,he=ve(he)?B(he,4):0,_e=T.Qa,Be=0;4>Be;++Be){if(_e.Cb){var qe=_e.Zb[Be];_e.Fb||(qe+=W)}else{if(0<Be){T.pb[Be]=T.pb[0];continue}qe=W}var Fe=T.pb[Be];Fe.Sc[0]=Ku[Bs(qe+re,127)],Fe.Sc[1]=gf[Bs(qe+0,127)],Fe.Eb[0]=2*Ku[Bs(qe+J,127)],Fe.Eb[1]=101581*gf[Bs(qe+fe,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=Ku[Bs(qe+xe,117)],Fe.Qc[1]=gf[Bs(qe+he,127)],Fe.lc=qe+he}if(!de.Rb)return Hn(T,4,"Not a key frame.");for(ve(ce),de=T.Pa,W=0;4>W;++W){for(re=0;8>re;++re)for(J=0;3>J;++J)for(fe=0;11>fe;++fe)xe=pe(ce,Xb[W][re][J][fe])?V(ce,8):Kx[W][re][J][fe],de.Wc[W][re].Yb[J][fe]=xe;for(re=0;17>re;++re)de.Xc[W][re]=de.Wc[W][_p[re]]}return T.kc=ve(ce),T.kc&&(T.Bd=V(ce,8)),T.cb=1}function jc(T,L,W,J,re,ce,de){var fe=L[re].Yb[W];for(W=0;16>re;++re){if(!pe(T,fe[W+0]))return re;for(;!pe(T,fe[W+1]);)if(fe=L[++re].Yb[0],W=0,re==16)return 16;var he=L[re+1].Yb;if(pe(T,fe[W+2])){var xe=T,_e=0;if(pe(xe,(qe=fe)[(Be=W)+3]))if(pe(xe,qe[Be+6])){for(fe=0,Be=2*(_e=pe(xe,qe[Be+8]))+(qe=pe(xe,qe[Be+9+_e])),_e=0,qe=Ip[Be];qe[fe];++fe)_e+=_e+pe(xe,qe[fe]);_e+=3+(8<<Be)}else pe(xe,qe[Be+7])?(_e=7+2*pe(xe,165),_e+=pe(xe,145)):_e=5+pe(xe,159);else _e=pe(xe,qe[Be+4])?3+pe(xe,qe[Be+5]):2;fe=he[2]}else _e=1,fe=he[1];he=de+Dp[re],0>(xe=T).b&&me(xe);var Be,qe=xe.b,Fe=(Be=xe.Ca>>1)-(xe.I>>qe)>>31;--xe.b,xe.Ca+=Fe,xe.Ca|=1,xe.I-=(Be+1&Fe)<<qe,ce[he]=((_e^Fe)-Fe)*J[(0<re)+0]}return 16}function Pl(T){var L=T.rb[T.sb-1];L.la=0,L.Na=0,s(T.zc,0,0,T.zc.length),T.ja=0}function wc(T,L){if(T==null)return 0;if(L==null)return Hn(T,2,"NULL VP8Io parameter in VP8Decode().");if(!T.cb&&!Th(T,L))return 0;if(t(T.cb),L.ac==null||L.ac(L)){L.ob&&(T.L=0);var W=Vc[T.L];if(T.L==2?(T.yb=0,T.zb=0):(T.yb=L.v-W>>4,T.zb=L.j-W>>4,0>T.yb&&(T.yb=0),0>T.zb&&(T.zb=0)),T.Va=L.o+15+W>>4,T.Hb=L.va+15+W>>4,T.Hb>T.za&&(T.Hb=T.za),T.Va>T.Ub&&(T.Va=T.Ub),0<T.L){var J=T.ed;for(W=0;4>W;++W){var re;if(T.Qa.Cb){var ce=T.Qa.Lb[W];T.Qa.Fb||(ce+=J.Tb)}else ce=J.Tb;for(re=0;1>=re;++re){var de=T.gd[W][re],fe=ce;if(J.Pc&&(fe+=J.vd[0],re&&(fe+=J.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var he=fe;0<J.wb&&(he=4<J.wb?he>>2:he>>1)>9-J.wb&&(he=9-J.wb),1>he&&(he=1),de.dd=he,de.tc=2*fe+he,de.ld=40<=fe?2:15<=fe?1:0}else de.tc=0;de.La=re}}}W=0}else Hn(T,6,"Frame setup failed"),W=T.a;if(W=W==0){if(W){T.$c=0,0<T.Aa||(T.Ic=Ho);e:{W=T.Ic,J=4*(he=T.za);var xe=32*he,_e=he+1,Be=0<T.L?he*(0<T.Aa?2:1):0,qe=(T.Aa==2?2:1)*he;if((de=J+832+(re=3*(16*W+Vc[T.L])/2*xe)+(ce=T.Fa!=null&&0<T.Fa.length?T.Kc.c*T.Kc.i:0))!=de)W=0;else{if(de>T.Vb){if(T.Vb=0,T.Ec=i(de),T.Fc=0,T.Ec==null){W=Hn(T,1,"no memory during frame initialization.");break e}T.Vb=de}de=T.Ec,fe=T.Fc,T.Ac=de,T.Bc=fe,fe+=J,T.Gd=o(xe,bc),T.Hd=0,T.rb=o(_e+1,Qd),T.sb=1,T.wa=Be?o(Be,El):null,T.Y=0,T.D.Nb=0,T.D.wa=T.wa,T.D.Y=T.Y,0<T.Aa&&(T.D.Y+=he),t(!0),T.oc=de,T.pc=fe,fe+=832,T.ya=o(qe,Jd),T.aa=0,T.D.ya=T.ya,T.D.aa=T.aa,T.Aa==2&&(T.D.aa+=he),T.R=16*he,T.B=8*he,he=(xe=Vc[T.L])*T.R,xe=xe/2*T.B,T.sa=de,T.ta=fe+he,T.qa=T.sa,T.ra=T.ta+16*W*T.R+xe,T.Ha=T.qa,T.Ia=T.ra+8*W*T.B+xe,T.$c=0,fe+=re,T.mb=ce?de:null,T.nb=ce?fe:null,t(fe+ce<=T.Fc+T.Vb),Pl(T),s(T.Ac,T.Bc,0,J),W=1}}if(W){if(L.ka=0,L.y=T.sa,L.O=T.ta,L.f=T.qa,L.N=T.ra,L.ea=T.Ha,L.Vd=T.Ia,L.fa=T.R,L.Rc=T.B,L.F=null,L.J=0,!ff){for(W=-255;255>=W;++W)ta[255+W]=0>W?-W:W;for(W=-1020;1020>=W;++W)io[1020+W]=-128>W?-128:127<W?127:W;for(W=-112;112>=W;++W)Wu[112+W]=-16>W?-16:15<W?15:W;for(W=-255;510>=W;++W)Mc[255+W]=0>W?0:255<W?255:W;ff=1}Vu=qr,Bo=ef,qo=Tl,Ua=Ep,qs=Su,zr=Zd,Oc=Du,df=ca,Rc=Tc,Lc=sf,Fc=kl,zs=Ol,zo=Ic,so=_u,Uo=Di,Vo=ni,Bl=ai,Aa=kh,oi[0]=ro,oi[1]=Ih,oi[2]=Ac,oi[3]=to,oi[4]=rf,oi[5]=Au,oi[6]=Dl,oi[7]=Eu,oi[8]=_h,oi[9]=Pu,ns[0]=Cc,ns[1]=Dh,ns[2]=Zi,ns[3]=Sc,ns[4]=Tn,ns[5]=eo,ns[6]=Ti,bs[0]=$s,bs[1]=tf,bs[2]=Pp,bs[3]=Ro,bs[4]=Ec,bs[5]=Tu,bs[6]=nf,W=1}else W=0}W&&(W=function(Fe,dt){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var Je,Oe=Fe.Jc[Fe.M&Fe.Xb],Re=Fe.m,at=Fe;for(Je=0;Je<at.za;++Je){var nt=Re,it=at,Dt=it.Ac,St=it.Bc+4*Je,Qt=it.zc,At=it.ya[it.aa+Je];if(it.Qa.Bb?At.$b=pe(nt,it.Pa.jb[0])?2+pe(nt,it.Pa.jb[2]):pe(nt,it.Pa.jb[1]):At.$b=0,it.kc&&(At.Ad=pe(nt,it.Bd)),At.Za=!pe(nt,145)+0,At.Za){var Rr=At.Ob,Lr=0;for(it=0;4>it;++it){var Pr,br=Qt[0+it];for(Pr=0;4>Pr;++Pr){br=Yb[Dt[St+Pr]][br];for(var tn=Gx[pe(nt,br[0])];0<tn;)tn=Gx[2*tn+pe(nt,br[tn])];br=-tn,Dt[St+Pr]=br}a(Rr,Lr,Dt,St,4),Lr+=4,Qt[0+it]=br}}else br=pe(nt,156)?pe(nt,128)?1:3:pe(nt,163)?2:0,At.Ob[0]=br,s(Dt,St,br,4),s(Qt,0,br,4);At.Dd=pe(nt,142)?pe(nt,114)?pe(nt,183)?1:3:2:0}if(at.m.Ka)return Hn(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(at=Oe,nt=(Re=Fe).rb[Re.sb-1],Dt=Re.rb[Re.sb+Re.ja],Je=Re.ya[Re.aa+Re.ja],St=Re.kc?Je.Ad:0)nt.la=Dt.la=0,Je.Za||(nt.Na=Dt.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var an,ur;if(nt=Dt,Dt=at,St=Re.Pa.Xc,Qt=Re.ya[Re.aa+Re.ja],At=Re.pb[Qt.$b],it=Qt.ad,Rr=0,Lr=Re.rb[Re.sb-1],br=Pr=0,s(it,Rr,0,384),Qt.Za)var Dn=0,as=St[3];else{tn=i(16);var Gn=nt.Na+Lr.Na;if(Gn=qc(Dt,St[1],Gn,At.Eb,0,tn,0),nt.Na=Lr.Na=(0<Gn)+0,1<Gn)Vu(tn,0,it,Rr);else{var ua=tn[0]+3>>3;for(tn=0;256>tn;tn+=16)it[Rr+tn]=ua}Dn=1,as=St[0]}var Kr=15&nt.la,Wa=15&Lr.la;for(tn=0;4>tn;++tn){var Ha=1&Wa;for(ua=ur=0;4>ua;++ua)Kr=Kr>>1|(Ha=(Gn=qc(Dt,as,Gn=Ha+(1&Kr),At.Sc,Dn,it,Rr))>Dn)<<7,ur=ur<<2|(3<Gn?3:1<Gn?2:it[Rr+0]!=0),Rr+=16;Kr>>=4,Wa=Wa>>1|Ha<<7,Pr=(Pr<<8|ur)>>>0}for(as=Kr,Dn=Wa>>4,an=0;4>an;an+=2){for(ur=0,Kr=nt.la>>4+an,Wa=Lr.la>>4+an,tn=0;2>tn;++tn){for(Ha=1&Wa,ua=0;2>ua;++ua)Gn=Ha+(1&Kr),Kr=Kr>>1|(Ha=0<(Gn=qc(Dt,St[2],Gn,At.Qc,0,it,Rr)))<<3,ur=ur<<2|(3<Gn?3:1<Gn?2:it[Rr+0]!=0),Rr+=16;Kr>>=2,Wa=Wa>>1|Ha<<5}br|=ur<<4*an,as|=Kr<<4<<an,Dn|=(240&Wa)<<an}nt.la=as,Lr.la=Dn,Qt.Hc=Pr,Qt.Gc=br,Qt.ia=43690&br?0:At.ia,St=!(Pr|br)}if(0<Re.L&&(Re.wa[Re.Y+Re.ja]=Re.gd[Je.$b][Je.Za],Re.wa[Re.Y+Re.ja].La|=!St),at.Ka)return Hn(Fe,7,"Premature end-of-file encountered.")}if(Pl(Fe),Re=dt,at=1,Je=(Oe=Fe).D,nt=0<Oe.L&&Oe.M>=Oe.zb&&Oe.M<=Oe.Va,Oe.Aa==0)e:{if(Je.M=Oe.M,Je.uc=nt,Ru(Oe,Je),at=1,Je=(ur=Oe.D).Nb,nt=(br=Vc[Oe.L])*Oe.R,Dt=br/2*Oe.B,tn=16*Je*Oe.R,ua=8*Je*Oe.B,St=Oe.sa,Qt=Oe.ta-nt+tn,At=Oe.qa,it=Oe.ra-Dt+ua,Rr=Oe.Ha,Lr=Oe.Ia-Dt+ua,Wa=(Kr=ur.M)==0,Pr=Kr>=Oe.Va-1,Oe.Aa==2&&Ru(Oe,ur),ur.uc)for(Ha=(Gn=Oe).D.M,t(Gn.D.uc),ur=Gn.yb;ur<Gn.Hb;++ur){Dn=ur,as=Ha;var _n=(da=(Yr=Gn).D).Nb;an=Yr.R;var da=da.wa[da.Y+Dn],Pa=Yr.sa,Ss=Yr.ta+16*_n*an+16*Dn,li=da.dd,kn=da.tc;if(kn!=0)if(t(3<=kn),Yr.L==1)0<Dn&&Vo(Pa,Ss,an,kn+4),da.La&&Aa(Pa,Ss,an,kn),0<as&&Uo(Pa,Ss,an,kn+4),da.La&&Bl(Pa,Ss,an,kn);else{var ra=Yr.B,Us=Yr.qa,Vl=Yr.ra+8*_n*ra+8*Dn,Go=Yr.Ha,Yr=Yr.Ia+8*_n*ra+8*Dn;_n=da.ld,0<Dn&&(df(Pa,Ss,an,kn+4,li,_n),Lc(Us,Vl,Go,Yr,ra,kn+4,li,_n)),da.La&&(zs(Pa,Ss,an,kn,li,_n),so(Us,Vl,Go,Yr,ra,kn,li,_n)),0<as&&(Oc(Pa,Ss,an,kn+4,li,_n),Rc(Us,Vl,Go,Yr,ra,kn+4,li,_n)),da.La&&(Fc(Pa,Ss,an,kn,li,_n),zo(Us,Vl,Go,Yr,ra,kn,li,_n))}}if(Oe.ia&&alert("todo:DitherRow"),Re.put!=null){if(ur=16*Kr,Kr=16*(Kr+1),Wa?(Re.y=Oe.sa,Re.O=Oe.ta+tn,Re.f=Oe.qa,Re.N=Oe.ra+ua,Re.ea=Oe.Ha,Re.W=Oe.Ia+ua):(ur-=br,Re.y=St,Re.O=Qt,Re.f=At,Re.N=it,Re.ea=Rr,Re.W=Lr),Pr||(Kr-=br),Kr>Re.o&&(Kr=Re.o),Re.F=null,Re.J=null,Oe.Fa!=null&&0<Oe.Fa.length&&ur<Kr&&(Re.J=lf(Oe,Re,ur,Kr-ur),Re.F=Oe.mb,Re.F==null&&Re.F.length==0)){at=Hn(Oe,3,"Could not decode alpha data.");break e}ur<Re.j&&(br=Re.j-ur,ur=Re.j,t(!(1&br)),Re.O+=Oe.R*br,Re.N+=Oe.B*(br>>1),Re.W+=Oe.B*(br>>1),Re.F!=null&&(Re.J+=Re.width*br)),ur<Kr&&(Re.O+=Re.v,Re.N+=Re.v>>1,Re.W+=Re.v>>1,Re.F!=null&&(Re.J+=Re.v),Re.ka=ur-Re.j,Re.U=Re.va-Re.v,Re.T=Kr-ur,at=Re.put(Re))}Je+1!=Oe.Ic||Pr||(a(Oe.sa,Oe.ta-nt,St,Qt+16*Oe.R,nt),a(Oe.qa,Oe.ra-Dt,At,it+8*Oe.B,Dt),a(Oe.Ha,Oe.Ia-Dt,Rr,Lr+8*Oe.B,Dt))}if(!at)return Hn(Fe,6,"Output aborted.")}return 1}(T,L)),L.bc!=null&&L.bc(L),W&=1}return W?(T.cb=0,W):0}function vs(T,L,W,J,re){re=T[L+W+32*J]+(re>>3),T[L+W+32*J]=-256&re?0>re?0:255:re}function Nu(T,L,W,J,re,ce){vs(T,L,0,W,J+re),vs(T,L,1,W,J+ce),vs(T,L,2,W,J-ce),vs(T,L,3,W,J-re)}function xs(T){return(20091*T>>16)+T}function Nc(T,L,W,J){var re,ce=0,de=i(16);for(re=0;4>re;++re){var fe=T[L+0]+T[L+8],he=T[L+0]-T[L+8],xe=(35468*T[L+4]>>16)-xs(T[L+12]),_e=xs(T[L+4])+(35468*T[L+12]>>16);de[ce+0]=fe+_e,de[ce+1]=he+xe,de[ce+2]=he-xe,de[ce+3]=fe-_e,ce+=4,L++}for(re=ce=0;4>re;++re)fe=(T=de[ce+0]+4)+de[ce+8],he=T-de[ce+8],xe=(35468*de[ce+4]>>16)-xs(de[ce+12]),vs(W,J,0,0,fe+(_e=xs(de[ce+4])+(35468*de[ce+12]>>16))),vs(W,J,1,0,he+xe),vs(W,J,2,0,he-xe),vs(W,J,3,0,fe-_e),ce++,J+=32}function Zd(T,L,W,J){var re=T[L+0]+4,ce=35468*T[L+4]>>16,de=xs(T[L+4]),fe=35468*T[L+1]>>16;Nu(W,J,0,re+de,T=xs(T[L+1]),fe),Nu(W,J,1,re+ce,T,fe),Nu(W,J,2,re-ce,T,fe),Nu(W,J,3,re-de,T,fe)}function ef(T,L,W,J,re){Nc(T,L,W,J),re&&Nc(T,L+16,W,J+4)}function Tl(T,L,W,J){Bo(T,L+0,W,J,1),Bo(T,L+32,W,J+128,1)}function Ep(T,L,W,J){var re;for(T=T[L+0]+4,re=0;4>re;++re)for(L=0;4>L;++L)vs(W,J,L,re,T)}function Su(T,L,W,J){T[L+0]&&Ua(T,L+0,W,J),T[L+16]&&Ua(T,L+16,W,J+4),T[L+32]&&Ua(T,L+32,W,J+128),T[L+48]&&Ua(T,L+48,W,J+128+4)}function qr(T,L,W,J){var re,ce=i(16);for(re=0;4>re;++re){var de=T[L+0+re]+T[L+12+re],fe=T[L+4+re]+T[L+8+re],he=T[L+4+re]-T[L+8+re],xe=T[L+0+re]-T[L+12+re];ce[0+re]=de+fe,ce[8+re]=de-fe,ce[4+re]=xe+he,ce[12+re]=xe-he}for(re=0;4>re;++re)de=(T=ce[0+4*re]+3)+ce[3+4*re],fe=ce[1+4*re]+ce[2+4*re],he=ce[1+4*re]-ce[2+4*re],xe=T-ce[3+4*re],W[J+0]=de+fe>>3,W[J+16]=xe+he>>3,W[J+32]=de-fe>>3,W[J+48]=xe-he>>3,J+=64}function Cu(T,L,W){var J,re=L-32,ce=rs,de=255-T[re-1];for(J=0;J<W;++J){var fe,he=ce,xe=de+T[L-1];for(fe=0;fe<W;++fe)T[L+fe]=he[xe+T[re+fe]];L+=32}}function Ih(T,L){Cu(T,L,4)}function tf(T,L){Cu(T,L,8)}function Dh(T,L){Cu(T,L,16)}function Zi(T,L){var W;for(W=0;16>W;++W)a(T,L+32*W,T,L-32,16)}function Sc(T,L){var W;for(W=16;0<W;--W)s(T,L,T[L-1],16),L+=32}function Il(T,L,W){var J;for(J=0;16>J;++J)s(L,W+32*J,T,16)}function Cc(T,L){var W,J=16;for(W=0;16>W;++W)J+=T[L-1+32*W]+T[L+W-32];Il(J>>5,T,L)}function Tn(T,L){var W,J=8;for(W=0;16>W;++W)J+=T[L-1+32*W];Il(J>>4,T,L)}function eo(T,L){var W,J=8;for(W=0;16>W;++W)J+=T[L+W-32];Il(J>>4,T,L)}function Ti(T,L){Il(128,T,L)}function nr(T,L,W){return T+2*L+W+2>>2}function Ac(T,L){var W,J=L-32;for(J=new Uint8Array([nr(T[J-1],T[J+0],T[J+1]),nr(T[J+0],T[J+1],T[J+2]),nr(T[J+1],T[J+2],T[J+3]),nr(T[J+2],T[J+3],T[J+4])]),W=0;4>W;++W)a(T,L+32*W,J,0,J.length)}function to(T,L){var W=T[L-1],J=T[L-1+32],re=T[L-1+64],ce=T[L-1+96];we(T,L+0,16843009*nr(T[L-1-32],W,J)),we(T,L+32,16843009*nr(W,J,re)),we(T,L+64,16843009*nr(J,re,ce)),we(T,L+96,16843009*nr(re,ce,ce))}function ro(T,L){var W,J=4;for(W=0;4>W;++W)J+=T[L+W-32]+T[L-1+32*W];for(J>>=3,W=0;4>W;++W)s(T,L+32*W,J,4)}function rf(T,L){var W=T[L-1+0],J=T[L-1+32],re=T[L-1+64],ce=T[L-1-32],de=T[L+0-32],fe=T[L+1-32],he=T[L+2-32],xe=T[L+3-32];T[L+0+96]=nr(J,re,T[L-1+96]),T[L+1+96]=T[L+0+64]=nr(W,J,re),T[L+2+96]=T[L+1+64]=T[L+0+32]=nr(ce,W,J),T[L+3+96]=T[L+2+64]=T[L+1+32]=T[L+0+0]=nr(de,ce,W),T[L+3+64]=T[L+2+32]=T[L+1+0]=nr(fe,de,ce),T[L+3+32]=T[L+2+0]=nr(he,fe,de),T[L+3+0]=nr(xe,he,fe)}function Dl(T,L){var W=T[L+1-32],J=T[L+2-32],re=T[L+3-32],ce=T[L+4-32],de=T[L+5-32],fe=T[L+6-32],he=T[L+7-32];T[L+0+0]=nr(T[L+0-32],W,J),T[L+1+0]=T[L+0+32]=nr(W,J,re),T[L+2+0]=T[L+1+32]=T[L+0+64]=nr(J,re,ce),T[L+3+0]=T[L+2+32]=T[L+1+64]=T[L+0+96]=nr(re,ce,de),T[L+3+32]=T[L+2+64]=T[L+1+96]=nr(ce,de,fe),T[L+3+64]=T[L+2+96]=nr(de,fe,he),T[L+3+96]=nr(fe,he,he)}function Au(T,L){var W=T[L-1+0],J=T[L-1+32],re=T[L-1+64],ce=T[L-1-32],de=T[L+0-32],fe=T[L+1-32],he=T[L+2-32],xe=T[L+3-32];T[L+0+0]=T[L+1+64]=ce+de+1>>1,T[L+1+0]=T[L+2+64]=de+fe+1>>1,T[L+2+0]=T[L+3+64]=fe+he+1>>1,T[L+3+0]=he+xe+1>>1,T[L+0+96]=nr(re,J,W),T[L+0+64]=nr(J,W,ce),T[L+0+32]=T[L+1+96]=nr(W,ce,de),T[L+1+32]=T[L+2+96]=nr(ce,de,fe),T[L+2+32]=T[L+3+96]=nr(de,fe,he),T[L+3+32]=nr(fe,he,xe)}function Eu(T,L){var W=T[L+0-32],J=T[L+1-32],re=T[L+2-32],ce=T[L+3-32],de=T[L+4-32],fe=T[L+5-32],he=T[L+6-32],xe=T[L+7-32];T[L+0+0]=W+J+1>>1,T[L+1+0]=T[L+0+64]=J+re+1>>1,T[L+2+0]=T[L+1+64]=re+ce+1>>1,T[L+3+0]=T[L+2+64]=ce+de+1>>1,T[L+0+32]=nr(W,J,re),T[L+1+32]=T[L+0+96]=nr(J,re,ce),T[L+2+32]=T[L+1+96]=nr(re,ce,de),T[L+3+32]=T[L+2+96]=nr(ce,de,fe),T[L+3+64]=nr(de,fe,he),T[L+3+96]=nr(fe,he,xe)}function Pu(T,L){var W=T[L-1+0],J=T[L-1+32],re=T[L-1+64],ce=T[L-1+96];T[L+0+0]=W+J+1>>1,T[L+2+0]=T[L+0+32]=J+re+1>>1,T[L+2+32]=T[L+0+64]=re+ce+1>>1,T[L+1+0]=nr(W,J,re),T[L+3+0]=T[L+1+32]=nr(J,re,ce),T[L+3+32]=T[L+1+64]=nr(re,ce,ce),T[L+3+64]=T[L+2+64]=T[L+0+96]=T[L+1+96]=T[L+2+96]=T[L+3+96]=ce}function _h(T,L){var W=T[L-1+0],J=T[L-1+32],re=T[L-1+64],ce=T[L-1+96],de=T[L-1-32],fe=T[L+0-32],he=T[L+1-32],xe=T[L+2-32];T[L+0+0]=T[L+2+32]=W+de+1>>1,T[L+0+32]=T[L+2+64]=J+W+1>>1,T[L+0+64]=T[L+2+96]=re+J+1>>1,T[L+0+96]=ce+re+1>>1,T[L+3+0]=nr(fe,he,xe),T[L+2+0]=nr(de,fe,he),T[L+1+0]=T[L+3+32]=nr(W,de,fe),T[L+1+32]=T[L+3+64]=nr(J,W,de),T[L+1+64]=T[L+3+96]=nr(re,J,W),T[L+1+96]=nr(ce,re,J)}function Pp(T,L){var W;for(W=0;8>W;++W)a(T,L+32*W,T,L-32,8)}function Ro(T,L){var W;for(W=0;8>W;++W)s(T,L,T[L-1],8),L+=32}function Ii(T,L,W){var J;for(J=0;8>J;++J)s(L,W+32*J,T,8)}function $s(T,L){var W,J=8;for(W=0;8>W;++W)J+=T[L+W-32]+T[L-1+32*W];Ii(J>>4,T,L)}function Tu(T,L){var W,J=4;for(W=0;8>W;++W)J+=T[L+W-32];Ii(J>>3,T,L)}function Ec(T,L){var W,J=4;for(W=0;8>W;++W)J+=T[L-1+32*W];Ii(J>>3,T,L)}function nf(T,L){Ii(128,T,L)}function _l(T,L,W){var J=T[L-W],re=T[L+0],ce=3*(re-J)+oo[1020+T[L-2*W]-T[L+W]],de=Hu[112+(ce+4>>3)];T[L-W]=rs[255+J+Hu[112+(ce+3>>3)]],T[L+0]=rs[255+re-de]}function Pc(T,L,W,J){var re=T[L+0],ce=T[L+W];return ii[255+T[L-2*W]-T[L-W]]>J||ii[255+ce-re]>J}function Iu(T,L,W,J){return 4*ii[255+T[L-W]-T[L+0]]+ii[255+T[L-2*W]-T[L+W]]<=J}function af(T,L,W,J,re){var ce=T[L-3*W],de=T[L-2*W],fe=T[L-W],he=T[L+0],xe=T[L+W],_e=T[L+2*W],Be=T[L+3*W];return 4*ii[255+fe-he]+ii[255+de-xe]>J?0:ii[255+T[L-4*W]-ce]<=re&&ii[255+ce-de]<=re&&ii[255+de-fe]<=re&&ii[255+Be-_e]<=re&&ii[255+_e-xe]<=re&&ii[255+xe-he]<=re}function Di(T,L,W,J){var re=2*J+1;for(J=0;16>J;++J)Iu(T,L+J,W,re)&&_l(T,L+J,W)}function ni(T,L,W,J){var re=2*J+1;for(J=0;16>J;++J)Iu(T,L+J*W,1,re)&&_l(T,L+J*W,1)}function ai(T,L,W,J){var re;for(re=3;0<re;--re)Di(T,L+=4*W,W,J)}function kh(T,L,W,J){var re;for(re=3;0<re;--re)ni(T,L+=4,W,J)}function _i(T,L,W,J,re,ce,de,fe){for(ce=2*ce+1;0<re--;){if(af(T,L,W,ce,de))if(Pc(T,L,W,fe))_l(T,L,W);else{var he=T,xe=L,_e=W,Be=he[xe-2*_e],qe=he[xe-_e],Fe=he[xe+0],dt=he[xe+_e],Je=he[xe+2*_e],Oe=27*(at=oo[1020+3*(Fe-qe)+oo[1020+Be-dt]])+63>>7,Re=18*at+63>>7,at=9*at+63>>7;he[xe-3*_e]=rs[255+he[xe-3*_e]+at],he[xe-2*_e]=rs[255+Be+Re],he[xe-_e]=rs[255+qe+Oe],he[xe+0]=rs[255+Fe-Oe],he[xe+_e]=rs[255+dt-Re],he[xe+2*_e]=rs[255+Je-at]}L+=J}}function gs(T,L,W,J,re,ce,de,fe){for(ce=2*ce+1;0<re--;){if(af(T,L,W,ce,de))if(Pc(T,L,W,fe))_l(T,L,W);else{var he=T,xe=L,_e=W,Be=he[xe-_e],qe=he[xe+0],Fe=he[xe+_e],dt=Hu[112+((Je=3*(qe-Be))+4>>3)],Je=Hu[112+(Je+3>>3)],Oe=dt+1>>1;he[xe-2*_e]=rs[255+he[xe-2*_e]+Oe],he[xe-_e]=rs[255+Be+Je],he[xe+0]=rs[255+qe-dt],he[xe+_e]=rs[255+Fe-Oe]}L+=J}}function Du(T,L,W,J,re,ce){_i(T,L,W,1,16,J,re,ce)}function ca(T,L,W,J,re,ce){_i(T,L,1,W,16,J,re,ce)}function kl(T,L,W,J,re,ce){var de;for(de=3;0<de;--de)gs(T,L+=4*W,W,1,16,J,re,ce)}function Ol(T,L,W,J,re,ce){var de;for(de=3;0<de;--de)gs(T,L+=4,1,W,16,J,re,ce)}function Tc(T,L,W,J,re,ce,de,fe){_i(T,L,re,1,8,ce,de,fe),_i(W,J,re,1,8,ce,de,fe)}function sf(T,L,W,J,re,ce,de,fe){_i(T,L,1,re,8,ce,de,fe),_i(W,J,1,re,8,ce,de,fe)}function Ic(T,L,W,J,re,ce,de,fe){gs(T,L+4*re,re,1,8,ce,de,fe),gs(W,J+4*re,re,1,8,ce,de,fe)}function _u(T,L,W,J,re,ce,de,fe){gs(T,L+4,1,re,8,ce,de,fe),gs(W,J+4,1,re,8,ce,de,fe)}function no(){this.ba=new $a,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Cn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ku(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Oh(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new D}function Tp(){this.xb=this.a=0,this.l=new wu,this.ca=new $a,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Oh,this.ab=0,this.gc=o(4,ku),this.Oc=0}function Ou(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lo(T,L,W,J,re,ce,de){for(T=T==null?0:T[L+0],L=0;L<de;++L)re[ce+L]=T+W[J+L]&255,T=re[ce+L]}function of(T,L,W,J,re,ce,de){var fe;if(T==null)Lo(null,null,W,J,re,ce,de);else for(fe=0;fe<de;++fe)re[ce+fe]=T[L+fe]+W[J+fe]&255}function Ll(T,L,W,J,re,ce,de){if(T==null)Lo(null,null,W,J,re,ce,de);else{var fe,he=T[L+0],xe=he,_e=he;for(fe=0;fe<de;++fe)xe=_e+(he=T[L+fe])-xe,_e=W[J+fe]+(-256&xe?0>xe?0:255:xe)&255,xe=he,re[ce+fe]=_e}}function lf(T,L,W,J){var re=L.width,ce=L.o;if(t(T!=null&&L!=null),0>W||0>=J||W+J>ce)return null;if(!T.Cc){if(T.ga==null){var de;if(T.ga=new Ou,(de=T.ga==null)||(de=L.width*L.o,t(T.Gb.length==0),T.Gb=i(de),T.Uc=0,T.Gb==null?de=0:(T.mb=T.Gb,T.nb=T.Uc,T.rc=null,de=1),de=!de),!de){de=T.ga;var fe=T.Fa,he=T.P,xe=T.qc,_e=T.mb,Be=T.nb,qe=he+1,Fe=xe-1,dt=de.l;if(t(fe!=null&&_e!=null&&L!=null),Va[0]=null,Va[1]=Lo,Va[2]=of,Va[3]=Ll,de.ca=_e,de.tb=Be,de.c=L.width,de.i=L.height,t(0<de.c&&0<de.i),1>=xe)L=0;else if(de.$a=fe[he+0]>>0&3,de.Z=fe[he+0]>>2&3,de.Lc=fe[he+0]>>4&3,he=fe[he+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||he)L=0;else if(dt.put=ti,dt.ac=ya,dt.bc=Ci,dt.ma=de,dt.width=L.width,dt.height=L.height,dt.Da=L.Da,dt.v=L.v,dt.va=L.va,dt.j=L.j,dt.o=L.o,de.$a)e:{t(de.$a==1),L=Fs();t:for(;;){if(L==null){L=0;break e}if(t(de!=null),de.mc=L,L.c=de.c,L.i=de.i,L.l=de.l,L.l.ma=de,L.l.width=de.c,L.l.height=de.i,L.a=0,H(L.m,fe,qe,Fe),!Ji(de.c,de.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&Oo(L.s)?(de.ic=1,fe=L.c*L.i,L.Ta=null,L.Ua=0,L.V=i(fe),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(de.ic=0,L=Al(L,de.c)),!L))break t;L=1;break e}de.mc=null,L=0}else L=Fe>=de.c*de.i;de=!L}if(de)return null;T.ga.Lc!=1?T.Ga=0:J=ce-W}t(T.ga!=null),t(W+J<=ce);e:{if(L=(fe=T.ga).c,ce=fe.l.o,fe.$a==0){if(qe=T.rc,Fe=T.Vc,dt=T.Fa,he=T.P+1+W*L,xe=T.mb,_e=T.nb+W*L,t(he<=T.P+T.qc),fe.Z!=0)for(t(Va[fe.Z]!=null),de=0;de<J;++de)Va[fe.Z](qe,Fe,dt,he,xe,_e,L),qe=xe,Fe=_e,_e+=L,he+=L;else for(de=0;de<J;++de)a(xe,_e,dt,he,L),qe=xe,Fe=_e,_e+=L,he+=L;T.rc=qe,T.Vc=Fe}else{if(t(fe.mc!=null),L=W+J,t((de=fe.mc)!=null),t(L<=de.i),de.C>=L)L=1;else if(fe.ic||$e(),fe.ic){fe=de.V,qe=de.Ba,Fe=de.c;var Je=de.i,Oe=(dt=1,he=de.$/Fe,xe=de.$%Fe,_e=de.m,Be=de.s,de.$),Re=Fe*Je,at=Fe*L,nt=Be.wc,it=Oe<at?En(Be,xe,he):null;t(Oe<=Re),t(L<=Je),t(Oo(Be));t:for(;;){for(;!_e.h&&Oe<at;){if(xe&nt||(it=En(Be,xe,he)),t(it!=null),oe(_e),256>(Je=ps(it.G[0],it.H[0],_e)))fe[qe+Oe]=Je,++Oe,++xe>=Fe&&(xe=0,++he<=L&&!(he%16)&&Ei(de,he));else{if(!(280>Je)){dt=0;break t}Je=Ls(Je-256,_e);var Dt,St=ps(it.G[4],it.H[4],_e);if(oe(_e),!(Oe>=(St=ms(Fe,St=Ls(St,_e)))&&Re-Oe>=Je)){dt=0;break t}for(Dt=0;Dt<Je;++Dt)fe[qe+Oe+Dt]=fe[qe+Oe+Dt-St];for(Oe+=Je,xe+=Je;xe>=Fe;)xe-=Fe,++he<=L&&!(he%16)&&Ei(de,he);Oe<at&&xe&nt&&(it=En(Be,xe,he))}t(_e.h==te(_e))}Ei(de,he>L?L:he);break t}!dt||_e.h&&Oe<Re?(dt=0,de.a=_e.h?5:3):de.$=Oe,L=dt}else L=Ca(de,de.V,de.Ba,de.c,de.i,L,xc);if(!L){J=0;break e}}W+J>=ce&&(T.Cc=1),J=1}if(!J)return null;if(T.Cc&&((J=T.ga)!=null&&(J.mc=null),T.ga=null,0<T.Ga))return alert("todo:WebPDequantizeLevels"),null}return T.nb+W*re}function q(T,L,W,J,re,ce){for(;0<re--;){var de,fe=T,he=L+(W?1:0),xe=T,_e=L+(W?0:3);for(de=0;de<J;++de){var Be=xe[_e+4*de];Be!=255&&(Be*=32897,fe[he+4*de+0]=fe[he+4*de+0]*Be>>23,fe[he+4*de+1]=fe[he+4*de+1]*Be>>23,fe[he+4*de+2]=fe[he+4*de+2]*Be>>23)}L+=ce}}function ne(T,L,W,J,re){for(;0<J--;){var ce;for(ce=0;ce<W;++ce){var de=T[L+2*ce+0],fe=15&(xe=T[L+2*ce+1]),he=4369*fe,xe=(240&xe|xe>>4)*he>>16;T[L+2*ce+0]=(240&de|de>>4)*he>>16&240|(15&de|de<<4)*he>>16>>4&15,T[L+2*ce+1]=240&xe|fe}L+=re}}function je(T,L,W,J,re,ce,de,fe){var he,xe,_e=255;for(xe=0;xe<re;++xe){for(he=0;he<J;++he){var Be=T[L+he];ce[de+4*he]=Be,_e&=Be}L+=W,de+=fe}return _e!=255}function De(T,L,W,J,re){var ce;for(ce=0;ce<re;++ce)W[J+ce]=T[L+ce]>>8}function $e(){ys=q,ln=ne,Zr=je,qn=De}function rt(T,L,W){C[T]=function(J,re,ce,de,fe,he,xe,_e,Be,qe,Fe,dt,Je,Oe,Re,at,nt){var it,Dt=nt-1>>1,St=fe[he+0]|xe[_e+0]<<16,Qt=Be[qe+0]|Fe[dt+0]<<16;t(J!=null);var At=3*St+Qt+131074>>2;for(L(J[re+0],255&At,At>>16,Je,Oe),ce!=null&&(At=3*Qt+St+131074>>2,L(ce[de+0],255&At,At>>16,Re,at)),it=1;it<=Dt;++it){var Rr=fe[he+it]|xe[_e+it]<<16,Lr=Be[qe+it]|Fe[dt+it]<<16,Pr=St+Rr+Qt+Lr+524296,br=Pr+2*(Rr+Qt)>>3;At=br+St>>1,St=(Pr=Pr+2*(St+Lr)>>3)+Rr>>1,L(J[re+2*it-1],255&At,At>>16,Je,Oe+(2*it-1)*W),L(J[re+2*it-0],255&St,St>>16,Je,Oe+(2*it-0)*W),ce!=null&&(At=Pr+Qt>>1,St=br+Lr>>1,L(ce[de+2*it-1],255&At,At>>16,Re,at+(2*it-1)*W),L(ce[de+2*it+0],255&St,St>>16,Re,at+(2*it+0)*W)),St=Rr,Qt=Lr}1&nt||(At=3*St+Qt+131074>>2,L(J[re+nt-1],255&At,At>>16,Je,Oe+(nt-1)*W),ce!=null&&(At=3*Qt+St+131074>>2,L(ce[de+nt-1],255&At,At>>16,Re,at+(nt-1)*W)))}}function mt(){js[Lh]=Qb,js[ql]=zl,js[Vx]=Jb,js[hf]=Xu,js[mf]=zc,js[cn]=yf,js[Fh]=kp,js[Gu]=zl,js[$c]=Xu,js[pf]=zc,js[vf]=yf}function It(T){return T&-16384?0>T?0:255:T>>Ul}function Kt(T,L){return It((19077*T>>8)+(26149*L>>8)-14234)}function gr(T,L,W){return It((19077*T>>8)-(6419*L>>8)-(13320*W>>8)+8708)}function pr(T,L){return It((19077*T>>8)+(33050*L>>8)-17685)}function Er(T,L,W,J,re){J[re+0]=Kt(T,W),J[re+1]=gr(T,L,W),J[re+2]=pr(T,L)}function In(T,L,W,J,re){J[re+0]=pr(T,L),J[re+1]=gr(T,L,W),J[re+2]=Kt(T,W)}function $n(T,L,W,J,re){var ce=gr(T,L,W);L=ce<<3&224|pr(T,L)>>3,J[re+0]=248&Kt(T,W)|ce>>5,J[re+1]=L}function ea(T,L,W,J,re){var ce=240&pr(T,L)|15;J[re+0]=240&Kt(T,W)|gr(T,L,W)>>4,J[re+1]=ce}function qa(T,L,W,J,re){J[re+0]=255,Er(T,L,W,J,re+1)}function ba(T,L,W,J,re){In(T,L,W,J,re),J[re+3]=255}function ki(T,L,W,J,re){Er(T,L,W,J,re),J[re+3]=255}function Bs(T,L){return 0>T?0:T>L?L:T}function si(T,L,W){C[T]=function(J,re,ce,de,fe,he,xe,_e,Be){for(var qe=_e+(-2&Be)*W;_e!=qe;)L(J[re+0],ce[de+0],fe[he+0],xe,_e),L(J[re+1],ce[de+0],fe[he+0],xe,_e+W),re+=2,++de,++he,_e+=2*W;1&Be&&L(J[re+0],ce[de+0],fe[he+0],xe,_e)}}function Fl(T,L,W){return W==0?T==0?L==0?6:5:L==0?4:0:W}function cf(T,L,W,J,re){switch(T>>>30){case 3:Bo(L,W,J,re,0);break;case 2:zr(L,W,J,re);break;case 1:Ua(L,W,J,re)}}function Ru(T,L){var W,J,re=L.M,ce=L.Nb,de=T.oc,fe=T.pc+40,he=T.oc,xe=T.pc+584,_e=T.oc,Be=T.pc+600;for(W=0;16>W;++W)de[fe+32*W-1]=129;for(W=0;8>W;++W)he[xe+32*W-1]=129,_e[Be+32*W-1]=129;for(0<re?de[fe-1-32]=he[xe-1-32]=_e[Be-1-32]=129:(s(de,fe-32-1,127,21),s(he,xe-32-1,127,9),s(_e,Be-32-1,127,9)),J=0;J<T.za;++J){var qe=L.ya[L.aa+J];if(0<J){for(W=-1;16>W;++W)a(de,fe+32*W-4,de,fe+32*W+12,4);for(W=-1;8>W;++W)a(he,xe+32*W-4,he,xe+32*W+4,4),a(_e,Be+32*W-4,_e,Be+32*W+4,4)}var Fe=T.Gd,dt=T.Hd+J,Je=qe.ad,Oe=qe.Hc;if(0<re&&(a(de,fe-32,Fe[dt].y,0,16),a(he,xe-32,Fe[dt].f,0,8),a(_e,Be-32,Fe[dt].ea,0,8)),qe.Za){var Re=de,at=fe-32+16;for(0<re&&(J>=T.za-1?s(Re,at,Fe[dt].y[15],4):a(Re,at,Fe[dt+1].y,0,4)),W=0;4>W;W++)Re[at+128+W]=Re[at+256+W]=Re[at+384+W]=Re[at+0+W];for(W=0;16>W;++W,Oe<<=2)Re=de,at=fe+Op[W],oi[qe.Ob[W]](Re,at),cf(Oe,Je,16*+W,Re,at)}else if(Re=Fl(J,re,qe.Ob[0]),ns[Re](de,fe),Oe!=0)for(W=0;16>W;++W,Oe<<=2)cf(Oe,Je,16*+W,de,fe+Op[W]);for(W=qe.Gc,Re=Fl(J,re,qe.Dd),bs[Re](he,xe),bs[Re](_e,Be),Oe=Je,Re=he,at=xe,255&(qe=W>>0)&&(170&qe?qo(Oe,256,Re,at):qs(Oe,256,Re,at)),qe=_e,Oe=Be,255&(W>>=8)&&(170&W?qo(Je,320,qe,Oe):qs(Je,320,qe,Oe)),re<T.Ub-1&&(a(Fe[dt].y,0,de,fe+480,16),a(Fe[dt].f,0,he,xe+224,8),a(Fe[dt].ea,0,_e,Be+224,8)),W=8*ce*T.B,Fe=T.sa,dt=T.ta+16*J+16*ce*T.R,Je=T.qa,qe=T.ra+8*J+W,Oe=T.Ha,Re=T.Ia+8*J+W,W=0;16>W;++W)a(Fe,dt+W*T.R,de,fe+32*W,16);for(W=0;8>W;++W)a(Je,qe+W*T.B,he,xe+32*W,8),a(Oe,Re+W*T.B,_e,Be+32*W,8)}}function Dc(T,L,W,J,re,ce,de,fe,he){var xe=[0],_e=[0],Be=0,qe=he!=null?he.kd:0,Fe=he??new Rl;if(T==null||12>W)return 7;Fe.data=T,Fe.w=L,Fe.ha=W,L=[L],W=[W],Fe.gb=[Fe.gb];e:{var dt=L,Je=W,Oe=Fe.gb;if(t(T!=null),t(Je!=null),t(Oe!=null),Oe[0]=0,12<=Je[0]&&!n(T,dt[0],"RIFF")){if(n(T,dt[0]+8,"WEBP")){Oe=3;break e}var Re=ze(T,dt[0]+4);if(12>Re||4294967286<Re){Oe=3;break e}if(qe&&Re>Je[0]-8){Oe=7;break e}Oe[0]=Re,dt[0]+=12,Je[0]-=12}Oe=0}if(Oe!=0)return Oe;for(Re=0<Fe.gb[0],W=W[0];;){e:{var at=T;Je=L,Oe=W;var nt=xe,it=_e,Dt=dt=[0];if((At=Be=[Be])[0]=0,8>Oe[0])Oe=7;else{if(!n(at,Je[0],"VP8X")){if(ze(at,Je[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var St=ze(at,Je[0]+8),Qt=1+Ce(at,Je[0]+12);if(2147483648<=Qt*(at=1+Ce(at,Je[0]+15))){Oe=3;break e}Dt!=null&&(Dt[0]=St),nt!=null&&(nt[0]=Qt),it!=null&&(it[0]=at),Je[0]+=18,Oe[0]-=18,At[0]=1}Oe=0}}if(Be=Be[0],dt=dt[0],Oe!=0)return Oe;if(Je=!!(2&dt),!Re&&Be)return 3;if(ce!=null&&(ce[0]=!!(16&dt)),de!=null&&(de[0]=Je),fe!=null&&(fe[0]=0),de=xe[0],dt=_e[0],Be&&Je&&he==null){Oe=0;break}if(4>W){Oe=7;break}if(Re&&Be||!Re&&!Be&&!n(T,L[0],"ALPH")){W=[W],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{St=T,Oe=L,Re=W;var At=Fe.gb;nt=Fe.na,it=Fe.P,Dt=Fe.Sa,Qt=22,t(St!=null),t(Re!=null),at=Oe[0];var Rr=Re[0];for(t(nt!=null),t(Dt!=null),nt[0]=null,it[0]=null,Dt[0]=0;;){if(Oe[0]=at,Re[0]=Rr,8>Rr){Oe=7;break e}var Lr=ze(St,at+4);if(4294967286<Lr){Oe=3;break e}var Pr=8+Lr+1&-2;if(Qt+=Pr,0<At&&Qt>At){Oe=3;break e}if(!n(St,at,"VP8 ")||!n(St,at,"VP8L")){Oe=0;break e}if(Rr[0]<Pr){Oe=7;break e}n(St,at,"ALPH")||(nt[0]=St,it[0]=at+8,Dt[0]=Lr),at+=Pr,Rr-=Pr}}if(W=W[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Oe!=0)break}W=[W],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(At=T,Oe=L,Re=W,nt=Fe.gb[0],it=Fe.Ja,Dt=Fe.xa,St=Oe[0],at=!n(At,St,"VP8 "),Qt=!n(At,St,"VP8L"),t(At!=null),t(Re!=null),t(it!=null),t(Dt!=null),8>Re[0])Oe=7;else{if(at||Qt){if(At=ze(At,St+4),12<=nt&&At>nt-12){Oe=3;break e}if(qe&&At>Re[0]-8){Oe=7;break e}it[0]=At,Oe[0]+=8,Re[0]-=8,Dt[0]=Qt}else Dt[0]=5<=Re[0]&&At[St+0]==47&&!(At[St+4]>>5),it[0]=Re[0];Oe=0}if(W=W[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],L=L[0],Oe!=0)break;if(4294967286<Fe.Ja)return 3;if(fe==null||Je||(fe[0]=Fe.xa?2:1),de=[de],dt=[dt],Fe.xa){if(5>W){Oe=7;break}fe=de,qe=dt,Je=ce,T==null||5>W?T=0:5<=W&&T[L+0]==47&&!(T[L+4]>>5)?(Re=[0],At=[0],nt=[0],H(it=new $,T,L,W),Xt(it,Re,At,nt)?(fe!=null&&(fe[0]=Re[0]),qe!=null&&(qe[0]=At[0]),Je!=null&&(Je[0]=nt[0]),T=1):T=0):T=0}else{if(10>W){Oe=7;break}fe=dt,T==null||10>W||!Ph(T,L+3,W-3)?T=0:(qe=T[L+0]|T[L+1]<<8|T[L+2]<<16,Je=16383&(T[L+7]<<8|T[L+6]),T=16383&(T[L+9]<<8|T[L+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Fe.Ja||!Je||!T?T=0:(de&&(de[0]=Je),fe&&(fe[0]=T),T=1))}if(!T||(de=de[0],dt=dt[0],Be&&(xe[0]!=de||_e[0]!=dt)))return 3;he!=null&&(he[0]=Fe,he.offset=L-he.w,t(4294967286>L-he.w),t(he.offset==he.ha-W));break}return Oe==0||Oe==7&&Be&&he==null?(ce!=null&&(ce[0]|=Fe.na!=null&&0<Fe.na.length),J!=null&&(J[0]=de),re!=null&&(re[0]=dt),0):Oe}function Lu(T,L,W){var J=L.width,re=L.height,ce=0,de=0,fe=J,he=re;if(L.Da=T!=null&&0<T.Da,L.Da&&(fe=T.cd,he=T.bd,ce=T.v,de=T.j,11>W||(ce&=-2,de&=-2),0>ce||0>de||0>=fe||0>=he||ce+fe>J||de+he>re))return 0;if(L.v=ce,L.j=de,L.va=ce+fe,L.o=de+he,L.U=fe,L.T=he,L.da=T!=null&&0<T.da,L.da){if(!st(fe,he,W=[T.ib],ce=[T.hb]))return 0;L.ib=W[0],L.hb=ce[0]}return L.ob=T!=null&&T.ob,L.Kb=T==null||!T.Sd,L.da&&(L.ob=L.ib<3*J/4&&L.hb<3*re/4,L.Kb=0),1}function Fu(T){if(T==null)return 2;if(11>T.S){var L=T.f.RGBA;L.fb+=(T.height-1)*L.A,L.A=-L.A}else L=T.f.kb,T=T.height,L.O+=(T-1)*L.fa,L.fa=-L.fa,L.N+=(T-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(T-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(T-1)*L.lb,L.lb=-L.lb);return 0}function _c(T,L,W,J){if(J==null||0>=T||0>=L)return 2;if(W!=null){if(W.Da){var re=W.cd,ce=W.bd,de=-2&W.v,fe=-2&W.j;if(0>de||0>fe||0>=re||0>=ce||de+re>T||fe+ce>L)return 2;T=re,L=ce}if(W.da){if(!st(T,L,re=[W.ib],ce=[W.hb]))return 2;T=re[0],L=ce[0]}}J.width=T,J.height=L;e:{var he=J.width,xe=J.height;if(T=J.S,0>=he||0>=xe||!(T>=Lh&&13>T))T=2;else{if(0>=J.Rd&&J.sd==null){de=ce=re=L=0;var _e=(fe=he*bf[T])*xe;if(11>T||(ce=(xe+1)/2*(L=(he+1)/2),T==12&&(de=(re=he)*xe)),(xe=i(_e+2*ce+de))==null){T=1;break e}J.sd=xe,11>T?((he=J.f.RGBA).eb=xe,he.fb=0,he.A=fe,he.size=_e):((he=J.f.kb).y=xe,he.O=0,he.fa=fe,he.Fd=_e,he.f=xe,he.N=0+_e,he.Ab=L,he.Cd=ce,he.ea=xe,he.W=0+_e+ce,he.Db=L,he.Ed=ce,T==12&&(he.F=xe,he.J=0+_e+2*ce),he.Tc=de,he.lb=re)}if(L=1,re=J.S,ce=J.width,de=J.height,re>=Lh&&13>re)if(11>re)T=J.f.RGBA,L&=(fe=Math.abs(T.A))*(de-1)+ce<=T.size,L&=fe>=ce*bf[re],L&=T.eb!=null;else{T=J.f.kb,fe=(ce+1)/2,_e=(de+1)/2,he=Math.abs(T.fa),xe=Math.abs(T.Ab);var Be=Math.abs(T.Db),qe=Math.abs(T.lb),Fe=qe*(de-1)+ce;L&=he*(de-1)+ce<=T.Fd,L&=xe*(_e-1)+fe<=T.Cd,L=(L&=Be*(_e-1)+fe<=T.Ed)&he>=ce&xe>=fe&Be>=fe,L&=T.y!=null,L&=T.f!=null,L&=T.ea!=null,re==12&&(L&=qe>=ce,L&=Fe<=T.Tc,L&=T.F!=null)}else L=0;T=L?0:2}}return T!=0||W!=null&&W.fd&&(T=Fu(J)),T}var Bn=64,Mu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$u=24,Bu=32,qu=8,Za=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(T){return T},C.Predictor2=function(T,L,W){return L[W+0]},C.Predictor3=function(T,L,W){return L[W+1]},C.Predictor4=function(T,L,W){return L[W-1]},C.Predictor5=function(T,L,W){return gt(gt(T,L[W+1]),L[W+0])},C.Predictor6=function(T,L,W){return gt(T,L[W-1])},C.Predictor7=function(T,L,W){return gt(T,L[W+0])},C.Predictor8=function(T,L,W){return gt(L[W-1],L[W+0])},C.Predictor9=function(T,L,W){return gt(L[W+0],L[W+1])},C.Predictor10=function(T,L,W){return gt(gt(T,L[W-1]),gt(L[W+0],L[W+1]))},C.Predictor11=function(T,L,W){var J=L[W+0];return 0>=ht(J>>24&255,T>>24&255,(L=L[W-1])>>24&255)+ht(J>>16&255,T>>16&255,L>>16&255)+ht(J>>8&255,T>>8&255,L>>8&255)+ht(255&J,255&T,255&L)?J:T},C.Predictor12=function(T,L,W){var J=L[W+0];return(kt((T>>24&255)+(J>>24&255)-((L=L[W-1])>>24&255))<<24|kt((T>>16&255)+(J>>16&255)-(L>>16&255))<<16|kt((T>>8&255)+(J>>8&255)-(L>>8&255))<<8|kt((255&T)+(255&J)-(255&L)))>>>0},C.Predictor13=function(T,L,W){var J=L[W-1];return(et((T=gt(T,L[W+0]))>>24&255,J>>24&255)<<24|et(T>>16&255,J>>16&255)<<16|et(T>>8&255,J>>8&255)<<8|et(T>>0&255,J>>0&255))>>>0};var kc=C.PredictorAdd0;C.PredictorAdd1=Ct,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var Fo=C.PredictorAdd2;er("ColorIndexInverseTransform","MapARGB","32b",function(T){return T>>8&255},function(T){return T}),er("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(T){return T},function(T){return T>>8&255});var Rh,es=C.ColorIndexInverseTransform,zu=C.MapARGB,uf=C.VP8LColorIndexInverseTransformAlpha,Uu=C.MapAlpha,ao=C.VP8LPredictorsAdd=[];ao.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Ml,ts,za,$l,Mo,$o,Vu,Bo,zr,qo,Ua,qs,Oc,df,Rc,Lc,Fc,zs,zo,so,Uo,Vo,Bl,Aa,ys,ln,Zr,qn,ta=i(511),io=i(2041),Wu=i(225),Mc=i(767),ff=0,oo=io,Hu=Wu,rs=Mc,ii=ta,Lh=0,ql=1,Vx=2,hf=3,mf=4,cn=5,Fh=6,Gu=7,$c=8,pf=9,vf=10,xf=[2,3,7],Mh=[3,3,11],Bc=[280,256,256,256,40],Wx=[0,1,1,1,0],Gb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Kb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Hx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$h=8,Ku=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qc=null,Ip=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Kx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Yb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_p=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ns=[],oi=[],bs=[],lo=1,Yu=2,Va=[],js=[];rt("UpsampleRgbLinePair",Er,3),rt("UpsampleBgrLinePair",In,3),rt("UpsampleRgbaLinePair",ki,4),rt("UpsampleBgraLinePair",ba,4),rt("UpsampleArgbLinePair",qa,4),rt("UpsampleRgba4444LinePair",ea,2),rt("UpsampleRgb565LinePair",$n,2);var Qb=C.UpsampleRgbLinePair,Jb=C.UpsampleBgrLinePair,zl=C.UpsampleRgbaLinePair,Xu=C.UpsampleBgraLinePair,zc=C.UpsampleArgbLinePair,yf=C.UpsampleRgba4444LinePair,kp=C.UpsampleRgb565LinePair,Wo=16,Oi=1<<Wo-1,en=-227,nn=482,Ul=6,Ea=0,ws=i(256),Uc=i(256),Qu=i(256),Ns=i(256),Bh=i(nn-en),Yx=i(nn-en);si("YuvToRgbRow",Er,3),si("YuvToBgrRow",In,3),si("YuvToRgbaRow",ki,4),si("YuvToBgraRow",ba,4),si("YuvToArgbRow",qa,4),si("YuvToRgba4444Row",ea,2),si("YuvToRgb565Row",$n,2);var Op=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vc=[0,2,8],Xx=[8,7,6,4,4,2,2,2,1,1,1,1],Ho=1;this.WebPDecodeRGBA=function(T,L,W,J,re){var ce=ql,de=new no,fe=new $a;de.ba=fe,fe.S=ce,fe.width=[fe.width],fe.height=[fe.height];var he=fe.width,xe=fe.height,_e=new hs;if(_e==null||T==null)var Be=2;else t(_e!=null),Be=Dc(T,L,W,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Be!=0?he=0:(he!=null&&(he[0]=_e.width[0]),xe!=null&&(xe[0]=_e.height[0]),he=1),he){fe.width=fe.width[0],fe.height=fe.height[0],J!=null&&(J[0]=fe.width),re!=null&&(re[0]=fe.height);e:{if(J=new wu,(re=new Rl).data=T,re.w=L,re.ha=W,re.kd=1,L=[0],t(re!=null),((T=Dc(re.data,re.w,re.ha,null,null,null,L,null,re))==0||T==7)&&L[0]&&(T=4),(L=T)==0){if(t(de!=null),J.data=re.data,J.w=re.w+re.offset,J.ha=re.ha-re.offset,J.put=ti,J.ac=ya,J.bc=Ci,J.ma=de,re.xa){if((T=Fs())==null){de=1;break e}if(function(qe,Fe){var dt=[0],Je=[0],Oe=[0];t:for(;;){if(qe==null)return 0;if(Fe==null)return qe.a=2,0;if(qe.l=Fe,qe.a=0,H(qe.m,Fe.data,Fe.w,Fe.ha),!Xt(qe.m,dt,Je,Oe)){qe.a=3;break t}if(qe.xb=Yu,Fe.width=dt[0],Fe.height=Je[0],!Ji(dt[0],Je[0],1,qe,null))break t;return 1}return t(qe.a!=0),0}(T,J)){if(J=(L=_c(J.width,J.height,de.Oa,de.ba))==0){t:{J=T;r:for(;;){if(J==null){J=0;break t}if(t(J.s.yc!=null),t(J.s.Ya!=null),t(0<J.s.Wb),t((W=J.l)!=null),t((re=W.ma)!=null),J.xb!=0){if(J.ca=re.ba,J.tb=re.tb,t(J.ca!=null),!Lu(re.Oa,W,hf)){J.a=2;break r}if(!Al(J,W.width)||W.da)break r;if((W.da||Nr(J.ca.S))&&$e(),11>J.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),J.ca.f.kb.F!=null&&$e()),J.Pb&&0<J.s.ua&&J.s.vb.X==null&&!He(J.s.vb,J.s.Wa.Xa)){J.a=1;break r}J.xb=0}if(!Ca(J,J.V,J.Ba,J.c,J.i,W.o,Cl))break r;re.Dc=J.Ma,J=1;break t}t(J.a!=0),J=0}J=!J}J&&(L=T.a)}else L=T.a}else{if((T=new Ms)==null){de=1;break e}if(T.Fa=re.na,T.P=re.P,T.qc=re.Sa,Th(T,J)){if((L=_c(J.width,J.height,de.Oa,de.ba))==0){if(T.Aa=0,W=de.Oa,t((re=T)!=null),W!=null){if(0<(he=0>(he=W.Md)?0:100<he?255:255*he/100)){for(xe=_e=0;4>xe;++xe)12>(Be=re.pb[xe]).lc&&(Be.ia=he*Xx[0>Be.lc?0:Be.lc]>>3),_e|=Be.ia;_e&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=W.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}wc(T,J)||(L=T.a)}}else L=T.a}L==0&&de.Oa!=null&&de.Oa.fd&&(L=Fu(de.ba))}de=L}ce=de!=0?null:11>ce?fe.f.RGBA.eb:fe.f.kb.y}else ce=null;return ce};var bf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,_){for(var M="",k=0;k<4;k++)M+=String.fromCharCode(C[_++]);return M}function h(C,_){return(C[_+0]<<0|C[_+1]<<8|C[_+2]<<16)>>>0}function f(C,_){return(C[_+0]<<0|C[_+1]<<8|C[_+2]<<16|C[_+3]<<24)>>>0}new c;var p=[0],v=[0],g=[],y=new c,x=e,j=function(C,_){var M={},k=0,D=!1,R=0,F=0;if(M.frames=[],!function(K,te,se,oe){for(var me=0;me<oe;me++)if(K[te+me]!=se.charCodeAt(me))return!0;return!1}(C,_,"RIFF",4)){var z,V;for(f(C,_+=4),_+=8;_<C.length;){var B=u(C,_),H=f(C,_+=4);_+=4;var G=H+(1&H);switch(B){case"VP8 ":case"VP8L":M.frames[k]===void 0&&(M.frames[k]={}),($=M.frames[k]).src_off=D?F:_-8,$.src_size=R+H+8,k++,D&&(D=!1,R=0,F=0);break;case"VP8X":($=M.header={}).feature_flags=C[_];var Z=_+4;$.canvas_width=1+h(C,Z),Z+=3,$.canvas_height=1+h(C,Z),Z+=3;break;case"ALPH":D=!0,R=G+8,F=_-8;break;case"ANIM":($=M.header).bgcolor=f(C,_),Z=_+4,$.loop_count=(z=C)[(V=Z)+0]<<0|z[V+1]<<8,Z+=2;break;case"ANMF":var Q,$;($=M.frames[k]={}).offset_x=2*h(C,_),_+=3,$.offset_y=2*h(C,_),_+=3,$.width=1+h(C,_),_+=3,$.height=1+h(C,_),_+=3,$.duration=h(C,_),_+=3,Q=C[_++],$.dispose=1&Q,$.blend=Q>>1&1}B!="ANMF"&&(_+=G)}return M}}(x,0);j.response=x,j.rgbaoutput=!0,j.dataurl=!1;var b=j.header?j.header:null,N=j.frames?j.frames:null;if(b){b.loop_counter=b.loop_count,p=[b.canvas_height],v=[b.canvas_width];for(var P=0;P<N.length&&N[P].blend!=0;P++);}var I=N[0],w=y.WebPDecodeRGBA(x,I.src_off,I.src_size,v,p);I.rgba=w,I.imgwidth=v[0],I.imgheight=p[0];for(var E=0;E<v[0]*p[0]*4;E++)g[E]=w[E];return this.width=v,this.height=p,this.data=g,this}(function(e){var t=function(){return typeof _S=="function"},n=function(p,v,g,y){var x=4,j=o;switch(y){case e.image_compression.FAST:x=1,j=i;break;case e.image_compression.MEDIUM:x=6,j=l;break;case e.image_compression.SLOW:x=9,j=c}p=a(p,v,g,j);var b=_S(p,{level:x});return e.__addimage__.arrayBufferToBinaryString(b)},a=function(p,v,g,y){for(var x,j,b,N=p.length/v,P=new Uint8Array(p.length+N),I=h(),w=0;w<N;w+=1){if(b=w*v,x=p.subarray(b,b+v),y)P.set(y(x,g,j),b+w);else{for(var E,C=I.length,_=[];E<C;E+=1)_[E]=I[E](x,g,j);var M=f(_.concat());P.set(_[M],b+w)}j=x}return P},s=function(p){var v=Array.apply([],p);return v.unshift(0),v},i=function(p,v){var g,y=[],x=p.length;y[0]=1;for(var j=0;j<x;j+=1)g=p[j-v]||0,y[j+1]=p[j]-g+256&255;return y},o=function(p,v,g){var y,x=[],j=p.length;x[0]=2;for(var b=0;b<j;b+=1)y=g&&g[b]||0,x[b+1]=p[b]-y+256&255;return x},l=function(p,v,g){var y,x,j=[],b=p.length;j[0]=3;for(var N=0;N<b;N+=1)y=p[N-v]||0,x=g&&g[N]||0,j[N+1]=p[N]+256-(y+x>>>1)&255;return j},c=function(p,v,g){var y,x,j,b,N=[],P=p.length;N[0]=4;for(var I=0;I<P;I+=1)y=p[I-v]||0,x=g&&g[I]||0,j=g&&g[I-v]||0,b=u(y,x,j),N[I+1]=p[I]-b+256&255;return N},u=function(p,v,g){if(p===v&&v===g)return p;var y=Math.abs(v-g),x=Math.abs(p-g),j=Math.abs(p+v-g-g);return y<=x&&y<=j?p:x<=j?v:g},h=function(){return[s,i,o,l,c]},f=function(p){var v=p.map(function(g){return g.reduce(function(y,x){return y+Math.abs(x)},0)});return v.indexOf(Math.min.apply(null,v))};e.processPNG=function(p,v,g,y){var x,j,b,N,P,I,w,E,C,_,M,k,D,R,F,z=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(b=new aie(p)).imgData,j=b.bits,x=b.colorSpace,P=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){C=(E=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,M=new Uint8Array(C*b.colors),_=new Uint8Array(C);var B,H=b.pixelBitlength-b.bits;for(R=0,F=0;R<C;R++){for(D=E[R],B=0;B<H;)M[F++]=D>>>B&255,B+=b.bits;_[R]=D>>>B&255}}if(b.bits===16){C=(E=new Uint32Array(b.decodePixels().buffer)).length,M=new Uint8Array(C*(32/b.pixelBitlength)*b.colors),_=new Uint8Array(C*(32/b.pixelBitlength)),k=b.colors>1,R=0,F=0;for(var G=0;R<C;)D=E[R++],M[F++]=D>>>0&255,k&&(M[F++]=D>>>16&255,D=E[R++],M[F++]=D>>>0&255),_[G++]=D>>>16&255;j=8}y!==e.image_compression.NONE&&t()?(p=n(M,b.width*b.colors,b.colors,y),w=n(_,b.width,1,y)):(p=M,w=_,z=void 0)}if(b.colorType===3&&(x=this.color_spaces.INDEXED,I=b.palette,b.transparency.indexed)){var Z=b.transparency.indexed,Q=0;for(R=0,C=Z.length;R<C;++R)Q+=Z[R];if((Q/=255)===C-1&&Z.indexOf(0)!==-1)N=[Z.indexOf(0)];else if(Q!==C){for(E=b.decodePixels(),_=new Uint8Array(E.length),R=0,C=E.length;R<C;R++)_[R]=Z[E[R]];w=n(_,b.width,1)}}var $=function(K){var te;switch(K){case e.image_compression.FAST:te=11;break;case e.image_compression.MEDIUM:te=13;break;case e.image_compression.SLOW:te=14;break;default:te=12}return te}(y);return z===this.decode.FLATE_DECODE&&(V="/Predictor "+$+" "),V+="/Colors "+P+" /BitsPerComponent "+j+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:g,data:p,index:v,filter:z,decodeParameters:V,transparency:N,palette:I,sMask:w,predictor:$,width:b.width,height:b.height,bitsPerComponent:j,colorSpace:x}}}})(Zt.API),function(e){e.processGIF89A=function(t,n,a,s){var i=new sie(t),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},h=new Lj(100).encode(u,100);return e.processJPEG.call(this,h,n,a,s)},e.processGIF87A=e.processGIF89A}(Zt.API),al.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:a,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},al.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){pn.log("bit decode error:"+n)}},al.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},al.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},al.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*a;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},al.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,h=a*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},al.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var s=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,h=s*this.width*4+4*i;this.data[h]=u,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},al.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},al.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=a,this.data[l+3]=o}},al.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,a,s){var i=new al(t,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Lj(100).encode(c,100);return e.processJPEG.call(this,u,n,a,s)}}(Zt.API),sI.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,a,s){var i=new sI(t),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Lj(100).encode(c,100);return e.processJPEG.call(this,u,n,a,s)}}(Zt.API),Zt.API.processRGBA=function(e,t,n){for(var a=e.data,s=a.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var h=a[u],f=a[u+1],p=a[u+2],v=a[u+3];i[l++]=h,i[l++]=f,i[l++]=p,o[c++]=v}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},om=Zt.API,Gg=om.getCharWidthsArray=function(e,t){var n,a,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,v=e.length,g=0,y=l[0]||c,x=[];for(n=0;n<v;n++)a=e.charCodeAt(n),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(p=f&&Qr(u[a])==="object"&&!isNaN(parseInt(u[a][g],10))?u[a][g]/h:0,x.push((l[a]||y)/c+p)),g=a;return x},tI=om.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return om.processArabic&&(e=om.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,n,s)/n:Gg.apply(this,arguments).reduce(function(i,o){return i+o},0)},rI=function(e,t,n,a){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<n;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==o;)l+t[i]>a&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},nI=function(e,t,n){n||(n={});var a,s,i,o,l,c,u,h=[],f=[h],p=n.textIndent||0,v=0,g=0,y=e.split(" "),x=Gg.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var j=Array(c).join(" "),b=[];y.map(function(P){(P=P.split(/\s*\n/)).length>1?b=b.concat(P.map(function(I,w){return(w&&I.length?`
`:"")+I})):b.push(P[0])}),y=b,c=tI.apply(this,[j,n])}for(i=0,o=y.length;i<o;i++){var N=0;if(a=y[i],c&&a[0]==`
`&&(a=a.substr(1),N=1),p+v+(g=(s=Gg.apply(this,[a,n])).reduce(function(P,I){return P+I},0))>t||N){if(g>t){for(l=rI.apply(this,[a,s,t-(p+v),t]),h.push(l.shift()),h=[l.pop()];l.length;)f.push([l.shift()]);g=s.slice(a.length-(h[0]?h[0].length:0)).reduce(function(P,I){return P+I},0)}else h=[a];f.push(h),p=g+c,v=x}else h.push(a),p+=v+g,v=x}return u=c?function(P,I){return(I?j:"")+P.join(" ")}:function(P){return P.join(" ")},f.map(u)},om.splitTextToSize=function(e,t,n){var a,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=a.length;l<c;l++)u=u.concat(nI.apply(this,[a[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},a={},s=0;s<t.length;s++)n[t[s]]="0123456789abcdef"[s],a["0123456789abcdef"[s]]=t[s];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var p,v,g,y,x=["{"];for(var j in f){if(p=f[j],isNaN(parseInt(j,10))?v="'"+j+"'":(j=parseInt(j,10),v=(v=i(j).slice(2)).slice(0,-1)+a[v.slice(-1)]),typeof p=="number")p<0?(g=i(p).slice(3),y="-"):(g=i(p).slice(2),y=""),g=y+g.slice(0,-1)+a[g.slice(-1)];else{if(Qr(p)!=="object")throw new Error("Don't know what to do with value type "+Qr(p)+".");g=o(p)}x.push(v+g)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,g,y,x={},j=1,b=x,N=[],P="",I="",w=f.length-1,E=1;E<w;E+=1)(y=f[E])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(N.push([b,g]),b={},g=void 0):y=="}"?((v=N.pop())[0][v[1]]=b,g=void 0,b=v[0]):y=="-"?j=-1:g===void 0?n.hasOwnProperty(y)?(P+=n[y],g=parseInt(P,16)*j,j=1,P=""):P+=y:n.hasOwnProperty(y)?(I+=n[y],b[g]=parseInt(I,16)*j,j=1,g=void 0,I=""):I+=y;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,v=h.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var g=u.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])}(Zt.API),function(e){var t=function(n){for(var a=n.length,s=new Uint8Array(a),i=0;i<a;i++)s[i]=n.charCodeAt(i);return s};e.API.events.push(["addFont",function(n){var a=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(a=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(jv(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,a)}}])}(Zt),function(e){function t(){return(or.canvg?Promise.resolve(or.canvg):ES(()=>import("./index.es-rbCw50pU.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Zt.API.addSvgAsImage=function(n,a,s,i,o,l,c,u){if(isNaN(a)||isNaN(s))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=o;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return t().then(function(g){return g.fromString(f,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(p)}).then(function(){v.addImage(h.toDataURL("image/jpeg",1),a,s,i,o,c,u)})}}(),Zt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var s=0;s<this.internal.pages[a].length;s++)this.internal.pages[a][s]=this.internal.pages[a][s].replace(t,n);return this},Zt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var a,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,h=0,f=0;function p(g,y){var x,j=!1;for(x=0;x<g.length;x+=1)g[x]===y&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var v=l.length;for(f=0;f<v;f+=1)n[l[f]].value=n[l[f]].defaultValue,n[l[f]].explicitSet=!1}if(Qr(e)==="object"){for(s in e)if(i=e[s],p(l,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&p(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(u=0;u<i.length;u+=1)if(a=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(a=!1);a===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?y.push("/"+g+" /"+n[g].value):y.push("/"+g+" "+n[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Zt.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,p=i.length;f<p;++f){if(l=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},a=function(i){var o,l,c,u,h,f,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,p=(l=Object.keys(i).sort(function(v,g){return v-g})).length;f<p;f++)o=l[f],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",g=0;g<p.length;g++)v+=String.fromCharCode(p[g]);var y=u();h({data:v,addLength1:!0,objectId:y}),c("endobj");var x=u();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var j=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+fm(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+fm(l.fontName)),c("/FontDescriptor "+j+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+fm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,p="",v=0;v<f.length;v++)p+=String.fromCharCode(f[v]);var g=u();h({data:p,addLength1:!0,objectId:g}),c("endobj");var y=u();h({data:a(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+fm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var j=0;j<l.metadata.hmtx.widths.length;j++)l.metadata.hmtx.widths[j]=parseInt(l.metadata.hmtx.widths[j]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+fm(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,u=i.y,h=i.options||{},f=i.mutex||{},p=f.pdfEscape,v=f.activeFontKey,g=f.fonts,y=v,x="",j=0,b="",N=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:l,x:c,y:u,options:h,mutex:f};for(b=l,y=v,Array.isArray(l)&&(b=l[0]),j=0;j<b.length;j+=1)g[y].metadata.hasOwnProperty("cmap")&&(o=g[y].metadata.cmap.unicode.codeMap[b[j].charCodeAt(0)]),o||b[j].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?x+=b[j]:x+="";var P="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?P=p(x,y).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(P=n(x,g[y])),f.isHex=!0,{text:P,x:c,y:u,options:h,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])}(Zt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,a){return t.call(this),this.internal.vFS[n]=a,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Zt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var s,i,o,l,c,u,h,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,N=0;this.__bidiEngine__={};var P=function(k){var D=k.charCodeAt(),R=D>>8,F=y[R];return F!==void 0?f[256*F+(255&D)]:R===252||R===253?"AL":j.test(R)?"L":R===8?"R":"N"},I=function(k){for(var D,R=0;R<k.length;R++){if((D=P(k.charAt(R)))==="L")return!1;if(D==="R")return!0}return!1},w=function(k,D,R,F){var z,V,B,H,G=D[F];switch(G){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(G="AN");break;case"AL":b=!0,G="R";break;case"WS":G="N";break;case"CS":F<1||F+1>=D.length||(z=R[F-1])!=="EN"&&z!=="AN"||(V=D[F+1])!=="EN"&&V!=="AN"?G="N":b&&(V="AN"),G=V===z?V:"N";break;case"ES":G=(z=F>0?R[F-1]:"B")==="EN"&&F+1<D.length&&D[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&R[F-1]==="EN"){G="EN";break}if(b){G="N";break}for(B=F+1,H=D.length;B<H&&D[B]==="ET";)B++;G=B<H&&D[B]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(H=D.length,B=F+1;B<H&&D[B]==="NSM";)B++;if(B<H){var Z=k[F],Q=Z>=1425&&Z<=2303||Z===64286;if(z=D[B],Q&&(z==="R"||z==="AL")){G="R";break}}}G=F<1||(z=D[F-1])==="B"?"N":R[F-1];break;case"B":b=!1,s=!0,G=N;break;case"S":i=!0,G="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":G="N"}return G},E=function(k,D,R){var F=k.split("");return R&&C(F,R,{hiLevel:N}),F.reverse(),D&&D.reverse(),F.join("")},C=function(k,D,R){var F,z,V,B,H,G=-1,Z=k.length,Q=0,$=[],K=N?v:p,te=[];for(b=!1,s=!1,i=!1,z=0;z<Z;z++)te[z]=P(k[z]);for(V=0;V<Z;V++){if(H=Q,$[V]=w(k,te,$,V),F=240&(Q=K[H][g[$[V]]]),Q&=15,D[V]=B=K[Q][5],F>0)if(F===16){for(z=G;z<V;z++)D[z]=1;G=-1}else G=-1;if(K[Q][6])G===-1&&(G=V);else if(G>-1){for(z=G;z<V;z++)D[z]=B;G=-1}te[V]==="B"&&(D[V]=0),R.hiLevel|=B}i&&function(se,oe,me){for(var ve=0;ve<me;ve++)if(se[ve]==="S"){oe[ve]=N;for(var pe=ve-1;pe>=0&&se[pe]==="WS";pe--)oe[pe]=N}}(te,D,Z)},_=function(k,D,R,F,z){if(!(z.hiLevel<k)){if(k===1&&N===1&&!s)return D.reverse(),void(R&&R.reverse());for(var V,B,H,G,Z=D.length,Q=0;Q<Z;){if(F[Q]>=k){for(H=Q+1;H<Z&&F[H]>=k;)H++;for(G=Q,B=H-1;G<B;G++,B--)V=D[G],D[G]=D[B],D[B]=V,R&&(V=R[G],R[G]=R[B],R[B]=V);Q=H}Q++}}},M=function(k,D,R){var F=k.split(""),z={hiLevel:N};return R||(R=[]),C(F,R,z),function(V,B,H){if(H.hiLevel!==0&&h)for(var G,Z=0;Z<V.length;Z++)B[Z]===1&&(G=x.indexOf(V[Z]))>=0&&(V[Z]=x[G+1])}(F,R,z),_(2,F,D,R,z),_(1,F,D,R,z),F.join("")};return this.__bidiEngine__.doBidiReorder=function(k,D,R){if(function(z,V){if(V)for(var B=0;B<z.length;B++)V[B]=B;l===void 0&&(l=I(z)),u===void 0&&(u=I(z))}(k,D),o||!c||u)if(o&&c&&l^u)N=l?1:0,k=E(k,D,R);else if(!o&&c&&u)N=l?1:0,k=M(k,D,R),k=E(k,D);else if(!o||l||c||u){if(o&&!c&&l^u)k=E(k,D),l?(N=0,k=M(k,D,R)):(N=1,k=M(k,D,R),k=E(k,D));else if(o&&l&&!c&&u)N=1,k=M(k,D,R),k=E(k,D);else if(!o&&!c&&l^u){var F=h;l?(N=1,k=M(k,D,R),N=0,h=!1,k=M(k,D,R),h=F):(N=0,k=M(k,D,R),k=E(k,D),N=1,h=!1,k=M(k,D,R),h=F,k=E(k,D))}}else N=0,k=M(k,D,R);else N=l?1:0,k=M(k,D,R);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,l=k.isInputRtl,u=k.isOutputRtl,h=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var s=a.text,i=(a.x,a.y,a.options||{}),o=(a.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([n.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([n.doBidiReorder(s[l])]);a.text=o}else a.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(Zt),Zt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new qd(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new bie(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new iie(this.contents),this.head=new lie(this),this.name=new hie(this),this.cmap=new z8(this),this.toUnicode={},this.hhea=new cie(this),this.maxp=new mie(this),this.hmtx=new pie(this),this.post=new die(this),this.os2=new uie(this),this.loca=new yie(this),this.glyf=new vie(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,a,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(a=255&(s=this.post.italic_angle),(32768&(n=s>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,a){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+a*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var a;return n==null&&(n=!1),a=n?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e}();var wl,qd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,a;for(a=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)a[n]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var n,a,s;for(s=[],n=0,a=t.length;0<=a?n<a:n>a;n=0<=a?++n:--n)s.push(this.writeByte(t.charCodeAt(n)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,a,s,i,o,l,c;return t=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^a)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*a+4294967296*s+16777216*i+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,a;return n=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,a;for(n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push(this.readByte());return n},e.prototype.write=function(t){var n,a,s,i;for(i=[],a=0,s=t.length;a<s;a++)n=t[a],i.push(this.writeByte(n));return i},e}(),iie=function(){var e;function t(n){var a,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)a={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(n){var a,s,i,o,l,c,u,h,f,p,v,g,y;for(y in v=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(v)/c),o=Math.floor(f/c),h=16*v-f,(s=new qd).writeInt(this.scalarType),s.writeShort(v),s.writeShort(f),s.writeShort(o),s.writeShort(h),i=16*v,u=s.pos+i,l=null,g=[],n)for(p=n[y],s.writeString(y),s.writeInt(e(p)),s.writeInt(u),s.writeInt(p.length),g=g.concat(p),y==="head"&&(l=u),u+=p.length;u%4;)g.push(0),u++;return s.write(g),a=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(a),s.data},e=function(n){var a,s,i,o;for(n=U8.call(n);n.length%4;)n.push(0);for(i=new qd(n),s=0,a=0,o=n.length;a<o;a=a+=4)s+=i.readUInt32();return 4294967295&s},t}(),oie={}.hasOwnProperty,pc=function(e,t){for(var n in t)oie.call(t,n)&&(e[n]=t[n]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};wl=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var lie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var a;return(a=new qd).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(n),a.writeShort(this.glyphDataFormat),a.data},t}(),iI=function(){function e(t,n){var a,s,i,o,l,c,u,h,f,p,v,g,y,x,j,b,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(v=t.readUInt16(),p=v/2,t.pos+=6,i=function(){var P,I;for(I=[],c=P=0;0<=p?P<p:P>p;c=0<=p?++P:--P)I.push(t.readUInt16());return I}(),t.pos+=2,y=function(){var P,I;for(I=[],c=P=0;0<=p?P<p:P>p;c=0<=p?++P:--P)I.push(t.readUInt16());return I}(),u=function(){var P,I;for(I=[],c=P=0;0<=p?P<p:P>p;c=0<=p?++P:--P)I.push(t.readUInt16());return I}(),h=function(){var P,I;for(I=[],c=P=0;0<=p?P<p:P>p;c=0<=p?++P:--P)I.push(t.readUInt16());return I}(),s=(this.length-t.pos+this.offset)/2,l=function(){var P,I;for(I=[],c=P=0;0<=s?P<s:P>s;c=0<=s?++P:--P)I.push(t.readUInt16());return I}(),c=j=0,N=i.length;j<N;c=++j)for(x=i[c],a=b=g=y[c];g<=x?b<=x:b>=x;a=g<=x?++b:--b)h[c]===0?o=a+u[c]:(o=l[h[c]/2+(a-g)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[a]=65535&o}t.pos=f}return e.encode=function(t,n){var a,s,i,o,l,c,u,h,f,p,v,g,y,x,j,b,N,P,I,w,E,C,_,M,k,D,R,F,z,V,B,H,G,Z,Q,$,K,te,se,oe,me,ve,pe,we,Se,Ce;switch(F=new qd,o=Object.keys(t).sort(function(ze,He){return ze-He}),n){case"macroman":for(y=0,x=function(){var ze=[];for(g=0;g<256;++g)ze.push(0);return ze}(),b={0:0},i={},z=0,G=o.length;z<G;z++)b[pe=t[s=o[z]]]==null&&(b[pe]=++y),i[s]={old:t[s],new:b[t[s]]},x[s]=b[t[s]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(x),{charMap:i,subtable:F.data,maxGlyphID:y+1};case"unicode":for(D=[],f=[],N=0,b={},a={},j=u=null,V=0,Z=o.length;V<Z;V++)b[I=t[s=o[V]]]==null&&(b[I]=++N),a[s]={old:I,new:b[I]},l=b[I]-s,j!=null&&l===u||(j&&f.push(j),D.push(s),u=l),j=s;for(j&&f.push(j),f.push(65535),D.push(65535),M=2*(_=D.length),C=2*Math.pow(Math.log(_)/Math.LN2,2),p=Math.log(C/2)/Math.LN2,E=2*_-C,c=[],w=[],v=[],g=B=0,Q=D.length;B<Q;g=++B){if(k=D[g],h=f[g],k===65535){c.push(0),w.push(0);break}if(k-(R=a[k].new)>=32768)for(c.push(0),w.push(2*(v.length+_-g)),s=H=k;k<=h?H<=h:H>=h;s=k<=h?++H:--H)v.push(a[s].new);else c.push(R-k),w.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*_+2*v.length),F.writeUInt16(0),F.writeUInt16(M),F.writeUInt16(C),F.writeUInt16(p),F.writeUInt16(E),me=0,$=f.length;me<$;me++)s=f[me],F.writeUInt16(s);for(F.writeUInt16(0),ve=0,K=D.length;ve<K;ve++)s=D[ve],F.writeUInt16(s);for(we=0,te=c.length;we<te;we++)l=c[we],F.writeUInt16(l);for(Se=0,se=w.length;Se<se;Se++)P=w[Se],F.writeUInt16(P);for(Ce=0,oe=v.length;Ce<oe;Ce++)y=v[Ce],F.writeUInt16(y);return{charMap:a,subtable:F.data,maxGlyphID:N+1}}},e}(),z8=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="cmap",t.prototype.parse=function(n){var a,s,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)a=new iI(n,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(n,a){var s,i;return a==null&&(a="macroman"),s=iI.encode(n,a),(i=new qd).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),cie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),uie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var a,s;for(s=[],a=0;a<10;++a)s.push(n.readByte());return s}(),this.charRange=function(){var a,s;for(s=[],a=0;a<4;++a)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var a,s;for(s=[],a=0;a<2;a=++a)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),die=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="post",t.prototype.parse=function(n){var a,s,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(s=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)a=n.readByte(),i.push(this.names.push(n.readString(a)));return i;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(n.readUInt32());return u}).call(this)}},t}(),fie=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},hie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="name",t.prototype.parse=function(n){var a,s,i,o,l,c,u,h,f,p,v;for(n.pos=this.offset,n.readShort(),a=n.readShort(),c=n.readShort(),s=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(u={},o=f=0,p=s.length;f<p;o=++f)i=s[o],n.pos=i.offset,h=n.readString(i.length),l=new fie(h,i),u[v=i.nameID]==null&&(u[v]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),mie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),pie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="hmtx",t.prototype.parse=function(n){var a,s,i,o,l,c,u;for(n.pos=this.offset,this.metrics=[],a=0,c=this.file.hhea.numberOfMetrics;0<=c?a<c:a>c;a=0<=c?++a:--a)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],a=h=0;0<=i?h<i:h>i;a=0<=i?++h:--h)f.push(n.readInt16());return f}(),this.widths=(function(){var h,f,p,v;for(v=[],h=0,f=(p=this.metrics).length;h<f;h++)o=p[h],v.push(o.advance);return v}).call(this),s=this.widths[this.widths.length-1],u=[],a=l=0;0<=i?l<i:l>i;a=0<=i?++l:--l)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),U8=[].slice,vie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var a,s,i,o,l,c,u,h,f,p;return n in this.cache?this.cache[n]:(o=this.file.loca,a=this.file.contents,s=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(a.pos=this.offset+s,l=(c=new qd(a.read(i))).readShort(),h=c.readShort(),p=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[n]=l===-1?new gie(c,h,p,u,f):new xie(c,l,h,p,u,f),this.cache[n]))},t.prototype.encode=function(n,a,s){var i,o,l,c,u;for(l=[],o=[],c=0,u=a.length;c<u;c++)i=n[a[c]],o.push(l.length),i&&(l=l.concat(i.encode(s)));return o.push(l.length),{table:l,offsets:o}},t}(),xie=function(){function e(t,n,a,s,i,o){this.raw=t,this.numberOfContours=n,this.xMin=a,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),gie=function(){function e(t,n,a,s,i){var o,l;for(this.raw=t,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,a;for(n=new qd(U8.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),yie=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return pc(t,wl),t.prototype.tag="loca",t.prototype.parse=function(n){var a,s;return n.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,a){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<s.length;++l)if(s[l]=i,o<a.length&&a[o]==l){++o,s[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var h=new Array(4*s.length),f=0;f<s.length;++f)h[4*f+3]=255&s[f],h[4*f+2]=(65280&s[f])>>8,h[4*f+1]=(16711680&s[f])>>16,h[4*f]=(4278190080&s[f])>>24;return h},t}(),bie=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,a,s,i;for(n in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[n],t[n]=s[a];return t},e.prototype.glyphsFor=function(t){var n,a,s,i,o,l,c;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(a=s[i])!=null&&a.compound&&n.push.apply(n,a.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))a=c[i],s[i]=a;return s},e.prototype.encode=function(t,n){var a,s,i,o,l,c,u,h,f,p,v,g,y,x,j;for(s in a=z8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),v={0:0},j=a.charMap)v[(c=j[s]).old]=c.new;for(g in p=a.maxGlyphID,o)g in v||(v[g]=p++);return h=function(b){var N,P;for(N in P={},b)P[b[N]]=N;return P}(v),f=Object.keys(h).sort(function(b,N){return b-N}),y=function(){var b,N,P;for(P=[],b=0,N=f.length;b<N;b++)l=f[b],P.push(h[l]);return P}(),i=this.font.glyf.encode(o,y,v),u=this.font.loca.encode(i.offsets,y),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Zt.API.PDFObject=function(){var e;function t(){}return e=function(n,a){return(Array(a+1).join("0")+n).slice(-a)},t.convert=function(n){var a,s,i,o;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)a=n[l],u.push(t.convert(a));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+n},t}();const jie=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Jse,AcroFormAppearance:$t,AcroFormButton:ka,AcroFormCheckBox:Sv,AcroFormChoiceField:Qf,AcroFormComboBox:Zf,AcroFormEditBox:wv,AcroFormListBox:Jf,AcroFormPasswordField:Cv,AcroFormPushButton:Nv,AcroFormRadioButton:eh,AcroFormTextField:Dd,GState:Uv,ShadingPattern:bd,TilingPattern:zf,default:Zt,jsPDF:Zt},Symbol.toStringTag,{value:"Module"}));var x0={exports:{}};const wie=qq(jie);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var oI=x0.exports,lI;function Nie(){return lI||(lI=1,function(e,t){(function(a,s){e.exports=s(function(){try{return wie}catch{}}())})(typeof globalThis<"u"?globalThis:typeof oI<"u"?oI:typeof window<"u"?window:typeof self<"u"?self:hv,function(n){return function(){var a={172:function(l,c){var u=this&&this.__extends||function(){var p=function(v,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var j in x)Object.prototype.hasOwnProperty.call(x,j)&&(y[j]=x[j])},p(v,g)};return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");p(v,g);function y(){this.constructor=v}v.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var h=function(){function p(v,g,y){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=y,this.doc=v.getDocument()}return p}();c.HookData=h;var f=function(p){u(v,p);function v(g,y,x,j,b,N){var P=p.call(this,g,y,N)||this;return P.cell=x,P.row=j,P.column=b,P.section=j.section,P}return v}(h);c.CellHookData=f},340:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0});var h=u(4),f=u(136),p=u(744),v=u(776),g=u(664),y=u(972);function x(j){j.API.autoTable=function(){for(var b=[],N=0;N<arguments.length;N++)b[N]=arguments[N];var P;b.length===1?P=b[0]:(console.error("Use of deprecated autoTable initiation"),P=b[2]||{},P.columns=b[0],P.body=b[1]);var I=(0,v.parseInput)(this,P),w=(0,y.createTable)(this,I);return(0,g.drawTable)(this,w),this},j.API.lastAutoTable=!1,j.API.previousAutoTable=!1,j.API.autoTable.previous=!1,j.API.autoTableText=function(b,N,P,I){(0,f.default)(b,N,P,I,this)},j.API.autoTableSetDefaults=function(b){return p.DocHandler.setDefaults(b,this),this},j.autoTableSetDefaults=function(b,N){p.DocHandler.setDefaults(b,N)},j.API.autoTableHtmlToJson=function(b,N){var P;if(N===void 0&&(N=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var I=new p.DocHandler(this),w=(0,h.parseHtml)(I,b,window,N,!1),E=w.head,C=w.body,_=((P=E[0])===null||P===void 0?void 0:P.map(function(M){return M.content}))||[];return{columns:_,rows:C,data:C}},j.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},j.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),j.API.autoTable.globalDefaults||(j.API.autoTable.globalDefaults={}),j.API.autoTable.globalDefaults.addPageContent=b,this},j.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=x},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(h,f,p,v,g){v=v||{};var y=1.15,x=g.internal.scaleFactor,j=g.internal.getFontSize()/x,b=g.getLineHeightFactor?g.getLineHeightFactor():y,N=j*b,P=/\r\n|\r|\n/g,I="",w=1;if((v.valign==="middle"||v.valign==="bottom"||v.halign==="center"||v.halign==="right")&&(I=typeof h=="string"?h.split(P):h,w=I.length||1),p+=j*(2-y),v.valign==="middle"?p-=w/2*N:v.valign==="bottom"&&(p-=w*N),v.halign==="center"||v.halign==="right"){var E=j;if(v.halign==="center"&&(E*=.5),I&&w>=1){for(var C=0;C<I.length;C++)g.text(I[C],f-g.getStringUnitWidth(I[C])*E,p),p+=N;return g}f-=g.getStringUnitWidth(h)*E}return v.halign==="justify"?g.text(h,f,p,{maxWidth:v.maxWidth||100,align:"justify"}):g.text(h,f,p),g}c.default=u},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(g,y,x){x.applyStyles(y,!0);var j=Array.isArray(g)?g:[g],b=j.map(function(N){return x.getTextWidth(N)}).reduce(function(N,P){return Math.max(N,P)},0);return b}c.getStringWidth=u;function h(g,y,x,j){var b=y.settings.tableLineWidth,N=y.settings.tableLineColor;g.applyStyles({lineWidth:b,lineColor:N});var P=f(b,!1);P&&g.rect(x.x,x.y,y.getWidth(g.pageSize().width),j.y-x.y,P)}c.addTableBorder=h;function f(g,y){var x=g>0,j=y||y===0;return x&&j?"DF":x?"S":j?"F":null}c.getFillStyle=f;function p(g,y){var x,j,b,N;if(g=g||y,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=y}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(x=g.left)!==null&&x!==void 0?x:y,top:(j=g.top)!==null&&j!==void 0?j:y,right:(b=g.right)!==null&&b!==void 0?b:y,bottom:(N=g.bottom)!==null&&N!==void 0?N:y}):(typeof g!="number"&&(g=y),{top:g,right:g,bottom:g,left:g})}c.parseSpacing=p;function v(g,y){var x=p(y.settings.margin,0);return g.pageSize().width-(x.left+x.right)}c.getPageAvailableWidth=v},796:function(l,c){var u=this&&this.__extends||function(){var v=function(g,y){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,j){x.__proto__=j}||function(x,j){for(var b in j)Object.prototype.hasOwnProperty.call(j,b)&&(x[b]=j[b])},v(g,y)};return function(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");v(g,y);function x(){this.constructor=g}g.prototype=y===null?Object.create(y):(x.prototype=y.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var h=function(v){u(g,v);function g(y){var x=v.call(this)||this;return x._element=y,x}return g}(Array);c.HtmlRowInput=h;function f(v){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/v,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=f;function p(v){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[v]}c.getTheme=p},903:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var h=u(420);function f(x,j,b,N,P){var I={},w=1.3333333333333333,E=v(j,function(G){return P.getComputedStyle(G).backgroundColor});E!=null&&(I.fillColor=E);var C=v(j,function(G){return P.getComputedStyle(G).color});C!=null&&(I.textColor=C);var _=y(N,b);_&&(I.cellPadding=_);var M="borderTopColor",k=w*b,D=N.borderTopWidth;if(N.borderBottomWidth===D&&N.borderRightWidth===D&&N.borderLeftWidth===D){var R=(parseFloat(D)||0)/k;R&&(I.lineWidth=R)}else I.lineWidth={top:(parseFloat(N.borderTopWidth)||0)/k,right:(parseFloat(N.borderRightWidth)||0)/k,bottom:(parseFloat(N.borderBottomWidth)||0)/k,left:(parseFloat(N.borderLeftWidth)||0)/k},I.lineWidth.top||(I.lineWidth.right?M="borderRightColor":I.lineWidth.bottom?M="borderBottomColor":I.lineWidth.left&&(M="borderLeftColor"));var F=v(j,function(G){return P.getComputedStyle(G)[M]});F!=null&&(I.lineColor=F);var z=["left","right","center","justify"];z.indexOf(N.textAlign)!==-1&&(I.halign=N.textAlign),z=["middle","bottom","top"],z.indexOf(N.verticalAlign)!==-1&&(I.valign=N.verticalAlign);var V=parseInt(N.fontSize||"");isNaN(V)||(I.fontSize=V/w);var B=p(N);B&&(I.fontStyle=B);var H=(N.fontFamily||"").toLowerCase();return x.indexOf(H)!==-1&&(I.font=H),I}c.parseCss=f;function p(x){var j="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(j="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(j+="italic"),j}function v(x,j){var b=g(x,j);if(!b)return null;var N=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!N||!Array.isArray(N))return null;var P=[parseInt(N[1]),parseInt(N[2]),parseInt(N[3])],I=parseInt(N[4]);return I===0||isNaN(P[0])||isNaN(P[1])||isNaN(P[2])?null:P}function g(x,j){var b=j(x);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?x.parentElement==null?null:g(x.parentElement,j):b}function y(x,j){var b=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],N=96/(72/j),P=(parseInt(x.lineHeight)-parseInt(x.fontSize))/j/2,I=b.map(function(E){return parseInt(E||"0")/N}),w=(0,h.parseSpacing)(I,0);return P>w.top&&(w.top=P),P>w.bottom&&(w.bottom=P),w}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},h=function(){function f(p){this.jsPDFDocument=p,this.userStyles={textColor:p.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:p.internal.getFontSize(),fontStyle:p.internal.getFont().fontStyle,font:p.internal.getFont().fontName,lineWidth:p.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:p.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(p,v){v===void 0&&(v=null),v?v.__autoTableDocumentDefaults=p:u=p},f.unifyColor=function(p){return Array.isArray(p)?p:typeof p=="number"?[p,p,p]:typeof p=="string"?[p]:null},f.prototype.applyStyles=function(p,v){var g,y,x;v===void 0&&(v=!1),p.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(p.fontStyle);var j=this.jsPDFDocument.internal.getFont(),b=j.fontStyle,N=j.fontName;if(p.font&&(N=p.font),p.fontStyle){b=p.fontStyle;var P=this.getFontList()[N];P&&P.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(P[0]),b=P[0])}if(this.jsPDFDocument.setFont(N,b),p.fontSize&&this.jsPDFDocument.setFontSize(p.fontSize),!v){var I=f.unifyColor(p.fillColor);I&&(g=this.jsPDFDocument).setFillColor.apply(g,I),I=f.unifyColor(p.textColor),I&&(y=this.jsPDFDocument).setTextColor.apply(y,I),I=f.unifyColor(p.lineColor),I&&(x=this.jsPDFDocument).setDrawColor.apply(x,I),typeof p.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(p.lineWidth)}},f.prototype.splitTextToSize=function(p,v,g){return this.jsPDFDocument.splitTextToSize(p,v,g)},f.prototype.rect=function(p,v,g,y,x){return this.jsPDFDocument.rect(p,v,g,y,x)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(p){return this.jsPDFDocument.getTextWidth(p)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(p){this.jsPDFDocument.setPage(p)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var p=this.jsPDFDocument.internal.pageSize;return p.width==null&&(p={width:p.getWidth(),height:p.getHeight()}),p},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var p=this.jsPDFDocument;return p.getLineHeightFactor?p.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(p){return p/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var p=this.jsPDFDocument.internal.getCurrentPageInfo();return p?p.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();c.DocHandler=h},4:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var h=u(903),f=u(796);function p(y,x,j,b,N){var P,I;b===void 0&&(b=!1),N===void 0&&(N=!1);var w;typeof x=="string"?w=j.document.querySelector(x):w=x;var E=Object.keys(y.getFontList()),C=y.scaleFactor(),_=[],M=[],k=[];if(!w)return console.error("Html table could not be found with input: ",x),{head:_,body:M,foot:k};for(var D=0;D<w.rows.length;D++){var R=w.rows[D],F=(I=(P=R?.parentElement)===null||P===void 0?void 0:P.tagName)===null||I===void 0?void 0:I.toLowerCase(),z=v(E,C,j,R,b,N);z&&(F==="thead"?_.push(z):F==="tfoot"?k.push(z):M.push(z))}return{head:_,body:M,foot:k}}c.parseHtml=p;function v(y,x,j,b,N,P){for(var I=new f.HtmlRowInput(b),w=0;w<b.cells.length;w++){var E=b.cells[w],C=j.getComputedStyle(E);if(N||C.display!=="none"){var _=void 0;P&&(_=(0,h.parseCss)(y,E,x,C,j)),I.push({rowSpan:E.rowSpan,colSpan:E.colSpan,styles:_,_element:E,content:g(E)})}}var M=j.getComputedStyle(b);if(I.length>0&&(N||M.display!=="none"))return I}function g(y){var x=y.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(j){return j.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var h=u(4),f=u(356),p=u(420),v=u(744),g=u(792);function y(w,E){var C=new v.DocHandler(w),_=C.getDocumentOptions(),M=C.getGlobalOptions();(0,g.default)(C,M,_,E);var k=(0,f.assign)({},M,_,E),D;typeof window<"u"&&(D=window);var R=x(M,_,E),F=j(M,_,E),z=b(C,k),V=P(C,k,D);return{id:E.tableId,content:V,hooks:F,styles:R,settings:z}}c.parseInput=y;function x(w,E,C){for(var _={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},M=function(F){if(F==="columnStyles"){var z=w[F],V=E[F],B=C[F];_.columnStyles=(0,f.assign)({},z,V,B)}else{var H=[w,E,C],G=H.map(function(Z){return Z[F]||{}});_[F]=(0,f.assign)({},G[0],G[1],G[2])}},k=0,D=Object.keys(_);k<D.length;k++){var R=D[k];M(R)}return _}function j(w,E,C){for(var _=[w,E,C],M={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},k=0,D=_;k<D.length;k++){var R=D[k];R.didParseCell&&M.didParseCell.push(R.didParseCell),R.willDrawCell&&M.willDrawCell.push(R.willDrawCell),R.didDrawCell&&M.didDrawCell.push(R.didDrawCell),R.willDrawPage&&M.willDrawPage.push(R.willDrawPage),R.didDrawPage&&M.didDrawPage.push(R.didDrawPage)}return M}function b(w,E){var C,_,M,k,D,R,F,z,V,B,H,G,Z=(0,p.parseSpacing)(E.margin,40/w.scaleFactor()),Q=(C=N(w,E.startY))!==null&&C!==void 0?C:Z.top,$;E.showFoot===!0?$="everyPage":E.showFoot===!1?$="never":$=(_=E.showFoot)!==null&&_!==void 0?_:"everyPage";var K;E.showHead===!0?K="everyPage":E.showHead===!1?K="never":K=(M=E.showHead)!==null&&M!==void 0?M:"everyPage";var te=(k=E.useCss)!==null&&k!==void 0?k:!1,se=E.theme||(te?"plain":"striped"),oe=!!E.horizontalPageBreak,me=(D=E.horizontalPageBreakRepeat)!==null&&D!==void 0?D:null;return{includeHiddenHtml:(R=E.includeHiddenHtml)!==null&&R!==void 0?R:!1,useCss:te,theme:se,startY:Q,margin:Z,pageBreak:(F=E.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(z=E.rowPageBreak)!==null&&z!==void 0?z:"auto",tableWidth:(V=E.tableWidth)!==null&&V!==void 0?V:"auto",showHead:K,showFoot:$,tableLineWidth:(B=E.tableLineWidth)!==null&&B!==void 0?B:0,tableLineColor:(H=E.tableLineColor)!==null&&H!==void 0?H:200,horizontalPageBreak:oe,horizontalPageBreakRepeat:me,horizontalPageBreakBehaviour:(G=E.horizontalPageBreakBehaviour)!==null&&G!==void 0?G:"afterAllRows"}}function N(w,E){var C=w.getLastAutoTable(),_=w.scaleFactor(),M=w.pageNumber(),k=!1;if(C&&C.startPageNumber){var D=C.startPageNumber+C.pageNumber-1;k=D===M}return typeof E=="number"?E:(E==null||E===!1)&&k&&C?.finalY!=null?C.finalY+20/_:null}function P(w,E,C){var _=E.head||[],M=E.body||[],k=E.foot||[];if(E.html){var D=E.includeHiddenHtml;if(C){var R=(0,h.parseHtml)(w,E.html,C,D,E.useCss)||{};_=R.head||_,M=R.body||_,k=R.foot||_}else console.error("Cannot parse html in non browser environment")}var F=E.columns||I(_,M,k);return{columns:F,head:_,body:M,foot:k}}function I(w,E,C){var _=w[0]||E[0]||C[0]||[],M=[];return Object.keys(_).filter(function(k){return k!=="_element"}).forEach(function(k){var D=1,R;Array.isArray(_)?R=_[parseInt(k)]:R=_[k],typeof R=="object"&&!Array.isArray(R)&&(D=R?.colSpan||1);for(var F=0;F<D;F++){var z=void 0;Array.isArray(_)?z=M.length:z=k+(F>0?"_".concat(F):"");var V={dataKey:z};M.push(V)}}),M}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,p,v,g){for(var y=function(N){N&&typeof N!="object"&&console.error("The options parameter should be of type object, is: "+typeof N),typeof N.extendWidth<"u"&&(N.tableWidth=N.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof N.margins<"u"&&(typeof N.margin>"u"&&(N.margin=N.margins),console.error("Use of deprecated option: margins, use margin instead.")),N.startY&&typeof N.startY!="number"&&(console.error("Invalid value for startY option",N.startY),delete N.startY),!N.didDrawPage&&(N.afterPageContent||N.beforePageContent||N.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),N.didDrawPage=function(k){f.applyStyles(f.userStyles),N.beforePageContent&&N.beforePageContent(k),f.applyStyles(f.userStyles),N.afterPageContent&&N.afterPageContent(k),f.applyStyles(f.userStyles),N.afterPageAdd&&k.pageNumber>1&&k.afterPageAdd(k),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(k){N[k]&&console.error('The "'.concat(k,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(k){var D=k[0],R=k[1];N[R]&&(console.error("Use of deprecated option ".concat(R,". Use ").concat(D," instead")),N[D]=N[R])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(k){var D=typeof k=="string"?k:k[0],R=typeof k=="string"?k:k[1];typeof N[D]<"u"&&(typeof N.styles[R]>"u"&&(N.styles[R]=N[D]),console.error("Use of deprecated option: "+D+", use the style "+R+" instead."))});for(var P=0,I=["styles","bodyStyles","headStyles","footStyles"];P<I.length;P++){var w=I[P];h(N[w]||{})}for(var E=N.columnStyles||{},C=0,_=Object.keys(E);C<_.length;C++){var M=_[C];h(E[M]||{})}},x=0,j=[p,v,g];x<j.length;x++){var b=j[x];y(b)}}c.default=u;function h(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var h=u(796),f=u(172),p=u(420),v=function(){function j(b,N){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=N.columns,this.head=N.head,this.body=N.body,this.foot=N.foot}return j.prototype.getHeadHeight=function(b){return this.head.reduce(function(N,P){return N+P.getMaxCellHeight(b)},0)},j.prototype.getFootHeight=function(b){return this.foot.reduce(function(N,P){return N+P.getMaxCellHeight(b)},0)},j.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},j.prototype.callCellHooks=function(b,N,P,I,w,E){for(var C=0,_=N;C<_.length;C++){var M=_[C],k=new f.CellHookData(b,this,P,I,w,E),D=M(k)===!1;if(P.text=Array.isArray(P.text)?P.text:[P.text],D)return!1}return!0},j.prototype.callEndPageHooks=function(b,N){b.applyStyles(b.userStyles);for(var P=0,I=this.hooks.didDrawPage;P<I.length;P++){var w=I[P];w(new f.HookData(b,this,N))}},j.prototype.callWillDrawPageHooks=function(b,N){for(var P=0,I=this.hooks.willDrawPage;P<I.length;P++){var w=I[P];w(new f.HookData(b,this,N))}},j.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var N=this.columns.reduce(function(I,w){return I+w.wrappedWidth},0);return N}else{var P=this.settings.margin;return b-P.left-P.right}},j}();c.Table=v;var g=function(){function j(b,N,P,I,w){w===void 0&&(w=!1),this.height=0,this.raw=b,b instanceof h.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=N,this.section=P,this.cells=I,this.spansMultiplePages=w}return j.prototype.getMaxCellHeight=function(b){var N=this;return b.reduce(function(P,I){var w;return Math.max(P,((w=N.cells[I.index])===null||w===void 0?void 0:w.height)||0)},0)},j.prototype.hasRowSpan=function(b){var N=this;return b.filter(function(P){var I=N.cells[P.index];return I?I.rowSpan>1:!1}).length>0},j.prototype.canEntireRowFit=function(b,N){return this.getMaxCellHeight(N)<=b},j.prototype.getMinimumRowHeight=function(b,N){var P=this;return b.reduce(function(I,w){var E=P.cells[w.index];if(!E)return 0;var C=N.getLineHeight(E.styles.fontSize),_=E.padding("vertical"),M=_+C;return M>I?M:I},0)},j}();c.Row=g;var y=function(){function j(b,N,P){var I,w;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=N,this.section=P,this.raw=b;var E=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,E=(w=(I=b.content)!==null&&I!==void 0?I:b.title)!==null&&w!==void 0?w:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var C=E!=null?""+E:"",_=/\r\n|\r|\n/g;this.text=C.split(_)}return j.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var N=this.height-this.padding("vertical");b=this.y+N/2+this.padding("top")}var P;if(this.styles.halign==="right")P=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var I=this.width-this.padding("horizontal");P=this.x+I/2+this.padding("left")}else P=this.x+this.padding("left");return{x:P,y:b}},j.prototype.getContentHeight=function(b,N){N===void 0&&(N=1.15);var P=Array.isArray(this.text)?this.text.length:1,I=this.styles.fontSize/b*N,w=P*I+this.padding("vertical");return Math.max(w,this.styles.minCellHeight)},j.prototype.padding=function(b){var N=(0,p.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?N.top+N.bottom:b==="horizontal"?N.left+N.right:N[b]},j}();c.Cell=y;var x=function(){function j(b,N,P){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=N,this.index=P}return j.prototype.getMaxCustomCellWidth=function(b){for(var N=0,P=0,I=b.allRows();P<I.length;P++){var w=I[P],E=w.cells[this.index];E&&typeof E.styles.cellWidth=="number"&&(N=Math.max(N,E.styles.cellWidth))}return N},j}();c.Column=x},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(h,f,p,v,g){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(h),x=1;x<arguments.length;x++){var j=arguments[x];if(j!=null)for(var b in j)Object.prototype.hasOwnProperty.call(j,b)&&(y[b]=j[b])}return y}c.assign=u},972:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var h=u(744),f=u(260),p=u(324),v=u(796),g=u(356);function y(w,E){var C=new h.DocHandler(w),_=x(E,C.scaleFactor()),M=new f.Table(E,_);return(0,p.calculateWidths)(C,M),C.applyStyles(C.userStyles),M}c.createTable=y;function x(w,E){var C=w.content,_=P(C.columns);if(C.head.length===0){var M=b(_,"head");M&&C.head.push(M)}if(C.foot.length===0){var M=b(_,"foot");M&&C.foot.push(M)}var k=w.settings.theme,D=w.styles;return{columns:_,head:j("head",C.head,_,D,k,E),body:j("body",C.body,_,D,k,E),foot:j("foot",C.foot,_,D,k,E)}}function j(w,E,C,_,M,k){var D={},R=E.map(function(F,z){for(var V=0,B={},H=0,G=0,Z=0,Q=C;Z<Q.length;Z++){var $=Q[Z];if(D[$.index]==null||D[$.index].left===0)if(G===0){var K=void 0;Array.isArray(F)?K=F[$.index-H-V]:K=F[$.dataKey];var te={};typeof K=="object"&&!Array.isArray(K)&&(te=K?.styles||{});var se=I(w,$,z,M,_,k,te),oe=new f.Cell(K,se,w);B[$.dataKey]=oe,B[$.index]=oe,G=oe.colSpan-1,D[$.index]={left:oe.rowSpan-1,times:G}}else G--,H++;else D[$.index].left--,G=D[$.index].times,V++}return new f.Row(F,z,w,B)});return R}function b(w,E){var C={};return w.forEach(function(_){if(_.raw!=null){var M=N(E,_.raw);M!=null&&(C[_.dataKey]=M)}}),Object.keys(C).length>0?C:null}function N(w,E){if(w==="head"){if(typeof E=="object")return E.header||E.title||null;if(typeof E=="string"||typeof E=="number")return E}else if(w==="foot"&&typeof E=="object")return E.footer;return null}function P(w){return w.map(function(E,C){var _,M,k;return typeof E=="object"?k=(M=(_=E.dataKey)!==null&&_!==void 0?_:E.key)!==null&&M!==void 0?M:C:k=C,new f.Column(k,E,C)})}function I(w,E,C,_,M,k,D){var R=(0,v.getTheme)(_),F;w==="head"?F=M.headStyles:w==="body"?F=M.bodyStyles:w==="foot"&&(F=M.footStyles);var z=(0,g.assign)({},R.table,R[w],M.styles,F),V=M.columnStyles[E.dataKey]||M.columnStyles[E.index]||{},B=w==="body"?V:{},H=w==="body"&&C%2===0?(0,g.assign)({},R.alternateRow,M.alternateRowStyles):{},G=(0,v.defaultStyles)(k),Z=(0,g.assign)({},G,z,H,B);return(0,g.assign)(Z,D)}},664:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var h=u(420),f=u(260),p=u(744),v=u(356),g=u(136),y=u(224);function x(V,B){var H=B.settings,G=H.startY,Z=H.margin,Q={x:Z.left,y:G},$=B.getHeadHeight(B.columns)+B.getFootHeight(B.columns),K=G+Z.bottom+$;if(H.pageBreak==="avoid"){var te=B.body,se=te.reduce(function(ve,pe){return ve+pe.height},0);K+=se}var oe=new p.DocHandler(V);(H.pageBreak==="always"||H.startY!=null&&K>oe.pageSize().height)&&(z(oe),Q.y=Z.top),B.callWillDrawPageHooks(oe,Q);var me=(0,v.assign)({},Q);B.startPageNumber=oe.pageNumber(),H.horizontalPageBreak?j(oe,B,me,Q):(oe.applyStyles(oe.userStyles),(H.showHead==="firstPage"||H.showHead==="everyPage")&&B.head.forEach(function(ve){return M(oe,B,ve,Q,B.columns)}),oe.applyStyles(oe.userStyles),B.body.forEach(function(ve,pe){var we=pe===B.body.length-1;_(oe,B,ve,we,me,Q,B.columns)}),oe.applyStyles(oe.userStyles),(H.showFoot==="lastPage"||H.showFoot==="everyPage")&&B.foot.forEach(function(ve){return M(oe,B,ve,Q,B.columns)})),(0,h.addTableBorder)(oe,B,me,Q),B.callEndPageHooks(oe,Q),B.finalY=Q.y,V.lastAutoTable=B,V.previousAutoTable=B,V.autoTable&&(V.autoTable.previous=B),oe.applyStyles(oe.userStyles)}c.drawTable=x;function j(V,B,H,G){var Z=(0,y.calculateAllColumnsCanFitInPage)(V,B),Q=B.settings;if(Q.horizontalPageBreakBehaviour==="afterAllRows")Z.forEach(function(se,oe){V.applyStyles(V.userStyles),oe>0?F(V,B,H,G,se.columns,!0):b(V,B,G,se.columns),N(V,B,H,G,se.columns),I(V,B,G,se.columns)});else for(var $=-1,K=Z[0],te=function(){var se=$;if(K){V.applyStyles(V.userStyles);var oe=K.columns;$>=0?F(V,B,H,G,oe,!0):b(V,B,G,oe),se=P(V,B,$+1,G,oe),I(V,B,G,oe)}var me=se-$;Z.slice(1).forEach(function(ve){V.applyStyles(V.userStyles),F(V,B,H,G,ve.columns,!0),P(V,B,$+1,G,ve.columns,me),I(V,B,G,ve.columns)}),$=se};$<B.body.length-1;)te()}function b(V,B,H,G){var Z=B.settings;V.applyStyles(V.userStyles),(Z.showHead==="firstPage"||Z.showHead==="everyPage")&&B.head.forEach(function(Q){return M(V,B,Q,H,G)})}function N(V,B,H,G,Z){V.applyStyles(V.userStyles),B.body.forEach(function(Q,$){var K=$===B.body.length-1;_(V,B,Q,K,H,G,Z)})}function P(V,B,H,G,Z,Q){V.applyStyles(V.userStyles),Q=Q??B.body.length;var $=Math.min(H+Q,B.body.length),K=-1;return B.body.slice(H,$).forEach(function(te,se){var oe=H+se===B.body.length-1,me=R(V,B,oe,G);te.canEntireRowFit(me,Z)&&(M(V,B,te,G,Z),K=H+se)}),K}function I(V,B,H,G){var Z=B.settings;V.applyStyles(V.userStyles),(Z.showFoot==="lastPage"||Z.showFoot==="everyPage")&&B.foot.forEach(function(Q){return M(V,B,Q,H,G)})}function w(V,B,H){var G=H.getLineHeight(V.styles.fontSize),Z=V.padding("vertical"),Q=Math.floor((B-Z)/G);return Math.max(0,Q)}function E(V,B,H,G){var Z={};V.spansMultiplePages=!0,V.height=0;for(var Q=0,$=0,K=H.columns;$<K.length;$++){var te=K[$],se=V.cells[te.index];if(se){Array.isArray(se.text)||(se.text=[se.text]);var oe=new f.Cell(se.raw,se.styles,se.section);oe=(0,v.assign)(oe,se),oe.text=[];var me=w(se,B,G);se.text.length>me&&(oe.text=se.text.splice(me,se.text.length));var ve=G.scaleFactor(),pe=G.getLineHeightFactor();se.contentHeight=se.getContentHeight(ve,pe),se.contentHeight>=B&&(se.contentHeight=B,oe.styles.minCellHeight-=B),se.contentHeight>V.height&&(V.height=se.contentHeight),oe.contentHeight=oe.getContentHeight(ve,pe),oe.contentHeight>Q&&(Q=oe.contentHeight),Z[te.index]=oe}}var we=new f.Row(V.raw,-1,V.section,Z,!0);we.height=Q;for(var Se=0,Ce=H.columns;Se<Ce.length;Se++){var te=Ce[Se],oe=we.cells[te.index];oe&&(oe.height=we.height);var se=V.cells[te.index];se&&(se.height=V.height)}return we}function C(V,B,H,G){var Z=V.pageSize().height,Q=G.settings.margin,$=Q.top+Q.bottom,K=Z-$;B.section==="body"&&(K-=G.getHeadHeight(G.columns)+G.getFootHeight(G.columns));var te=B.getMinimumRowHeight(G.columns,V),se=te<H;if(te>K)return console.error("Will not be able to print row ".concat(B.index," correctly since it's minimum height is larger than page height")),!0;if(!se)return!1;var oe=B.hasRowSpan(G.columns),me=B.getMaxCellHeight(G.columns)>K;return me?(oe&&console.error("The content of row ".concat(B.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(oe||G.settings.rowPageBreak==="avoid")}function _(V,B,H,G,Z,Q,$){var K=R(V,B,G,Q);if(H.canEntireRowFit(K,$))M(V,B,H,Q,$);else if(C(V,H,K,B)){var te=E(H,K,B,V);M(V,B,H,Q,$),F(V,B,Z,Q,$),_(V,B,te,G,Z,Q,$)}else F(V,B,Z,Q,$),_(V,B,H,G,Z,Q,$)}function M(V,B,H,G,Z){G.x=B.settings.margin.left;for(var Q=0,$=Z;Q<$.length;Q++){var K=$[Q],te=H.cells[K.index];if(!te){G.x+=K.width;continue}V.applyStyles(te.styles),te.x=G.x,te.y=G.y;var se=B.callCellHooks(V,B.hooks.willDrawCell,te,H,K,G);if(se===!1){G.x+=K.width;continue}k(V,te,G);var oe=te.getTextPos();(0,g.default)(te.text,oe.x,oe.y,{halign:te.styles.halign,valign:te.styles.valign,maxWidth:Math.ceil(te.width-te.padding("left")-te.padding("right"))},V.getDocument()),B.callCellHooks(V,B.hooks.didDrawCell,te,H,K,G),G.x+=K.width}G.y+=H.height}function k(V,B,H){var G=B.styles;if(V.getDocument().setFillColor(V.getDocument().getFillColor()),typeof G.lineWidth=="number"){var Z=(0,h.getFillStyle)(G.lineWidth,G.fillColor);Z&&V.rect(B.x,H.y,B.width,B.height,Z)}else typeof G.lineWidth=="object"&&(G.fillColor&&V.rect(B.x,H.y,B.width,B.height,"F"),D(V,B,H,G.lineWidth))}function D(V,B,H,G){var Z,Q,$,K;G.top&&(Z=H.x,Q=H.y,$=H.x+B.width,K=H.y,G.right&&($+=.5*G.right),G.left&&(Z-=.5*G.left),te(G.top,Z,Q,$,K)),G.bottom&&(Z=H.x,Q=H.y+B.height,$=H.x+B.width,K=H.y+B.height,G.right&&($+=.5*G.right),G.left&&(Z-=.5*G.left),te(G.bottom,Z,Q,$,K)),G.left&&(Z=H.x,Q=H.y,$=H.x,K=H.y+B.height,G.top&&(Q-=.5*G.top),G.bottom&&(K+=.5*G.bottom),te(G.left,Z,Q,$,K)),G.right&&(Z=H.x+B.width,Q=H.y,$=H.x+B.width,K=H.y+B.height,G.top&&(Q-=.5*G.top),G.bottom&&(K+=.5*G.bottom),te(G.right,Z,Q,$,K));function te(se,oe,me,ve,pe){V.getDocument().setLineWidth(se),V.getDocument().line(oe,me,ve,pe,"S")}}function R(V,B,H,G){var Z=B.settings.margin.bottom,Q=B.settings.showFoot;return(Q==="everyPage"||Q==="lastPage"&&H)&&(Z+=B.getFootHeight(B.columns)),V.pageSize().height-G.y-Z}function F(V,B,H,G,Z,Q){Z===void 0&&(Z=[]),Q===void 0&&(Q=!1),V.applyStyles(V.userStyles),B.settings.showFoot==="everyPage"&&!Q&&B.foot.forEach(function(K){return M(V,B,K,G,Z)}),B.callEndPageHooks(V,G);var $=B.settings.margin;(0,h.addTableBorder)(V,B,H,G),z(V),B.pageNumber++,B.pageCount++,G.x=$.left,G.y=$.top,H.y=$.top,B.callWillDrawPageHooks(V,G),B.settings.showHead==="everyPage"&&(B.head.forEach(function(K){return M(V,B,K,G,Z)}),V.applyStyles(V.userStyles))}c.addPage=F;function z(V){var B=V.pageNumber();V.setPage(B+1);var H=V.pageNumber();return H===B?(V.addPage(),!0):!1}},224:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var h=u(420);function f(v,g,y){var x;y===void 0&&(y={});var j=(0,h.getPageAvailableWidth)(v,g),b=new Map,N=[],P=[],I=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?I=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(I=[g.settings.horizontalPageBreakRepeat]),I.forEach(function(_){var M=g.columns.find(function(k){return k.dataKey===_||k.index===_});M&&!b.has(M.index)&&(b.set(M.index,!0),N.push(M.index),P.push(g.columns[M.index]),j-=M.wrappedWidth)});for(var w=!0,E=(x=y?.start)!==null&&x!==void 0?x:0;E<g.columns.length;){if(b.has(E)){E++;continue}var C=g.columns[E].wrappedWidth;if(w||j>=C)w=!1,N.push(E),P.push(g.columns[E]),j-=C;else break;E++}return{colIndexes:N,columns:P,lastIndex:E-1}}function p(v,g){for(var y=[],x=0;x<g.columns.length;x++){var j=f(v,g,{start:x});j.columns.length&&(y.push(j),x=j.lastIndex)}return y}c.calculateAllColumnsCanFitInPage=p},324:function(l,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var h=u(420);function f(N,P){p(N,P);var I=[],w=0;P.columns.forEach(function(C){var _=C.getMaxCustomCellWidth(P);_?C.width=_:(C.width=C.wrappedWidth,I.push(C)),w+=C.width});var E=P.getWidth(N.pageSize().width)-w;E&&(E=v(I,E,function(C){return Math.max(C.minReadableWidth,C.minWidth)})),E&&(E=v(I,E,function(C){return C.minWidth})),E=Math.abs(E),!P.settings.horizontalPageBreak&&E>.1/N.scaleFactor()&&(E=E<1?E:Math.round(E),console.warn("Of the table content, ".concat(E," units width could not fit page"))),y(P),x(P,N),g(P)}c.calculateWidths=f;function p(N,P){var I=N.scaleFactor(),w=P.settings.horizontalPageBreak,E=(0,h.getPageAvailableWidth)(N,P);P.allRows().forEach(function(C){for(var _=0,M=P.columns;_<M.length;_++){var k=M[_],D=C.cells[k.index];if(D){var R=P.hooks.didParseCell;P.callCellHooks(N,R,D,C,k,null);var F=D.padding("horizontal");D.contentWidth=(0,h.getStringWidth)(D.text,D.styles,N)+F;var z=(0,h.getStringWidth)(D.text.join(" ").split(/[^\S\u00A0]+/),D.styles,N);if(D.minReadableWidth=z+D.padding("horizontal"),typeof D.styles.cellWidth=="number")D.minWidth=D.styles.cellWidth,D.wrappedWidth=D.styles.cellWidth;else if(D.styles.cellWidth==="wrap"||w===!0)D.contentWidth>E?(D.minWidth=E,D.wrappedWidth=E):(D.minWidth=D.contentWidth,D.wrappedWidth=D.contentWidth);else{var V=10/I;D.minWidth=D.styles.minCellWidth||V,D.wrappedWidth=D.contentWidth,D.minWidth>D.wrappedWidth&&(D.wrappedWidth=D.minWidth)}}}}),P.allRows().forEach(function(C){for(var _=0,M=P.columns;_<M.length;_++){var k=M[_],D=C.cells[k.index];if(D&&D.colSpan===1)k.wrappedWidth=Math.max(k.wrappedWidth,D.wrappedWidth),k.minWidth=Math.max(k.minWidth,D.minWidth),k.minReadableWidth=Math.max(k.minReadableWidth,D.minReadableWidth);else{var R=P.styles.columnStyles[k.dataKey]||P.styles.columnStyles[k.index]||{},F=R.cellWidth||R.minCellWidth;F&&typeof F=="number"&&(k.minWidth=F,k.wrappedWidth=F)}D&&(D.colSpan>1&&!k.minWidth&&(k.minWidth=D.minWidth),D.colSpan>1&&!k.wrappedWidth&&(k.wrappedWidth=D.minWidth))}})}function v(N,P,I){for(var w=P,E=N.reduce(function(V,B){return V+B.wrappedWidth},0),C=0;C<N.length;C++){var _=N[C],M=_.wrappedWidth/E,k=w*M,D=_.width+k,R=I(_),F=D<R?R:D;P-=F-_.width,_.width=F}if(P=Math.round(P*1e10)/1e10,P){var z=N.filter(function(V){return P<0?V.width>I(V):!0});z.length&&(P=v(z,P,I))}return P}c.resizeColumns=v;function g(N){for(var P={},I=1,w=N.allRows(),E=0;E<w.length;E++)for(var C=w[E],_=0,M=N.columns;_<M.length;_++){var k=M[_],D=P[k.index];if(I>1)I--,delete C.cells[k.index];else if(D)D.cell.height+=C.height,I=D.cell.colSpan,delete C.cells[k.index],D.left--,D.left<=1&&delete P[k.index];else{var R=C.cells[k.index];if(!R)continue;if(R.height=C.height,R.rowSpan>1){var F=w.length-E,z=R.rowSpan>F?F:R.rowSpan;P[k.index]={cell:R,left:z,row:C}}}}}function y(N){for(var P=N.allRows(),I=0;I<P.length;I++)for(var w=P[I],E=null,C=0,_=0,M=0;M<N.columns.length;M++){var k=N.columns[M];if(_-=1,_>1&&N.columns[M+1])C+=k.width,delete w.cells[k.index];else if(E){var D=E;delete w.cells[k.index],E=null,D.width=k.width+C}else{var D=w.cells[k.index];if(!D)continue;if(_=D.colSpan,C=0,D.colSpan>1){E=D,C+=k.width;continue}D.width=k.width+C}}}function x(N,P){for(var I={count:0,height:0},w=0,E=N.allRows();w<E.length;w++){for(var C=E[w],_=0,M=N.columns;_<M.length;_++){var k=M[_],D=C.cells[k.index];if(D){P.applyStyles(D.styles,!0);var R=D.width-D.padding("horizontal");if(D.styles.overflow==="linebreak")D.text=P.splitTextToSize(D.text,R+1/P.scaleFactor(),{fontSize:D.styles.fontSize});else if(D.styles.overflow==="ellipsize")D.text=j(D.text,R,D.styles,P,"...");else if(D.styles.overflow==="hidden")D.text=j(D.text,R,D.styles,P,"");else if(typeof D.styles.overflow=="function"){var F=D.styles.overflow(D.text,R);typeof F=="string"?D.text=[F]:D.text=F}D.contentHeight=D.getContentHeight(P.scaleFactor(),P.getLineHeightFactor());var z=D.contentHeight/D.rowSpan;D.rowSpan>1&&I.count*I.height<z*D.rowSpan?I={height:z,count:D.rowSpan}:I&&I.count>0&&I.height>z&&(z=I.height),z>C.height&&(C.height=z)}}I.count--}}function j(N,P,I,w,E){return N.map(function(C){return b(C,P,I,w,E)})}c.ellipsize=j;function b(N,P,I,w,E){var C=1e4*w.scaleFactor();if(P=Math.ceil(P*C)/C,P>=(0,h.getStringWidth)(N,I,w))return N;for(;P<(0,h.getStringWidth)(N+E,I,w)&&!(N.length<=1);)N=N.substring(0,N.length-1);return N.trim()+E}},964:function(l){if(typeof n>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=n}},s={};function i(l){var c=s[l];if(c!==void 0)return c.exports;var u=s[l]={exports:{}};return a[l].call(u.exports,u,u.exports,i),u.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),u=i(776),h=i(664),f=i(972),p=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return p.Table}});var v=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return v.CellHookData}});var g=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return g.Row}});function y(P){(0,c.default)(P)}l.applyPlugin=y;function x(P,I){var w=(0,u.parseInput)(P,I),E=(0,f.createTable)(P,w);(0,h.drawTable)(P,E)}function j(P,I){var w=(0,u.parseInput)(P,I);return(0,f.createTable)(P,w)}l.__createTable=j;function b(P,I){(0,h.drawTable)(P,I)}l.__drawTable=b;try{var N=i(964);N.jsPDF&&(N=N.jsPDF),y(N)}catch{}l.default=x}(),o}()})}(x0)),x0.exports}Nie();function Sie({ticket:e,onClose:t,onEdit:n}){const{toast:a}=Ht(),{tenant:s}=ph(),[i,o]=S.useState("details"),l=g=>{switch(g){case Ir.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Ir.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ir.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Ir.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Ir.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},c=g=>{switch(g){case Ln.LOW:return"bg-green-50 text-green-700 border-green-200";case Ln.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ln.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case Ln.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=g=>{switch(g){case"covered":return"Covered by Warranty";case"partial":return"Partially Covered";case"not_covered":return"Not Covered";case"extended":return"Extended Warranty";case"expired":return"Warranty Expired";default:return"Unknown"}},h=g=>{switch(g){case"covered":return"bg-green-50 text-green-700 border-green-200";case"partial":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"not_covered":return"bg-red-50 text-red-700 border-red-200";case"extended":return"bg-blue-50 text-blue-700 border-blue-200";case"expired":return"bg-orange-50 text-orange-700 border-orange-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=(()=>{const g=Array.isArray(e.parts)?e.parts.reduce((x,j)=>x+(j.total||0),0):0,y=Array.isArray(e.labor)?e.labor.reduce((x,j)=>x+(j.total||0),0):0;return{partsTotal:g,laborTotal:y,grandTotal:g+y}})(),v=()=>{try{const g=new Zt;let y=10;(b=>{const N=s?.branding?.logo,P=s?.name,I=30,w=15,E=10,C=10,_=E+I+5;if(N){const M=new Image;M.src=N,M.onload=()=>{g.addImage(M,"PNG",E,C,I,w),P&&(g.setFontSize(16),g.text(P,_,C+w/2+2)),y=Math.max(y,C+w+10),b()},M.onerror=()=>{P?(g.setFontSize(16),g.text(P,E,C+5),y=Math.max(y,C+15+10)):y=Math.max(y,C+10),b()}}else P?(g.setFontSize(16),g.text(P,E,C+5),y=Math.max(y,C+15+10),b()):(y=Math.max(y,C+10),b())})(()=>{g.setFontSize(20),g.text("Service Ticket",105,y+10,{align:"center"}),y+=30,g.setFontSize(12),g.text(`Ticket #: ${e.id||"N/A"}`,20,y),y+=7,g.text(`Date: ${Et(e.createdAt)}`,20,y),y+=7,g.text(`Customer: ${e.customerId||"N/A"}`,20,y),y+=7,g.text(`Status: ${e.status?.replace("_"," ")?.toUpperCase()||"N/A"}`,20,y),y+=15,g.setFontSize(16),g.text("Service Details",20,y),y+=10,g.setFontSize(12),g.text(`Title: ${e.title||"N/A"}`,20,y),y+=7;const b=g.splitTextToSize(e.description||"",170);if(g.text(b,20,y),y+=b.length*7+15,Array.isArray(e.parts)&&e.parts.length>0&&(g.setFontSize(16),g.text("Parts",20,y),y+=5,g.autoTable({startY:y,head:[["Part Number","Description","Quantity","Unit Cost","Total"]],body:e.parts.map(N=>[N.partNumber||"",N.description||"",N.quantity||0,Me(N.unitCost||0),Me(N.total||0)]),foot:[["","","","Parts Total:",Me(p.partsTotal)]],theme:"striped",headStyles:{fillColor:[66,139,202]}}),y=g.lastAutoTable.finalY+15),Array.isArray(e.labor)&&e.labor.length>0&&(g.setFontSize(16),g.text("Labor",20,y),y+=5,g.autoTable({startY:y,head:[["Description","Hours","Rate","Total"]],body:e.labor.map(N=>[N.description||"",N.hours||0,Me(N.rate||0),Me(N.total||0)]),foot:[["","","Labor Total:",Me(p.laborTotal)]],theme:"striped",headStyles:{fillColor:[66,139,202]}}),y=g.lastAutoTable.finalY+10),g.setFontSize(14),g.text(`Grand Total: ${Me(p.grandTotal)}`,150,y,{align:"right"}),y+=15,e.notes){g.setFontSize(16),g.text("Notes",20,y),y+=10;const N=g.splitTextToSize(e.notes,170);g.text(N,20,y),y+=N.length*7+10}g.save(`service-ticket-${e.id||"N/A"}.pdf`),a({title:"PDF Generated",description:"Service ticket PDF has been downloaded"})})}catch(g){console.error("Error generating PDF:",g),a({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-xl",children:e.title}),r.jsxs(tt,{children:["Service Ticket #",e.id]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>n(e),size:"sm",children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Ticket"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsxs(be,{children:[r.jsxs(Or,{value:i,onValueChange:o,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsx(ut,{value:"parts-labor",children:"Parts & Labor"}),r.jsx(ut,{value:"notes",children:"Notes"})]}),r.jsxs(ft,{value:"details",className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",l(e.status)),children:e.status?.replace("_"," ")?.toUpperCase()||"N/A"}),r.jsxs(Ze,{className:ot("ri-badge-status",c(e.priority)),children:[e.priority?.toUpperCase()||"N/A"," PRIORITY"]}),e.customFields?.warrantyStatus&&r.jsx(Ze,{className:ot("ri-badge-status",h(e.customFields.warrantyStatus)),children:u(e.customFields.warrantyStatus)}),e.customFields?.customerAuthorization&&r.jsx(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:"AUTHORIZED"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),r.jsx("p",{className:"font-medium",children:e.customerId||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle"}),r.jsx("p",{className:"font-medium",children:e.vehicleId||"No Vehicle"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Assigned To"}),r.jsx("p",{className:"font-medium",children:e.assignedTo||"Unassigned"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),r.jsx("p",{className:"font-medium",children:Et(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),r.jsx("p",{className:"font-medium",children:e.scheduledDate?Et(e.scheduledDate):"Not scheduled"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Completion"}),r.jsx("p",{className:"font-medium",children:e.customFields?.estimatedCompletionDate||"Not specified"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.description||"N/A"})})]}),r.jsxs("div",{className:"p-3 bg-blue-50 rounded-md",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fs,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-medium text-blue-700",children:"Customer Portal Access:"}),r.jsx("span",{className:"text-blue-700",children:e.customFields?.customerPortalAccess!==!1?"Enabled":"Disabled"})]}),r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:e.customFields?.customerPortalAccess!==!1?"Customer can view this ticket in the portal":"Customer cannot view this ticket in the portal"})]})]}),r.jsxs(ft,{value:"parts-labor",className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Parts"}),Array.isArray(e.parts)&&e.parts.length>0?r.jsxs("div",{className:"space-y-3",children:[e.parts.map(g=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:g.description||"N/A"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",g.quantity||0," × ",Me(g.unitCost||0)]})]}),r.jsx("div",{className:"font-bold",children:Me(g.total||0)})]},g.id)),r.jsx("div",{className:"flex justify-end p-2",children:r.jsxs("span",{className:"font-medium",children:["Parts Total: ",Me(p.partsTotal)]})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:r.jsx("p",{children:"No parts added to this service ticket"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Labor"}),Array.isArray(e.labor)&&e.labor.length>0?r.jsxs("div",{className:"space-y-3",children:[e.labor.map(g=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:g.description||"N/A"}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.hours||0," hours × ",Me(g.rate||0),"/hr"]})]}),r.jsx("div",{className:"font-bold",children:Me(g.total||0)})]},g.id)),r.jsx("div",{className:"flex justify-end p-2",children:r.jsxs("span",{className:"font-medium",children:["Labor Total: ",Me(p.laborTotal)]})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:r.jsx("p",{children:"No labor added to this service ticket"})})]}),r.jsx(ye,{className:"bg-muted/30",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parts Total:"}),r.jsx("span",{children:Me(p.partsTotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Labor Total:"}),r.jsx("span",{children:Me(p.laborTotal)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Grand Total:"}),r.jsx("span",{children:Me(p.grandTotal)})]})]})})})]}),r.jsxs(ft,{value:"notes",className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Customer Notes"}),e.notes?r.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})}):r.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:r.jsx("p",{children:"No customer notes for this service ticket"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Technician Notes"}),e.customFields?.technicianNotes?r.jsx("div",{className:"p-3 bg-yellow-50 rounded-md",children:r.jsx("p",{className:"whitespace-pre-wrap text-yellow-800",children:e.customFields.technicianNotes})}):r.jsx("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:r.jsx("p",{children:"No technician notes for this service ticket"})})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Close"}),r.jsxs(ae,{variant:"outline",onClick:v,children:[r.jsx(hh,{className:"h-4 w-4 mr-2"}),"Print PDF"]}),r.jsxs(ae,{onClick:()=>n(e),children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Ticket"]})]})]})]})})}function Cie({ticket:e,onClose:t}){const n=l=>{switch(l){case Ir.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Ir.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ir.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Ir.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Ir.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=l=>{switch(l){case Ln.LOW:return"bg-green-50 text-green-700 border-green-200";case Ln.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ln.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case Ln.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},i=(()=>{const l=e.parts.reduce((u,h)=>u+h.total,0),c=e.labor.reduce((u,h)=>u+h.total,0);return{partsTotal:l,laborTotal:c,grandTotal:l+c}})(),o=()=>{try{const l=new Zt;l.setFontSize(20),l.text("Service Ticket",105,15,{align:"center"}),l.setFontSize(12),l.text(`Ticket #: ${e.id}`,20,30),l.text(`Date: ${Et(e.createdAt)}`,20,40),l.text(`Status: ${e.status.replace("_"," ")}`,20,50),l.setFontSize(16),l.text("Service Details",20,65),l.setFontSize(12),l.text(`Title: ${e.title}`,20,75);const c=l.splitTextToSize(e.description,170);if(l.text(c,20,85),e.parts.length>0&&(l.setFontSize(16),l.text("Parts",20,110),l.autoTable({startY:115,head:[["Description","Quantity","Unit Cost","Total"]],body:e.parts.map(h=>[h.description,h.quantity,Me(h.unitCost),Me(h.total)]),foot:[["","","Parts Total:",Me(i.partsTotal)]]})),e.labor.length>0){const h=l.lastAutoTable.finalY||115;l.setFontSize(16),l.text("Labor",20,h+15),l.autoTable({startY:h+20,head:[["Description","Hours","Rate","Total"]],body:e.labor.map(f=>[f.description,f.hours,Me(f.rate),Me(f.total)]),foot:[["","","Labor Total:",Me(i.laborTotal)]]})}const u=l.lastAutoTable.finalY||115;if(l.setFontSize(14),l.text(`Grand Total: ${Me(i.grandTotal)}`,150,u+20,{align:"right"}),e.notes){l.setFontSize(16),l.text("Notes",20,u+35),l.setFontSize(12);const h=l.splitTextToSize(e.notes,170);l.text(h,20,u+45)}l.save(`service-ticket-${e.id}.pdf`)}catch(l){console.error("Error generating PDF:",l)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-xl",children:"Service Ticket"}),r.jsxs(tt,{children:["Ticket #",e.id]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Mf,{className:"h-5 w-5 text-blue-600"}),r.jsx("h3",{className:"font-semibold text-blue-700",children:"Customer Portal View"})]}),r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"This is how your service ticket appears in the customer portal"})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:e.title}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",n(e.status)),children:e.status.replace("_"," ").toUpperCase()}),r.jsxs(Ze,{className:ot("ri-badge-status",a(e.priority)),children:[e.priority.toUpperCase()," PRIORITY"]})]})]}),r.jsxs(Or,{defaultValue:"details",className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsx(ut,{value:"parts-labor",children:"Parts & Labor"}),r.jsx(ut,{value:"timeline",children:"Timeline"})]}),r.jsxs(ft,{value:"details",className:"space-y-4",children:[r.jsxs(ye,{children:[r.jsx(Pe,{children:r.jsx(Te,{className:"text-lg",children:"Description"})}),r.jsx(be,{children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.description})})]}),r.jsxs(ye,{children:[r.jsx(Pe,{children:r.jsx(Te,{className:"text-lg",children:"Schedule Information"})}),r.jsx(be,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),r.jsx("p",{className:"font-medium",children:Et(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),r.jsx("p",{className:"font-medium",children:e.scheduledDate?Et(e.scheduledDate):"Not scheduled"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Completion"}),r.jsx("p",{className:"font-medium",children:e.customFields?.estimatedCompletionDate||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Completed Date"}),r.jsx("p",{className:"font-medium",children:e.completedDate?Et(e.completedDate):"Not completed"})]})]})})]}),e.notes&&r.jsxs(ye,{children:[r.jsx(Pe,{children:r.jsx(Te,{className:"text-lg",children:"Notes"})}),r.jsx(be,{children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]})]}),r.jsxs(ft,{value:"parts-labor",className:"space-y-6",children:[r.jsxs(ye,{children:[r.jsx(Pe,{children:r.jsx(Te,{className:"text-lg",children:"Parts"})}),r.jsx(be,{children:e.parts.length>0?r.jsxs("div",{className:"space-y-3",children:[e.parts.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:l.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",l.quantity," × ",Me(l.unitCost)]})]}),r.jsx("div",{className:"font-bold",children:Me(l.total)})]},l.id)),r.jsx("div",{className:"flex justify-end p-2",children:r.jsxs("span",{className:"font-medium",children:["Parts Total: ",Me(i.partsTotal)]})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:r.jsx("p",{children:"No parts added to this service ticket"})})})]}),r.jsxs(ye,{children:[r.jsx(Pe,{children:r.jsx(Te,{className:"text-lg",children:"Labor"})}),r.jsx(be,{children:e.labor.length>0?r.jsxs("div",{className:"space-y-3",children:[e.labor.map(l=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:l.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.hours," hours × ",Me(l.rate),"/hr"]})]}),r.jsx("div",{className:"font-bold",children:Me(l.total)})]},l.id)),r.jsx("div",{className:"flex justify-end p-2",children:r.jsxs("span",{className:"font-medium",children:["Labor Total: ",Me(i.laborTotal)]})})]}):r.jsx("div",{className:"text-center py-6 text-muted-foreground",children:r.jsx("p",{children:"No labor added to this service ticket"})})})]}),r.jsx(ye,{className:"bg-muted/30",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parts Total:"}),r.jsx("span",{children:Me(i.partsTotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Labor Total:"}),r.jsx("span",{children:Me(i.laborTotal)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Grand Total:"}),r.jsx("span",{children:Me(i.grandTotal)})]})]})})})]}),r.jsx(ft,{value:"timeline",className:"space-y-4",children:r.jsxs(ye,{children:[r.jsx(Pe,{children:r.jsx(Te,{className:"text-lg",children:"Service Timeline"})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-blue-500"}),r.jsx("div",{className:"font-medium",children:"Ticket Created"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:Et(e.createdAt)})]}),e.status!==Ir.OPEN&&r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-yellow-500"}),r.jsx("div",{className:"font-medium",children:"Work Started"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt.getTime()+864e5).toLocaleDateString()})]}),e.status===Ir.WAITING_PARTS&&r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-orange-500"}),r.jsx("div",{className:"font-medium",children:"Waiting for Parts"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt.getTime()+1728e5).toLocaleDateString()})]}),e.status===Ir.COMPLETED&&r.jsxs("div",{className:"relative pl-6",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-green-500"}),r.jsx("div",{className:"font-medium",children:"Service Completed"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:e.completedDate?Et(e.completedDate):"Date not recorded"})]})]})})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{variant:"outline",onClick:t,children:"Close"}),r.jsxs(ae,{variant:"outline",onClick:o,children:[r.jsx(hh,{className:"h-4 w-4 mr-2"}),"Print PDF"]})]})]})})]})})}function Aie(){const{tickets:e,createTicket:t,updateTicket:n}=w8(),{toast:a}=Ht(),[s,i]=S.useState(""),[o,l]=S.useState("all"),[c,u]=S.useState("all"),[h,f]=S.useState(!1),[p,v]=S.useState(!1),[g,y]=S.useState(!1),[x,j]=S.useState(!1),[b,N]=S.useState(null),P=R=>{switch(R){case Ir.OPEN:return"bg-blue-50 text-blue-700 border-blue-200";case Ir.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ir.WAITING_PARTS:return"bg-orange-50 text-orange-700 border-orange-200";case Ir.COMPLETED:return"bg-green-50 text-green-700 border-green-200";case Ir.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},I=R=>{switch(R){case Ln.LOW:return"bg-green-50 text-green-700 border-green-200";case Ln.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Ln.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case Ln.URGENT:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},w=e.filter(R=>R.title.toLowerCase().includes(s.toLowerCase())||R.description.toLowerCase().includes(s.toLowerCase())||R.customerId.toLowerCase().includes(s.toLowerCase())||R.id.toLowerCase().includes(s.toLowerCase())).filter(R=>o==="all"||R.status===o).filter(R=>c==="all"||R.priority===c),E=()=>{N(null),f(!0)},C=R=>{N(R),f(!0),v(!1)},_=R=>{N(R),v(!0)},M=R=>{N(R),y(!0)},k=async R=>{try{b?(await n(b.id,R),a({title:"Success",description:"Service ticket updated successfully"})):(await t(R),a({title:"Success",description:"Service ticket created successfully"})),f(!1),N(null)}catch{a({title:"Error",description:`Failed to ${b?"update":"create"} service ticket`,variant:"destructive"})}},D=R=>{a({title:"Customer Added",description:`${R.firstName} ${R.lastName} has been added.`}),N(null),j(!1),f(!0)};return r.jsxs("div",{className:"space-y-8",children:[x&&r.jsx(mp,{onClose:()=>j(!1),onSuccess:D}),h&&r.jsx(bse,{ticket:b||void 0,onSave:k,onCancel:()=>{f(!1),N(null)}}),p&&b&&r.jsx(Sie,{ticket:b,onClose:()=>v(!1),onEdit:C}),g&&b&&r.jsx(Cie,{ticket:b,onClose:()=>y(!1)}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Service Operations"}),r.jsx("p",{className:"ri-page-description",children:"Manage service tickets and maintenance schedules"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:E,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Service Ticket"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Tickets"}),r.jsx(Mf,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"All service requests"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),r.jsx(Mf,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(R=>R.status===Ir.IN_PROGRESS).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(Ar,{className:"h-3 w-3 mr-1"}),"Currently working"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Waiting Parts"}),r.jsx(Mf,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:e.filter(R=>R.status===Ir.WAITING_PARTS).length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(Ar,{className:"h-3 w-3 mr-1"}),"Parts on order"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Revenue"}),r.jsx(lr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Me(e.reduce((R,F)=>R+F.parts.reduce((z,V)=>z+V.total,0)+F.labor.reduce((z,V)=>z+V.total,0),0))}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Service revenue"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search service tickets...",value:s,onChange:R=>i(R.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Xe,{value:o,onValueChange:l,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:Ir.OPEN,children:"Open"}),r.jsx(ee,{value:Ir.IN_PROGRESS,children:"In Progress"}),r.jsx(ee,{value:Ir.WAITING_PARTS,children:"Waiting Parts"}),r.jsx(ee,{value:Ir.COMPLETED,children:"Completed"}),r.jsx(ee,{value:Ir.CANCELLED,children:"Cancelled"})]})]}),r.jsxs(Xe,{value:c,onValueChange:u,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Priority"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Priorities"}),r.jsx(ee,{value:Ln.LOW,children:"Low"}),r.jsx(ee,{value:Ln.MEDIUM,children:"Medium"}),r.jsx(ee,{value:Ln.HIGH,children:"High"}),r.jsx(ee,{value:Ln.URGENT,children:"Urgent"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Service Tickets"}),r.jsx(tt,{children:"Manage service requests and maintenance schedules"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[w.map(R=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:R.title}),r.jsx(Ze,{className:ot("ri-badge-status",I(R.priority)),children:R.priority.toUpperCase()}),r.jsx(Ze,{className:ot("ri-badge-status",P(R.status)),children:R.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-3 w-3 mr-2 text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Customer:"}),r.jsx("span",{className:"ml-1",children:R.customerId})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-3 w-3 mr-2 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Assigned:"}),r.jsx("span",{className:"ml-1",children:R.assignedTo||"Unassigned"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(gn,{className:"h-3 w-3 mr-2 text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Scheduled:"}),r.jsx("span",{className:"ml-1",children:R.scheduledDate?Et(R.scheduledDate):"Not scheduled"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ar,{className:"h-3 w-3 mr-2 text-orange-500"}),r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("span",{className:"ml-1",children:Et(R.createdAt)})]})]}),r.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:R.description}),R.notes&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",R.notes]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-3 text-sm",children:[r.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-md",children:[r.jsx("span",{className:"font-medium",children:"Parts:"})," ",Me(R.parts.reduce((F,z)=>F+z.total,0))]}),r.jsxs("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded-md",children:[r.jsx("span",{className:"font-medium",children:"Labor:"})," ",Me(R.labor.reduce((F,z)=>F+z.total,0))]}),r.jsxs("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md font-semibold",children:[r.jsx("span",{className:"font-medium",children:"Total:"})," ",Me(R.parts.reduce((F,z)=>F+z.total,0)+R.labor.reduce((F,z)=>F+z.total,0))]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>_(R),children:"View"}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>C(R),children:"Edit"}),R.customFields?.customerPortalAccess!==!1&&r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>M(R),children:"Customer View"})]})]},R.id)),w.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Mf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No service tickets found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})})]})]})}function Eie(){return r.jsx(ei,{children:r.jsx(vr,{path:"/*",element:r.jsx(Aie,{})})})}function V8(){const[e,t]=S.useState([]),[n,a]=S.useState(!1);S.useEffect(()=>{s()},[]);const s=()=>{const x=Qn("renter-insight-deliveries",[{id:"1",customerId:"cust-1",vehicleId:"veh-1",status:mr.SCHEDULED,scheduledDate:new Date("2024-01-25"),address:{street:"123 Main St",city:"Springfield",state:"IL",zipCode:"62701",country:"USA"},driver:"Driver-001",notes:"Customer prefers morning delivery",customFields:{contactPhone:"(555) 123-4567",contactEmail:"customer@example.com",sendSMSUpdates:!0,sendEmailUpdates:!0,estimatedArrival:"10:00"},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-18")},{id:"2",customerId:"cust-2",vehicleId:"veh-2",status:mr.IN_TRANSIT,scheduledDate:new Date("2024-01-20"),deliveredDate:void 0,address:{street:"456 Oak Ave",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},driver:"Driver-002",notes:"Call customer 30 minutes before arrival",customFields:{contactPhone:"(555) 987-6543",contactEmail:"customer2@example.com",sendSMSUpdates:!0,sendEmailUpdates:!0,estimatedArrival:"14:30",departureTime:"2024-01-20T08:00:00",departureNotes:"Left dealership on schedule",customerNotified:"2024-01-20T08:15:00",notificationMethod:"SMS",etaUpdated:"2024-01-20T10:30:00"},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-20")}]);t(x)},i=x=>{Sn("renter-insight-deliveries",x)};return{deliveries:e,loading:n,getDeliveriesByCustomerId:x=>e.filter(j=>j.customerId===x),getDeliveriesByVehicleId:x=>e.filter(j=>j.vehicleId===x),getDeliveryById:x=>e.find(j=>j.id===x),createDelivery:async x=>{a(!0);try{const j={id:Math.random().toString(36).substr(2,9),customerId:x.customerId||"",vehicleId:x.vehicleId||"",status:x.status||mr.SCHEDULED,scheduledDate:x.scheduledDate||new Date,deliveredDate:x.deliveredDate,address:x.address||{street:"",city:"",state:"",zipCode:"",country:"USA"},driver:x.driver||"",notes:x.notes||"",customFields:x.customFields||{},createdAt:new Date,updatedAt:new Date},b=[...e,j];return t(b),i(b),j}finally{a(!1)}},updateDelivery:async(x,j)=>{const b=e.map(N=>N.id===x?{...N,...j,updatedAt:new Date}:N);t(b),i(b)},deleteDelivery:async x=>{const j=e.filter(b=>b.id!==x);t(j),i(j)},updateDeliveryStatus:async(x,j)=>{const b=e.map(N=>N.id===x?{...N,status:j,deliveredDate:j===mr.DELIVERED?new Date:N.deliveredDate,updatedAt:new Date}:N);t(b),i(b)},sendNotification:async(x,j,b)=>{if(!e.find(I=>I.id===x))return;const P=e.map(I=>I.id===x?{...I,customFields:{...I.customFields,customerNotified:new Date().toISOString(),notificationMethod:j==="sms"?"SMS":"Email",lastNotificationMessage:b},updatedAt:new Date}:I);return t(P),i(P),await new Promise(I=>setTimeout(I,1e3)),!0},updateETA:async(x,j)=>{if(!e.find(P=>P.id===x))return;const N=e.map(P=>P.id===x?{...P,customFields:{...P.customFields,estimatedArrival:j,etaUpdated:new Date().toISOString()},updatedAt:new Date}:P);t(N),i(N)},addDeliveryPhotos:async(x,j,b)=>{if(!e.find(w=>w.id===x))return;const P=j.map((w,E)=>({url:w,caption:b[E]||""})),I=e.map(w=>w.id===x?{...w,customFields:{...w.customFields,deliveryPhotos:[...w.customFields?.deliveryPhotos||[],...j],photoDetails:[...w.customFields?.photoDetails||[],...P]},updatedAt:new Date}:w);t(I),i(I)}}}function W8({delivery:e,vehicles:t,customers:n,onSave:a,onCancel:s}){const{toast:i}=Ht(),[o,l]=S.useState(!1),[c,u]=S.useState(!1),[h,f]=S.useState({customerId:"",vehicleId:"",status:mr.SCHEDULED,scheduledDate:new Date,address:{street:"",city:"",state:"",zipCode:"",country:"USA"},driver:"",notes:"",customFields:{contactPhone:"",contactEmail:"",sendSMSUpdates:!0,sendEmailUpdates:!0,estimatedArrival:"",departureTime:"",departureNotes:"",deliveryNotes:"",deliveryPhotos:[]}});S.useEffect(()=>{e&&f({...e,customFields:{...e.customFields,contactPhone:e.customFields?.contactPhone||"",contactEmail:e.customFields?.contactEmail||"",sendSMSUpdates:e.customFields?.sendSMSUpdates!==!1,sendEmailUpdates:e.customFields?.sendEmailUpdates!==!1,estimatedArrival:e.customFields?.estimatedArrival||"",departureTime:e.customFields?.departureTime||"",departureNotes:e.customFields?.departureNotes||"",deliveryNotes:e.customFields?.deliveryNotes||"",deliveryPhotos:e.customFields?.deliveryPhotos||[]}})},[e]);const{getRootProps:p,getInputProps:v}=Ox({accept:{"image/*":[]},onDrop:b=>{const N=b.map(P=>URL.createObjectURL(P));f(P=>({...P,customFields:{...P.customFields,deliveryPhotos:[...P.customFields?.deliveryPhotos||[],...N]}})),i({title:"Photos Added",description:`Added ${b.length} delivery photos`})}}),g=b=>{b==="__add_new_customer__"?u(!0):f(N=>({...N,customerId:b}))},y=b=>{f(N=>({...N,customerId:b.id})),u(!1),i({title:"Customer Added",description:`${b.firstName} ${b.lastName} has been added as a customer.`})},x=async b=>{if(b.preventDefault(),!h.customerId||!h.vehicleId||!h.scheduledDate){i({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(!h.address?.street||!h.address?.city||!h.address?.state||!h.address?.zipCode){i({title:"Validation Error",description:"Please provide a complete delivery address",variant:"destructive"});return}l(!0);try{await a(h),i({title:"Success",description:`Delivery ${e?"updated":"scheduled"} successfully`})}catch{i({title:"Error",description:`Failed to ${e?"update":"schedule"} delivery`,variant:"destructive"})}finally{l(!1)}},j=b=>{f(N=>({...N,customFields:{...N.customFields,deliveryPhotos:N.customFields?.deliveryPhotos?.filter(P=>P!==b)||[]}}))};return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[c&&r.jsx(mp,{onClose:()=>u(!1),onSuccess:y}),r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Delivery":"Schedule Delivery"}),r.jsx(tt,{children:e?"Update delivery details":"Schedule a new delivery"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"customerId",children:"Customer *"}),r.jsxs(Xe,{value:h.customerId,onValueChange:g,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select customer"})}),r.jsxs(Ye,{className:"z-50",children:[r.jsx("div",{className:"px-2 py-1.5",children:r.jsxs(ae,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>g("__add_new_customer__"),children:[r.jsx(qt,{className:"h-3.5 w-3.5 mr-2"}),"Add New Customer"]})}),r.jsx("div",{className:"px-2 py-1 border-t"}),n.map(b=>r.jsx(ee,{value:b.id,children:r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{children:[b.firstName," ",b.lastName]}),r.jsx("span",{className:"text-xs text-muted-foreground",children:b.phone})]})},b.id)),n.length===0&&r.jsx("div",{className:"px-2 py-4 text-center text-sm text-muted-foreground",children:"No customers found"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"vehicleId",children:"Vehicle *"}),r.jsxs(Xe,{value:h.vehicleId,onValueChange:b=>f(N=>({...N,vehicleId:b})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select vehicle"})}),r.jsx(Ye,{className:"z-50",children:t.map(b=>r.jsxs(ee,{value:b.id,children:[b.year," ",b.make," ",b.model]},b.id))})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"scheduledDate",children:"Scheduled Date *"}),r.jsx(Ee,{id:"scheduledDate",type:"date",value:h.scheduledDate?new Date(h.scheduledDate).toISOString().split("T")[0]:"",onChange:b=>f(N=>({...N,scheduledDate:b.target.value?new Date(b.target.value):new Date}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"estimatedArrival",children:"Estimated Arrival Time"}),r.jsx(Ee,{id:"estimatedArrival",type:"time",value:h.customFields?.estimatedArrival||"",onChange:b=>f(N=>({...N,customFields:{...N.customFields,estimatedArrival:b.target.value}}))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"status",children:"Status"}),r.jsxs(Xe,{value:h.status,onValueChange:b=>f(N=>({...N,status:b})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{className:"z-50",children:[r.jsx(ee,{value:mr.SCHEDULED,children:"Scheduled"}),r.jsx(ee,{value:mr.IN_TRANSIT,children:"In Transit"}),r.jsx(ee,{value:mr.DELIVERED,children:"Delivered"}),r.jsx(ee,{value:mr.CANCELLED,children:"Cancelled"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"driver",children:"Driver"}),r.jsx(Ee,{id:"driver",value:h.driver||"",onChange:b=>f(N=>({...N,driver:b.target.value})),placeholder:"Driver name"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Address"}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"street",children:"Street Address *"}),r.jsx(Ee,{id:"street",value:h.address?.street||"",onChange:b=>f(N=>({...N,address:{...N.address,street:b.target.value}})),placeholder:"123 Main St"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"city",children:"City *"}),r.jsx(Ee,{id:"city",value:h.address?.city||"",onChange:b=>f(N=>({...N,address:{...N.address,city:b.target.value}})),placeholder:"City"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"state",children:"State *"}),r.jsx(Ee,{id:"state",value:h.address?.state||"",onChange:b=>f(N=>({...N,address:{...N.address,state:b.target.value}})),placeholder:"State"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"zipCode",children:"Zip Code *"}),r.jsx(Ee,{id:"zipCode",value:h.address?.zipCode||"",onChange:b=>f(N=>({...N,address:{...N.address,zipCode:b.target.value}})),placeholder:"Zip Code"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"country",children:"Country"}),r.jsx(Ee,{id:"country",value:h.address?.country||"USA",onChange:b=>f(N=>({...N,address:{...N.address,country:b.target.value}})),placeholder:"Country"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Contact Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"contactPhone",children:"Contact Phone"}),r.jsx(Ee,{id:"contactPhone",value:h.customFields?.contactPhone||"",onChange:b=>f(N=>({...N,customFields:{...N.customFields,contactPhone:b.target.value}})),placeholder:"(555) 123-4567"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"contactEmail",children:"Contact Email"}),r.jsx(Ee,{id:"contactEmail",type:"email",value:h.customFields?.contactEmail||"",onChange:b=>f(N=>({...N,customFields:{...N.customFields,contactEmail:b.target.value}})),placeholder:"customer@example.com"})]})]}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"sendSMSUpdates",checked:h.customFields?.sendSMSUpdates!==!1,onCheckedChange:b=>f(N=>({...N,customFields:{...N.customFields,sendSMSUpdates:!!b}}))}),r.jsx(ie,{htmlFor:"sendSMSUpdates",children:"Send SMS updates"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"sendEmailUpdates",checked:h.customFields?.sendEmailUpdates!==!1,onCheckedChange:b=>f(N=>({...N,customFields:{...N.customFields,sendEmailUpdates:!!b}}))}),r.jsx(ie,{htmlFor:"sendEmailUpdates",children:"Send email updates"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Details"}),(h.status===mr.IN_TRANSIT||h.status===mr.DELIVERED)&&r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"departureTime",children:"Departure Time"}),r.jsx(Ee,{id:"departureTime",type:"datetime-local",value:h.customFields?.departureTime||"",onChange:b=>f(N=>({...N,customFields:{...N.customFields,departureTime:b.target.value}}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"departureNotes",children:"Departure Notes"}),r.jsx(Ee,{id:"departureNotes",value:h.customFields?.departureNotes||"",onChange:b=>f(N=>({...N,customFields:{...N.customFields,departureNotes:b.target.value}})),placeholder:"Notes about departure"})]})]}),h.status===mr.DELIVERED&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"deliveredDate",children:"Delivery Date"}),r.jsx(Ee,{id:"deliveredDate",type:"datetime-local",value:h.deliveredDate?new Date(h.deliveredDate).toISOString().slice(0,16):"",onChange:b=>f(N=>({...N,deliveredDate:b.target.value?new Date(b.target.value):void 0}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Delivery Notes"}),r.jsx(wr,{id:"notes",value:h.notes||"",onChange:b=>f(N=>({...N,notes:b.target.value})),placeholder:"Add any notes about this delivery",rows:3})]})]}),(h.status===mr.DELIVERED||h.status===mr.IN_TRANSIT)&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Photos"}),r.jsxs("div",{...p(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[r.jsx("input",{...v()}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Camera,{className:"h-8 w-8 mb-2 text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop photos here, or click to select files"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload photos for delivery verification"})]})]}),h.customFields?.deliveryPhotos&&h.customFields.deliveryPhotos.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:h.customFields.deliveryPhotos.map((b,N)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:b,alt:`Delivery photo ${N+1}`,className:"h-24 w-full object-cover rounded-md"}),r.jsx(ae,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>j(b),children:r.jsx(cr,{className:"h-3 w-3"})})]},N))})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:s,disabled:o,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Scheduling..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Schedule"," Delivery"]})})]})]})})]})]})}function Pie({delivery:e,onAddMilestone:t}){const a=(()=>{try{const s=[],i=e.customFields||{},o=c=>c?new Date(c):new Date;return s.push({id:"scheduled",title:"Delivery Scheduled",description:`Scheduled for ${Et(e.scheduledDate)}`,date:o(e.createdAt),icon:gn}),[mr.IN_TRANSIT,mr.DELIVERED].includes(e.status)&&(s.push({id:"preparation",title:"Preparation Complete",description:"Vehicle prepared and ready for delivery",date:new Date(new Date(e.scheduledDate).getTime()-864e5),icon:yn}),s.push({id:"in_transit",title:"In Transit",description:i.departureNotes||"Vehicle has left the dealership",date:o(i.departureTime),icon:xi})),i.etaUpdated&&i.estimatedArrival&&s.push({id:"eta_update",title:"ETA Updated",description:`New estimated arrival: ${i.estimatedArrival}`,date:o(i.etaUpdated),icon:Ar}),i.customerNotified&&s.push({id:"customer_notified",title:"Customer Notified",description:`${i.notificationMethod||"SMS"} notification sent to customer`,date:o(i.customerNotified),icon:Un}),e.status===mr.DELIVERED&&(s.push({id:"arrived",title:"Arrived at Destination",description:"Vehicle arrived at delivery location",date:o(e.deliveredDate),icon:ou}),s.push({id:"delivered",title:"Delivery Confirmed",description:i.deliveryNotes||"Delivery completed successfully",date:o(e.deliveredDate),icon:yn}),Array.isArray(i.deliveryPhotos)&&i.deliveryPhotos.length>0&&s.push({id:"photos",title:"Delivery Photos",description:`${i.deliveryPhotos.length} photo(s) captured`,date:o(e.deliveredDate),icon:Zc})),Array.from(new Map(s.map(c=>[c.id,c])).values()).sort((c,u)=>c.date.getTime()-u.date.getTime())}catch(s){return console.error("Failed to generate milestones:",s),[]}})();return r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(xi,{className:"h-5 w-5 mr-2 text-primary"}),"Delivery Timeline"]}),r.jsx(tt,{children:"Track the progress of this delivery"})]}),r.jsx(be,{children:r.jsxs("div",{className:"relative pl-8 space-y-8",children:[r.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-px bg-border"}),a.map((s,i)=>{const o=s.icon;return r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:ot("absolute left-[-21px] w-6 h-6 rounded-full flex items-center justify-center","bg-primary text-primary-foreground"),children:r.jsx(o,{className:"h-3 w-3"})}),r.jsxs("div",{className:"mb-1 flex items-center",children:[r.jsx("h3",{className:"text-base font-semibold",children:s.title}),r.jsx(Ze,{className:"ml-2 text-xs",variant:"outline",children:Et(s.date)})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s.description}),s.id==="photos"&&e.customFields?.deliveryPhotos&&r.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:e.customFields.deliveryPhotos.map((l,c)=>r.jsx("img",{src:l,alt:`Delivery photo ${c+1}`,className:"h-20 w-full object-cover rounded-md"},c))})]},s.id)})]})})]})}function Tie({delivery:e,vehicle:t,onClose:n,onEdit:a,onSendNotification:s}){const{toast:i}=Ht(),[o,l]=S.useState("details"),[c,u]=S.useState(!1),h=v=>{switch(v){case mr.SCHEDULED:return"bg-blue-50 text-blue-700 border-blue-200";case mr.IN_TRANSIT:return"bg-yellow-50 text-yellow-700 border-yellow-200";case mr.DELIVERED:return"bg-green-50 text-green-700 border-green-200";case mr.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},f=async v=>{if(s){u(!0);try{await s(e.id,v),i({title:"Notification Sent",description:`${v==="sms"?"SMS":"Email"} notification sent successfully`})}catch{i({title:"Error",description:`Failed to send ${v==="sms"?"SMS":"email"} notification`,variant:"destructive"})}finally{u(!1)}}},p=()=>{try{const v=new Zt;if(v.setFontSize(20),v.text("Delivery Information Sheet",105,15,{align:"center"}),v.setFontSize(12),v.text(`Delivery #: ${e.id}`,20,30),v.text(`Status: ${e.status.replace("_"," ")}`,20,40),v.text(`Scheduled Date: ${Et(e.scheduledDate)}`,20,50),v.setFontSize(16),v.text("Vehicle Information",20,65),v.setFontSize(12),t?(v.text(`Vehicle: ${t.year} ${t.make} ${t.model}`,20,75),v.text(`VIN: ${t.vin}`,20,85)):v.text(`Vehicle ID: ${e.vehicleId}`,20,75),v.setFontSize(16),v.text("Delivery Address",20,105),v.setFontSize(12),v.text(`${e.address.street}`,20,115),v.text(`${e.address.city}, ${e.address.state} ${e.address.zipCode}`,20,125),v.text(`${e.address.country}`,20,135),v.setFontSize(16),v.text("Contact Information",20,155),v.setFontSize(12),v.text(`Customer ID: ${e.customerId}`,20,165),e.customFields?.contactPhone&&v.text(`Phone: ${e.customFields.contactPhone}`,20,175),e.customFields?.contactEmail&&v.text(`Email: ${e.customFields.contactEmail}`,20,185),e.notes){v.setFontSize(16),v.text("Delivery Notes",20,205),v.setFontSize(12);const g=v.splitTextToSize(e.notes,170);v.text(g,20,215)}v.setFontSize(16),v.text("Signatures",20,245),v.setFontSize(12),v.text("Driver: _______________________________",20,255),v.text("Customer: _____________________________",20,270),v.save(`delivery-${e.id}.pdf`),i({title:"PDF Generated",description:"Delivery information sheet has been downloaded"})}catch(v){console.error("Error generating PDF:",v),i({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-xl",children:"Delivery Details"}),r.jsxs(tt,{children:["Delivery #",e.id]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>a(e),size:"sm",children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Delivery"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsxs(be,{children:[r.jsxs(Or,{value:o,onValueChange:l,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsx(ut,{value:"timeline",children:"Timeline"}),r.jsx(ut,{value:"photos",children:"Photos"})]}),r.jsxs(ft,{value:"details",className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",h(e.status)),children:e.status.replace("_"," ").toUpperCase()}),e.driver&&r.jsxs(Ze,{variant:"outline",children:["Driver: ",e.driver]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),r.jsx("p",{className:"font-medium",children:e.customerId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Vehicle"}),r.jsx("p",{className:"font-medium",children:t?`${t.year} ${t.make} ${t.model}`:e.vehicleId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Scheduled Date"}),r.jsx("p",{className:"font-medium",children:Et(e.scheduledDate)})]}),e.deliveredDate&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivered Date"}),r.jsx("p",{className:"font-medium",children:Et(e.deliveredDate)})]}),e.customFields?.estimatedArrival&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Arrival"}),r.jsx("p",{className:"font-medium",children:e.customFields.estimatedArrival})]}),e.customFields?.departureTime&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Departure Time"}),r.jsx("p",{className:"font-medium",children:new Date(e.customFields.departureTime).toLocaleString()})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Delivery Address"}),r.jsxs("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:[r.jsx("p",{children:e.address.street}),r.jsxs("p",{children:[e.address.city,", ",e.address.state," ",e.address.zipCode]}),r.jsx("p",{children:e.address.country})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Information"}),r.jsxs("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:[e.customFields?.contactPhone&&r.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-md",children:[r.jsx(op,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:e.customFields.contactPhone})]}),e.customFields?.contactEmail&&r.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-md",children:[r.jsx(Mn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{children:e.customFields.contactEmail})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notification Preferences"}),r.jsxs("div",{className:"mt-1 grid gap-2 md:grid-cols-2",children:[r.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-md",children:[r.jsx(Un,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["SMS Updates: ",e.customFields?.sendSMSUpdates!==!1?"Enabled":"Disabled"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 rounded-md",children:[r.jsx(Mn,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{children:["Email Updates: ",e.customFields?.sendEmailUpdates!==!1?"Enabled":"Disabled"]})]})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]}),(e.status===mr.SCHEDULED||e.status===mr.IN_TRANSIT)&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>f("sms"),disabled:c||!e.customFields?.contactPhone,children:[r.jsx(Un,{className:"h-4 w-4 mr-2"}),"Send SMS Update"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>f("email"),disabled:c||!e.customFields?.contactEmail,children:[r.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Send Email Update"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:p,children:[r.jsx(hh,{className:"h-4 w-4 mr-2"}),"Print Delivery Sheet"]})]})]}),r.jsx(ft,{value:"timeline",children:r.jsx(Pie,{delivery:e})}),r.jsxs(ft,{value:"photos",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Delivery Photos"}),e.customFields?.deliveryPhotos&&e.customFields.deliveryPhotos.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.customFields.deliveryPhotos.map((v,g)=>r.jsx("div",{className:"overflow-hidden rounded-md",children:r.jsx("img",{src:v,alt:`Delivery photo ${g+1}`,className:"w-full h-auto object-cover"})},g))}):r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Zc,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No delivery photos available"}),e.status!==mr.DELIVERED&&r.jsx("p",{className:"text-sm",children:"Photos will be added during delivery"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[r.jsx(ae,{variant:"outline",onClick:n,children:"Close"}),r.jsxs(ae,{onClick:()=>a(e),children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Delivery"]})]})]})]})})}function Iie({delivery:e,onSend:t,onCancel:n}){const{toast:a}=Ht(),[s,i]=S.useState(!1),[o,l]=S.useState("sms"),[c,u]=S.useState(""),[h,f]=S.useState(""),[p,v]=S.useState(""),g=e.customer?.name||"Customer",y=e.vehicle?`${e.vehicle.year||""} ${e.vehicle.make||""} ${e.vehicle.model||""}`.trim():"your Home/RV",x=!!e.customer?.phone,j=!!e.customer?.email,b=()=>{try{const P=h||new Date(e.scheduledDate).toLocaleDateString(),I=c||"the scheduled time";return o==="sms"?`Hi ${g}, your delivery of ${y} is scheduled for ${P} at ${I}. Reply HELP for assistance or STOP to opt out.`:`Dear ${g},

We're writing to confirm the delivery of ${y} scheduled for ${P} at ${I}.

If you have any questions or need to reschedule, please contact our delivery team.

Thank you,
The Delivery Team`}catch(P){return console.error("Failed to generate default message:",P),""}};S.useEffect(()=>{try{const P=b();v(P)}catch(P){console.error("Message generation error:",P)}},[o,c,h]);const N=async P=>{if(P.preventDefault(),!p.trim()){a({title:"Validation Error",description:"Please enter a message",variant:"destructive"});return}if(!h||!c){a({title:"Missing ETA",description:"Please select both a date and time for estimated arrival.",variant:"destructive"});return}if(o==="sms"&&!x){a({title:"Missing Phone Number",description:"Customer does not have a valid phone number for SMS.",variant:"destructive"});return}if(o==="email"&&!j){a({title:"Missing Email Address",description:"Customer does not have a valid email address.",variant:"destructive"});return}i(!0);try{await t(e.id,{type:o,estimatedArrival:`${h}T${c}`,message:p,updateDelivery:!0}),a({title:"Notification Sent",description:`${o.toUpperCase()} sent successfully.`}),n()}catch(I){console.error("Notification send failed:",I),a({title:"Error",description:`Failed to send ${o==="sms"?"SMS":"Email"} notification`,variant:"destructive"})}finally{i(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Send ETA Notification"}),r.jsx(tt,{children:"Notify the customer about delivery status"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{children:[r.jsxs("div",{className:"text-sm mb-4 text-muted-foreground",children:["Delivering to: ",r.jsx("strong",{children:g}),r.jsx("br",{}),"Home/RV: ",r.jsx("strong",{children:y}),r.jsx("br",{}),o==="sms"&&!x&&r.jsx("span",{className:"text-red-500 text-xs",children:"⚠ No valid phone number on file"}),o==="email"&&!j&&r.jsx("span",{className:"text-red-500 text-xs",children:"⚠ No valid email address on file"})]}),r.jsxs("form",{onSubmit:N,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notificationType",children:"Notification Type"}),r.jsxs(Xe,{value:o,onValueChange:P=>l(P),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{className:"z-50",children:[r.jsx(ee,{value:"sms",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Un,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:"SMS"})]})}),r.jsx(ee,{value:"email",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mn,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:"Email"})]})})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"w-1/2",children:[r.jsx(ie,{htmlFor:"arrivalDate",children:"Arrival Date"}),r.jsx(Ee,{id:"arrivalDate",type:"date",value:h,onChange:P=>f(P.target.value)})]}),r.jsxs("div",{className:"w-1/2",children:[r.jsx(ie,{htmlFor:"arrivalTime",children:"Arrival Time"}),r.jsx(Ee,{id:"arrivalTime",type:"time",value:c,onChange:P=>u(P.target.value)})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"message",children:"Message"}),r.jsx(wr,{id:"message",value:p,onChange:P=>v(P.target.value),rows:o==="sms"?3:6,maxLength:o==="sms"?160:void 0}),o==="sms"&&r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[r.jsxs("span",{children:[p.length," characters"]}),r.jsxs("span",{children:[160-p.length," remaining"]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:s,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(sc,{className:"h-4 w-4 mr-2"}),"Send Notification"]})})]})]})]})]})})}function Die({onCapture:e,onCancel:t}){const{toast:n}=Ht(),[a,s]=S.useState(!1),[i,o]=S.useState([]),[l,c]=S.useState([]),[u,h]=S.useState([]),[f,p]=S.useState(!1),v=S.useRef(null);S.useRef(null);const g=async w=>new Promise(E=>{const C=new Image;C.onload=()=>{const _=document.createElement("canvas"),M=_.getContext("2d"),k=800,D=k/C.width;_.width=k,_.height=C.height*D,M?.drawImage(C,0,0,_.width,_.height),E(_.toDataURL("image/jpeg",.7))},C.src=w}),{getRootProps:y,getInputProps:x}=Ox({accept:{"image/*":[]},multiple:!0,maxFiles:10,onDrop:async w=>{try{const E=w.map(_=>new Promise(M=>{const k=new FileReader;k.onload=async()=>{const D=await g(k.result);M(D)},k.readAsDataURL(_)})),C=await Promise.all(E);o(_=>[..._,...C]),c(_=>[..._,...C.map(()=>"")]),h(_=>[..._,...C.map(()=>[])]),n({title:"Upload Successful",description:`${w.length} photo(s) added.`})}catch(E){console.error("File processing error:",E),n({title:"Upload Error",description:"An error occurred while processing files.",variant:"destructive"})}},onError:w=>{n({title:"Upload Failed",description:w.message,variant:"destructive"})}}),j=()=>{v.current?.srcObject&&(v.current.srcObject.getTracks().forEach(w=>w.stop()),v.current.srcObject=null,p(!1),n({title:"Camera Stopped"}))},b=(w,E)=>{c(C=>{const _=[...C];return _[w]=E,_})},N=(w,E)=>{const C=E.split(",").map(_=>_.trim()).filter(Boolean);h(_=>{const M=[..._];return M[w]=C,M})},P=w=>{o(E=>E.filter((C,_)=>_!==w)),c(E=>E.filter((C,_)=>_!==w)),h(E=>E.filter((C,_)=>_!==w))},I=async()=>{if(!i.length){n({title:"No Photos",description:"Please add or take at least one photo.",variant:"destructive"});return}s(!0);try{await e(i,l,u),n({title:"Photos Saved",description:`${i.length} photo(s) saved.`})}catch(w){console.error("Save error:",w),n({title:"Save Failed",description:"Unable to save photos.",variant:"destructive"})}finally{s(!1),j()}};return S.useEffect(()=>()=>{j()},[]),r.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex justify-center items-center p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Pe,{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Delivery Photo Capture"}),r.jsx(tt,{children:"Take or upload photos and add optional captions & tags"})]}),r.jsx(ae,{size:"sm",variant:"ghost",onClick:t,children:r.jsx(cr,{className:"w-4 h-4"})})]}),r.jsxs(be,{className:"space-y-6",children:[i.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h3",{className:"font-semibold text-lg",children:["Photos (",i.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.map((w,E)=>r.jsxs("div",{className:"border rounded-lg p-3 space-y-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:w,className:"w-full h-40 object-cover rounded-md",alt:`Photo ${E+1}`}),r.jsx(ae,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>P(E),children:r.jsx(cr,{className:"w-4 h-4"})})]}),r.jsx(ie,{htmlFor:`caption-${E}`,children:"Caption"}),r.jsx(Ee,{id:`caption-${E}`,value:l[E]||"",placeholder:"Optional caption",onChange:C=>b(E,C.target.value)}),r.jsx(ie,{htmlFor:`tags-${E}`,children:"Tags (comma-separated)"}),r.jsx(Ee,{id:`tags-${E}`,value:u[E]?.join(", ")||"",placeholder:"e.g. front, side, receipt",onChange:C=>N(E,C.target.value)})]},E))})]}),r.jsxs("div",{className:"flex justify-end space-x-2 border-t pt-4",children:[r.jsx(ae,{onClick:t,variant:"outline",disabled:a,children:"Cancel"}),r.jsxs(ae,{onClick:I,disabled:a||i.length===0,children:[a?r.jsx("div",{className:"animate-spin h-4 w-4 border-b-2 border-white rounded-full mr-2"}):r.jsx(Hy,{className:"w-4 h-4 mr-2"}),a?"Saving...":"Save Photos"]})]})]})]})})}function _ie({delivery:e,className:t}){const n=S.useRef(null);return S.useEffect(()=>{if(n.current){const a=n.current;a.innerHTML="";const s=document.createElement("div");s.className="relative w-full h-full bg-muted/30 rounded-lg overflow-hidden",s.innerHTML=`
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="text-center">
            <div class="text-muted-foreground mb-2">Map would display here in a real application</div>
            <div class="flex flex-col items-center">
              <div class="text-sm font-medium">Delivery Address:</div>
              <div class="text-sm">${e.address.street}</div>
              <div class="text-sm">${e.address.city}, ${e.address.state} ${e.address.zipCode}</div>
            </div>
          </div>
        </div>
        
        <!-- Simulated map markers -->
        <div class="absolute bottom-4 right-4 bg-background p-2 rounded-md shadow-sm">
          <div class="flex items-center space-x-2 text-xs">
            <div class="flex items-center">
              <div class="w-3 h-3 rounded-full bg-green-500 mr-1"></div>
              <span>Origin</span>
            </div>
            <div class="flex items-center">
              <div class="w-3 h-3 rounded-full bg-red-500 mr-1"></div>
              <span>Destination</span>
            </div>
            ${e.status==="in_transit"?`
              <div class="flex items-center">
                <div class="w-3 h-3 rounded-full bg-blue-500 mr-1"></div>
                <span>Current Location</span>
              </div>
            `:""}
          </div>
        </div>
        
        <!-- Simulated route -->
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
          <svg width="200" height="100" viewBox="0 0 200 100">
            <path d="M20,80 Q100,20 180,80" stroke="#3b82f6" stroke-width="3" fill="none" stroke-dasharray="5,5" />
            ${e.status==="in_transit"?`
              <circle cx="100" cy="50" r="5" fill="#3b82f6" />
            `:""}
            <circle cx="20" cy="80" r="5" fill="#22c55e" />
            <circle cx="180" cy="80" r="5" fill="#ef4444" />
          </svg>
        </div>
      `,a.appendChild(s)}},[e]),r.jsxs(ye,{className:t,children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(ou,{className:"h-5 w-5 mr-2 text-primary"}),"Delivery Map"]}),r.jsx(tt,{children:"Track delivery location and route"})]}),r.jsx(be,{children:r.jsx("div",{ref:n,className:"h-64 w-full",children:r.jsx("div",{className:"flex items-center justify-center h-full bg-muted/30 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx(xi,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading map..."})]})})})})]})}function kie({deliveries:e,onScheduleDelivery:t}){const n=e.length,a=e.filter(p=>p.status===mr.SCHEDULED).length,s=e.filter(p=>p.status===mr.IN_TRANSIT).length,i=e.filter(p=>p.status===mr.DELIVERED).length,o=new Date,l=new Date(o.getTime()+7*24*60*60*1e3),c=e.filter(p=>p.status===mr.SCHEDULED&&p.scheduledDate>=o&&p.scheduledDate<=l).sort((p,v)=>p.scheduledDate.getTime()-v.scheduledDate.getTime()),u=e.filter(p=>p.status===mr.IN_TRANSIT).sort((p,v)=>p.scheduledDate.getTime()-v.scheduledDate.getTime()),h=new Date(o.getTime()-30*24*60*60*1e3),f=e.filter(p=>p.status===mr.DELIVERED&&p.deliveredDate&&p.deliveredDate>=h).sort((p,v)=>(v.deliveredDate?.getTime()||0)-(p.deliveredDate?.getTime()||0)).slice(0,5);return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:[{title:"Total Deliveries",count:n,icon:r.jsx(xi,{className:"h-4 w-4 text-blue-800"}),description:"All time",bg:"bg-blue-100"},{title:"Scheduled",count:a,icon:r.jsx(gn,{className:"h-4 w-4 text-yellow-700"}),description:"Upcoming deliveries",bg:"bg-yellow-100"},{title:"In Transit",count:s,icon:r.jsx(xi,{className:"h-4 w-4 text-orange-700"}),description:"Currently in transit",bg:"bg-orange-100"},{title:"Completed",count:i,icon:r.jsx(yn,{className:"h-4 w-4 text-green-700"}),description:"Successful deliveries",bg:"bg-green-100"}].map((p,v)=>r.jsxs(ye,{className:`${p.bg} border-0 shadow-sm`,children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium",children:p.title}),p.icon]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.count}),r.jsxs("p",{className:"text-xs text-gray-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),p.description]})]})]},v))}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Te,{children:"Upcoming Deliveries"}),r.jsxs(ae,{size:"sm",onClick:t,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Schedule"]})]}),r.jsx(tt,{children:"Deliveries scheduled for the next 7 days"})]}),r.jsx(be,{children:c.length>0?r.jsx("div",{className:"space-y-4",children:c.map(p=>r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[r.jsx(gn,{className:"h-5 w-5 text-blue-500 mt-1"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"font-medium",children:["Delivery #",p.id]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Et(p.scheduledDate)})]}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Customer: ",p.customerId]}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[p.address.city,", ",p.address.state]})]})]},p.id))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(gn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No upcoming deliveries"}),r.jsx("p",{className:"text-sm",children:"Schedule a new delivery to get started"})]})})]}),r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"In-Transit Deliveries"}),r.jsx(tt,{children:"Deliveries currently on the road"})]}),r.jsx(be,{children:u.length>0?r.jsx("div",{className:"space-y-4",children:u.map(p=>r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[r.jsx(xi,{className:"h-5 w-5 text-yellow-500 mt-1"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"font-medium",children:["Delivery #",p.id]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["ETA: ",p.customFields?.estimatedArrival||"Unknown"]})]}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Driver: ",p.driver||"Unassigned"]}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[p.address.city,", ",p.address.state]})]})]},p.id))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(xi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No deliveries in transit"})]})})]})]}),r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsx("div",{className:"md:col-span-2",children:u.length>0?r.jsx(_ie,{delivery:u[0]}):r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(ou,{className:"h-5 w-5 mr-2 text-primary"}),"Delivery Map"]}),r.jsx(tt,{children:"No active deliveries to display"})]}),r.jsx(be,{children:r.jsx("div",{className:"h-64 w-full flex items-center justify-center bg-muted/30 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ou,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),r.jsx("p",{className:"text-muted-foreground",children:"No active deliveries to track"})]})})})]})}),r.jsxs(ye,{children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Recent Deliveries"}),r.jsx(tt,{children:"Recently completed deliveries"})]}),r.jsx(be,{children:f.length>0?r.jsx("div",{className:"space-y-4",children:f.map(p=>r.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[r.jsx(yn,{className:"h-5 w-5 text-green-500 mt-1"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"font-medium",children:["Delivery #",p.id]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:p.deliveredDate?Et(p.deliveredDate):"Unknown"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:["Customer: ",p.customerId]})]})]},p.id))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(yn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No recent deliveries"})]})})]})]})]})}function cI(){const{deliveries:e,createDelivery:t,updateDelivery:n,updateDeliveryStatus:a,sendNotification:s,updateETA:i,addDeliveryPhotos:o}=V8(),{vehicles:l}=vu(),{leads:c}=bl(),{toast:u}=Ht(),[h,f]=S.useState(""),[p,v]=S.useState("all"),[g,y]=S.useState(!1),[x,j]=S.useState(!1),[b,N]=S.useState(!1),[P,I]=S.useState(!1),[w,E]=S.useState(null),C=B=>{switch(B){case mr.SCHEDULED:return"bg-blue-50 text-blue-700 border-blue-200";case mr.IN_TRANSIT:return"bg-yellow-50 text-yellow-700 border-yellow-200";case mr.DELIVERED:return"bg-green-50 text-green-700 border-green-200";case mr.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},_=e.filter(B=>B.id.toLowerCase().includes(h.toLowerCase())||B.customerId.toLowerCase().includes(h.toLowerCase())||B.address.city.toLowerCase().includes(h.toLowerCase())).filter(B=>p==="all"||B.status===p),M=()=>{E(null),y(!0)},k=B=>{E(B),y(!0),j(!1)},D=B=>{E(B),j(!0)},R=async B=>{try{w?(await n(w.id,B),u({title:"Success",description:"Delivery updated successfully"})):(await t(B),u({title:"Success",description:"Delivery scheduled successfully"})),y(!1),E(null)}catch{u({title:"Error",description:`Failed to ${w?"update":"schedule"} delivery`,variant:"destructive"})}},F=async(B,H)=>{try{return H.estimatedArrival&&await i(B,H.estimatedArrival),await s(B,H.type,H.message),!0}catch(G){throw console.error("Error sending notification:",G),G}},z=async(B,H)=>{if(w)try{await o(w.id,B,H),w.status===mr.IN_TRANSIT&&await a(w.id,mr.DELIVERED),I(!1),u({title:"Photos Added",description:`${B.length} photos added to delivery`})}catch{u({title:"Error",description:"Failed to add photos",variant:"destructive"})}},V=B=>l.find(H=>H.id===B);return r.jsxs("div",{className:"space-y-8",children:[g&&r.jsx(W8,{delivery:w||void 0,vehicles:l,customers:c,onSave:R,onCancel:()=>{y(!1),E(null)}}),x&&w&&r.jsx(Tie,{delivery:w,vehicle:V(w.vehicleId),onClose:()=>j(!1),onEdit:k,onSendNotification:async(B,H)=>{j(!1),N(!0)}}),b&&w&&r.jsx(Iie,{delivery:w,onSend:F,onCancel:()=>{N(!1),j(!0)}}),P&&w&&r.jsx(Die,{onCapture:z,onCancel:()=>{I(!1),j(!0)}}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Delivery Tracker"}),r.jsx("p",{className:"ri-page-description",children:"Track vehicle deliveries and logistics"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:M,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Schedule Delivery"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Deliveries"}),r.jsx(xi,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"All deliveries"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Scheduled"}),r.jsx(xi,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.filter(B=>B.status===mr.SCHEDULED).length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(gn,{className:"h-3 w-3 mr-1"}),"Upcoming deliveries"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"In Transit"}),r.jsx(xi,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:e.filter(B=>B.status===mr.IN_TRANSIT).length}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(xi,{className:"h-3 w-3 mr-1"}),"On the road"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Delivered"}),r.jsx(xi,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(B=>B.status===mr.DELIVERED).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Completed"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Notifications"}),r.jsx(Un,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:e.filter(B=>B.customFields?.customerNotified).length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Sent to customers"]})]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search deliveries...",value:h,onChange:B=>f(B.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("select",{value:p,onChange:B=>v(B.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:mr.SCHEDULED,children:"Scheduled"}),r.jsx("option",{value:mr.IN_TRANSIT,children:"In Transit"}),r.jsx("option",{value:mr.DELIVERED,children:"Delivered"}),r.jsx("option",{value:mr.CANCELLED,children:"Cancelled"})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Deliveries"}),r.jsx(tt,{children:"Track and manage vehicle deliveries"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[_.map(B=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Delivery #",B.id]}),r.jsx(Ze,{className:ot("ri-badge-status",C(B.status)),children:B.status.replace("_"," ").toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-3 w-3 mr-2 text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Customer:"}),r.jsx("span",{className:"ml-1",children:B.customerId})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-3 w-3 mr-2 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Driver:"}),r.jsx("span",{className:"ml-1",children:B.driver||"Not assigned"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(gn,{className:"h-3 w-3 mr-2 text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Scheduled:"}),r.jsx("span",{className:"ml-1",children:Et(B.scheduledDate)})]}),B.deliveredDate&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(gn,{className:"h-3 w-3 mr-2 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Delivered:"}),r.jsx("span",{className:"ml-1",children:Et(B.deliveredDate)})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex items-start bg-muted/30 p-2 rounded-md",children:[r.jsx(ou,{className:"h-3 w-3 mr-2 mt-0.5 text-red-500"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[B.address.street,", ",B.address.city,", ",B.address.state," ",B.address.zipCode]})]}),B.notes&&r.jsxs("p",{className:"text-sm text-muted-foreground mt-2 bg-blue-50 p-2 rounded-md",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",B.notes]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>D(B),children:[r.jsx(iu,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>k(B),children:"Edit"}),B.status===mr.IN_TRANSIT&&r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>{E(B),I(!0)},children:[r.jsx(Zc,{className:"h-3 w-3 mr-1"}),"Photos"]}),(B.status===mr.SCHEDULED||B.status===mr.IN_TRANSIT)&&r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>{E(B),N(!0)},children:[r.jsx(Un,{className:"h-3 w-3 mr-1"}),"Notify"]})]})]},B.id)),_.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(xi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No deliveries found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})})]})]})}function Oie(){const{deliveries:e}=V8(),[t,n]=S.useState(!1);return r.jsxs(r.Fragment,{children:[t&&r.jsx(W8,{vehicles:[],customers:[],onSave:async()=>{},onCancel:()=>n(!1)}),r.jsx(kie,{deliveries:e,onScheduleDelivery:()=>n(!0)})]})}function Rie(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(Oie,{})}),r.jsx(vr,{path:"/list",element:r.jsx(cI,{})}),r.jsx(vr,{path:"/*",element:r.jsx(cI,{})})]})}var Xn=(e=>(e.IN_PROGRESS="in_progress",e.COMPLETED="completed",e.APPROVED="approved",e.REJECTED="rejected",e))(Xn||{}),Fr=(e=>(e.PENDING="pending",e.PASSED="passed",e.FAILED="failed",e.NA="na",e))(Fr||{}),cs=(e=>(e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e))(cs||{}),g0=(e=>(e.OPEN="open",e.IN_PROGRESS="in_progress",e.RESOLVED="resolved",e.VERIFIED="verified",e))(g0||{}),Uf=(e=>(e.INSPECTOR="inspector",e.MANAGER="manager",e.QUALITY_CONTROL="quality_control",e))(Uf||{});function Lie(){const[e,t]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState(!1);S.useEffect(()=>{o()},[]);const o=()=>{const k=Qn("renter-insight-pdi-templates",[{id:"1",name:"RV Pre-Delivery Inspection",description:"Standard PDI checklist for recreational vehicles",vehicleType:Rt.RV,isActive:!0,sections:[{id:"1-1",templateId:"1",name:"Exterior",description:"Exterior inspection items",orderIndex:1,items:[{id:"1-1-1",sectionId:"1-1",name:"Exterior Body Condition",description:"Check for scratches, dents, or damage",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-1-2",sectionId:"1-1",name:"Roof Inspection",description:"Check roof seals, vents, and AC units",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")},{id:"1-1-3",sectionId:"1-1",name:"Exterior Photos",description:"Take photos of all sides of the vehicle",itemType:"photo",isRequired:!0,orderIndex:3,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")},{id:"1-2",templateId:"1",name:"Interior",description:"Interior inspection items",orderIndex:2,items:[{id:"1-2-1",sectionId:"1-2",name:"Interior Cleanliness",description:"Verify interior is clean and free of debris",itemType:"checkbox",isRequired:!0,orderIndex:1,createdAt:new Date("2024-01-01")},{id:"1-2-2",sectionId:"1-2",name:"Furniture Condition",description:"Check all furniture for damage or defects",itemType:"checkbox",isRequired:!0,orderIndex:2,createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01")}],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",name:"Motorhome Pre-Delivery Inspection",description:"Comprehensive PDI checklist for motorhomes",vehicleType:Rt.MOTORHOME,isActive:!0,sections:[],createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),D=Qn("renter-insight-pdi-inspections",[{id:"1",templateId:"1",vehicleId:"1",inspectorId:"user-001",status:Xn.IN_PROGRESS,startedAt:new Date("2024-01-15"),notes:"Initial inspection for new RV",items:[{id:"1-1",inspectionId:"1",templateItemId:"1-1-1",status:Fr.PASSED,notes:"No exterior damage found",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")},{id:"1-2",inspectionId:"1",templateItemId:"1-1-2",status:Fr.FAILED,notes:"Roof seal damaged near AC unit",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],defects:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",title:"Roof Seal Damage",description:"Damaged roof seal near AC unit on passenger side",severity:cs.MEDIUM,status:g0.OPEN,assignedTo:"user-002",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}],photos:[{id:"1-1",inspectionId:"1",inspectionItemId:"1-2",defectId:"1-1",url:"https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg",caption:"Damaged roof seal",createdAt:new Date("2024-01-15")}],signoffs:[],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]);t(k),a(D)},l=k=>{Sn("renter-insight-pdi-templates",k)},c=k=>{Sn("renter-insight-pdi-inspections",k)};return{templates:e,inspections:n,loading:s,getTemplatesByVehicleType:k=>e.filter(D=>D.vehicleType===k&&D.isActive),getTemplateById:k=>e.find(D=>D.id===k),createTemplate:async k=>{i(!0);try{const D={id:Math.random().toString(36).substr(2,9),name:k.name||"",description:k.description||"",vehicleType:k.vehicleType||Rt.RV,isActive:k.isActive??!0,sections:k.sections||[],createdAt:new Date,updatedAt:new Date},R=[...e,D];return t(R),l(R),D}finally{i(!1)}},updateTemplate:async(k,D)=>{const R=e.map(F=>F.id===k?{...F,...D,updatedAt:new Date}:F);t(R),l(R)},deleteTemplate:async k=>{const D=e.filter(R=>R.id!==k);t(D),l(D)},createTemplateSection:async(k,D)=>{const R=e.find(B=>B.id===k);if(!R)return null;const F={id:Math.random().toString(36).substr(2,9),templateId:k,name:D.name||"",description:D.description||"",orderIndex:D.orderIndex||R.sections.length+1,items:D.items||[],createdAt:new Date},z={...R,sections:[...R.sections,F],updatedAt:new Date},V=e.map(B=>B.id===k?z:B);return t(V),l(V),F},createTemplateItem:async(k,D)=>{const R=e.findIndex($=>$.sections.some(K=>K.id===k));if(R===-1)return null;const F=e[R],z=F.sections.findIndex($=>$.id===k);if(z===-1)return null;const V=F.sections[z],B={id:Math.random().toString(36).substr(2,9),sectionId:k,name:D.name||"",description:D.description||"",itemType:D.itemType||"checkbox",isRequired:D.isRequired??!0,orderIndex:D.orderIndex||V.items.length+1,createdAt:new Date},H={...V,items:[...V.items,B]},G=[...F.sections];G[z]=H;const Z={...F,sections:G,updatedAt:new Date},Q=[...e];return Q[R]=Z,t(Q),l(Q),B},getInspectionsByVehicleId:k=>n.filter(D=>D.vehicleId===k),getInspectionById:k=>n.find(D=>D.id===k),createInspection:async k=>{i(!0);try{const D=e.find(V=>V.id===k.templateId);if(!D)throw new Error("Template not found");const R=[];D.sections.forEach(V=>{V.items.forEach(B=>{R.push({id:Math.random().toString(36).substr(2,9),inspectionId:"",templateItemId:B.id,templateItem:B,status:Fr.PENDING,createdAt:new Date,updatedAt:new Date})})});const F={id:Math.random().toString(36).substr(2,9),templateId:k.templateId||"",template:D||void 0,vehicleId:k.vehicleId||"",inspectorId:k.inspectorId||"",status:Xn.IN_PROGRESS,startedAt:new Date,notes:k.notes||"",items:[],defects:[],photos:[],signoffs:[],createdAt:new Date,updatedAt:new Date};R.forEach(V=>{V.inspectionId=F.id}),F.items=R;const z=[...n,F];return a(z),c(z),F}finally{i(!1)}},updateInspection:async(k,D)=>{const R=n.map(F=>F.id===k?{...F,...D,updatedAt:new Date}:F);a(R),c(R)},updateInspectionItem:async(k,D,R)=>{const F=n.findIndex(Z=>Z.id===k);if(F===-1)return;const z=n[F],V=z.items.findIndex(Z=>Z.id===D);if(V===-1)return;const B=[...z.items];B[V]={...B[V],...R,updatedAt:new Date};const H={...z,items:B,updatedAt:new Date},G=[...n];G[F]=H,a(G),c(G)},completeInspection:async(k,D)=>{const R=n.findIndex(H=>H.id===k);if(R===-1)return;const F=n[R];if(!F.items.every(H=>!e.flatMap(Z=>Z.sections).flatMap(Z=>Z.items).find(Z=>Z.id===H.templateItemId)?.isRequired||H.status!==Fr.PENDING))throw new Error("All required items must be completed");const V={...F,status:Xn.COMPLETED,completedAt:new Date,notes:D||F.notes,updatedAt:new Date},B=[...n];B[R]=V,a(B),c(B)},createDefect:async(k,D)=>{const R=n.findIndex(H=>H.id===k);if(R===-1)return null;const F=n[R],z={id:Math.random().toString(36).substr(2,9),inspectionId:k,inspectionItemId:D.inspectionItemId,title:D.title||"",description:D.description||"",severity:D.severity||cs.MEDIUM,status:g0.OPEN,assignedTo:D.assignedTo,photos:[],createdAt:new Date,updatedAt:new Date},V={...F,defects:[...F.defects,z],updatedAt:new Date},B=[...n];return B[R]=V,a(B),c(B),z},updateDefect:async(k,D,R)=>{const F=n.findIndex(Z=>Z.id===k);if(F===-1)return;const z=n[F],V=z.defects.findIndex(Z=>Z.id===D);if(V===-1)return;const B=[...z.defects];B[V]={...B[V],...R,updatedAt:new Date};const H={...z,defects:B,updatedAt:new Date},G=[...n];G[F]=H,a(G),c(G)},resolveDefect:async(k,D,R)=>{const F=n.findIndex(Z=>Z.id===k);if(F===-1)return;const z=n[F],V=z.defects.findIndex(Z=>Z.id===D);if(V===-1)return;const B=[...z.defects];B[V]={...B[V],status:g0.RESOLVED,resolvedAt:new Date,resolutionNotes:R,updatedAt:new Date};const H={...z,defects:B,updatedAt:new Date},G=[...n];G[F]=H,a(G),c(G)},addPhoto:async(k,D)=>{const R=n.findIndex(H=>H.id===k);if(R===-1)return null;const F=n[R],z={id:Math.random().toString(36).substr(2,9),inspectionId:k,inspectionItemId:D.inspectionItemId,defectId:D.defectId,url:D.url||"",caption:D.caption,createdAt:new Date},V={...F,photos:[...F.photos,z],updatedAt:new Date},B=[...n];return B[R]=V,a(B),c(B),z},addSignoff:async(k,D)=>{const R=n.findIndex(G=>G.id===k);if(R===-1)return null;const F=n[R],z={id:Math.random().toString(36).substr(2,9),inspectionId:k,userId:D.userId||"",role:D.role||Uf.INSPECTOR,signatureUrl:D.signatureUrl,notes:D.notes,signedAt:new Date,createdAt:new Date};let V=F.status;D.role===Uf.MANAGER&&(V=Xn.APPROVED);const B={...F,signoffs:[...F.signoffs,z],status:V,updatedAt:new Date},H=[...n];return H[R]=B,a(H),c(H),z}}}function Fie({templates:e,onCreateTemplate:t,onEditTemplate:n,onDeleteTemplate:a,onDuplicateTemplate:s,onViewTemplate:i}){const[o,l]=S.useState(""),[c,u]=S.useState("all"),h=e.filter(p=>{const v=p.name.toLowerCase().includes(o.toLowerCase())||p.description?.toLowerCase().includes(o.toLowerCase()),g=c==="all"||p.vehicleType===c;return v&&g}),f=p=>p.replace("_"," ").toUpperCase();return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"ri-search-bar flex-1",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search templates...",value:o,onChange:p=>l(p.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"rv",children:"RV"}),r.jsx("option",{value:"motorhome",children:"Motorhome"}),r.jsx("option",{value:"travel_trailer",children:"Travel Trailer"}),r.jsx("option",{value:"fifth_wheel",children:"Fifth Wheel"}),r.jsx("option",{value:"toy_hauler",children:"Toy Hauler"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]}),r.jsxs(ae,{onClick:t,className:"shadow-sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Template"]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"text-xl",children:["PDI Templates (",h.length,")"]}),r.jsx(tt,{children:"Manage pre-delivery inspection templates for different vehicle types"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[h.map(p=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),r.jsx(Ze,{variant:"outline",children:f(p.vehicleType)}),p.isActive?r.jsx(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:"ACTIVE"}):r.jsx(Ze,{className:"bg-gray-50 text-gray-700 border-gray-200",children:"INACTIVE"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:p.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(q5,{className:"h-3 w-3 mr-1 text-blue-500"}),p.sections.length," sections"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(hA,{className:"h-3 w-3 mr-1 text-green-500"}),p.sections.reduce((v,g)=>v+g.items.length,0)," items"]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>i(p),children:"View"}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>n(p),children:[r.jsx(bn,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>s(p),children:[r.jsx(mA,{className:"h-3 w-3 mr-1"}),"Duplicate"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>a(p.id),children:r.jsx(oa,{className:"h-3 w-3"})})]})]},p.id)),h.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(q5,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No templates found"}),r.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})})]})]})}function Mie({template:e,onSave:t,onCancel:n}){const{toast:a}=Ht(),[s,i]=S.useState(!1),[o,l]=S.useState({name:"",description:"",vehicleType:Rt.RV,isActive:!0,sections:[]}),[c,u]=S.useState(!1),[h,f]=S.useState({name:"",description:"",items:[]}),[p,v]=S.useState(null),[g,y]=S.useState(!1),[x,j]=S.useState({name:"",description:"",itemType:"checkbox",isRequired:!0});S.useEffect(()=>{e&&l({...e})},[e]);const b=async k=>{if(k.preventDefault(),!o.name){a({title:"Validation Error",description:"Template name is required",variant:"destructive"});return}if(!o.vehicleType){a({title:"Validation Error",description:"Vehicle type is required",variant:"destructive"});return}if(!o.sections||o.sections.length===0){a({title:"Validation Error",description:"At least one section is required",variant:"destructive"});return}const D=o.sections.filter(R=>!R.items||R.items.length===0);if(D.length>0){a({title:"Validation Error",description:`Section "${D[0].name}" must have at least one item`,variant:"destructive"});return}i(!0);try{await t(o),a({title:"Success",description:`Template ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} template`,variant:"destructive"})}finally{i(!1)}},N=()=>{if(!h.name){a({title:"Validation Error",description:"Section name is required",variant:"destructive"});return}const k={id:Math.random().toString(36).substr(2,9),templateId:e?.id||"",name:h.name,description:h.description||"",orderIndex:(o.sections?.length||0)+1,items:[],createdAt:new Date};l(D=>({...D,sections:[...D.sections||[],k]})),f({name:"",description:"",items:[]}),u(!1)},P=k=>{l(D=>({...D,sections:D.sections?.filter(R=>R.id!==k)||[]}))},I=k=>{const D=[...o.sections||[]],R=D.findIndex(F=>F.id===k);R<=0||([D[R-1],D[R]]=[D[R],D[R-1]],D.forEach((F,z)=>{F.orderIndex=z+1}),l(F=>({...F,sections:D})))},w=k=>{const D=[...o.sections||[]],R=D.findIndex(F=>F.id===k);R===-1||R>=D.length-1||([D[R],D[R+1]]=[D[R+1],D[R]],D.forEach((F,z)=>{F.orderIndex=z+1}),l(F=>({...F,sections:D})))},E=k=>{if(!x.name){a({title:"Validation Error",description:"Item name is required",variant:"destructive"});return}const D=[...o.sections||[]],R=D.findIndex(V=>V.id===k);if(R===-1)return;const F=D[R],z={id:Math.random().toString(36).substr(2,9),sectionId:k,name:x.name,description:x.description||"",itemType:x.itemType||"checkbox",isRequired:x.isRequired??!0,orderIndex:(F.items?.length||0)+1,createdAt:new Date};F.items=[...F.items||[],z],D[R]=F,l(V=>({...V,sections:D})),j({name:"",description:"",itemType:"checkbox",isRequired:!0}),y(!1)},C=(k,D)=>{const R=[...o.sections||[]],F=R.findIndex(V=>V.id===k);if(F===-1)return;const z=R[F];z.items=z.items.filter(V=>V.id!==D),R[F]=z,l(V=>({...V,sections:R}))},_=(k,D)=>{const R=[...o.sections||[]],F=R.findIndex(H=>H.id===k);if(F===-1)return;const z=R[F],V=[...z.items],B=V.findIndex(H=>H.id===D);B<=0||([V[B-1],V[B]]=[V[B],V[B-1]],V.forEach((H,G)=>{H.orderIndex=G+1}),z.items=V,R[F]=z,l(H=>({...H,sections:R})))},M=(k,D)=>{const R=[...o.sections||[]],F=R.findIndex(H=>H.id===k);if(F===-1)return;const z=R[F],V=[...z.items],B=V.findIndex(H=>H.id===D);B===-1||B>=V.length-1||([V[B],V[B+1]]=[V[B+1],V[B]],V.forEach((H,G)=>{H.orderIndex=G+1}),z.items=V,R[F]=z,l(H=>({...H,sections:R})))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Template":"Create Template"}),r.jsx(tt,{children:e?"Update PDI template details":"Create a new PDI template"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Template Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Template Name *"}),r.jsx(Ee,{id:"name",value:o.name,onChange:k=>l(D=>({...D,name:k.target.value})),placeholder:"e.g., RV Pre-Delivery Inspection"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"vehicleType",children:"Home/Vehicle Type *"}),r.jsxs(Xe,{value:o.vehicleType,onValueChange:k=>l(D=>({...D,vehicleType:k})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:Rt.RV,children:"RV"}),r.jsx(ee,{value:Rt.MOTORHOME,children:"Motorhome"}),r.jsx(ee,{value:Rt.TRAVEL_TRAILER,children:"Travel Trailer"}),r.jsx(ee,{value:Rt.FIFTH_WHEEL,children:"Fifth Wheel"}),r.jsx(ee,{value:Rt.TOY_HAULER,children:"Toy Hauler"}),r.jsx(ee,{value:Rt.SINGLE_WIDE,children:"Single Wide MH"}),r.jsx(ee,{value:Rt.DOUBLE_WIDE,children:"Double Wide MH"}),r.jsx(ee,{value:Rt.TRIPLE_WIDE,children:"Triple Wide MH"}),r.jsx(ee,{value:Rt.PARK_MODEL,children:"Park Model"}),r.jsx(ee,{value:Rt.MODULAR_HOME,children:"Modular Home"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"description",children:"Description"}),r.jsx(wr,{id:"description",value:o.description,onChange:k=>l(D=>({...D,description:k.target.value})),placeholder:"Describe the purpose and scope of this template",rows:3})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isActive",checked:o.isActive,onCheckedChange:k=>l(D=>({...D,isActive:!!k}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active template"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Sections"}),r.jsxs(ae,{type:"button",onClick:()=>u(!0),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Section"]})]}),c&&r.jsx(ye,{className:"border-dashed",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"sectionName",children:"Section Name *"}),r.jsx(Ee,{id:"sectionName",value:h.name,onChange:k=>f(D=>({...D,name:k.target.value})),placeholder:"e.g., Exterior Inspection"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"sectionDescription",children:"Description"}),r.jsx(wr,{id:"sectionDescription",value:h.description,onChange:k=>f(D=>({...D,description:k.target.value})),placeholder:"Describe this section",rows:2})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),r.jsx(ae,{type:"button",onClick:N,children:"Add Section"})]})]})})}),r.jsxs("div",{className:"space-y-6",children:[o.sections?.map(k=>r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-lg",children:k.name}),k.description&&r.jsx(tt,{children:k.description})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>I(k.id),disabled:k.orderIndex<=1,children:r.jsx(Ql,{className:"h-4 w-4"})}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>w(k.id),disabled:k.orderIndex>=(o.sections?.length||0),children:r.jsx(Xl,{className:"h-4 w-4"})}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(k.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]})]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-sm font-semibold",children:["Items (",k.items.length,")"]}),r.jsxs(ae,{type:"button",size:"sm",variant:"outline",onClick:()=>{v(k.id),y(!0)},children:[r.jsx(qt,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),g&&p===k.id&&r.jsx(ye,{className:"border-dashed",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"itemName",children:"Item Name *"}),r.jsx(Ee,{id:"itemName",value:x.name,onChange:D=>j(R=>({...R,name:D.target.value})),placeholder:"e.g., Check Exterior Body Condition"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"itemType",children:"Item Type"}),r.jsxs(Xe,{value:x.itemType,onValueChange:D=>j(R=>({...R,itemType:D})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"checkbox",children:"Checkbox"}),r.jsx(ee,{value:"text",children:"Text Input"}),r.jsx(ee,{value:"number",children:"Number Input"}),r.jsx(ee,{value:"photo",children:"Photo Upload"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"itemDescription",children:"Description"}),r.jsx(wr,{id:"itemDescription",value:x.description,onChange:D=>j(R=>({...R,description:D.target.value})),placeholder:"Describe this inspection item",rows:2})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isRequired",checked:x.isRequired,onCheckedChange:D=>j(R=>({...R,isRequired:!!D}))}),r.jsx(ie,{htmlFor:"isRequired",children:"Required item"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>{y(!1),v(null)},children:"Cancel"}),r.jsx(ae,{type:"button",onClick:()=>E(k.id),children:"Add Item"})]})]})})}),r.jsxs("div",{className:"space-y-2",children:[k.items.map(D=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium",children:D.name}),r.jsx(Ze,{variant:"outline",className:"text-xs",children:D.itemType}),D.isRequired&&r.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"})]}),D.description&&r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.description})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>_(k.id,D.id),disabled:D.orderIndex<=1,children:r.jsx(Ql,{className:"h-3 w-3"})}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(k.id,D.id),disabled:D.orderIndex>=k.items.length,children:r.jsx(Xl,{className:"h-3 w-3"})}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(k.id,D.id),children:r.jsx(oa,{className:"h-3 w-3 text-red-500"})})]})]},D.id)),k.items.length===0&&r.jsxs("div",{className:"text-center py-4 text-sm text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(hA,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground/50"}),r.jsx("p",{children:"No items added yet"}),r.jsx("p",{className:"text-xs",children:"Add items to this section"})]})]})]})})]},k.id)),(!o.sections||o.sections.length===0)&&r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(q5,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No sections added yet"}),r.jsx("p",{className:"text-sm",children:"Add sections to organize your checklist"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:s,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Template"]})})]})]})})]})})}function $ie({inspections:e,onCreateInspection:t,onViewInspection:n,onContinueInspection:a}){const[s,i]=S.useState(""),[o,l]=S.useState("all"),c=e.filter(f=>{const p=f.id.toLowerCase().includes(s.toLowerCase())||f.vehicleId.toLowerCase().includes(s.toLowerCase()),v=o==="all"||f.status===o;return p&&v}),u=f=>{switch(f){case Xn.IN_PROGRESS:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Xn.COMPLETED:return"bg-blue-50 text-blue-700 border-blue-200";case Xn.APPROVED:return"bg-green-50 text-green-700 border-green-200";case Xn.REJECTED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},h=f=>{switch(f){case Xn.IN_PROGRESS:return r.jsx(Ar,{className:"h-4 w-4 text-yellow-500"});case Xn.COMPLETED:return r.jsx(yn,{className:"h-4 w-4 text-blue-500"});case Xn.APPROVED:return r.jsx(yn,{className:"h-4 w-4 text-green-500"});case Xn.REJECTED:return r.jsx(xm,{className:"h-4 w-4 text-red-500"});default:return r.jsx(Ar,{className:"h-4 w-4 text-gray-500"})}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"ri-search-bar flex-1",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search inspections...",value:s,onChange:f=>i(f.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:o,onChange:f=>l(f.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]}),r.jsxs(ae,{onClick:t,className:"shadow-sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"text-xl",children:["Home/Vehicle PDI Inspections (",c.length,")"]}),r.jsx(tt,{children:"Manage pre-delivery inspections for homes and vehicles"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[c.map(f=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Inspection #",f.id.substring(0,8)]}),r.jsxs(Ze,{className:ot("ri-badge-status",u(f.status)),children:[h(f.status),r.jsx("span",{className:"ml-1",children:f.status.replace("_"," ").toUpperCase()})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Vehicle:"}),r.jsxs("span",{className:"ml-1",children:[f.vehicle?.make," ",f.vehicle?.model," (",f.vehicleId,")"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Inspector:"}),r.jsx("span",{className:"ml-1",children:f.inspector?.name||f.inspectorId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Started:"}),r.jsx("span",{className:"ml-1",children:Et(f.startedAt)})]}),f.completedAt&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Completed:"}),r.jsx("span",{className:"ml-1",children:Et(f.completedAt)})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(yn,{className:"h-3 w-3 mr-1 text-green-500"}),f.items.filter(p=>p.status==="passed").length," passed"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(xm,{className:"h-3 w-3 mr-1 text-red-500"}),f.items.filter(p=>p.status==="failed").length," failed"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Ar,{className:"h-3 w-3 mr-1 text-yellow-500"}),f.items.filter(p=>p.status==="pending").length," pending"]})]}),f.defects.length>0&&r.jsx("div",{className:"mt-2 bg-red-50 p-2 rounded-md",children:r.jsxs("p",{className:"text-sm text-red-700 flex items-center",children:[r.jsx(xm,{className:"h-3 w-3 mr-1"}),f.defects.length," defect",f.defects.length!==1?"s":""," found"]})})]})}),r.jsx("div",{className:"ri-action-buttons",children:f.status===Xn.IN_PROGRESS?r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>a(f),children:[r.jsx(ih,{className:"h-3 w-3 mr-1"}),"Continue"]}):r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>n(f),children:[r.jsx(iu,{className:"h-3 w-3 mr-1"}),"View"]})})]},f.id)),c.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(ih,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No inspections found"}),r.jsx("p",{className:"text-sm",children:"Create your first inspection to get started"})]})]})})]})]})}function Bie({inspection:e,vehicles:t,onSave:n,onComplete:a,onUpdateItem:s,onAddDefect:i,onAddPhoto:o,onCancel:l}){const{toast:c}=Ht(),[u,h]=S.useState(!1),[f,p]=S.useState("checklist"),[v,g]=S.useState(e.notes||""),[y,x]=S.useState(!1),[j,b]=S.useState(null),[N,P]=S.useState({title:"",description:"",severity:cs.MEDIUM}),[I,w]=S.useState(!1),[E,C]=S.useState("");S.useEffect(()=>{g(e.notes||"")},[e]);const{getRootProps:_,getInputProps:M}=Ox({accept:{"image/*":[]},onDrop:G=>{if(G.length===0)return;const Z=G[0],Q=URL.createObjectURL(Z);z(Q)}}),k=async()=>{h(!0);try{await n({notes:v}),c({title:"Success",description:"Inspection saved successfully"})}catch{c({title:"Error",description:"Failed to save inspection",variant:"destructive"})}finally{h(!1)}},D=async()=>{const G=e.items.filter(Z=>Z.templateItem?.isRequired&&Z.status===Fr.PENDING);if(G.length>0){c({title:"Incomplete Inspection",description:`${G.length} required items are still pending`,variant:"destructive"});return}h(!0);try{await a(e.id,v),c({title:"Success",description:"Inspection completed successfully"}),l()}catch{c({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}finally{h(!1)}},R=async(G,Z,Q,$)=>{try{await s(e.id,G,{status:Z,value:Q,notes:$}),Z===Fr.FAILED&&(b(G),x(!0))}catch{c({title:"Error",description:"Failed to update item",variant:"destructive"})}},F=async()=>{if(!N.title||!N.description){c({title:"Validation Error",description:"Title and description are required",variant:"destructive"});return}try{await i(e.id,{...N,inspectionItemId:j||void 0}),P({title:"",description:"",severity:cs.MEDIUM}),b(null),x(!1),c({title:"Success",description:"Defect added successfully"})}catch{c({title:"Error",description:"Failed to add defect",variant:"destructive"})}},z=async G=>{try{await o(e.id,{url:G,inspectionItemId:j||void 0,caption:E}),C(""),w(!1),c({title:"Success",description:"Photo added successfully"})}catch{c({title:"Error",description:"Failed to add photo",variant:"destructive"})}},V=G=>{switch(G){case Fr.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Fr.PASSED:return"bg-green-50 text-green-700 border-green-200";case Fr.FAILED:return"bg-red-50 text-red-700 border-red-200";case Fr.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},B=G=>{switch(G){case cs.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case cs.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case cs.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case cs.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},H=t.find(G=>G.id===e.vehicleId);return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"PDI Inspection"}),r.jsx(tt,{children:H?`${H.year} ${H.make} ${H.model}`:e.vehicleId})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",e.status===Xn.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===Xn.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===Xn.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:l,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsx(be,{children:r.jsxs(Or,{value:f,onValueChange:p,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"checklist",children:"Checklist"}),r.jsxs(ut,{value:"defects",children:["Defects",e.defects.length>0&&r.jsx(Ze,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),r.jsxs(ut,{value:"photos",children:["Photos",e.photos.length>0&&r.jsx(Ze,{className:"ml-2 bg-blue-50 text-blue-700 border-blue-200",children:e.photos.length})]})]}),r.jsxs(ft,{value:"checklist",className:"space-y-6",children:[y&&r.jsxs(ye,{className:"border-2 border-red-200",children:[r.jsxs(Pe,{className:"bg-red-50",children:[r.jsxs(Te,{className:"text-lg text-red-700 flex items-center",children:[r.jsx(Vi,{className:"h-5 w-5 mr-2"}),"Report Defect"]}),r.jsx(tt,{className:"text-red-600",children:"Record details about the issue found"})]}),r.jsxs(be,{className:"pt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"defectTitle",children:"Defect Title *"}),r.jsx(Ee,{id:"defectTitle",value:N.title,onChange:G=>P(Z=>({...Z,title:G.target.value})),placeholder:"e.g., Damaged Roof Seal"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"defectDescription",children:"Description *"}),r.jsx(wr,{id:"defectDescription",value:N.description,onChange:G=>P(Z=>({...Z,description:G.target.value})),placeholder:"Describe the defect in detail",rows:3})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"defectSeverity",children:"Severity"}),r.jsxs(Xe,{value:N.severity,onValueChange:G=>P(Z=>({...Z,severity:G})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:cs.LOW,children:"Low"}),r.jsx(ee,{value:cs.MEDIUM,children:"Medium"}),r.jsx(ee,{value:cs.HIGH,children:"High"}),r.jsx(ee,{value:cs.CRITICAL,children:"Critical"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>{x(!1),b(null)},children:"Cancel"}),r.jsx(ae,{type:"button",onClick:F,children:"Add Defect"})]})]})]}),I&&r.jsxs(ye,{className:"border-2 border-blue-200",children:[r.jsxs(Pe,{className:"bg-blue-50",children:[r.jsxs(Te,{className:"text-lg text-blue-700 flex items-center",children:[r.jsx(Zc,{className:"h-5 w-5 mr-2"}),"Add Photo"]}),r.jsx(tt,{className:"text-blue-600",children:"Upload a photo for documentation"})]}),r.jsxs(be,{className:"pt-6 space-y-4",children:[r.jsxs("div",{..._(),className:"border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:bg-muted/10",children:[r.jsx("input",{...M()}),r.jsx(Am,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop an image here, or click to select a file"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"photoCaption",children:"Caption (Optional)"}),r.jsx(Ee,{id:"photoCaption",value:E,onChange:G=>C(G.target.value),placeholder:"e.g., Front view of vehicle"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>{w(!1),b(null),C("")},children:"Cancel"}),r.jsx(ae,{type:"button",onClick:()=>{z("https://images.pexels.com/photos/1319515/pexels-photo-1319515.jpeg")},children:"Simulate Upload"})]})]})]}),e.template?.sections.map(G=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:G.name}),G.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:G.description}),r.jsx("div",{className:"space-y-3",children:G.items.map(Z=>{const Q=e.items.find($=>$.templateItemId===Z.id);return Q?r.jsx(ye,{className:"shadow-sm",children:r.jsx(be,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h4",{className:"font-medium",children:Z.name}),Z.isRequired&&r.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),r.jsx(Ze,{className:ot("ri-badge-status text-xs",V(Q.status)),children:Q.status.toUpperCase()})]}),Z.description&&r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:Z.description}),Z.itemType==="text"&&r.jsx("div",{className:"mb-3",children:r.jsx(Ee,{value:Q.value||"",onChange:$=>R(Q.id,Fr.PASSED,$.target.value),placeholder:"Enter text"})}),Z.itemType==="number"&&r.jsx("div",{className:"mb-3",children:r.jsx(Ee,{type:"number",value:Q.value||"",onChange:$=>R(Q.id,Fr.PASSED,$.target.value),placeholder:"Enter number"})}),Z.itemType==="photo"&&r.jsxs("div",{className:"mb-3",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{b(Q.id),w(!0)},children:[r.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Add Photo"]}),e.photos.filter($=>$.inspectionItemId===Q.id).length>0&&r.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:e.photos.filter($=>$.inspectionItemId===Q.id).map($=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:$.url,alt:$.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),$.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:$.caption})]},$.id))})]}),Q.notes&&r.jsx("div",{className:"mb-3 p-2 bg-muted/30 rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",Q.notes]})}),Q.status!==Fr.PENDING&&r.jsx("div",{className:"mb-3",children:r.jsx(wr,{value:Q.notes||"",onChange:$=>R(Q.id,Q.status,Q.value,$.target.value),placeholder:"Add notes (optional)",rows:2})})]}),Z.itemType==="checkbox"&&r.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[r.jsxs(ae,{variant:Q.status===Fr.PASSED?"default":"outline",size:"sm",onClick:()=>R(Q.id,Fr.PASSED),className:Q.status===Fr.PASSED?"":"border-green-200 text-green-700",children:[r.jsx(yn,{className:"h-4 w-4 mr-1"}),"Pass"]}),r.jsxs(ae,{variant:Q.status===Fr.FAILED?"default":"outline",size:"sm",onClick:()=>R(Q.id,Fr.FAILED),className:Q.status===Fr.FAILED?"":"border-red-200 text-red-700",children:[r.jsx(Ao,{className:"h-4 w-4 mr-1"}),"Fail"]}),r.jsx(ae,{variant:Q.status===Fr.NA?"default":"outline",size:"sm",onClick:()=>R(Q.id,Fr.NA),className:Q.status===Fr.NA?"":"border-gray-200 text-gray-700",children:"N/A"})]})]})})},Z.id):null})})]},G.id)),r.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"inspectionNotes",children:"Inspection Notes"}),r.jsx(wr,{id:"inspectionNotes",value:v,onChange:G=>g(G.target.value),placeholder:"Add general notes about this inspection",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:l,disabled:u,children:"Cancel"}),r.jsxs(ae,{type:"button",onClick:k,disabled:u,children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Progress"]}),r.jsxs(ae,{type:"button",onClick:D,disabled:u||e.status!=="in_progress",children:[r.jsx(ih,{className:"h-4 w-4 mr-2"}),"Complete Inspection"]})]})]})]}),r.jsxs(ft,{value:"defects",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),r.jsxs(ae,{size:"sm",onClick:()=>{b(null),x(!0)},children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Defect"]})]}),e.defects.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Vi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No defects reported"}),r.jsx("p",{className:"text-sm",children:"Add defects when issues are found"})]}):r.jsx("div",{className:"space-y-4",children:e.defects.map(G=>r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold",children:G.title}),r.jsx(Ze,{className:ot("ri-badge-status",B(G.severity)),children:G.severity.toUpperCase()}),r.jsx(Ze,{className:G.status==="open"?"bg-red-50 text-red-700 border-red-200":G.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":G.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:G.status.replace("_"," ").toUpperCase()})]})})}),r.jsxs(be,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:G.description}),e.photos.filter(Z=>Z.defectId===G.id).length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(Z=>Z.defectId===G.id).map(Z=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:Z.url,alt:Z.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),Z.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:Z.caption})]},Z.id))})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:G.assignedTo?r.jsxs("span",{children:["Assigned to: ",G.assignedTo]}):r.jsx("span",{children:"Unassigned"})}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>{b(null),w(!0)},children:[r.jsx(Zc,{className:"h-3 w-3 mr-1"}),"Add Photo"]})})]})]})]},G.id))})]}),r.jsxs(ft,{value:"photos",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Photos"}),r.jsxs(ae,{size:"sm",onClick:()=>{b(null),w(!0)},children:[r.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Add Photo"]})]}),e.photos.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Am,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No photos added"}),r.jsx("p",{className:"text-sm",children:"Add photos to document the inspection"})]}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.photos.map(G=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:G.url,alt:G.caption||"Inspection photo",className:"h-40 w-full object-cover rounded-md"}),G.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white p-2 truncate",children:G.caption})]},G.id))})]})]})})]})})}function qie({inspection:e,vehicles:t,onAddSignoff:n,onClose:a}){const{toast:s}=Ht(),[i,o]=S.useState("summary"),[l,c]=S.useState(!1),[u,h]=S.useState(""),[f,p]=S.useState(Uf.INSPECTOR),v=async()=>{try{await n(e.id,{role:f,notes:u,signatureUrl:"https://via.placeholder.com/200x100?text=Signature"}),c(!1),h(""),s({title:"Success",description:"Signoff added successfully"})}catch{s({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},g=w=>{switch(w){case Fr.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case Fr.PASSED:return"bg-green-50 text-green-700 border-green-200";case Fr.FAILED:return"bg-red-50 text-red-700 border-red-200";case Fr.NA:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},y=w=>{switch(w){case cs.LOW:return"bg-blue-50 text-blue-700 border-blue-200";case cs.MEDIUM:return"bg-yellow-50 text-yellow-700 border-yellow-200";case cs.HIGH:return"bg-orange-50 text-orange-700 border-orange-200";case cs.CRITICAL:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},x=t.find(w=>w.id===e.vehicleId),j=e.items.filter(w=>w.status===Fr.PASSED).length,b=e.items.filter(w=>w.status===Fr.FAILED).length,N=e.items.filter(w=>w.status===Fr.NA).length,P=e.items.length,I=Math.round((j+b+N)/P*100);return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"PDI Inspection Report"}),r.jsx(tt,{children:x?`${x.year} ${x.make} ${x.model}`:e.vehicleId})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",e.status===Xn.IN_PROGRESS?"bg-yellow-50 text-yellow-700 border-yellow-200":e.status===Xn.COMPLETED?"bg-blue-50 text-blue-700 border-blue-200":e.status===Xn.APPROVED?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"),children:e.status.replace("_"," ").toUpperCase()}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:a,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsx(be,{children:r.jsxs(Or,{value:i,onValueChange:o,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-4",children:[r.jsx(ut,{value:"summary",children:"Summary"}),r.jsx(ut,{value:"checklist",children:"Checklist"}),r.jsxs(ut,{value:"defects",children:["Defects",e.defects.length>0&&r.jsx(Ze,{className:"ml-2 bg-red-50 text-red-700 border-red-200",children:e.defects.length})]}),r.jsxs(ut,{value:"signoffs",children:["Signoffs",e.signoffs.length>0&&r.jsx(Ze,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:e.signoffs.length})]})]}),r.jsxs(ft,{value:"summary",className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsx(Te,{className:"text-lg",children:"Inspection Details"})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),r.jsx("p",{className:"font-medium",children:e.status.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Inspector"}),r.jsx("p",{className:"font-medium",children:e.inspector?.name||e.inspectorId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Started"}),r.jsx("p",{className:"font-medium",children:Et(e.startedAt)})]}),e.completedAt&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),r.jsx("p",{className:"font-medium",children:Et(e.completedAt)})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("p",{className:"text-sm mt-1 p-3 bg-muted/30 rounded-md",children:e.notes})]})]})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsx(Te,{className:"text-lg",children:"Inspection Results"})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Completion"}),r.jsxs("span",{className:"text-sm font-bold",children:[I,"%"]})]}),r.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:r.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${I}%`}})}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-green-700",children:j}),r.jsx("p",{className:"text-xs text-green-600",children:"Passed"})]}),r.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-red-700",children:b}),r.jsx("p",{className:"text-xs text-red-600",children:"Failed"})]}),r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-lg font-bold text-gray-700",children:N}),r.jsx("p",{className:"text-xs text-gray-600",children:"N/A"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Defects"}),r.jsx("span",{className:"text-sm font-bold text-red-600",children:e.defects.length})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Photos"}),r.jsx("span",{className:"text-sm font-bold",children:e.photos.length})]})]})})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(ae,{variant:"outline",onClick:a,children:"Close"}),r.jsxs(ae,{variant:"outline",children:[r.jsx(hh,{className:"h-4 w-4 mr-2"}),"Print Report"]}),r.jsxs(ae,{variant:"outline",children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),e.status==="completed"&&r.jsxs(ae,{onClick:()=>c(!0),children:[r.jsx(Eg,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})]})]}),r.jsx(ft,{value:"checklist",className:"space-y-6",children:e.template?.sections.map(w=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:w.name}),w.description&&r.jsx("p",{className:"text-sm text-muted-foreground",children:w.description}),r.jsx("div",{className:"space-y-3",children:w.items.map(E=>{const C=e.items.find(_=>_.templateItemId===E.id);return C?r.jsx(ye,{className:"shadow-sm",children:r.jsx(be,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h4",{className:"font-medium",children:E.name}),E.isRequired&&r.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200 text-xs",children:"Required"}),r.jsx(Ze,{className:ot("ri-badge-status text-xs",g(C.status)),children:C.status.toUpperCase()})]}),E.description&&r.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:E.description}),C.value&&r.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Value:"})," ",C.value]})}),C.notes&&r.jsx("div",{className:"mb-2 p-2 bg-muted/30 rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",C.notes]})}),e.photos.filter(_=>_.inspectionItemId===C.id).length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("h5",{className:"text-sm font-medium mb-1",children:"Photos"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(_=>_.inspectionItemId===C.id).map(_=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_.url,alt:_.caption||"Inspection photo",className:"h-20 w-full object-cover rounded-md"}),_.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:_.caption})]},_.id))})]}),e.defects.filter(_=>_.inspectionItemId===C.id).length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("h5",{className:"text-sm font-medium mb-1 text-red-600",children:"Defects"}),e.defects.filter(_=>_.inspectionItemId===C.id).map(_=>r.jsxs("div",{className:"p-2 bg-red-50 rounded-md mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"font-medium text-red-700",children:_.title}),r.jsx(Ze,{className:ot("ri-badge-status text-xs",y(_.severity)),children:_.severity.toUpperCase()})]}),r.jsx("p",{className:"text-sm text-red-600 mt-1",children:_.description})]},_.id))]})]}),r.jsxs("div",{className:"ml-4",children:[C.status===Fr.PASSED&&r.jsx(yn,{className:"h-6 w-6 text-green-500"}),C.status===Fr.FAILED&&r.jsx(Ao,{className:"h-6 w-6 text-red-500"}),C.status===Fr.PENDING&&r.jsx(Ar,{className:"h-6 w-6 text-yellow-500"}),C.status===Fr.NA&&r.jsx("span",{className:"text-sm font-medium text-gray-500",children:"N/A"})]})]})})},E.id):null})})]},w.id))}),r.jsxs(ft,{value:"defects",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Defects"}),e.defects.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(yn,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),r.jsx("p",{children:"No defects reported"}),r.jsx("p",{className:"text-sm",children:"This vehicle passed inspection without issues"})]}):r.jsx("div",{className:"space-y-4",children:e.defects.map(w=>r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{className:"pb-3",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold",children:w.title}),r.jsx(Ze,{className:ot("ri-badge-status",y(w.severity)),children:w.severity.toUpperCase()}),r.jsx(Ze,{className:w.status==="open"?"bg-red-50 text-red-700 border-red-200":w.status==="in_progress"?"bg-yellow-50 text-yellow-700 border-yellow-200":w.status==="resolved"?"bg-blue-50 text-blue-700 border-blue-200":"bg-green-50 text-green-700 border-green-200",children:w.status.replace("_"," ").toUpperCase()})]})})}),r.jsxs(be,{children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:w.description}),e.photos.filter(E=>E.defectId===w.id).length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h5",{className:"text-sm font-medium mb-2",children:"Photos"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.photos.filter(E=>E.defectId===w.id).map(E=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:E.url,alt:E.caption||"Defect photo",className:"h-24 w-full object-cover rounded-md"}),E.caption&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 truncate",children:E.caption})]},E.id))})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:w.assignedTo?r.jsxs("span",{children:["Assigned to: ",w.assignedTo]}):r.jsx("span",{children:"Unassigned"})}),w.resolvedAt&&r.jsxs("div",{className:"text-sm text-green-600",children:["Resolved: ",Et(w.resolvedAt)]})]}),w.resolutionNotes&&r.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("span",{className:"font-medium",children:"Resolution:"})," ",w.resolutionNotes]})})]})]},w.id))})]}),r.jsxs(ft,{value:"signoffs",className:"space-y-4",children:[l&&r.jsxs(ye,{className:"border-2 border-green-200 mb-6",children:[r.jsxs(Pe,{className:"bg-green-50",children:[r.jsxs(Te,{className:"text-lg text-green-700 flex items-center",children:[r.jsx(Eg,{className:"h-5 w-5 mr-2"}),"Add Signoff"]}),r.jsx(tt,{className:"text-green-600",children:"Sign off on the completed inspection"})]}),r.jsxs(be,{className:"pt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"signoffRole",children:"Role"}),r.jsxs("select",{id:"signoffRole",value:f,onChange:w=>p(w.target.value),className:"w-full p-2 border rounded-md",children:[r.jsx("option",{value:Uf.INSPECTOR,children:"Inspector"}),r.jsx("option",{value:Uf.MANAGER,children:"Manager"}),r.jsx("option",{value:Uf.QUALITY_CONTROL,children:"Quality Control"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"signoffNotes",children:"Notes (Optional)"}),r.jsx(wr,{id:"signoffNotes",value:u,onChange:w=>h(w.target.value),placeholder:"Add any notes about this signoff",rows:3})]}),r.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Signature Capture"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"In a real app, this would be a signature pad"})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:()=>{c(!1),h("")},children:"Cancel"}),r.jsx(ae,{type:"button",onClick:v,children:"Add Signoff"})]})]})]}),r.jsx("h3",{className:"text-lg font-semibold",children:"Signoffs"}),e.signoffs.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Eg,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No signoffs yet"}),r.jsx("p",{className:"text-sm",children:"Add signoffs to approve the inspection"})]}):r.jsx("div",{className:"space-y-4",children:e.signoffs.map(w=>r.jsx(ye,{className:"shadow-sm",children:r.jsx(be,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("h4",{className:"font-medium",children:w.user?.name||w.userId}),r.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200",children:w.role.replace("_"," ").toUpperCase()})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Signed: ",Et(w.signedAt)]}),w.notes&&r.jsx("p",{className:"text-sm text-muted-foreground p-2 bg-muted/30 rounded-md",children:w.notes})]}),r.jsx("div",{className:"ml-4",children:w.signatureUrl?r.jsx("img",{src:w.signatureUrl,alt:"Signature",className:"h-12 object-contain"}):r.jsx("div",{className:"h-12 w-32 border-2 border-dashed rounded flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-muted-foreground",children:"No signature"})})})]})})},w.id))}),e.status==="completed"&&!l&&r.jsx("div",{className:"flex justify-end mt-4",children:r.jsxs(ae,{onClick:()=>c(!0),children:[r.jsx(Eg,{className:"h-4 w-4 mr-2"}),"Add Signoff"]})})]})]})})]})})}function zie({templates:e,vehicles:t,currentUserId:n,onCreateInspection:a,onCancel:s}){const{toast:i}=Ht(),[o,l]=S.useState(!1),[c,u]=S.useState(""),[h,f]=S.useState(""),[p,v]=S.useState(""),[g,y]=S.useState([]);S.useEffect(()=>{if(c){const j=t.find(b=>b.id===c);if(j){const b=j.type,N=e.filter(P=>P.isActive&&P.vehicleType===b);y(N),N.length===1?f(N[0].id):f("")}}else y([]),f("")},[c,e,t]);const x=async j=>{if(j.preventDefault(),!c){i({title:"Validation Error",description:"Please select a vehicle",variant:"destructive"});return}if(!h){i({title:"Validation Error",description:"Please select a template",variant:"destructive"});return}l(!0);try{await a({templateId:h,vehicleId:c,inspectorId:n,notes:p}),i({title:"Success",description:"Inspection created successfully"})}catch{i({title:"Error",description:"Failed to create inspection",variant:"destructive"})}finally{l(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"New PDI Inspection"}),r.jsx(tt,{children:"Create a new pre-delivery inspection"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"vehicle",children:"Vehicle *"}),r.jsxs(Xe,{value:c,onValueChange:u,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select a home/vehicle"})}),r.jsx(Ye,{children:t.map(j=>r.jsxs(ee,{value:j.id,children:[j.year," ",j.make," ",j.model," - ",j.vin]},j.id))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"template",children:"Inspection Template *"}),r.jsxs(Xe,{value:h,onValueChange:f,disabled:g.length===0,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:g.length===0?"Select a home/vehicle first":"Select a template"})}),r.jsx(Ye,{children:g.map(j=>r.jsx(ee,{value:j.id,children:j.name},j.id))})]}),g.length===0&&c&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No templates available for this vehicle type"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Notes (Optional)"}),r.jsx(wr,{id:"notes",value:p,onChange:j=>v(j.target.value),placeholder:"Add any initial notes about this inspection",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:s,disabled:o,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:o||!c||!h,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ih,{className:"h-4 w-4 mr-2"}),"Start Inspection"]})})]})]})})]})})}function uI(){const{templates:e,inspections:t,createTemplate:n,updateTemplate:a,deleteTemplate:s,createInspection:i,updateInspection:o,updateInspectionItem:l,completeInspection:c,createDefect:u,addPhoto:h,addSignoff:f}=Lie(),{vehicles:p}=vu(),{user:v}=lp(),{toast:g}=Ht(),[y,x]=S.useState("inspections"),[j,b]=S.useState(!1),[N,P]=S.useState(!1),[I,w]=S.useState(!1),[E,C]=S.useState(!1),[_,M]=S.useState(null),[k,D]=S.useState(null),R=()=>{M(null),b(!0)},F=le=>{M(le),b(!0)},z=le=>{M(le),b(!0)},V=async le=>{if(window.confirm("Are you sure you want to delete this template?"))try{await s(le),g({title:"Success",description:"Template deleted successfully"})}catch{g({title:"Error",description:"Failed to delete template",variant:"destructive"})}},B=async le=>{try{const st={...le,id:void 0,name:`${le.name} (Copy)`};await n(st),g({title:"Success",description:"Template duplicated successfully"})}catch{g({title:"Error",description:"Failed to duplicate template",variant:"destructive"})}},H=async le=>{try{_?await a(_.id,le):await n(le),b(!1),M(null)}catch{g({title:"Error",description:`Failed to ${_?"update":"create"} template`,variant:"destructive"})}},G=()=>{w(!0)},Z=async le=>{try{const st=await i(le);w(!1),D(st),P(!0)}catch{g({title:"Error",description:"Failed to create inspection",variant:"destructive"})}},Q=le=>{D(le),C(!0)},$=le=>{D(le),P(!0)},K=async le=>{if(k)try{await o(k.id,le),g({title:"Success",description:"Inspection saved successfully"})}catch{g({title:"Error",description:"Failed to save inspection",variant:"destructive"})}},te=async(le,st)=>{try{await c(le,st),P(!1),D(null),g({title:"Success",description:"Inspection completed successfully"})}catch{g({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}},se=async(le,st,Ie)=>{try{await l(le,st,Ie)}catch{g({title:"Error",description:"Failed to update item",variant:"destructive"})}},oe=async(le,st)=>{try{await u(le,st)}catch{g({title:"Error",description:"Failed to add defect",variant:"destructive"})}},me=async(le,st)=>{try{await h(le,st)}catch{g({title:"Error",description:"Failed to add photo",variant:"destructive"})}},ve=async(le,st)=>{try{await f(le,{...st,userId:v?.id||"current-user"})}catch{g({title:"Error",description:"Failed to add signoff",variant:"destructive"})}},pe=e.length,we=e.filter(le=>le.isActive).length,Se=t.length,Ce=t.filter(le=>le.status===Xn.COMPLETED||le.status===Xn.APPROVED).length,ze=t.filter(le=>le.status===Xn.IN_PROGRESS).length,He=t.reduce((le,st)=>le+st.defects.length,0),ge=t.reduce((le,st)=>le+st.defects.filter(Ie=>Ie.status==="open"||Ie.status==="in_progress").length,0);return t.reduce((le,st)=>le+st.photos.length,0),r.jsxs("div",{className:"space-y-8",children:[j&&r.jsx(Mie,{template:_||void 0,onSave:H,onCancel:()=>{b(!1),M(null)}}),I&&r.jsx(zie,{templates:e,vehicles:p,currentUserId:v?.id||"current-user",onCreateInspection:Z,onCancel:()=>w(!1)}),N&&k&&r.jsx(Bie,{inspection:k,vehicles:p,onSave:K,onComplete:te,onUpdateItem:se,onAddDefect:oe,onAddPhoto:me,onCancel:()=>{P(!1),D(null)}}),E&&k&&r.jsx(qie,{inspection:k,vehicles:p,onAddSignoff:ve,onClose:()=>{C(!1),D(null)}}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"PDI Checklist - Home/Vehicle"}),r.jsx("p",{className:"ri-page-description",children:"Manage pre-delivery inspections and quality control for homes and vehicles"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:G,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Inspection"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Inspections"}),r.jsx(ih,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Se}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),Ce," completed"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"In Progress"}),r.jsx(ih,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:ze}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Active inspections"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-red-900",children:"Open Defects"}),r.jsx(Vi,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-900",children:ge}),r.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),He," total defects"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Templates"}),r.jsx(hA,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:pe}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),we," active"]})]})]})]}),r.jsxs(Or,{value:y,onValueChange:x,className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-2",children:[r.jsx(ut,{value:"inspections",children:"Inspections"}),r.jsx(ut,{value:"templates",children:"Templates"})]}),r.jsx(ft,{value:"inspections",children:r.jsx($ie,{inspections:t,onCreateInspection:G,onViewInspection:Q,onContinueInspection:$})}),r.jsx(ft,{value:"templates",children:r.jsx(Fie,{templates:e,onCreateTemplate:R,onEditTemplate:F,onDeleteTemplate:V,onDuplicateTemplate:B,onViewTemplate:z})})]})]})}function Uie(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(uI,{})}),r.jsx(vr,{path:"/*",element:r.jsx(uI,{})})]})}function Vie(){const[e,t]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState([]),[o,l]=S.useState(!1);S.useEffect(()=>{c()},[]);const c=()=>{const D=Qn("renter-insight-commissions",[{id:"1",salesPersonId:"sales-001",dealId:"deal-001",type:Vr.PERCENTAGE,rate:.05,amount:6875,status:ir.APPROVED,paidDate:new Date("2024-01-20"),notes:"Commission for Georgetown sale",customFields:{},createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-20")},{id:"2",salesPersonId:"sales-002",dealId:"deal-002",type:Vr.FLAT,rate:0,amount:2500,status:ir.PENDING,notes:"Flat commission for service contract",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")}]),R=Qn("renter-insight-commission-rules",[{id:"1",name:"Standard Sales Commission",type:"percentage",rate:.05,isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"2",name:"Service Contract Bonus",type:"flat",amount:500,isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"3",name:"Tiered Sales Commission",type:"tiered",tiers:[{id:"1",ruleId:"3",minAmount:0,maxAmount:5e4,rate:.03},{id:"2",ruleId:"3",minAmount:5e4,maxAmount:1e5,rate:.05},{id:"3",ruleId:"3",minAmount:1e5,rate:.07}],isActive:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}]),F=Qn("renter-insight-commission-audit",[{id:"1",commissionId:"1",userId:"user-001",userName:"Admin User",action:"created",newValue:{salesPersonId:"sales-001",dealId:"deal-001",type:Vr.PERCENTAGE,rate:.05,amount:6875,status:ir.PENDING},timestamp:new Date("2024-01-18")},{id:"2",commissionId:"1",userId:"user-001",userName:"Admin User",action:"approved",previousValue:{status:ir.PENDING},newValue:{status:ir.APPROVED},notes:"Approved after deal verification",timestamp:new Date("2024-01-19")}]);t(D),a(R),i(F)},u=D=>{Sn("renter-insight-commissions",D)},h=D=>{Sn("renter-insight-commission-rules",D)},f=D=>{Sn("renter-insight-commission-audit",D)},p=D=>e.filter(R=>R.salesPersonId===D),v=D=>e.filter(R=>R.dealId===D),g=D=>e.find(R=>R.id===D),y=D=>n.find(R=>R.id===D),x=D=>s.filter(R=>R.commissionId===D).sort((R,F)=>F.timestamp.getTime()-R.timestamp.getTime()),j=async(D,R,F)=>{l(!0);try{const z={id:Math.random().toString(36).substr(2,9),salesPersonId:D.salesPersonId||"",dealId:D.dealId||"",type:D.type||Vr.PERCENTAGE,rate:D.rate||0,amount:D.amount||0,status:ir.PENDING,notes:D.notes||"",customFields:D.customFields||{},createdAt:new Date,updatedAt:new Date},V=[...e,z];t(V),u(V);const B={id:Math.random().toString(36).substr(2,9),commissionId:z.id,userId:R,userName:F,action:"created",newValue:{...z},timestamp:new Date},H=[...s,B];return i(H),f(H),z}finally{l(!1)}},b=async(D,R,F,z,V)=>{const B=e.find($=>$.id===D);if(!B)return null;const H={...B,...R,updatedAt:new Date},G=e.map($=>$.id===D?H:$);t(G),u(G);const Z={id:Math.random().toString(36).substr(2,9),commissionId:D,userId:F,userName:z,action:"updated",previousValue:{...B},newValue:R,notes:V,timestamp:new Date},Q=[...s,Z];return i(Q),f(Q),H};return{commissions:e,rules:n,auditTrail:s,loading:o,getCommissionsBySalesPerson:p,getCommissionsByDeal:v,getCommissionById:g,getRuleById:y,getAuditTrailByCommission:x,createCommission:j,updateCommission:b,approveCommission:async(D,R,F,z)=>b(D,{status:ir.APPROVED},R,F,z),rejectCommission:async(D,R,F,z)=>b(D,{status:ir.CANCELLED},R,F,z),markCommissionPaid:async(D,R,F,z)=>b(D,{status:ir.PAID,paidDate:new Date},R,F,z),createRule:async D=>{l(!0);try{let R;switch(D.type){case"flat":R={id:Math.random().toString(36).substr(2,9),name:D.name||"",type:"flat",amount:D.amount||0,isActive:D.isActive??!0,createdAt:new Date,updatedAt:new Date};break;case"percentage":R={id:Math.random().toString(36).substr(2,9),name:D.name||"",type:"percentage",rate:D.rate||0,isActive:D.isActive??!0,createdAt:new Date,updatedAt:new Date};break;case"tiered":R={id:Math.random().toString(36).substr(2,9),name:D.name||"",type:"tiered",tiers:D.tiers||[],isActive:D.isActive??!0,createdAt:new Date,updatedAt:new Date};break;default:throw new Error("Invalid commission rule type")}const F=[...n,R];return a(F),h(F),R}finally{l(!1)}},updateRule:async(D,R)=>{const F=n.find(B=>B.id===D);if(!F)return null;const z={...F,...R,updatedAt:new Date},V=n.map(B=>B.id===D?z:B);return a(V),h(V),z},deleteRule:async D=>{const R=n.filter(F=>F.id!==D);a(R),h(R)},calculateCommission:(D,R)=>{const F=n.find(z=>z.id===R);if(!F)return 0;switch(F.type){case"flat":return F.amount;case"percentage":return D*F.rate;case"tiered":const V=F.tiers.find(B=>D>=B.minAmount&&(B.maxAmount===void 0||D<B.maxAmount));return V?D*V.rate:0;default:return 0}},generateCommissionReport:D=>{let R=[...e];D.startDate&&(R=R.filter(z=>new Date(z.createdAt)>=new Date(D.startDate))),D.endDate&&(R=R.filter(z=>new Date(z.createdAt)<=new Date(D.endDate))),D.salesPersonId&&(R=R.filter(z=>z.salesPersonId===D.salesPersonId)),D.status&&(R=R.filter(z=>z.status===D.status)),D.type&&(R=R.filter(z=>z.type===D.type));const F={totalCommissions:R.length,totalAmount:R.reduce((z,V)=>z+V.amount,0),pendingAmount:R.filter(z=>z.status===ir.PENDING).reduce((z,V)=>z+V.amount,0),approvedAmount:R.filter(z=>z.status===ir.APPROVED).reduce((z,V)=>z+V.amount,0),paidAmount:R.filter(z=>z.status===ir.PAID).reduce((z,V)=>z+V.amount,0),byType:{flat:R.filter(z=>z.type===Vr.FLAT).reduce((z,V)=>z+V.amount,0),percentage:R.filter(z=>z.type===Vr.PERCENTAGE).reduce((z,V)=>z+V.amount,0),tiered:R.filter(z=>z.type===Vr.TIERED).reduce((z,V)=>z+V.amount,0)}};return{commissions:R,summary:F}},exportCommissionsToCSV:D=>{const R=["ID","Sales Person","Deal ID","Type","Rate","Amount","Status","Paid Date","Notes","Created At"],F=D.map(z=>[z.id,z.salesPersonId,z.dealId,z.type,z.rate,z.amount,z.status,z.paidDate?z.paidDate.toISOString():"",z.notes,z.createdAt.toISOString()]);return[R,...F]}}}function Wie({commission:e,salesReps:t,deals:n,rules:a,onSave:s,onCancel:i}){const{toast:o}=Ht(),[l,c]=S.useState(!1),[u,h]=S.useState({salesPersonId:"",dealId:"",type:Vr.PERCENTAGE,rate:.05,amount:0,notes:""}),[f,p]=S.useState(""),[v,g]=S.useState(0),[y,x]=S.useState("");S.useEffect(()=>{if(e){h({...e}),x("");const P=n.find(I=>I.id===e.dealId);P&&g(P.value)}},[e,n]),S.useEffect(()=>{if(u.dealId){const P=n.find(I=>I.id===u.dealId);P&&g(P.value)}},[u.dealId,n]),S.useEffect(()=>{if(f){const P=a.find(w=>w.id===f);if(!P)return;let I=0;switch(P.type){case"flat":I=P.amount,h(_=>({..._,type:Vr.FLAT,rate:0,amount:I}));break;case"percentage":const w=P.rate;I=v*w,h(_=>({..._,type:Vr.PERCENTAGE,rate:w,amount:I}));break;case"tiered":const C=P.tiers.find(_=>v>=_.minAmount&&(_.maxAmount===void 0||v<_.maxAmount));C&&(I=v*C.rate,h(_=>({..._,type:Vr.TIERED,rate:C.rate,amount:I})));break}}else if(u.type===Vr.PERCENTAGE){const P=v*(u.rate||0);h(I=>({...I,amount:P}))}},[f,v,u.rate,u.type,a]);const j=async P=>{if(P.preventDefault(),!u.salesPersonId||!u.dealId){o({title:"Validation Error",description:"Sales rep and deal are required",variant:"destructive"});return}if(u.amount<=0){o({title:"Validation Error",description:"Commission amount must be greater than zero",variant:"destructive"});return}c(!0);try{await s(u,y),o({title:"Success",description:`Commission ${e?"updated":"created"} successfully`})}catch{o({title:"Error",description:`Failed to ${e?"update":"create"} commission`,variant:"destructive"})}finally{c(!1)}},b=P=>{p(P)},N=()=>{if(u.type===Vr.PERCENTAGE){const P=v*(u.rate||0);h(I=>({...I,amount:P}))}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Commission":"Create Commission"}),r.jsx(tt,{children:e?"Update commission details":"Create a new commission record"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:i,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:j,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"salesPersonId",children:"Sales Rep *"}),r.jsxs(Xe,{value:u.salesPersonId,onValueChange:P=>h(I=>({...I,salesPersonId:P})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select sales rep"})}),r.jsx(Ye,{className:"z-50",children:t.map(P=>r.jsx(ee,{value:P.id,children:P.name},P.id))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"dealId",children:"Deal *"}),r.jsxs(Xe,{value:u.dealId,onValueChange:P=>h(I=>({...I,dealId:P})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select deal"})}),r.jsx(Ye,{className:"z-50",children:n.map(P=>r.jsxs(ee,{value:P.id,children:[P.name," - ",Me(P.value)]},P.id))})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"commissionRule",children:"Commission Rule"}),r.jsxs(Xe,{value:f,onValueChange:b,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select rule or enter manually"})}),r.jsxs(Ye,{className:"z-50",children:[r.jsx(ee,{value:"",children:"Manual Entry"}),a.filter(P=>P.isActive).map(P=>r.jsxs(ee,{value:P.id,children:[P.name," (",P.type,")"]},P.id))]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"dealValue",children:"Deal Value"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"dealValue",type:"number",value:v,onChange:P=>g(parseFloat(P.target.value)||0),className:"pl-10",min:"0",step:"0.01"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"commissionType",children:"Commission Type"}),r.jsxs(Xe,{value:u.type,onValueChange:P=>h(I=>({...I,type:P})),disabled:!!f,children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{className:"z-50",children:[r.jsx(ee,{value:Vr.FLAT,children:"Flat"}),r.jsx(ee,{value:Vr.PERCENTAGE,children:"Percentage"}),r.jsx(ee,{value:Vr.TIERED,children:"Tiered"})]})]})]})]}),u.type===Vr.PERCENTAGE&&!f&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"rate",children:"Commission Rate (%)"}),r.jsxs("div",{className:"relative",children:[r.jsx(kv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"rate",type:"number",value:u.rate?u.rate*100:"",onChange:P=>h(I=>({...I,rate:parseFloat(P.target.value)/100||0})),className:"pl-10",min:"0",max:"100",step:"0.01"})]})]}),u.type===Vr.FLAT&&!f&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"amount",children:"Flat Commission Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"amount",type:"number",value:u.amount||"",onChange:P=>h(I=>({...I,amount:parseFloat(P.target.value)||0})),className:"pl-10",min:"0",step:"0.01"})]})]}),!f&&u.type===Vr.PERCENTAGE&&r.jsx("div",{className:"flex justify-end",children:r.jsxs(ae,{type:"button",variant:"outline",onClick:N,size:"sm",children:[r.jsx(sh,{className:"h-4 w-4 mr-2"}),"Calculate"]})}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"commissionAmount",children:"Commission Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"commissionAmount",type:"number",value:u.amount||"",onChange:P=>h(I=>({...I,amount:parseFloat(P.target.value)||0})),className:"pl-10",min:"0",step:"0.01"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Commission Notes"}),r.jsx(wr,{id:"notes",value:u.notes||"",onChange:P=>h(I=>({...I,notes:P.target.value})),placeholder:"Add any notes about this commission",rows:3})]}),e&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"auditNotes",children:"Audit Notes"}),r.jsx(wr,{id:"auditNotes",value:y,onChange:P=>x(P.target.value),placeholder:"Add notes about this update (for audit trail)",rows:2})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:i,disabled:l,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:l,children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Commission"]})})]})]})})]})})}function Hie({auditEntries:e}){const t=s=>{switch(s){case"created":return r.jsx(qt,{className:"h-4 w-4 text-blue-500"});case"updated":return r.jsx(bn,{className:"h-4 w-4 text-yellow-500"});case"approved":return r.jsx(yn,{className:"h-4 w-4 text-green-500"});case"rejected":return r.jsx(Ao,{className:"h-4 w-4 text-red-500"});case"paid":return r.jsx(lr,{className:"h-4 w-4 text-green-500"});default:return r.jsx(B1,{className:"h-4 w-4 text-gray-500"})}},n=s=>{switch(s){case"created":return"bg-blue-50 text-blue-700 border-blue-200";case"updated":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"approved":return"bg-green-50 text-green-700 border-green-200";case"rejected":return"bg-red-50 text-red-700 border-red-200";case"paid":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},a=s=>{if(!s.previousValue&&!s.newValue)return null;const i=[];if(s.action==="created"&&s.newValue)return r.jsx("div",{className:"text-sm text-muted-foreground",children:r.jsx("p",{children:"Commission created with initial values"})});if(s.previousValue&&s.newValue)for(const[o,l]of Object.entries(s.newValue)){const c=s.previousValue[o];c!==l&&i.push(r.jsxs("div",{className:"text-sm",children:[r.jsxs("span",{className:"font-medium capitalize",children:[o.replace(/([A-Z])/g," $1").trim(),": "]}),r.jsx("span",{className:"line-through text-red-600 mr-2",children:c}),r.jsx("span",{className:"text-green-600",children:l})]},o))}return i.length>0?r.jsx("div",{className:"space-y-1",children:i}):null};return r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(B1,{className:"h-5 w-5 mr-2 text-primary"}),"Audit Trail"]}),r.jsx(tt,{children:"History of changes to this commission"})]}),r.jsx(be,{children:e.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(B1,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No audit history available"})]}):r.jsx("div",{className:"space-y-4",children:e.map(s=>r.jsxs("div",{className:"relative pl-6",children:[r.jsx("div",{className:"absolute left-0 top-1.5",children:t(s.action)}),r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx(Ze,{className:ot("ri-badge-status",n(s.action)),children:s.action.toUpperCase()}),r.jsx("span",{className:"text-sm text-muted-foreground",children:Et(s.timestamp)})]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:s.userName})," ",s.action," this commission"]}),a(s),s.notes&&r.jsx("div",{className:"mt-2 p-2 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:s.notes})})]},s.id))})})]})}function Gie({commission:e,salesReps:t,deals:n,auditTrail:a,onClose:s,onEdit:i,onApprove:o,onReject:l,onMarkPaid:c}){const{toast:u}=Ht(),[h,f]=S.useState("details"),[p,v]=S.useState(""),[g,y]=S.useState(!1),x=E=>{switch(E){case ir.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ir.APPROVED:return"bg-blue-50 text-blue-700 border-blue-200";case ir.PAID:return"bg-green-50 text-green-700 border-green-200";case ir.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},j=E=>{switch(E){case Vr.FLAT:return"bg-blue-50 text-blue-700 border-blue-200";case Vr.PERCENTAGE:return"bg-green-50 text-green-700 border-green-200";case Vr.TIERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},b=async()=>{y(!0);try{await o(e.id,p),v(""),u({title:"Commission Approved",description:"The commission has been approved successfully"})}catch{u({title:"Error",description:"Failed to approve commission",variant:"destructive"})}finally{y(!1)}},N=async()=>{y(!0);try{await l(e.id,p),v(""),u({title:"Commission Rejected",description:"The commission has been rejected"})}catch{u({title:"Error",description:"Failed to reject commission",variant:"destructive"})}finally{y(!1)}},P=async()=>{y(!0);try{await c(e.id,p),v(""),u({title:"Commission Marked as Paid",description:"The commission has been marked as paid"})}catch{u({title:"Error",description:"Failed to mark commission as paid",variant:"destructive"})}finally{y(!1)}},I=t.find(E=>E.id===e.salesPersonId),w=n.find(E=>E.id===e.dealId);return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-xl",children:"Commission Details"}),r.jsxs(tt,{children:["Commission #",e.id]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>i(e),size:"sm",children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Commission"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsxs(be,{children:[r.jsxs(Or,{value:h,onValueChange:f,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-2",children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsxs(ut,{value:"audit",children:["Audit Trail",a.length>0&&r.jsx(Ze,{className:"ml-2 bg-blue-50 text-blue-700 border-blue-200",children:a.length})]})]}),r.jsxs(ft,{value:"details",className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",x(e.status)),children:e.status.toUpperCase()}),r.jsx(Ze,{className:ot("ri-badge-status",j(e.type)),children:e.type.toUpperCase()}),r.jsx("div",{className:"ml-auto font-bold text-lg text-primary",children:Me(e.amount)})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Sales Rep"}),r.jsx("p",{className:"font-medium",children:I?.name||e.salesPersonId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Deal"}),r.jsx("p",{className:"font-medium",children:w?.name||e.dealId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Commission Type"}),r.jsx("p",{className:"font-medium",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),r.jsx("p",{className:"font-medium text-primary",children:Me(e.amount)})]}),e.type===Vr.PERCENTAGE&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Rate"}),r.jsxs("p",{className:"font-medium",children:[(e.rate*100).toFixed(2),"%"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),r.jsx("p",{className:"font-medium",children:Et(e.createdAt)})]}),e.paidDate&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Paid Date"}),r.jsx("p",{className:"font-medium",children:Et(e.paidDate)})]})]}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"whitespace-pre-wrap",children:e.notes})})]}),(e.status===ir.PENDING||e.status===ir.APPROVED)&&r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"actionNotes",children:"Action Notes"}),r.jsx(wr,{id:"actionNotes",value:p,onChange:E=>v(E.target.value),placeholder:"Add notes about this action (for audit trail)",rows:2})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[e.status===ir.PENDING&&r.jsxs(r.Fragment,{children:[r.jsxs(ae,{variant:"outline",onClick:N,disabled:g,children:[r.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Reject"]}),r.jsxs(ae,{onClick:b,disabled:g,children:[r.jsx(yn,{className:"h-4 w-4 mr-2"}),"Approve"]})]}),e.status===ir.APPROVED&&r.jsxs(ae,{onClick:P,disabled:g,children:[r.jsx(lr,{className:"h-4 w-4 mr-2"}),"Mark as Paid"]})]})]})]}),r.jsx(ft,{value:"audit",children:r.jsx(Hie,{auditEntries:a})})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[r.jsx(ae,{variant:"outline",onClick:s,children:"Close"}),r.jsxs(ae,{onClick:()=>i(e),children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Commission"]})]})]})]})})}function Kie({rules:e,onCreateRule:t,onEditRule:n,onDeleteRule:a}){const[s,i]=S.useState(""),[o,l]=S.useState("all"),c=f=>{switch(f){case"flat":return"bg-blue-50 text-blue-700 border-blue-200";case"percentage":return"bg-green-50 text-green-700 border-green-200";case"tiered":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=e.filter(f=>{const p=f.name.toLowerCase().includes(s.toLowerCase()),v=o==="all"||f.type===o;return p&&v}),h=f=>{switch(f.type){case"flat":return`${Me(f.amount)} flat rate`;case"percentage":return`${(f.rate*100).toFixed(2)}% of deal value`;case"tiered":const p=f.tiers;return p.length===0?"No tiers defined":`${p.length} tiers, ${(p[0].rate*100).toFixed(2)}% to ${(p[p.length-1].rate*100).toFixed(2)}%`;default:return""}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"ri-search-bar flex-1",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search rules...",value:s,onChange:f=>i(f.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:o,onChange:f=>l(f.target.value),className:"px-3 py-2 rounded-md border border-input bg-background",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"flat",children:"Flat"}),r.jsx("option",{value:"percentage",children:"Percentage"}),r.jsx("option",{value:"tiered",children:"Tiered"})]}),r.jsxs(ae,{onClick:t,className:"shadow-sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Rule"]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"text-xl",children:["Commission Rules (",u.length,")"]}),r.jsx(tt,{children:"Define how commissions are calculated for different scenarios"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[u.map(f=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:f.name}),r.jsx(Ze,{className:ot("ri-badge-status",c(f.type)),children:f.type.toUpperCase()}),f.isActive?r.jsx(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:"ACTIVE"}):r.jsx(Ze,{className:"bg-gray-50 text-gray-700 border-gray-200",children:"INACTIVE"})]}),r.jsx("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:f.type==="flat"?r.jsxs("span",{className:"flex items-center",children:[r.jsx(lr,{className:"h-3 w-3 mr-1 text-blue-500"}),h(f)]}):f.type==="percentage"?r.jsxs("span",{className:"flex items-center",children:[r.jsx(kv,{className:"h-3 w-3 mr-1 text-green-500"}),h(f)]}):r.jsxs("span",{className:"flex items-center",children:[r.jsx(sh,{className:"h-3 w-3 mr-1 text-purple-500"}),h(f)]})}),f.type==="tiered"&&r.jsx("div",{className:"mt-2 grid grid-cols-3 gap-2",children:f.tiers.map((p,v)=>r.jsxs("div",{className:"text-xs p-1 bg-muted/30 rounded",children:[Me(p.minAmount),p.maxAmount?` - ${Me(p.maxAmount)}`:"+",":",r.jsxs("span",{className:"font-semibold ml-1",children:[(p.rate*100).toFixed(2),"%"]})]},p.id))})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>n(f),children:[r.jsx(bn,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm text-red-600 hover:text-red-700",onClick:()=>a(f.id),children:r.jsx(oa,{className:"h-3 w-3"})})]})]},f.id)),u.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(sh,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No commission rules found"}),r.jsx("p",{className:"text-sm",children:"Create your first rule to get started"})]})]})})]})]})}function Yie({rule:e,onSave:t,onCancel:n}){const{toast:a}=Ht(),[s,i]=S.useState(!1),[o,l]=S.useState(e?.type||"percentage"),[c,u]=S.useState(e?.name||""),[h,f]=S.useState(e?.isActive!==!1),[p,v]=S.useState(e?.type==="flat"?e.amount:500),[g,y]=S.useState(e?.type==="percentage"?e.rate:.05),[x,j]=S.useState(e?.type==="tiered"?e.tiers:[{id:"1",ruleId:"",minAmount:0,maxAmount:5e4,rate:.03},{id:"2",ruleId:"",minAmount:5e4,maxAmount:1e5,rate:.05},{id:"3",ruleId:"",minAmount:1e5,rate:.07}]),b=async w=>{if(w.preventDefault(),!c){a({title:"Validation Error",description:"Rule name is required",variant:"destructive"});return}i(!0);try{let E;switch(o){case"flat":E={name:c,type:"flat",amount:p,isActive:h};break;case"percentage":E={name:c,type:"percentage",rate:g,isActive:h};break;case"tiered":for(let C=0;C<x.length;C++)if(C<x.length-1&&x[C].maxAmount!==x[C+1].minAmount){a({title:"Validation Error",description:"Tier ranges must be continuous without gaps",variant:"destructive"});return}E={name:c,type:"tiered",tiers:x,isActive:h};break;default:throw new Error("Invalid rule type")}await t(E)}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} commission rule`,variant:"destructive"})}finally{i(!1)}},N=()=>{if(x.length===0){j([{id:"1",ruleId:"",minAmount:0,rate:.03}]);return}const w=x[x.length-1],E={id:Math.random().toString(36).substr(2,9),ruleId:"",minAmount:w.maxAmount||w.minAmount+5e4,rate:w.rate+.01};j([...x,E])},P=w=>{j(x.filter(E=>E.id!==w))},I=(w,E)=>{j(x.map(C=>C.id===w?{...C,...E}:C))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Commission Rule":"Create Commission Rule"}),r.jsx(tt,{children:e?"Update commission rule details":"Define a new commission calculation rule"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Rule Name *"}),r.jsx(Ee,{id:"name",value:c,onChange:w=>u(w.target.value),placeholder:"e.g., Standard Sales Commission"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"type",children:"Commission Type"}),r.jsxs(Xe,{value:o,onValueChange:w=>l(w),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"flat",children:"Flat Amount"}),r.jsx(ee,{value:"percentage",children:"Percentage"}),r.jsx(ee,{value:"tiered",children:"Tiered Percentage"})]})]})]})]}),o==="flat"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{htmlFor:"flatAmount",children:"Flat Commission Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"flatAmount",type:"number",value:p,onChange:w=>v(parseFloat(w.target.value)||0),className:"pl-10",min:"0",step:"0.01"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"A fixed amount will be paid regardless of the deal value"})]}),o==="percentage"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{htmlFor:"percentageRate",children:"Commission Rate (%)"}),r.jsxs("div",{className:"relative",children:[r.jsx(kv,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"percentageRate",type:"number",value:g*100,onChange:w=>y(parseFloat(w.target.value)/100||0),className:"pl-10",min:"0",max:"100",step:"0.01"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"A percentage of the deal value will be paid as commission"})]}),o==="tiered"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(ie,{children:"Tiered Commission Rates"}),r.jsxs(ae,{type:"button",onClick:N,size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Tier"]})]}),r.jsxs("div",{className:"space-y-3",children:[x.map((w,E)=>r.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx(ie,{className:"text-xs",children:"Min Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),r.jsx(Ee,{type:"number",value:w.minAmount,onChange:C=>I(w.id,{minAmount:parseFloat(C.target.value)||0}),className:"pl-7 h-9 text-sm",min:"0",step:"1000"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-xs",children:"Max Amount"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),r.jsx(Ee,{type:"number",value:w.maxAmount,onChange:C=>{const _=C.target.value?parseFloat(C.target.value):void 0;I(w.id,{maxAmount:_})},className:"pl-7 h-9 text-sm",min:w.minAmount,step:"1000",placeholder:E===x.length-1?"No limit":""})]})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-xs",children:"Rate (%)"}),r.jsxs("div",{className:"relative",children:[r.jsx(kv,{className:"absolute left-2 top-2.5 h-3 w-3 text-muted-foreground"}),r.jsx(Ee,{type:"number",value:w.rate*100,onChange:C=>I(w.id,{rate:parseFloat(C.target.value)/100||0}),className:"pl-7 h-9 text-sm",min:"0",max:"100",step:"0.01"})]})]})]}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(w.id),disabled:x.length<=1,children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]},w.id)),x.length===0&&r.jsxs("div",{className:"text-center py-4 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx("p",{children:"No tiers defined"}),r.jsx("p",{className:"text-sm",children:'Click "Add Tier" to create commission tiers'})]})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Different commission rates will apply based on the deal value tiers"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isActive",checked:h,onCheckedChange:w=>f(!!w)}),r.jsx(ie,{htmlFor:"isActive",children:"Active rule"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:s,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Rule"]})})]})]})})]})})}function Xie({salesReps:e,onGenerateReport:t,onExportCSV:n}){const{toast:a}=Ht(),[s,i]=S.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1),endDate:new Date,salesPersonId:"",status:"",type:""}),[o,l]=S.useState(!1),[c,u]=S.useState(null),[h,f]=S.useState("none"),p=()=>{try{const b=t(s);u(b),a({title:"Report Generated",description:`Generated report with ${b.commissions.length} commissions`})}catch{a({title:"Error",description:"Failed to generate report",variant:"destructive"})}},v=()=>{if(c)try{const b=n(c.commissions),N=Tm.unparse(b),P=new Blob([N],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(P),w=document.createElement("a");w.href=I,w.setAttribute("download",`commission_report_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(w),w.click(),document.body.removeChild(w),a({title:"Export Successful",description:"Commission report exported to CSV"})}catch{a({title:"Export Failed",description:"Failed to export report to CSV",variant:"destructive"})}},g=b=>{if(h==="none")return{"All Commissions":b};const N={};return b.forEach(P=>{let I="";switch(h){case"salesPerson":I=P.salesPersonId;break;case"status":I=P.status;break;case"type":I=P.type;break}N[I]||(N[I]=[]),N[I].push(P)}),N},y=b=>{switch(h){case"salesPerson":const N=e.find(P=>P.id===b);return N?N.name:b;case"status":return b.charAt(0).toUpperCase()+b.slice(1);case"type":return b.charAt(0).toUpperCase()+b.slice(1);default:return b}},x=b=>{switch(b){case ir.PENDING:return"Pending";case ir.APPROVED:return"Approved";case ir.PAID:return"Paid";case ir.CANCELLED:return"Cancelled";default:return b}},j=b=>{switch(b){case Vr.FLAT:return"Flat";case Vr.PERCENTAGE:return"Percentage";case Vr.TIERED:return"Tiered";default:return b}};return r.jsx("div",{className:"space-y-6",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Oa,{className:"h-5 w-5 mr-2 text-primary"}),"Commission Report Generator"]}),r.jsx(tt,{children:"Generate detailed commission reports with custom filters"})]}),r.jsxs(ae,{variant:"outline",onClick:()=>l(!o),className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),o?"Hide Filters":"Show Filters"]})]})}),r.jsxs(be,{children:[o&&r.jsxs("div",{className:"space-y-4 mb-6 p-4 bg-muted/30 rounded-lg",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"startDate",children:"Start Date"}),r.jsx(Ee,{id:"startDate",type:"date",value:s.startDate?new Date(s.startDate).toISOString().split("T")[0]:"",onChange:b=>i(N=>({...N,startDate:b.target.value?new Date(b.target.value):void 0}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"endDate",children:"End Date"}),r.jsx(Ee,{id:"endDate",type:"date",value:s.endDate?new Date(s.endDate).toISOString().split("T")[0]:"",onChange:b=>i(N=>({...N,endDate:b.target.value?new Date(b.target.value):void 0}))})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"salesPersonId",children:"Sales Rep"}),r.jsxs(Xe,{value:s.salesPersonId||"",onValueChange:b=>i(N=>({...N,salesPersonId:b})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"All Sales Reps"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"All Sales Reps"}),e.map(b=>r.jsx(ee,{value:b.id,children:b.name},b.id))]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"status",children:"Status"}),r.jsxs(Xe,{value:s.status||"",onValueChange:b=>i(N=>({...N,status:b})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"All Statuses"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"All Statuses"}),r.jsx(ee,{value:ir.PENDING,children:"Pending"}),r.jsx(ee,{value:ir.APPROVED,children:"Approved"}),r.jsx(ee,{value:ir.PAID,children:"Paid"}),r.jsx(ee,{value:ir.CANCELLED,children:"Cancelled"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"type",children:"Commission Type"}),r.jsxs(Xe,{value:s.type||"",onValueChange:b=>i(N=>({...N,type:b})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"All Types"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"All Types"}),r.jsx(ee,{value:Vr.FLAT,children:"Flat"}),r.jsx(ee,{value:Vr.PERCENTAGE,children:"Percentage"}),r.jsx(ee,{value:Vr.TIERED,children:"Tiered"})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(ae,{onClick:p,children:[r.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]}),!o&&r.jsx("div",{className:"flex justify-end mb-6",children:r.jsxs(ae,{onClick:p,children:[r.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Generate Report"]})}),c&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(ye,{className:"shadow-sm bg-blue-50",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Commissions"}),r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:c.summary.totalCommissions}),r.jsx("div",{className:"text-sm text-blue-700 mt-1",children:Me(c.summary.totalAmount)})]})})}),r.jsx(ye,{className:"shadow-sm bg-yellow-50",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-yellow-700 mb-1",children:"Pending"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:Me(c.summary.pendingAmount)}),r.jsx("div",{className:"text-sm text-yellow-700 mt-1",children:"Awaiting approval"})]})})}),r.jsx(ye,{className:"shadow-sm bg-green-50",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:"Paid"}),r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Me(c.summary.paidAmount)}),r.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Commissions paid"})]})})}),r.jsx(ye,{className:"shadow-sm bg-purple-50",children:r.jsx(be,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-purple-700 mb-1",children:"Approved"}),r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:Me(c.summary.approvedAmount)}),r.jsx("div",{className:"text-sm text-purple-700 mt-1",children:"Ready for payment"})]})})})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(ie,{htmlFor:"groupBy",className:"whitespace-nowrap",children:"Group By:"}),r.jsxs(Xe,{value:h,onValueChange:b=>f(b),children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"none",children:"No Grouping"}),r.jsx(ee,{value:"salesPerson",children:"Sales Rep"}),r.jsx(ee,{value:"status",children:"Status"}),r.jsx(ee,{value:"type",children:"Commission Type"})]})]})]}),r.jsxs(ae,{variant:"outline",onClick:v,disabled:!c,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),r.jsx("div",{className:"space-y-6",children:Object.entries(g(c.commissions)).map(([b,N])=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[h==="salesPerson"&&r.jsx(fs,{className:"h-4 w-4 mr-2 text-blue-500"}),h==="status"&&r.jsx(Qs,{className:"h-4 w-4 mr-2 text-yellow-500"}),h==="type"&&r.jsx(Oa,{className:"h-4 w-4 mr-2 text-purple-500"}),y(b),r.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",N.length," commissions, ",Me(N.reduce((P,I)=>P+I.amount,0)),")"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-muted/50",children:[r.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Sales Rep"}),r.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Deal"}),r.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Type"}),r.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Amount"}),r.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Status"}),r.jsx("th",{className:"p-2 text-left font-medium text-muted-foreground",children:"Created"})]})}),r.jsx("tbody",{children:N.map(P=>{const I=e.find(w=>w.id===P.salesPersonId);return r.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[r.jsx("td",{className:"p-2",children:I?.name||P.salesPersonId}),r.jsx("td",{className:"p-2",children:P.dealId}),r.jsx("td",{className:"p-2",children:j(P.type)}),r.jsx("td",{className:"p-2 font-medium",children:Me(P.amount)}),r.jsx("td",{className:"p-2",children:x(P.status)}),r.jsx("td",{className:"p-2",children:new Date(P.createdAt).toLocaleDateString()})]},P.id)})})]})})]},b))})]}),!c&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Oa,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No report generated yet"}),r.jsx("p",{className:"text-sm",children:"Use the filters above to generate a commission report"})]})]})]})})}const Kg=[{id:"sales-001",name:"John Smith",email:"john.smith@dealership.com",phone:"(555) 123-4567",territory:"North Region",isActive:!0,targets:{monthly:10,quarterly:30,annual:120}},{id:"sales-002",name:"Sarah Johnson",email:"sarah.johnson@dealership.com",phone:"(555) 987-6543",territory:"South Region",isActive:!0,targets:{monthly:12,quarterly:36,annual:144}},{id:"sales-003",name:"Mike Davis",email:"mike.davis@dealership.com",phone:"(555) 456-7890",territory:"East Region",isActive:!0,targets:{monthly:8,quarterly:24,annual:96}}],Fj=[{id:"deal-001",name:"Georgetown Class A Sale - Smith Family",customerName:"John & Mary Smith",value:137500,stage:"closed_won",status:"active",createdAt:new Date("2024-01-15")},{id:"deal-002",name:"Travel Trailer - Johnson Family",customerName:"Sarah Johnson",value:75e3,stage:"closed_won",status:"active",createdAt:new Date("2024-01-10")},{id:"deal-003",name:"Service Contract - Davis",customerName:"Mike Davis",value:2500,stage:"closed_won",status:"active",createdAt:new Date("2024-01-20")}];function dI(){const{commissions:e,rules:t,createCommission:n,updateCommission:a,approveCommission:s,rejectCommission:i,markCommissionPaid:o,createRule:l,updateRule:c,deleteRule:u,getAuditTrailByCommission:h,generateCommissionReport:f,exportCommissionsToCSV:p}=Vie(),{user:v}=lp(),{toast:g}=Ht(),[y,x]=S.useState(""),[j,b]=S.useState("all"),[N,P]=S.useState("commissions"),[I,w]=S.useState(!1),[E,C]=S.useState(!1),[_,M]=S.useState(!1),[k,D]=S.useState(null),[R,F]=S.useState(null),z=Ie=>{switch(Ie){case ir.PENDING:return"bg-yellow-50 text-yellow-700 border-yellow-200";case ir.APPROVED:return"bg-blue-50 text-blue-700 border-blue-200";case ir.PAID:return"bg-green-50 text-green-700 border-green-200";case ir.CANCELLED:return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},V=Ie=>{switch(Ie){case Vr.FLAT:return"bg-blue-50 text-blue-700 border-blue-200";case Vr.PERCENTAGE:return"bg-green-50 text-green-700 border-green-200";case Vr.TIERED:return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},B=Ie=>{switch(Ie){case ir.PENDING:return r.jsx(Ar,{className:"h-4 w-4 text-yellow-500"});case ir.APPROVED:return r.jsx(yn,{className:"h-4 w-4 text-blue-500"});case ir.PAID:return r.jsx(lr,{className:"h-4 w-4 text-green-500"});case ir.CANCELLED:return r.jsx(Ao,{className:"h-4 w-4 text-red-500"});default:return null}},H=e.filter(Ie=>{const Ue=Ie.salesPersonId.toLowerCase().includes(y.toLowerCase())||Ie.dealId.toLowerCase().includes(y.toLowerCase())||Ie.id.toLowerCase().includes(y.toLowerCase()),ct=j==="all"||Ie.status===j;return Ue&&ct}),G=()=>{D(null),w(!0)},Z=Ie=>{D(Ie),w(!0),C(!1)},Q=Ie=>{D(Ie),C(!0)},$=async(Ie,Ue)=>{try{k?(await a(k.id,Ie,v?.id||"current-user",v?.name||"Current User",Ue),g({title:"Success",description:"Commission updated successfully"})):(await n(Ie,v?.id||"current-user",v?.name||"Current User"),g({title:"Success",description:"Commission created successfully"})),w(!1),D(null)}catch{g({title:"Error",description:`Failed to ${k?"update":"create"} commission`,variant:"destructive"})}},K=async(Ie,Ue)=>{try{await s(Ie,v?.id||"current-user",v?.name||"Current User",Ue),g({title:"Success",description:"Commission approved successfully"})}catch{g({title:"Error",description:"Failed to approve commission",variant:"destructive"})}},te=async(Ie,Ue)=>{try{await i(Ie,v?.id||"current-user",v?.name||"Current User",Ue),g({title:"Success",description:"Commission rejected successfully"})}catch{g({title:"Error",description:"Failed to reject commission",variant:"destructive"})}},se=async(Ie,Ue)=>{try{await o(Ie,v?.id||"current-user",v?.name||"Current User",Ue),g({title:"Success",description:"Commission marked as paid successfully"})}catch{g({title:"Error",description:"Failed to mark commission as paid",variant:"destructive"})}},oe=()=>{F(null),M(!0)},me=Ie=>{F(Ie),M(!0)},ve=async Ie=>{try{R?(await c(R.id,Ie),g({title:"Success",description:"Commission rule updated successfully"})):(await l(Ie),g({title:"Success",description:"Commission rule created successfully"})),M(!1),F(null)}catch{g({title:"Error",description:`Failed to ${R?"update":"create"} commission rule`,variant:"destructive"})}},pe=async Ie=>{if(window.confirm("Are you sure you want to delete this commission rule?"))try{await u(Ie),g({title:"Success",description:"Commission rule deleted successfully"})}catch{g({title:"Error",description:"Failed to delete commission rule",variant:"destructive"})}},we=e.length,Se=e.filter(Ie=>Ie.status===ir.PENDING).length,Ce=e.filter(Ie=>Ie.status===ir.APPROVED).length,ze=e.filter(Ie=>Ie.status===ir.PAID).length,He=e.reduce((Ie,Ue)=>Ie+Ue.amount,0),ge=e.filter(Ie=>Ie.status===ir.PENDING).reduce((Ie,Ue)=>Ie+Ue.amount,0),le=e.filter(Ie=>Ie.status===ir.APPROVED).reduce((Ie,Ue)=>Ie+Ue.amount,0),st=e.filter(Ie=>Ie.status===ir.PAID).reduce((Ie,Ue)=>Ie+Ue.amount,0);return r.jsxs("div",{className:"space-y-8",children:[I&&r.jsx(Wie,{commission:k||void 0,salesReps:Kg,deals:Fj,rules:t,onSave:$,onCancel:()=>{w(!1),D(null)}}),E&&k&&r.jsx(Gie,{commission:k,salesReps:Kg,deals:Fj,auditTrail:h(k.id),onClose:()=>C(!1),onEdit:Z,onApprove:K,onReject:te,onMarkPaid:se}),_&&r.jsx(Yie,{rule:R||void 0,onSave:ve,onCancel:()=>{M(!1),F(null)}}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Commission Engine"}),r.jsx("p",{className:"ri-page-description",children:"Manage sales commissions and payment rules"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:G,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Commission"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Commissions"}),r.jsx(lr,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Me(He)}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(fs,{className:"h-3 w-3 mr-1"}),we," commissions"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),r.jsx(Ar,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:Me(ge)}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(Ar,{className:"h-3 w-3 mr-1"}),Se," pending approval"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Approved"}),r.jsx(yn,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:Me(le)}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(yn,{className:"h-3 w-3 mr-1"}),Ce," approved"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Paid"}),r.jsx(lr,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Me(st)}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(lr,{className:"h-3 w-3 mr-1"}),ze," paid out"]})]})]})]}),r.jsxs(Or,{value:N,onValueChange:P,className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"commissions",children:"Commissions"}),r.jsx(ut,{value:"rules",children:"Commission Rules"}),r.jsx(ut,{value:"reports",children:"Reports"})]}),r.jsxs(ft,{value:"commissions",className:"space-y-6",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search commissions...",value:y,onChange:Ie=>x(Ie.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(Xe,{value:j,onValueChange:b,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:ir.PENDING,children:"Pending"}),r.jsx(ee,{value:ir.APPROVED,children:"Approved"}),r.jsx(ee,{value:ir.PAID,children:"Paid"}),r.jsx(ee,{value:ir.CANCELLED,children:"Cancelled"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]}),r.jsxs(ae,{onClick:G,className:"shadow-sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Commission"]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Commissions"}),r.jsx(tt,{children:"Track and manage sales commissions"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[H.map(Ie=>{const Ue=Kg.find(xt=>xt.id===Ie.salesPersonId),ct=Fj.find(xt=>xt.id===Ie.dealId);return r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:["Commission #",Ie.id]}),r.jsx(Ze,{className:ot("ri-badge-status",V(Ie.type)),children:Ie.type.toUpperCase()}),r.jsxs(Ze,{className:ot("ri-badge-status",z(Ie.status)),children:[B(Ie.status),r.jsx("span",{className:"ml-1",children:Ie.status.toUpperCase()})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fs,{className:"h-3 w-3 mr-2 text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Sales Rep:"}),r.jsx("span",{className:"ml-1",children:Ue?.name||Ie.salesPersonId})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(lr,{className:"h-3 w-3 mr-2 text-green-500"}),r.jsx("span",{className:"font-medium",children:"Deal:"}),r.jsx("span",{className:"ml-1",children:ct?.name||Ie.dealId})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(lr,{className:"h-3 w-3 mr-2 text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Amount:"}),r.jsx("span",{className:"ml-1 font-bold text-primary",children:Me(Ie.amount)})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(gn,{className:"h-3 w-3 mr-2 text-orange-500"}),r.jsx("span",{className:"font-medium",children:"Created:"}),r.jsx("span",{className:"ml-1",children:Et(Ie.createdAt)})]})]}),Ie.notes&&r.jsx("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",Ie.notes]})})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>Q(Ie),children:"View"}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>Z(Ie),children:"Edit"}),Ie.status===ir.PENDING&&r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>K(Ie.id),children:"Approve"}),Ie.status===ir.APPROVED&&r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>se(Ie.id),children:"Mark Paid"})]})]},Ie.id)}),H.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(lr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No commissions found"}),r.jsx("p",{className:"text-sm",children:"Create your first commission to get started"})]})]})})]})]}),r.jsx(ft,{value:"rules",children:r.jsx(Kie,{rules:t,onCreateRule:oe,onEditRule:me,onDeleteRule:pe})}),r.jsx(ft,{value:"reports",children:r.jsx(Xie,{salesReps:Kg,onGenerateReport:f,onExportCSV:p})})]})]})}function Qie(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(dI,{})}),r.jsx(vr,{path:"/*",element:r.jsx(dI,{})})]})}function Jie({user:e,onSave:t,onCancel:n}){const{toast:a}=Ht(),[s,i]=S.useState(!1),[o,l]=S.useState({firstName:e?.firstName||"",lastName:e?.lastName||"",email:e?.email||"",phone:e?.phone||"",sendInvite:!0,inviteMethod:"email",notes:e?.notes||"",status:e?.status||"active"}),c=async u=>{if(u.preventDefault(),!o.firstName||!o.lastName||!o.email){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}i(!0);try{await new Promise(h=>setTimeout(h,1e3)),t({...o,id:e?.id||Math.random().toString(36).substring(2,9)}),a({title:"Success",description:`Portal user ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} portal user`,variant:"destructive"})}finally{i(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Portal User":"Add Portal User"}),r.jsx(tt,{children:e?"Update user details":"Create a new portal user account"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"firstName",children:"First Name *"}),r.jsx(Ee,{id:"firstName",value:o.firstName,onChange:u=>l(h=>({...h,firstName:u.target.value})),placeholder:"Enter first name"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"lastName",children:"Last Name *"}),r.jsx(Ee,{id:"lastName",value:o.lastName,onChange:u=>l(h=>({...h,lastName:u.target.value})),placeholder:"Enter last name"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"email",children:"Email Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"email",type:"email",value:o.email,onChange:u=>l(h=>({...h,email:u.target.value})),placeholder:"Enter email address",className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"phone",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(op,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"phone",type:"tel",value:o.phone,onChange:u=>l(h=>({...h,phone:u.target.value})),placeholder:"Enter phone number",className:"pl-10"})]})]}),!e&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"sendInvite",checked:o.sendInvite,onCheckedChange:u=>l(h=>({...h,sendInvite:!!u}))}),r.jsx(ie,{htmlFor:"sendInvite",children:"Send invitation to user"})]}),o.sendInvite&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"inviteMethod",children:"Invitation Method"}),r.jsxs(Xe,{value:o.inviteMethod,onValueChange:u=>l(h=>({...h,inviteMethod:u})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"email",children:"Email"}),r.jsx(ee,{value:"sms",children:"SMS"}),r.jsx(ee,{value:"both",children:"Both Email & SMS"})]})]})]})]}),e&&r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"status",children:"Account Status"}),r.jsxs(Xe,{value:o.status,onValueChange:u=>l(h=>({...h,status:u})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"active",children:"Active"}),r.jsx(ee,{value:"inactive",children:"Inactive"}),r.jsx(ee,{value:"suspended",children:"Suspended"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Notes (Optional)"}),r.jsx(wr,{id:"notes",value:o.notes,onChange:u=>l(h=>({...h,notes:u.target.value})),placeholder:"Add any notes about this user",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:s,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," User"]})})]})]})})]})})}const Zie=[{id:"user-1",firstName:"John",lastName:"Smith",email:"john.smith@example.com",phone:"(555) 123-4567",status:"active",lastLogin:new Date("2024-01-18"),createdAt:new Date("2023-12-15")},{id:"user-2",firstName:"Sarah",lastName:"Johnson",email:"sarah.j@example.com",phone:"(555) 987-6543",status:"active",lastLogin:new Date("2024-01-16"),createdAt:new Date("2023-12-10")},{id:"user-3",firstName:"Michael",lastName:"Davis",email:"michael.d@example.com",phone:"(555) 456-7890",status:"inactive",lastLogin:new Date("2023-12-05"),createdAt:new Date("2023-11-20")}];function eoe({onImpersonate:e}){const{toast:t}=Ht(),[n,a]=S.useState(Zie),[s,i]=S.useState(""),[o,l]=S.useState("all"),c=p=>{switch(p){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=n.filter(p=>{const v=`${p.firstName} ${p.lastName}`.toLowerCase().includes(s.toLowerCase())||p.email.toLowerCase().includes(s.toLowerCase())||p.phone.includes(s),g=o==="all"||p.status===o;return v&&g}),h=p=>{t({title:"Password Reset Link Sent",description:"A password reset link has been sent to the user's email address."})},f=p=>{console.log("Edit user:",p)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"ri-search-bar flex-1",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search users...",value:s,onChange:p=>i(p.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Xe,{value:o,onValueChange:l,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:"active",children:"Active"}),r.jsx(ee,{value:"inactive",children:"Inactive"}),r.jsx(ee,{value:"suspended",children:"Suspended"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Portal Users"}),r.jsx(tt,{children:"Manage customer portal access and permissions"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[u.map(p=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsxs("h3",{className:"font-semibold text-foreground",children:[p.firstName," ",p.lastName]}),r.jsx(Ze,{className:ot("ri-badge-status",c(p.status)),children:p.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Mn,{className:"h-3 w-3 mr-2 text-blue-500"}),p.email]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(op,{className:"h-3 w-3 mr-2 text-green-500"}),p.phone]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(gn,{className:"h-3 w-3 mr-2 text-purple-500"}),"Last login: ",p.lastLogin.toLocaleDateString()]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>f(p),children:[r.jsx(bn,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>h(p.id),children:"Reset Password"}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>e(p.id,`${p.firstName} ${p.lastName}`),children:[r.jsx(YU,{className:"h-3 w-3 mr-1"}),"Proxy as Client"]})]})]},p.id)),u.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Users,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No users found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})]})})]})]})}function toe(){const{toast:e}=Ht(),[t,n]=S.useState("general"),[a,s]=S.useState("Customer Self-Service Portal"),[i,o]=S.useState("Access your quotes, service history, and more"),[l,c]=S.useState(""),[u,h]=S.useState("Welcome to your customer portal. Here you can view your quotes, track deliveries, and request service."),[f,p]=S.useState(!0),[v,g]=S.useState(!0),[y,x]=S.useState(!0),[j,b]=S.useState(!0),[N,P]=S.useState(!0),[I,w]=S.useState(!0),[E,C]=S.useState(90),[_,M]=S.useState(5),[k,D]=S.useState(30),[R,F]=S.useState(!1),z=()=>{e({title:"Settings Saved",description:"Portal settings have been updated successfully."})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Or,{value:t,onValueChange:n,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"general",children:"General"}),r.jsx(ut,{value:"notifications",children:"Notifications"}),r.jsx(ut,{value:"security",children:"Security"})]}),r.jsxs(ft,{value:"general",className:"space-y-4",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Ex,{className:"h-5 w-5 mr-2 text-primary"}),"Portal Configuration"]}),r.jsx(tt,{children:"Configure general portal settings and appearance"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"portalName",children:"Portal Name"}),r.jsx(Ee,{id:"portalName",value:a,onChange:V=>s(V.target.value)})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"portalDescription",children:"Portal Description"}),r.jsx(Ee,{id:"portalDescription",value:i,onChange:V=>o(V.target.value)})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"portalLogo",children:"Logo URL (Optional)"}),r.jsx(Ee,{id:"portalLogo",value:l,onChange:V=>c(V.target.value),placeholder:"https://example.com/logo.png"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"welcomeMessage",children:"Welcome Message"}),r.jsx(wr,{id:"welcomeMessage",value:u,onChange:V=>h(V.target.value),rows:3})]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-lg",children:"Portal Features"}),r.jsx(tt,{children:"Enable or disable portal features"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"enableQuotes",defaultChecked:!0}),r.jsx(ie,{htmlFor:"enableQuotes",children:"Enable Quotes"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"enableService",defaultChecked:!0}),r.jsx(ie,{htmlFor:"enableService",children:"Enable Service Requests"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"enableDelivery",defaultChecked:!0}),r.jsx(ie,{htmlFor:"enableDelivery",children:"Enable Delivery Tracking"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"enableDocuments",defaultChecked:!0}),r.jsx(ie,{htmlFor:"enableDocuments",children:"Enable Document Signing"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"enableSurveys",defaultChecked:!0}),r.jsx(ie,{htmlFor:"enableSurveys",children:"Enable Satisfaction Surveys"})]})]})})]})]}),r.jsxs(ft,{value:"notifications",className:"space-y-4",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(FL,{className:"h-5 w-5 mr-2 text-primary"}),"Notification Settings"]}),r.jsx(tt,{children:"Configure how and when notifications are sent"})]}),r.jsx(be,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{className:"text-base",children:"Notification Channels"}),r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"emailNotifications",checked:f,onCheckedChange:V=>p(!!V)}),r.jsxs(ie,{htmlFor:"emailNotifications",className:"flex items-center",children:[r.jsx(Mn,{className:"h-4 w-4 mr-2 text-blue-500"}),"Email Notifications"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"smsNotifications",checked:v,onCheckedChange:V=>g(!!V)}),r.jsxs(ie,{htmlFor:"smsNotifications",className:"flex items-center",children:[r.jsx(Un,{className:"h-4 w-4 mr-2 text-green-500"}),"SMS Notifications"]})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{className:"text-base",children:"Notification Events"}),r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"notifyOnQuoteViewed",checked:y,onCheckedChange:V=>x(!!V)}),r.jsx(ie,{htmlFor:"notifyOnQuoteViewed",children:"Quote Viewed by Customer"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"notifyOnQuoteAccepted",checked:j,onCheckedChange:V=>b(!!V)}),r.jsx(ie,{htmlFor:"notifyOnQuoteAccepted",children:"Quote Accepted by Customer"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"notifyOnServiceRequest",checked:N,onCheckedChange:V=>P(!!V)}),r.jsx(ie,{htmlFor:"notifyOnServiceRequest",children:"New Service Request Submitted"})]})]})]})]})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-lg",children:"Email Templates"}),r.jsx(tt,{children:"Customize notification email templates"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"welcomeEmailTemplate",children:"Welcome Email"}),r.jsxs(Xe,{defaultValue:"default",children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"default",children:"Default Welcome Template"}),r.jsx(ee,{value:"minimal",children:"Minimal Welcome Template"}),r.jsx(ee,{value:"branded",children:"Branded Welcome Template"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"passwordResetTemplate",children:"Password Reset Email"}),r.jsxs(Xe,{defaultValue:"default",children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"default",children:"Default Password Reset Template"}),r.jsx(ee,{value:"minimal",children:"Minimal Password Reset Template"}),r.jsx(ee,{value:"secure",children:"Secure Password Reset Template"})]})]})]})]})})]})]}),r.jsxs(ft,{value:"security",className:"space-y-4",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(ZU,{className:"h-5 w-5 mr-2 text-primary"}),"Security Settings"]}),r.jsx(tt,{children:"Configure portal security and access controls"})]}),r.jsx(be,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"requireStrongPasswords",checked:I,onCheckedChange:V=>w(!!V)}),r.jsx(ie,{htmlFor:"requireStrongPasswords",children:"Require Strong Passwords"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"passwordExpiryDays",children:"Password Expiry (Days)"}),r.jsx(Ee,{id:"passwordExpiryDays",type:"number",min:"0",value:E,onChange:V=>C(parseInt(V.target.value)||0)}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Set to 0 for no expiration"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"maxLoginAttempts",children:"Max Login Attempts"}),r.jsx(Ee,{id:"maxLoginAttempts",type:"number",min:"1",value:_,onChange:V=>M(parseInt(V.target.value)||5)})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"sessionTimeoutMinutes",children:"Session Timeout (Minutes)"}),r.jsx(Ee,{id:"sessionTimeoutMinutes",type:"number",min:"5",value:k,onChange:V=>D(parseInt(V.target.value)||30)})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"twoFactorAuth",checked:R,onCheckedChange:V=>F(!!V)}),r.jsx(ie,{htmlFor:"twoFactorAuth",children:"Enable Two-Factor Authentication"})]})]})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-lg",children:"Access Controls"}),r.jsx(tt,{children:"Configure IP restrictions and access limits"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"ipWhitelist",children:"IP Whitelist (Optional)"}),r.jsx(wr,{id:"ipWhitelist",placeholder:"Enter IP addresses, one per line",rows:3}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty to allow access from any IP address"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"limitConcurrentSessions",defaultChecked:!0}),r.jsx(ie,{htmlFor:"limitConcurrentSessions",children:"Limit to One Active Session Per User"})]})]})})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(ae,{onClick:z,children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})}function fI(){const[e,t]=S.useState("users"),[n,a]=S.useState(!1),s=()=>{a(!0)},i=(o,l)=>{const c=`/customer-portal?impersonateClientId=${o}`;window.open(c,"_blank")};return r.jsxs("div",{className:"space-y-8",children:[n&&r.jsx(Jie,{onSave:()=>{a(!1)},onCancel:()=>a(!1)}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Client Portal Management"}),r.jsx("p",{className:"ri-page-description",children:"Manage customer portal access and self-service features"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:s,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Portal User"]})]})}),r.jsxs(Or,{value:e,onValueChange:t,className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"users",children:"Portal Users"}),r.jsx(ut,{value:"settings",children:"Portal Settings"}),r.jsx(ut,{value:"activity",children:"User Activity"})]}),r.jsx(ft,{value:"users",children:r.jsx(eoe,{onImpersonate:i})}),r.jsx(ft,{value:"settings",children:r.jsx(toe,{})}),r.jsx(ft,{value:"activity",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Portal Activity"}),r.jsx(tt,{children:"Recent user activity in the customer portal"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Ex,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No recent activity to display"})]})})})]})})]})]})}function roe(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(fI,{})}),r.jsx(vr,{path:"/*",element:r.jsx(fI,{})})]})}function H8(){const[e,t]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState(!1);S.useEffect(()=>{o()},[]);const o=()=>{const P=Qn("renter-insight-invoices",[{id:"1",customerId:"cust-1",number:"INV-2024-001",items:[{id:"1",description:"2024 Forest River Georgetown",quantity:1,unitPrice:125e3,total:125e3},{id:"2",description:"Extended Warranty",quantity:1,unitPrice:2500,total:2500}],subtotal:127500,tax:10200,total:137700,status:dr.PAID,dueDate:new Date("2024-02-15"),paidDate:new Date("2024-01-20"),paymentMethod:"Credit Card",notes:"Payment received via Zego",customFields:{},createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20")},{id:"2",customerId:"cust-2",number:"INV-2024-002",items:[{id:"3",description:"Service - AC Repair",quantity:1,unitPrice:620,total:620}],subtotal:620,tax:49.6,total:669.6,status:dr.SENT,dueDate:new Date("2024-02-20"),notes:"Service invoice for AC repair",customFields:{},createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")}]),I=Qn("renter-insight-payments",[{id:"1",invoiceId:"1",amount:137700,method:wo.CREDIT_CARD,status:fl.COMPLETED,transactionId:"txn_1234567890",processedDate:new Date("2024-01-20"),notes:"Processed via Zego payment gateway",customFields:{},createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20")}]);t(P),a(I)},l=P=>{Sn("renter-insight-invoices",P)},c=P=>{Sn("renter-insight-payments",P)},u=P=>e.filter(I=>I.customerId===P),h=P=>e.find(I=>I.id===P),f=P=>n.filter(I=>I.invoiceId===P),p=async P=>{i(!0);try{const I={id:Math.random().toString(36).substr(2,9),customerId:P.customerId||"",number:P.number||"",items:P.items||[],subtotal:P.subtotal||0,tax:P.tax||0,total:P.total||0,status:P.status||dr.DRAFT,dueDate:P.dueDate||new Date,notes:P.notes||"",customFields:P.customFields||{},createdAt:new Date,updatedAt:new Date},w=[...e,I];return t(w),l(w),I}finally{i(!1)}},v=async(P,I)=>{const w=e.map(E=>E.id===P?{...E,...I,updatedAt:new Date}:E);t(w),l(w)},g=async P=>{const I=e.filter(w=>w.id!==P);t(I),l(I)},y=async(P,I)=>{const w=e.map(E=>E.id===P?{...E,status:I,updatedAt:new Date}:E);t(w),l(w)},x=async(P,I)=>{const w=e.map(E=>E.id===P?{...E,status:dr.PAID,paidDate:new Date,paymentMethod:I,updatedAt:new Date}:E);t(w),l(w)};return{invoices:e,payments:n,loading:s,getInvoicesByCustomerId:u,getInvoiceById:h,getPaymentsByInvoiceId:f,createInvoice:p,updateInvoice:v,deleteInvoice:g,updateInvoiceStatus:y,markInvoiceAsPaid:x,sendInvoice:async P=>{const I=e.map(w=>w.id===P?{...w,status:dr.SENT,updatedAt:new Date}:w);t(I),l(I)},recordPayment:async P=>{i(!0);try{const I={id:Math.random().toString(36).substr(2,9),invoiceId:P.invoiceId||"",amount:P.amount||0,method:P.method||wo.CREDIT_CARD,status:P.status||fl.COMPLETED,transactionId:P.transactionId,processedDate:P.processedDate||new Date,notes:P.notes||"",customFields:P.customFields||{},createdAt:new Date,updatedAt:new Date},w=[...n,I];return a(w),c(w),I.status===fl.COMPLETED&&await x(I.invoiceId,I.method),I}finally{i(!1)}},sendPaymentRequest:async P=>(await y(P,dr.SENT),await new Promise(I=>setTimeout(I,1e3)),!0)}}function noe({invoice:e,onSave:t,onCancel:n}){const{toast:a}=Ht(),{leads:s}=bl(),[i,o]=S.useState(!1),[l,c]=S.useState({customerId:"",number:`INV-${new Date().getFullYear()}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`,items:[],subtotal:0,tax:0,total:0,status:dr.DRAFT,dueDate:new Date(Date.now()+30*24*60*60*1e3),notes:"",customFields:{}}),[u,h]=S.useState({description:"",quantity:1,unitPrice:0,total:0}),[f,p]=S.useState(.08);S.useEffect(()=>{e&&(c({...e,dueDate:new Date(e.dueDate)}),e.subtotal>0&&p(e.tax/e.subtotal))},[e]),S.useEffect(()=>{const x=u.quantity||1,j=u.unitPrice||0;h(b=>({...b,total:x*j}))},[u.quantity,u.unitPrice]),S.useEffect(()=>{if(l.items&&l.items.length>0){const x=l.items.reduce((N,P)=>N+P.total,0),j=x*f,b=x+j;c(N=>({...N,subtotal:x,tax:j,total:b}))}else c(x=>({...x,subtotal:0,tax:0,total:0}))},[l.items,f]);const v=async x=>{if(x.preventDefault(),!l.customerId||!l.number||!l.dueDate){a({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(!l.items||l.items.length===0){a({title:"Validation Error",description:"Please add at least one item to the invoice",variant:"destructive"});return}o(!0);try{await t(l),a({title:"Success",description:`Invoice ${e?"updated":"created"} successfully`})}catch{a({title:"Error",description:`Failed to ${e?"update":"create"} invoice`,variant:"destructive"})}finally{o(!1)}},g=()=>{if(!u.description||!u.unitPrice){a({title:"Validation Error",description:"Description and unit price are required",variant:"destructive"});return}const x={id:Math.random().toString(36).substr(2,9),description:u.description||"",quantity:u.quantity||1,unitPrice:u.unitPrice||0,total:u.total||0};c(j=>({...j,items:[...j.items||[],x]})),h({description:"",quantity:1,unitPrice:0,total:0})},y=x=>{c(j=>({...j,items:j.items?.filter(b=>b.id!==x)||[]}))};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Invoice":"Create Invoice"}),r.jsx(tt,{children:e?"Update invoice details":"Create a new invoice"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"customerId",children:"Customer *"}),r.jsxs(Xe,{value:l.customerId,onValueChange:x=>c(j=>({...j,customerId:x})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select customer"})}),r.jsx(Ye,{children:s.map(x=>r.jsxs(ee,{value:x.id,children:[x.firstName," ",x.lastName]},x.id))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"invoiceNumber",children:"Invoice Number *"}),r.jsx(Ee,{id:"invoiceNumber",value:l.number,onChange:x=>c(j=>({...j,number:x.target.value})),placeholder:"e.g., INV-2024-001"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"dueDate",children:"Due Date *"}),r.jsx(Ee,{id:"dueDate",type:"date",value:l.dueDate?new Date(l.dueDate).toISOString().split("T")[0]:"",onChange:x=>c(j=>({...j,dueDate:x.target.value?new Date(x.target.value):void 0}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"status",children:"Status"}),r.jsxs(Xe,{value:l.status,onValueChange:x=>c(j=>({...j,status:x})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:dr.DRAFT,children:"Draft"}),r.jsx(ee,{value:dr.SENT,children:"Sent"}),r.jsx(ee,{value:dr.VIEWED,children:"Viewed"}),r.jsx(ee,{value:dr.PAID,children:"Paid"}),r.jsx(ee,{value:dr.OVERDUE,children:"Overdue"}),r.jsx(ee,{value:dr.CANCELLED,children:"Cancelled"})]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Items"}),r.jsxs(ae,{type:"button",onClick:g,size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Item"]})]}),r.jsx(ye,{className:"border-dashed",children:r.jsxs(be,{className:"pt-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx(ie,{htmlFor:"description",children:"Description *"}),r.jsx(Ee,{id:"description",value:u.description,onChange:x=>h(j=>({...j,description:x.target.value})),placeholder:"e.g., Service Labor"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"quantity",children:"Quantity"}),r.jsx(Ee,{id:"quantity",type:"number",min:"1",value:u.quantity,onChange:x=>h(j=>({...j,quantity:parseInt(x.target.value)||1}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"unitPrice",children:"Unit Price"}),r.jsx(Ee,{id:"unitPrice",type:"number",step:"0.01",min:"0",value:u.unitPrice,onChange:x=>h(j=>({...j,unitPrice:parseFloat(x.target.value)||0}))})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium",children:"Total: "}),r.jsx("span",{className:"font-bold",children:Me(u.total||0)})]}),r.jsx(ae,{type:"button",onClick:g,children:"Add Item"})]})]})}),r.jsx("div",{className:"space-y-3",children:l.items&&l.items.length>0?l.items.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium",children:x.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",x.quantity," × ",Me(x.unitPrice)]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"font-bold",children:Me(x.total)}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",onClick:()=>y(x.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]})]},x.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(ma,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No items added yet"}),r.jsx("p",{className:"text-sm",children:"Add items to this invoice"})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Totals"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"taxRate",children:"Tax Rate (%)"}),r.jsx(Ee,{id:"taxRate",type:"number",step:"0.01",min:"0",max:"100",value:f*100,onChange:x=>p(parseFloat(x.target.value)/100||0)})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Me(l.subtotal||0)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Tax (",(f*100).toFixed(2),"%):"]}),r.jsx("span",{children:Me(l.tax||0)})]}),r.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Me(l.total||0)})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Additional Information"}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Notes"}),r.jsx(wr,{id:"notes",value:l.notes,onChange:x=>c(j=>({...j,notes:x.target.value})),placeholder:"Add any additional notes about this invoice",rows:3})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:i,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Invoice"]})})]})]})})]})})}function aoe({invoiceId:e,invoiceTotal:t,remainingBalance:n,onSave:a,onCancel:s}){const{toast:i}=Ht(),[o,l]=S.useState(!1),[c,u]=S.useState({invoiceId:e,amount:n,method:wo.CREDIT_CARD,status:fl.COMPLETED,processedDate:new Date,notes:""}),h=async f=>{if(f.preventDefault(),!c.amount||c.amount<=0){i({title:"Validation Error",description:"Payment amount must be greater than zero",variant:"destructive"});return}if(c.amount>n){i({title:"Validation Error",description:"Payment amount cannot exceed the remaining balance",variant:"destructive"});return}l(!0);try{await a(c),i({title:"Success",description:"Payment recorded successfully"})}catch{i({title:"Error",description:"Failed to record payment",variant:"destructive"})}finally{l(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Zs,{className:"h-5 w-5 mr-2 text-primary"}),"Record Payment"]}),r.jsxs(tt,{children:["Record a payment for invoice #",e]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:s,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"amount",children:"Payment Amount *"}),r.jsxs("div",{className:"relative",children:[r.jsx(lr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"amount",type:"number",step:"0.01",min:"0.01",max:n,value:c.amount,onChange:f=>u(p=>({...p,amount:parseFloat(f.target.value)||0})),className:"pl-10"})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Remaining balance: ",Me(n)]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"method",children:"Payment Method *"}),r.jsxs(Xe,{value:c.method,onValueChange:f=>u(p=>({...p,method:f})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:wo.CREDIT_CARD,children:"Credit Card"}),r.jsx(ee,{value:wo.BANK_TRANSFER,children:"Bank Transfer"}),r.jsx(ee,{value:wo.CASH,children:"Cash"}),r.jsx(ee,{value:wo.CHECK,children:"Check"}),r.jsx(ee,{value:wo.FINANCING,children:"Financing"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"status",children:"Payment Status *"}),r.jsxs(Xe,{value:c.status,onValueChange:f=>u(p=>({...p,status:f})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:fl.COMPLETED,children:"Completed"}),r.jsx(ee,{value:fl.PENDING,children:"Pending"}),r.jsx(ee,{value:fl.PROCESSING,children:"Processing"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"processedDate",children:"Payment Date *"}),r.jsx(Ee,{id:"processedDate",type:"date",value:c.processedDate?new Date(c.processedDate).toISOString().split("T")[0]:"",onChange:f=>u(p=>({...p,processedDate:f.target.value?new Date(f.target.value):void 0}))})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"transactionId",children:"Transaction ID"}),r.jsx(Ee,{id:"transactionId",value:c.transactionId||"",onChange:f=>u(p=>({...p,transactionId:f.target.value})),placeholder:"e.g., txn_1234567890"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"notes",children:"Notes"}),r.jsx(wr,{id:"notes",value:c.notes||"",onChange:f=>u(p=>({...p,notes:f.target.value})),placeholder:"Add any notes about this payment",rows:3})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:s,disabled:o,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:o,children:o?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Recording..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Record Payment"]})})]})]})})]})})}function soe({invoice:e,payments:t,onClose:n,onEdit:a,onSendPaymentRequest:s,onRecordPayment:i}){const{toast:o}=Ht(),[l,c]=S.useState("details"),[u,h]=S.useState(!1),[f,p]=S.useState(!1),v=w=>{switch(w){case dr.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case dr.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case dr.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case dr.PAID:return"bg-green-50 text-green-700 border-green-200";case dr.OVERDUE:return"bg-red-50 text-red-700 border-red-200";case dr.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},g=w=>{switch(w){case"completed":return r.jsx(yn,{className:"h-4 w-4 text-green-500"});case"pending":return r.jsx(Ar,{className:"h-4 w-4 text-yellow-500"});case"processing":return r.jsx(Ar,{className:"h-4 w-4 text-blue-500"});case"failed":return r.jsx(Ao,{className:"h-4 w-4 text-red-500"});case"refunded":return r.jsx(xm,{className:"h-4 w-4 text-purple-500"});default:return null}},y=w=>{switch(w){case"credit_card":return r.jsx(Zs,{className:"h-4 w-4 text-blue-500"});case"bank_transfer":return r.jsx(lr,{className:"h-4 w-4 text-green-500"});case"cash":return r.jsx(lr,{className:"h-4 w-4 text-green-500"});case"check":return r.jsx(ma,{className:"h-4 w-4 text-blue-500"});case"financing":return r.jsx(lr,{className:"h-4 w-4 text-purple-500"});default:return r.jsx(lr,{className:"h-4 w-4 text-gray-500"})}},x=()=>{try{const w=new Zt;if(w.setFontSize(20),w.text("INVOICE",105,15,{align:"center"}),w.setFontSize(12),w.text(`Invoice #: ${e.number}`,20,30),w.text(`Date: ${Et(e.createdAt)}`,20,40),w.text(`Due Date: ${Et(e.dueDate)}`,20,50),w.text(`Status: ${e.status.toUpperCase()}`,20,60),w.setFontSize(14),w.text("Bill To:",20,75),w.setFontSize(12),w.text(`Customer ID: ${e.customerId}`,20,85),w.setFontSize(14),w.text("Invoice Items",20,105),w.autoTable({startY:110,head:[["Description","Quantity","Unit Price","Total"]],body:e.items.map(E=>[E.description,E.quantity,Me(E.unitPrice),Me(E.total)]),foot:[["","","Subtotal:",Me(e.subtotal)],["","","Tax:",Me(e.tax)],["","","Total:",Me(e.total)]],theme:"striped",headStyles:{fillColor:[66,139,202]}}),e.notes){const E=w.lastAutoTable.finalY||110;w.setFontSize(14),w.text("Notes",20,E+20),w.setFontSize(12);const C=w.splitTextToSize(e.notes,170);w.text(C,20,E+30)}w.save(`invoice-${e.number}.pdf`),o({title:"PDF Generated",description:"Invoice PDF has been downloaded"})}catch(w){console.error("Error generating PDF:",w),o({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}},j=async()=>{if(s){h(!0);try{await s(e.id),o({title:"Payment Request Sent",description:"Payment request has been sent to the customer"})}catch{o({title:"Error",description:"Failed to send payment request",variant:"destructive"})}finally{h(!1)}}},b=async w=>{if(i)try{await i(w),p(!1)}catch(E){throw E}},N=t.filter(w=>w.invoiceId===e.id),P=N.reduce((w,E)=>w+E.amount,0),I=e.total-P;return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[f&&r.jsx(aoe,{invoiceId:e.id,invoiceTotal:e.total,remainingBalance:I,onSave:b,onCancel:()=>p(!1)}),r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"text-xl",children:["Invoice #",e.number]}),r.jsx(tt,{children:"Invoice details and payment information"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(ae,{onClick:()=>a(e),size:"sm",children:[r.jsx(bn,{className:"h-4 w-4 mr-2"}),"Edit Invoice"]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})]})}),r.jsxs(be,{children:[r.jsxs(Or,{value:l,onValueChange:c,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"details",children:"Details"}),r.jsxs(ut,{value:"payments",children:["Payments",N.length>0&&r.jsx(Ze,{className:"ml-2 bg-green-50 text-green-700 border-green-200",children:N.length})]}),r.jsx(ut,{value:"history",children:"History"})]}),r.jsxs(ft,{value:"details",className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(Ze,{className:ot("ri-badge-status",v(e.status)),children:e.status.toUpperCase()}),e.paidDate&&r.jsxs(Ze,{className:"bg-green-50 text-green-700 border-green-200",children:["PAID ON ",Et(e.paidDate)]}),e.status===dr.OVERDUE&&r.jsx(Ze,{className:"bg-red-50 text-red-700 border-red-200",children:"OVERDUE"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),r.jsx("p",{className:"font-medium",children:e.customerId})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Invoice Number"}),r.jsx("p",{className:"font-medium",children:e.number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created Date"}),r.jsx("p",{className:"font-medium",children:Et(e.createdAt)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Due Date"}),r.jsx("p",{className:"font-medium",children:Et(e.dueDate)})]}),e.paidDate&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Paid Date"}),r.jsx("p",{className:"font-medium",children:Et(e.paidDate)})]}),e.paymentMethod&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),r.jsx("p",{className:"font-medium",children:e.paymentMethod})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Invoice Items"}),r.jsx("div",{className:"space-y-3",children:e.items.map((w,E)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:w.description}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantity: ",w.quantity," × ",Me(w.unitPrice)]})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"font-bold text-lg",children:Me(w.total)})})]},w.id))})]}),r.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:Me(e.subtotal)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Tax:"}),r.jsx("span",{children:Me(e.tax)})]}),r.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{children:Me(e.total)})]}),N.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Paid:"}),r.jsx("span",{children:Me(P)})]}),r.jsxs("div",{className:"flex justify-between font-bold",children:[r.jsx("span",{children:"Balance Due:"}),r.jsx("span",{children:Me(I)})]})]})]})}),e.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),r.jsx("div",{className:"mt-1 p-3 bg-muted/30 rounded-md",children:r.jsx("p",{className:"text-sm",children:e.notes})})]})]}),r.jsxs(ft,{value:"payments",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Payment History"}),r.jsx("div",{className:"flex space-x-2",children:e.status!==dr.PAID&&e.status!==dr.CANCELLED&&r.jsxs(r.Fragment,{children:[r.jsxs(ae,{onClick:j,disabled:u,size:"sm",variant:"outline",children:[r.jsx(sc,{className:"h-4 w-4 mr-2"}),u?"Sending...":"Send Payment Request"]}),i&&I>0&&r.jsxs(ae,{onClick:()=>p(!0),size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})})]}),N.length>0?r.jsxs("div",{className:"space-y-4",children:[N.map(w=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsxs("h4",{className:"font-medium",children:["Payment #",w.id.substring(0,8)]}),r.jsx(Ze,{className:w.status==="completed"?"bg-green-50 text-green-700 border-green-200":w.status==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":w.status==="processing"?"bg-blue-50 text-blue-700 border-blue-200":w.status==="failed"?"bg-red-50 text-red-700 border-red-200":w.status==="refunded"?"bg-purple-50 text-purple-700 border-purple-200":"bg-gray-50 text-gray-700 border-gray-200",children:r.jsxs("span",{className:"flex items-center",children:[g(w.status),r.jsx("span",{className:"ml-1",children:w.status.toUpperCase()})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-muted-foreground",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(gn,{className:"h-3 w-3 mr-1 text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Date:"}),r.jsx("span",{className:"ml-1",children:Et(w.processedDate)})]}),r.jsxs("div",{className:"flex items-center",children:[y(w.method),r.jsx("span",{className:"font-medium ml-1",children:"Method:"}),r.jsx("span",{className:"ml-1",children:w.method.replace("_"," ").replace(/\b\w/g,E=>E.toUpperCase())})]}),w.transactionId&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(ma,{className:"h-3 w-3 mr-1 text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Transaction ID:"}),r.jsx("span",{className:"ml-1 font-mono text-xs",children:w.transactionId})]})]}),w.notes&&r.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/20 p-2 rounded-md",children:w.notes})]}),r.jsx("div",{className:"text-right",children:r.jsx("div",{className:"font-bold text-lg text-green-600",children:Me(w.amount)})})]},w.id)),r.jsx("div",{className:"bg-muted/30 p-4 rounded-lg",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"font-medium",children:"Invoice Total:"}),r.jsx("span",{children:Me(e.total)})]}),r.jsxs("div",{className:"flex justify-between text-green-700",children:[r.jsx("span",{className:"font-medium",children:"Total Paid:"}),r.jsx("span",{children:Me(P)})]}),r.jsxs("div",{className:"flex justify-between font-bold border-t pt-2",children:[r.jsx("span",{className:I>0?"text-red-700":"text-green-700",children:"Balance Due:"}),r.jsx("span",{className:I>0?"text-red-700":"text-green-700",children:Me(I)})]})]})})]}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Zs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No payments recorded for this invoice"}),e.status!==dr.PAID&&e.status!==dr.CANCELLED&&i&&r.jsxs(ae,{onClick:()=>p(!0),className:"mt-4",size:"sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),r.jsxs(ye,{className:"bg-blue-50 border-blue-200",children:[r.jsxs(Pe,{className:"pb-2",children:[r.jsx(Te,{className:"text-lg text-blue-800",children:"Zego Payment Integration"}),r.jsx(tt,{className:"text-blue-700",children:"Secure payment processing for your customers"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-3 text-blue-700",children:[r.jsx("p",{className:"text-sm",children:"When you send a payment request, your customer will receive an email with a secure link to make their payment online."}),r.jsx("p",{className:"text-sm",children:"Payments are processed securely through Zego's payment gateway, supporting credit cards, ACH transfers, and more."}),r.jsx("p",{className:"text-sm font-medium",children:"Processing fee: 2.9% + $0.30 per transaction"})]})})]})]}),r.jsxs(ft,{value:"history",className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Invoice History"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-blue-500"}),r.jsx("div",{className:"font-medium",children:"Invoice Created"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:Et(e.createdAt)})]}),e.status!==dr.DRAFT&&r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-yellow-500"}),r.jsx("div",{className:"font-medium",children:"Invoice Sent"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:Et(e.updatedAt)})]}),e.status===dr.VIEWED&&r.jsxs("div",{className:"relative pl-6 pb-6 border-l-2 border-muted",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-purple-500"}),r.jsx("div",{className:"font-medium",children:"Invoice Viewed by Customer"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:Et(e.updatedAt)})]}),e.status===dr.PAID&&e.paidDate&&r.jsxs("div",{className:"relative pl-6",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-green-500"}),r.jsx("div",{className:"font-medium",children:"Payment Received"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:Et(e.paidDate)})]}),e.status===dr.OVERDUE&&r.jsxs("div",{className:"relative pl-6",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-red-500"}),r.jsx("div",{className:"font-medium",children:"Invoice Overdue"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:Et(e.dueDate)})]}),e.status===dr.CANCELLED&&r.jsxs("div",{className:"relative pl-6",children:[r.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-gray-500"}),r.jsx("div",{className:"font-medium",children:"Invoice Cancelled"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:Et(e.updatedAt)})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[r.jsx(ae,{variant:"outline",onClick:n,children:"Close"}),r.jsxs(ae,{variant:"outline",onClick:x,children:[r.jsx(hh,{className:"h-4 w-4 mr-2"}),"Print PDF"]}),r.jsxs("div",{className:"flex space-x-2",children:[e.status===dr.DRAFT&&r.jsxs(ae,{children:[r.jsx(sc,{className:"h-4 w-4 mr-2"}),"Send Invoice"]}),e.status!==dr.PAID&&e.status!==dr.CANCELLED&&r.jsxs(r.Fragment,{children:[r.jsxs(ae,{onClick:j,disabled:u,variant:"outline",children:[r.jsx(sc,{className:"h-4 w-4 mr-2"}),u?"Sending...":"Request Payment"]}),i&&I>0&&r.jsxs(ae,{onClick:()=>p(!0),children:[r.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})]})]})]})]})}function ioe({payments:e,onViewPaymentDetails:t}){const{toast:n}=Ht(),[a,s]=S.useState(""),[i,o]=S.useState("all"),[l,c]=S.useState("all"),[u,h]=S.useState("all"),f=E=>{switch(E){case"completed":return"bg-green-50 text-green-700 border-green-200";case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"processing":return"bg-blue-50 text-blue-700 border-blue-200";case"failed":return"bg-red-50 text-red-700 border-red-200";case"refunded":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=E=>{switch(E){case"completed":return r.jsx(yn,{className:"h-4 w-4 text-green-500"});case"pending":return r.jsx(Ar,{className:"h-4 w-4 text-yellow-500"});case"processing":return r.jsx(Ar,{className:"h-4 w-4 text-blue-500"});case"failed":return r.jsx(Ao,{className:"h-4 w-4 text-red-500"});case"refunded":return r.jsx(ma,{className:"h-4 w-4 text-purple-500"});default:return null}},v=E=>{switch(E){case"credit_card":return"Credit Card";case"bank_transfer":return"Bank Transfer";case"cash":return"Cash";case"check":return"Check";case"financing":return"Financing";default:return E}},g=E=>{switch(E){case"credit_card":return r.jsx(Zs,{className:"h-4 w-4 text-blue-500"});case"bank_transfer":return r.jsx(ma,{className:"h-4 w-4 text-green-500"});case"cash":return r.jsx(ma,{className:"h-4 w-4 text-green-500"});case"check":return r.jsx(ma,{className:"h-4 w-4 text-blue-500"});case"financing":return r.jsx(ma,{className:"h-4 w-4 text-purple-500"});default:return r.jsx(ma,{className:"h-4 w-4 text-gray-500"})}},y=e.filter(E=>{const C=E.invoiceId.toLowerCase().includes(a.toLowerCase())||E.id.toLowerCase().includes(a.toLowerCase())||E.transactionId&&E.transactionId.toLowerCase().includes(a.toLowerCase()),_=i==="all"||E.status===i,M=l==="all"||E.method===l;let k=!0;const D=new Date,R=E.processedDate;if(u==="today")k=R.toDateString()===D.toDateString();else if(u==="this_week"){const F=new Date(D);F.setDate(D.getDate()-D.getDay());const z=new Date(F);z.setDate(F.getDate()+6),k=R>=F&&R<=z}else u==="this_month"&&(k=R.getMonth()===D.getMonth()&&R.getFullYear()===D.getFullYear());return C&&_&&M&&k}),x=()=>{const C=[["ID","Invoice ID","Amount","Method","Status","Transaction ID","Date","Notes"].join(","),...y.map(D=>[D.id,D.invoiceId,D.amount.toFixed(2),D.method,D.status,D.transactionId||"",D.processedDate.toISOString().split("T")[0],D.notes||""].join(","))].join(`
`),_=new Blob([C],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(_),k=document.createElement("a");k.href=M,k.setAttribute("download","payment_history.csv"),document.body.appendChild(k),k.click(),document.body.removeChild(k),n({title:"Export Successful",description:"Payment history exported to CSV"})},j=e.length,b=e.reduce((E,C)=>E+C.amount,0),N=e.filter(E=>E.status==="completed").length,P=e.filter(E=>E.status==="pending"||E.status==="processing").length,I=e.filter(E=>E.status==="failed").length,w=e.reduce((E,C)=>{const _=C.method;return E[_]||(E[_]=0),C.status==="completed"&&(E[_]+=C.amount),E},{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Payments"}),r.jsx(Zs,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:j}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[Me(b)," processed"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Completed"}),r.jsx(yn,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:N}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[(N/j*100||0).toFixed(1),"% success rate"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"Pending"}),r.jsx(Ar,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:P}),r.jsx("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:"Awaiting processing"})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-red-50 to-red-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-red-900",children:"Failed"}),r.jsx(Ao,{className:"h-4 w-4 text-red-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-900",children:I}),r.jsxs("p",{className:"text-xs text-red-600 flex items-center mt-1",children:[(I/j*100||0).toFixed(1),"% failure rate"]})]})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-lg",children:"Payment Methods"}),r.jsx(tt,{children:"Breakdown of payments by method"})]}),r.jsx(be,{children:r.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[Object.entries(w).map(([E,C])=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[g(E),r.jsx("span",{className:"font-medium",children:v(E)})]}),r.jsx("div",{className:"text-2xl font-bold text-primary",children:Me(C)}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.filter(_=>_.method===E&&_.status==="completed").length," payments"]})]},E)),Object.keys(w).length===0&&r.jsx("div",{className:"col-span-3 text-center py-8 text-muted-foreground",children:r.jsx("p",{children:"No payment data available"})})]})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(La,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{placeholder:"Search payments...",value:a,onChange:E=>s(E.target.value),className:"pl-10"})]}),r.jsxs(Xe,{value:i,onValueChange:o,children:[r.jsx(Ke,{className:"w-[150px]",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:"completed",children:"Completed"}),r.jsx(ee,{value:"pending",children:"Pending"}),r.jsx(ee,{value:"processing",children:"Processing"}),r.jsx(ee,{value:"failed",children:"Failed"}),r.jsx(ee,{value:"refunded",children:"Refunded"})]})]}),r.jsxs(Xe,{value:l,onValueChange:c,children:[r.jsx(Ke,{className:"w-[150px]",children:r.jsx(Qe,{placeholder:"Method"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Methods"}),r.jsx(ee,{value:"credit_card",children:"Credit Card"}),r.jsx(ee,{value:"bank_transfer",children:"Bank Transfer"}),r.jsx(ee,{value:"cash",children:"Cash"}),r.jsx(ee,{value:"check",children:"Check"}),r.jsx(ee,{value:"financing",children:"Financing"})]})]}),r.jsxs(Xe,{value:u,onValueChange:h,children:[r.jsx(Ke,{className:"w-[150px]",children:r.jsx(Qe,{placeholder:"Date"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Dates"}),r.jsx(ee,{value:"today",children:"Today"}),r.jsx(ee,{value:"this_week",children:"This Week"}),r.jsx(ee,{value:"this_month",children:"This Month"})]})]}),r.jsxs(ae,{variant:"outline",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"More Filters"]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Payment History"}),r.jsx(tt,{children:"Track and manage customer payments"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:x,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export"]}),r.jsxs(ae,{variant:"outline",size:"sm",children:[r.jsx(hh,{className:"h-4 w-4 mr-2"}),"Print"]})]})]})}),r.jsx(be,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-muted/50",children:[r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Invoice"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Amount"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Method"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Status"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Date"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Transaction ID"}),r.jsx("th",{className:"p-3 text-left font-medium text-muted-foreground",children:"Actions"})]})}),r.jsxs("tbody",{children:[y.map(E=>r.jsxs("tr",{className:"border-b hover:bg-muted/10",children:[r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"font-medium",children:["#",E.invoiceId.substring(0,8)]})}),r.jsx("td",{className:"p-3 font-medium",children:Me(E.amount)}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[g(E.method),r.jsx("span",{children:v(E.method)})]})}),r.jsx("td",{className:"p-3",children:r.jsxs(Ze,{className:ot("flex items-center space-x-1",f(E.status)),children:[p(E.status),r.jsx("span",{children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})]})}),r.jsx("td",{className:"p-3",children:Et(E.processedDate)}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:"font-mono text-xs",children:E.transactionId?E.transactionId:"-"})}),r.jsx("td",{className:"p-3",children:r.jsx("div",{className:"flex space-x-2",children:r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>t?.(E),children:"View"})})})]},E.id)),y.length===0&&r.jsx("tr",{children:r.jsxs("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:[r.jsx(Zs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"No payments found matching your filters"})]})})]})]})})})]})]})}function hI(){const{invoices:e,payments:t,createInvoice:n,updateInvoice:a,sendPaymentRequest:s,recordPayment:i}=H8(),{toast:o}=Ht(),[l,c]=S.useState(""),[u,h]=S.useState("all"),[f,p]=S.useState("invoices"),[v,g]=S.useState(!1),[y,x]=S.useState(!1),[j,b]=S.useState(null),N=k=>{switch(k){case dr.DRAFT:return"bg-gray-50 text-gray-700 border-gray-200";case dr.SENT:return"bg-blue-50 text-blue-700 border-blue-200";case dr.VIEWED:return"bg-yellow-50 text-yellow-700 border-yellow-200";case dr.PAID:return"bg-green-50 text-green-700 border-green-200";case dr.OVERDUE:return"bg-red-50 text-red-700 border-red-200";case dr.CANCELLED:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},P=e.filter(k=>k.number.toLowerCase().includes(l.toLowerCase())||k.customerId.toLowerCase().includes(l.toLowerCase())).filter(k=>u==="all"||k.status===u),I=()=>{b(null),g(!0)},w=k=>{b(k),g(!0),x(!1)},E=k=>{b(k),x(!0)},C=async k=>{try{j?(await a(j.id,k),o({title:"Success",description:"Invoice updated successfully"})):(await n(k),o({title:"Success",description:"Invoice created successfully"})),g(!1),b(null)}catch{o({title:"Error",description:`Failed to ${j?"update":"create"} invoice`,variant:"destructive"})}},_=async k=>{try{return await s(k),!0}catch(D){throw console.error("Error sending payment request:",D),D}},M=async k=>{try{return await i(k),o({title:"Success",description:"Payment recorded successfully"}),!0}catch(D){throw o({title:"Error",description:"Failed to record payment",variant:"destructive"}),D}};return r.jsxs("div",{className:"space-y-8",children:[v&&r.jsx(noe,{invoice:j||void 0,onSave:C,onCancel:()=>{g(!1),b(null)}}),y&&j&&r.jsx(soe,{invoice:j,payments:t.filter(k=>k.invoiceId===j.id),onClose:()=>x(!1),onEdit:w,onSendPaymentRequest:_,onRecordPayment:M}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Invoice & Payments"}),r.jsx("p",{className:"ri-page-description",children:"Manage invoices and process payments via Zego integration"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:I,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Invoice"]})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Invoices"}),r.jsx(ma,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"All invoices"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Outstanding"}),r.jsx(ma,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:Me(e.filter(k=>k.status!==dr.PAID).reduce((k,D)=>k+D.total,0))}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(lr,{className:"h-3 w-3 mr-1"}),"Unpaid invoices"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Paid This Month"}),r.jsx(ma,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:Me(e.filter(k=>k.status===dr.PAID).reduce((k,D)=>k+D.total,0))}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Revenue collected"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Payment Success Rate"}),r.jsx(Zs,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:"98.5%"}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(yn,{className:"h-3 w-3 mr-1"}),t.filter(k=>k.status==="completed").length," successful payments"]})]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center space-x-2 text-blue-900",children:[r.jsx(Zs,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{children:"Zego Payment Integration"})]}),r.jsx(tt,{className:"text-blue-700",children:"Seamlessly process payments and send payment requests to customers"})]}),r.jsx(be,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"99.9%"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Uptime"})]}),r.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2.9%"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Processing Fee"})]}),r.jsxs("div",{className:"text-center p-4 bg-white/50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"24/7"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Support"})]})]})})]}),r.jsxs(Or,{value:f,onValueChange:p,className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-2",children:[r.jsxs(ut,{value:"invoices",className:"flex items-center",children:[r.jsx(ma,{className:"h-4 w-4 mr-2"}),"Invoices"]}),r.jsxs(ut,{value:"payments",className:"flex items-center",children:[r.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Payments"]})]}),r.jsxs(ft,{value:"invoices",children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"ri-search-bar",children:[r.jsx(La,{className:"ri-search-icon"}),r.jsx(Ee,{placeholder:"Search invoices...",value:l,onChange:k=>c(k.target.value),className:"ri-search-input shadow-sm"})]}),r.jsxs(Xe,{value:u,onValueChange:h,children:[r.jsx(Ke,{className:"w-40",children:r.jsx(Qe,{placeholder:"Status"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"all",children:"All Status"}),r.jsx(ee,{value:dr.DRAFT,children:"Draft"}),r.jsx(ee,{value:dr.SENT,children:"Sent"}),r.jsx(ee,{value:dr.VIEWED,children:"Viewed"}),r.jsx(ee,{value:dr.PAID,children:"Paid"}),r.jsx(ee,{value:dr.OVERDUE,children:"Overdue"}),r.jsx(ee,{value:dr.CANCELLED,children:"Cancelled"})]})]}),r.jsxs(ae,{variant:"outline",className:"shadow-sm",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Invoices"}),r.jsx(tt,{children:"Manage invoices and track payments"})]}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[P.map(k=>r.jsxs("div",{className:"ri-table-row",children:[r.jsx("div",{className:"flex items-center space-x-4 flex-1",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-foreground",children:k.number}),r.jsx(Ze,{className:ot("ri-badge-status",N(k.status)),children:k.status.toUpperCase()})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Customer:"}),r.jsx("span",{className:"ml-1",children:k.customerId})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsx("span",{className:"ml-1 font-bold text-primary",children:Me(k.total)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Due Date:"}),r.jsx("span",{className:"ml-1",children:Et(k.dueDate)})]}),k.paidDate&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Paid Date:"}),r.jsx("span",{className:"ml-1",children:Et(k.paidDate)})]})]}),r.jsxs("div",{className:"mt-2 bg-muted/30 p-2 rounded-md",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.items.length," item(s) - ",k.notes]}),k.paymentMethod&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",k.paymentMethod]})]})]})}),r.jsxs("div",{className:"ri-action-buttons",children:[r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>E(k),children:[r.jsx(iu,{className:"h-3 w-3 mr-1"}),"View"]}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>w(k),children:"Edit"}),r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:[r.jsx(bi,{className:"h-3 w-3 mr-1"}),"PDF"]}),k.status!==dr.PAID&&r.jsxs(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>_(k.id),children:[r.jsx(sc,{className:"h-3 w-3 mr-1"}),"Send Payment Request"]})]})]},k.id)),P.length===0&&r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(ma,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No invoices found"}),r.jsx("p",{className:"text-sm",children:"Create your first invoice to get started"})]})]})})]})]}),r.jsx(ft,{value:"payments",children:r.jsx(ioe,{payments:t,onViewPaymentDetails:k=>{const D=e.find(R=>R.id===k.invoiceId);D&&(b(D),x(!0),setTimeout(()=>{const R=document.querySelector('[role="tablist"]');if(R){const F=Array.from(R.children).find(z=>z.textContent?.includes("Payments"));F&&F.click()}},100))}})})]})]})}function ooe(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(hI,{})}),r.jsx(vr,{path:"/*",element:r.jsx(hI,{})})]})}function loe({field:e,onSave:t,onCancel:n,modules:a}){const{toast:s}=Ht(),[i,o]=S.useState(!1),[l,c]=S.useState({name:"",type:bo.TEXT,required:!1,options:[],module:"",section:""}),[u,h]=S.useState("");S.useEffect(()=>{e&&c({...e})},[e]);const f=async y=>{if(y.preventDefault(),!l.name||!l.module||!l.section){s({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if((l.type===bo.SELECT||l.type===bo.MULTISELECT)&&(!l.options||l.options.length===0)){s({title:"Validation Error",description:"Please add at least one option for select fields",variant:"destructive"});return}o(!0);try{await t(l),s({title:"Success",description:`Custom field ${e?"updated":"created"} successfully`})}catch{s({title:"Error",description:`Failed to ${e?"update":"create"} custom field`,variant:"destructive"})}finally{o(!1)}},p=()=>{u.trim()&&!l.options?.includes(u.trim())&&(c(y=>({...y,options:[...y.options||[],u.trim()]})),h(""))},v=y=>{c(x=>({...x,options:x.options?.filter(j=>j!==y)||[]}))},g=y=>{switch(y){case"crm":return["Lead Information","Contact Details","Preferences","Notes"];case"inventory":return["Vehicle Details","Specifications","Pricing","Features"];case"quotes":return["Quote Details","Terms","Pricing"];case"agreements":return["Agreement Details","Terms","Conditions"];case"service":return["Service Details","Customer Requirements","Technical Notes"];case"delivery":return["Delivery Details","Customer Instructions","Logistics"];case"invoices":return["Invoice Details","Payment Terms","Additional Charges"];default:return["General","Details","Other"]}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:e?"Edit Custom Field":"Add Custom Field"}),r.jsx(tt,{children:e?"Update custom field details":"Create a new custom field"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Field Name *"}),r.jsx(Ee,{id:"name",value:l.name,onChange:y=>c(x=>({...x,name:y.target.value})),placeholder:"e.g., Customer Budget"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"module",children:"Module *"}),r.jsxs(Xe,{value:l.module,onValueChange:y=>{c(x=>({...x,module:y,section:""}))},children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"Select module"})}),r.jsx(Ye,{children:a.map(y=>r.jsx(ee,{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"section",children:"Section *"}),r.jsxs(Xe,{value:l.section,onValueChange:y=>c(x=>({...x,section:y})),disabled:!l.module,children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:l.module?"Select section":"Select module first"})}),r.jsx(Ye,{children:l.module&&g(l.module).map(y=>r.jsx(ee,{value:y,children:y},y))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"type",children:"Field Type *"}),r.jsxs(Xe,{value:l.type,onValueChange:y=>c(x=>({...x,type:y})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:bo.TEXT,children:"Text"}),r.jsx(ee,{value:bo.NUMBER,children:"Number"}),r.jsx(ee,{value:bo.DATE,children:"Date"}),r.jsx(ee,{value:bo.BOOLEAN,children:"Boolean"}),r.jsx(ee,{value:bo.SELECT,children:"Select"}),r.jsx(ee,{value:bo.MULTISELECT,children:"Multi-select"})]})]})]}),(l.type===bo.SELECT||l.type===bo.MULTISELECT)&&r.jsxs("div",{children:[r.jsx(ie,{children:"Options"}),r.jsxs("div",{className:"flex space-x-2 mb-2",children:[r.jsx(Ee,{value:u,onChange:y=>h(y.target.value),placeholder:"Add an option",onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),p())}}),r.jsx(ae,{type:"button",onClick:p,children:r.jsx(qt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[l.options?.map((y,x)=>r.jsxs("div",{className:"flex items-center bg-muted/50 px-3 py-1 rounded-md",children:[r.jsx("span",{className:"mr-2",children:y}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>v(y),children:r.jsx(oa,{className:"h-3 w-3"})})]},x)),(!l.options||l.options.length===0)&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No options added yet"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"required",checked:l.required,onCheckedChange:y=>c(x=>({...x,required:!!y}))}),r.jsx(ie,{htmlFor:"required",children:"Required field"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:n,disabled:i,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),e?"Update":"Create"," Field"]})})]})]})})]})})}function coe(){const{tenant:e,updateTenantSettings:t}=ph(),{toast:n}=Ht(),[a,s]=S.useState(!1),[i,o]=S.useState(e?.branding.primaryColor||"#3b82f6"),[l,c]=S.useState(e?.branding.secondaryColor||"#64748b"),[u,h]=S.useState(e?.branding.fontFamily||"Inter"),[f,p]=S.useState(e?.branding.logo||""),[v,g]=S.useState(e?.branding.logo||""),y=S.useRef(null),x=[{value:"Inter",label:"Inter"},{value:"Roboto",label:"Roboto"},{value:"Open Sans",label:"Open Sans"},{value:"Montserrat",label:"Montserrat"},{value:"Lato",label:"Lato"},{value:"Poppins",label:"Poppins"},{value:"Source Sans Pro",label:"Source Sans Pro"},{value:"Oswald",label:"Oswald"}],j=N=>{const P=N.target.files?.[0];if(P){const I=URL.createObjectURL(P);g(I),p(I)}},b=async()=>{s(!0);try{await t({branding:{primaryColor:i,secondaryColor:l,fontFamily:u,logo:f}}),n({title:"Branding Updated",description:"Your branding settings have been saved successfully."})}catch{n({title:"Error",description:"Failed to update branding settings.",variant:"destructive"})}finally{s(!1)}};return r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx($L,{className:"h-5 w-5 mr-2 text-primary"}),"Branding & Appearance"]}),r.jsx(tt,{children:"Customize your dealership's visual identity"})]}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx(ie,{children:"Company Logo"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"border rounded-md p-4 w-40 h-40 flex items-center justify-center bg-muted/30",children:v?r.jsx("img",{src:v,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):r.jsx(Am,{className:"h-12 w-12 text-muted-foreground"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(ae,{variant:"outline",onClick:()=>y.current?.click(),children:[r.jsx(xA,{className:"h-4 w-4 mr-2"}),"Upload Logo"]}),r.jsx(Ee,{type:"file",ref:y,className:"hidden",accept:"image/*",onChange:j}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Recommended size: 200x200px. Max file size: 2MB.",r.jsx("br",{}),"Supported formats: PNG, JPG, SVG"]})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"primaryColor",children:"Primary Color"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Ee,{type:"color",id:"primaryColor",value:i,onChange:N=>o(N.target.value),className:"w-16 h-10 shadow-sm"}),r.jsx(Ee,{value:i,onChange:N=>o(N.target.value),className:"shadow-sm"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Used for buttons, links, and primary actions"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"secondaryColor",children:"Secondary Color"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Ee,{type:"color",id:"secondaryColor",value:l,onChange:N=>c(N.target.value),className:"w-16 h-10 shadow-sm"}),r.jsx(Ee,{value:l,onChange:N=>c(N.target.value),className:"shadow-sm"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Used for secondary elements and accents"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"fontFamily",children:"Font Family"}),r.jsxs(Xe,{value:u,onValueChange:h,children:[r.jsx(Ke,{className:"shadow-sm",children:r.jsx(Qe,{placeholder:"Select font family"})}),r.jsx(Ye,{children:x.map(N=>r.jsx(ee,{value:N.value,children:N.label},N.value))})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The primary font used throughout your application"})]}),r.jsxs("div",{className:"border rounded-lg p-6 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),r.jsxs("div",{className:"space-y-4 p-4 rounded-lg border",style:{fontFamily:u},children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:"Text Preview"}),r.jsx("p",{children:"This is how your text will appear with the selected font."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:"Color Preview"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("div",{className:"w-20 h-10 rounded-md flex items-center justify-center text-white",style:{backgroundColor:i},children:"Primary"}),r.jsx("div",{className:"w-20 h-10 rounded-md flex items-center justify-center text-white",style:{backgroundColor:l},children:"Secondary"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:"Button Preview"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{className:"px-4 py-2 rounded-md text-white",style:{backgroundColor:i},children:"Primary Button"}),r.jsx("button",{className:"px-4 py-2 rounded-md border",style:{borderColor:l,color:l},children:"Secondary Button"})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{onClick:b,disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Branding"]})})})]})]})}function uoe(){const{tenant:e,updateTenantSettings:t}=ph(),{toast:n}=Ht(),[a,s]=S.useState(!1),[i,o]=S.useState("general"),[l,c]=S.useState(e?.settings?.labelOverrides||{}),[u,h]=S.useState(e?.settings?.platformType||"both"),f={general:{vehicle:"Home/RV",customer:"Customer",deal:"Deal",quote:"Quote",service:"Service",inventory:"Inventory"},crm:{lead:"Lead",prospect:"Prospect",contact:"Contact",activity:"Activity",source:"Source"},inventory:{vin:"VIN",make:"Make",model:"Model",year:"Year",type:"Type",price:"Price",cost:"Cost",features:"Features"},sales:{salesperson:"Sales Rep",commission:"Commission",deal_stage:"Deal Stage",close_date:"Close Date",financing:"Financing"},service:{technician:"Technician",service_ticket:"Service Ticket",parts:"Parts",labor:"Labor",warranty:"Warranty"}},p=(x,j,b)=>{c({...l,[`${x}.${j}`]:b})},v=(x,j)=>l[`${x}.${j}`]||"",g=x=>{const j={...l};Object.keys(j).forEach(b=>{b.startsWith(`${x}.`)&&delete j[b]}),c(j),n({title:"Labels Reset",description:`Default labels restored for ${x} module.`})},y=async()=>{s(!0);try{await t({labelOverrides:l,platformType:u}),n({title:"Labels Updated",description:"Your label overrides have been saved successfully."})}catch{n({title:"Error",description:"Failed to update label overrides.",variant:"destructive"})}finally{s(!1)}};return r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(vA,{className:"h-5 w-5 mr-2 text-primary"}),"Label Overrides"]}),r.jsx(tt,{children:"Customize terminology throughout the platform"})]}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"platformType",children:"Platform Type"}),r.jsxs(Xe,{value:u,onValueChange:h,children:[r.jsx(Ke,{className:"shadow-sm",children:r.jsx(Qe,{placeholder:"Select platform type"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"rv",children:"RV Dealership"}),r.jsx(ee,{value:"mh",children:"Manufactured Housing"}),r.jsx(ee,{value:"both",children:"Both RV & Manufactured Housing"})]})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This setting affects terminology and features throughout the platform"})]}),r.jsxs(Or,{value:i,onValueChange:o,className:"space-y-4",children:[r.jsxs(kr,{className:"grid grid-cols-5",children:[r.jsx(ut,{value:"general",children:"General"}),r.jsx(ut,{value:"crm",children:"CRM"}),r.jsx(ut,{value:"inventory",children:"Inventory"}),r.jsx(ut,{value:"sales",children:"Sales"}),r.jsx(ut,{value:"service",children:"Service"})]}),Object.entries(f).map(([x,j])=>r.jsxs(ft,{value:x,className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-semibold capitalize",children:[x," Labels"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>g(x),children:[r.jsx(z5,{className:"h-3 w-3 mr-2"}),"Reset to Defaults"]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(j).map(([b,N])=>{let P=N;return b==="vehicle"&&(u==="rv"?P="RV":u==="mh"?P="Home":P="Home/RV"),r.jsxs("div",{className:"space-y-2",children:[r.jsx(ie,{htmlFor:`${x}-${b}`,className:"capitalize",children:b.replace(/_/g," ")}),r.jsx("div",{className:"flex space-x-2",children:r.jsx(Ee,{id:`${x}-${b}`,value:v(x,b),onChange:I=>p(x,b,I.target.value),placeholder:P,className:"shadow-sm"})}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default: ",r.jsx("span",{className:"font-medium",children:P})]})]},b)})})]},x))]}),r.jsxs("div",{className:"border rounded-lg p-6 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm",children:"Here's how your customized labels will appear in the application:"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(f.general).map(([x,j])=>{const b=v("general",x);let P=b||j;return x==="vehicle"&&!b&&(u==="rv"?P="RV":u==="mh"?P="Home":P="Home/RV"),r.jsxs("div",{className:"p-2 bg-muted/30 rounded-md",children:[r.jsxs("span",{className:"font-medium capitalize",children:[x.replace(/_/g," "),":"]})," ",r.jsx("span",{children:P})]},x)})})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{onClick:y,disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Labels"]})})})]})]})}function doe(){const{tenant:e,updateTenantSettings:t}=ph(),{toast:n}=Ht(),[a,s]=S.useState(!1),[i,o]=S.useState("email"),[l,c]=S.useState(e?.settings?.emailTemplates||[]),[u,h]=S.useState(null),[f,p]=S.useState(""),[v,g]=S.useState(""),[y,x]=S.useState(""),[j,b]=S.useState("welcome"),[N,P]=S.useState(e?.settings?.smsTemplates||[]),[I,w]=S.useState(null),[E,C]=S.useState(""),[_,M]=S.useState(""),[k,D]=S.useState("welcome"),[R,F]=S.useState(!1),[z,V]=S.useState("email"),[B,H]=S.useState(null),G=[{value:"welcome",label:"Welcome Email"},{value:"quote",label:"Quote Email"},{value:"service",label:"Service Notification"},{value:"delivery",label:"Delivery Notification"},{value:"invoice",label:"Invoice Email"},{value:"password_reset",label:"Password Reset"},{value:"custom",label:"Custom Email"}],Z=[{value:"welcome",label:"Welcome SMS"},{value:"quote",label:"Quote SMS"},{value:"service",label:"Service Notification"},{value:"delivery",label:"Delivery Notification"},{value:"appointment",label:"Appointment Reminder"},{value:"custom",label:"Custom SMS"}],Q=["{{first_name}}","{{last_name}}","{{company_name}}","{{quote_number}}","{{invoice_number}}","{{service_ticket}}","{{delivery_date}}","{{appointment_date}}","{{appointment_time}}","{{login_url}}","{{reset_url}}"],$=()=>{h(null),p(""),g(""),x(""),b("welcome")},K=()=>{w(null),C(""),M(""),D("welcome")},te=ge=>{h(ge),p(ge.name),g(ge.subject),x(ge.body),b(ge.type)},se=ge=>{w(ge),C(ge.name),M(ge.message),D(ge.type)},oe=()=>{if(!f||!v||!y){n({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const ge=/\{\{([^}]+)\}\}/g,le=[];let st;for(;(st=ge.exec(v+y))!==null;)le.includes(st[1])||le.push(st[1]);c(u?l.map(Ie=>Ie.id===u.id?{...Ie,name:f,subject:v,body:y,type:j,variables:le}:Ie):[...l,{id:Math.random().toString(36).substring(2,9),name:f,subject:v,body:y,type:j,variables:le,isActive:!0}]),$()},me=()=>{if(!E||!_){n({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}const ge=/\{\{([^}]+)\}\}/g,le=[];let st;for(;(st=ge.exec(_))!==null;)le.includes(st[1])||le.push(st[1]);P(I?N.map(Ie=>Ie.id===I.id?{...Ie,name:E,message:_,type:k,variables:le}:Ie):[...N,{id:Math.random().toString(36).substring(2,9),name:E,message:_,type:k,variables:le,isActive:!0}]),K()},ve=ge=>{c(l.filter(le=>le.id!==ge))},pe=ge=>{P(N.filter(le=>le.id!==ge))},we=ge=>{c(l.map(le=>le.id===ge?{...le,isActive:!le.isActive}:le))},Se=ge=>{P(N.map(le=>le.id===ge?{...le,isActive:!le.isActive}:le))},Ce=(ge,le)=>{V(ge),H(le),F(!0)},ze=ge=>{i==="email"?x(y+ge):M(_+ge)},He=async()=>{s(!0);try{await t({emailTemplates:l,smsTemplates:N}),n({title:"Templates Updated",description:"Your notification templates have been saved successfully."})}catch{n({title:"Error",description:"Failed to update notification templates.",variant:"destructive"})}finally{s(!1)}};return r.jsxs(r.Fragment,{children:[R&&B&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-2xl",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:"Template Preview"}),r.jsx(tt,{children:B.name})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>F(!1),children:r.jsx(X,{className:"h-4 w-4"})})]})}),r.jsxs(be,{className:"space-y-4",children:[z==="email"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(ie,{children:"Subject"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-md mt-1",children:B.subject})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Body"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-md mt-1 whitespace-pre-wrap",children:B.body})]})]}),z==="sms"&&r.jsxs("div",{children:[r.jsx(ie,{children:"Message"}),r.jsx("div",{className:"p-3 bg-muted/30 rounded-md mt-1",children:B.message})]}),r.jsxs("div",{children:[r.jsx(ie,{children:"Variables"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[B.variables.map((ge,le)=>r.jsx(Ze,{variant:"secondary",children:`{{${ge}}}`},le)),B.variables.length===0&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No variables used"})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{onClick:()=>F(!1),children:"Close Preview"})})]})]})}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Mn,{className:"h-5 w-5 mr-2 text-primary"}),"Notification Templates"]}),r.jsx(tt,{children:"Customize email and SMS notification templates"})]}),r.jsxs(be,{className:"space-y-6",children:[r.jsxs(Or,{value:i,onValueChange:o,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-2",children:[r.jsx(ut,{value:"email",children:"Email Templates"}),r.jsx(ut,{value:"sms",children:"SMS Templates"})]}),r.jsx(ft,{value:"email",className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Email Templates"}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:$,disabled:!u,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),r.jsx(ye,{className:"border-dashed",children:r.jsxs(be,{className:"pt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailName",children:"Template Name *"}),r.jsx(Ee,{id:"emailName",value:f,onChange:ge=>p(ge.target.value),placeholder:"e.g., Welcome Email",className:"shadow-sm"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailType",children:"Template Type"}),r.jsxs(Xe,{value:j,onValueChange:b,children:[r.jsx(Ke,{className:"shadow-sm",children:r.jsx(Qe,{placeholder:"Select template type"})}),r.jsx(Ye,{children:G.map(ge=>r.jsx(ee,{value:ge.value,children:ge.label},ge.value))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailSubject",children:"Subject Line *"}),r.jsx(Ee,{id:"emailSubject",value:v,onChange:ge=>g(ge.target.value),placeholder:"e.g., Welcome to {{company_name}}!",className:"shadow-sm"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(ie,{htmlFor:"emailBody",children:"Email Body *"}),r.jsxs(Xe,{value:"",onValueChange:ge=>ze(ge),children:[r.jsx(Ke,{className:"w-[200px] shadow-sm",children:r.jsx(Qe,{placeholder:"Insert variable"})}),r.jsx(Ye,{children:Q.map(ge=>r.jsx(ee,{value:ge,children:ge},ge))})]})]}),r.jsx(wr,{id:"emailBody",value:y,onChange:ge=>x(ge.target.value),placeholder:"Enter your email content here...",className:"shadow-sm",rows:10})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:$,children:"Cancel"}),r.jsx(ae,{type:"button",onClick:oe,children:u?"Update Template":"Add Template"})]})]})}),r.jsxs("div",{className:"space-y-3 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Saved Templates"}),l.length>0?l.map(ge=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-medium",children:ge.name}),r.jsx(Ze,{variant:"outline",children:G.find(le=>le.value===ge.type)?.label||ge.type}),!ge.isActive&&r.jsx(Ze,{variant:"secondary",children:"Inactive"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Subject: ",ge.subject]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>we(ge.id),children:ge.isActive?"Disable":"Enable"}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Ce("email",ge),children:r.jsx(iu,{className:"h-4 w-4"})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>te(ge),children:"Edit"}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>ve(ge.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]})]},ge.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Mn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No email templates created yet"}),r.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})]})}),r.jsx(ft,{value:"sms",className:"space-y-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"SMS Templates"}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:K,disabled:!I,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"New Template"]})]}),r.jsx(ye,{className:"border-dashed",children:r.jsxs(be,{className:"pt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smsName",children:"Template Name *"}),r.jsx(Ee,{id:"smsName",value:E,onChange:ge=>C(ge.target.value),placeholder:"e.g., Appointment Reminder",className:"shadow-sm"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smsType",children:"Template Type"}),r.jsxs(Xe,{value:k,onValueChange:D,children:[r.jsx(Ke,{className:"shadow-sm",children:r.jsx(Qe,{placeholder:"Select template type"})}),r.jsx(Ye,{children:Z.map(ge=>r.jsx(ee,{value:ge.value,children:ge.label},ge.value))})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(ie,{htmlFor:"smsMessage",children:"Message *"}),r.jsxs(Xe,{value:"",onValueChange:ge=>ze(ge),children:[r.jsx(Ke,{className:"w-[200px] shadow-sm",children:r.jsx(Qe,{placeholder:"Insert variable"})}),r.jsx(Ye,{children:Q.map(ge=>r.jsx(ee,{value:ge,children:ge},ge))})]})]}),r.jsx(wr,{id:"smsMessage",value:_,onChange:ge=>M(ge.target.value),placeholder:"Enter your SMS message here...",className:"shadow-sm",rows:4}),r.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[r.jsxs("span",{children:[_.length," characters"]}),r.jsxs("span",{children:[160-_.length," remaining"]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:K,children:"Cancel"}),r.jsx(ae,{type:"button",onClick:me,children:I?"Update Template":"Add Template"})]})]})}),r.jsxs("div",{className:"space-y-3 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Saved Templates"}),N.length>0?N.map(ge=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-medium",children:ge.name}),r.jsx(Ze,{variant:"outline",children:Z.find(le=>le.value===ge.type)?.label||ge.type}),!ge.isActive&&r.jsx(Ze,{variant:"secondary",children:"Inactive"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1 truncate",children:ge.message})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Se(ge.id),children:ge.isActive?"Disable":"Enable"}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Ce("sms",ge),children:r.jsx(iu,{className:"h-4 w-4"})}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>se(ge),children:"Edit"}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>pe(ge.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]})]},ge.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Un,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No SMS templates created yet"}),r.jsx("p",{className:"text-sm",children:"Create your first template to get started"})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{onClick:He,disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Templates"]})})})]})]})]})}function foe(){const{tenant:e,updateTenantSettings:t}=ph(),{toast:n}=Ht(),[a,s]=S.useState(!1),[i,o]=S.useState(e?.settings?.emailProvider||"default"),[l,c]=S.useState(e?.settings?.emailApiKey||""),[u,h]=S.useState(e?.settings?.emailFromAddress||""),[f,p]=S.useState(e?.settings?.emailFromName||""),[v,g]=S.useState(e?.settings?.smsProvider||"default"),[y,x]=S.useState(e?.settings?.smsApiKey||""),[j,b]=S.useState(e?.settings?.smsFromNumber||""),[N,P]=S.useState(e?.settings?.webhooks||[]),[I,w]=S.useState(""),[E,C]=S.useState(""),[_,M]=S.useState(e?.settings?.apiEnabled||!1),[k,D]=S.useState(e?.settings?.apiKey||""),[R,F]=S.useState(e?.settings?.allowedOrigins||[]),[z,V]=S.useState(""),B=[{value:"default",label:"Default (Platform)"},{value:"sendgrid",label:"SendGrid"},{value:"mailchimp",label:"Mailchimp"},{value:"mailgun",label:"Mailgun"},{value:"smtp",label:"Custom SMTP"}],H=[{value:"default",label:"Default (Platform)"},{value:"twilio",label:"Twilio"},{value:"messagebird",label:"MessageBird"},{value:"vonage",label:"Vonage (Nexmo)"}],G=[{value:"lead.created",label:"Lead Created"},{value:"lead.updated",label:"Lead Updated"},{value:"quote.created",label:"Quote Created"},{value:"quote.accepted",label:"Quote Accepted"},{value:"service.created",label:"Service Ticket Created"},{value:"service.completed",label:"Service Completed"},{value:"vehicle.created",label:"Home/RV Created"},{value:"vehicle.sold",label:"Home/RV Sold"}],Z=()=>{!I||!E||(P([...N,{id:Math.random().toString(36).substring(2,9),event:I,url:E,active:!0}]),w(""),C(""))},Q=me=>{P(N.filter(ve=>ve.id!==me))},$=me=>{P(N.map(ve=>ve.id===me?{...ve,active:!ve.active}:ve))},K=()=>{z&&(F([...R,z]),V(""))},te=me=>{F(R.filter(ve=>ve!==me))},se=()=>{const me=Array.from(crypto.getRandomValues(new Uint8Array(32))).map(ve=>ve.toString(16).padStart(2,"0")).join("");D(me)},oe=async()=>{s(!0);try{await t({emailProvider:i,emailApiKey:l,emailFromAddress:u,emailFromName:f,smsProvider:v,smsApiKey:y,smsFromNumber:j,webhooks:N,apiEnabled:_,apiKey:k,allowedOrigins:R}),n({title:"Integrations Updated",description:"Your integration settings have been saved successfully."})}catch{n({title:"Error",description:"Failed to update integration settings.",variant:"destructive"})}finally{s(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Mn,{className:"h-5 w-5 mr-2 text-primary"}),"Email Provider"]}),r.jsx(tt,{children:"Configure your email delivery service"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailProvider",children:"Provider"}),r.jsxs(Xe,{value:i,onValueChange:o,children:[r.jsx(Ke,{className:"shadow-sm",children:r.jsx(Qe,{placeholder:"Select email provider"})}),r.jsx(Ye,{children:B.map(me=>r.jsx(ee,{value:me.value,children:me.label},me.value))})]})]}),i!=="default"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailApiKey",children:"API Key"}),r.jsx(Ee,{id:"emailApiKey",type:"password",value:l,onChange:me=>c(me.target.value),className:"shadow-sm",placeholder:"Enter API key"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailFromAddress",children:"From Email Address"}),r.jsx(Ee,{id:"emailFromAddress",type:"email",value:u,onChange:me=>h(me.target.value),className:"shadow-sm",placeholder:"noreply@yourdomain.com"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"emailFromName",children:"From Name"}),r.jsx(Ee,{id:"emailFromName",value:f,onChange:me=>p(me.target.value),className:"shadow-sm",placeholder:"Your Company Name"})]})]})]}),i==="default"&&r.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:r.jsx("p",{className:"text-sm text-blue-700",children:"Using the default platform email provider. No additional configuration needed."})})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Un,{className:"h-5 w-5 mr-2 text-primary"}),"SMS Provider"]}),r.jsx(tt,{children:"Configure your SMS delivery service"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smsProvider",children:"Provider"}),r.jsxs(Xe,{value:v,onValueChange:g,children:[r.jsx(Ke,{className:"shadow-sm",children:r.jsx(Qe,{placeholder:"Select SMS provider"})}),r.jsx(Ye,{children:H.map(me=>r.jsx(ee,{value:me.value,children:me.label},me.value))})]})]}),v!=="default"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smsApiKey",children:"API Key"}),r.jsx(Ee,{id:"smsApiKey",type:"password",value:y,onChange:me=>x(me.target.value),className:"shadow-sm",placeholder:"Enter API key"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"smsFromNumber",children:"From Number"}),r.jsx(Ee,{id:"smsFromNumber",value:j,onChange:me=>b(me.target.value),className:"shadow-sm",placeholder:"+1234567890"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Must be in E.164 format (e.g., +1234567890)"})]})]}),v==="default"&&r.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:r.jsx("p",{className:"text-sm text-blue-700",children:"Using the default platform SMS provider. No additional configuration needed."})})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(F3,{className:"h-5 w-5 mr-2 text-primary"}),"Webhooks"]}),r.jsx(tt,{children:"Configure webhooks to receive event notifications"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"webhookEvent",children:"Event"}),r.jsxs(Xe,{value:I,onValueChange:w,children:[r.jsx(Ke,{className:"shadow-sm",children:r.jsx(Qe,{placeholder:"Select event"})}),r.jsx(Ye,{children:G.map(me=>r.jsx(ee,{value:me.value,children:me.label},me.value))})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"webhookUrl",children:"Webhook URL"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{id:"webhookUrl",value:E,onChange:me=>C(me.target.value),className:"shadow-sm flex-1",placeholder:"https://your-endpoint.com/webhook"}),r.jsx(ae,{type:"button",onClick:Z,children:r.jsx(qt,{className:"h-4 w-4"})})]})]})]}),r.jsx("div",{className:"space-y-3 mt-4",children:N.length>0?N.map(me=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ut,{checked:me.active,onCheckedChange:()=>$(me.id)}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:G.find(ve=>ve.value===me.event)?.label||me.event}),r.jsx("div",{className:"text-sm text-muted-foreground",children:me.url})]})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>Q(me.id),children:r.jsx(oa,{className:"h-4 w-4 text-red-500"})})]},me.id)):r.jsxs("div",{className:"text-center py-6 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(F3,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No webhooks configured"}),r.jsx("p",{className:"text-sm",children:"Add webhooks to receive event notifications"})]})})]})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Ex,{className:"h-5 w-5 mr-2 text-primary"}),"API Access"]}),r.jsx(tt,{children:"Configure API access for external integrations"})]}),r.jsxs(be,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"apiEnabled",checked:_,onCheckedChange:me=>M(!!me)}),r.jsx(ie,{htmlFor:"apiEnabled",children:"Enable API access"})]}),_&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"apiKey",children:"API Key"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{id:"apiKey",type:"password",value:k,onChange:me=>D(me.target.value),className:"shadow-sm flex-1",placeholder:"API key will appear here",readOnly:!0}),r.jsx(ae,{type:"button",onClick:se,children:"Generate"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Keep this key secure. It provides full access to your account."})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"allowedOrigins",children:"Allowed Origins (CORS)"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(Ee,{id:"allowedOrigins",value:z,onChange:me=>V(me.target.value),className:"shadow-sm flex-1",placeholder:"https://your-domain.com"}),r.jsx(ae,{type:"button",onClick:K,children:r.jsx(qt,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Domains that are allowed to make API requests"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[R.map((me,ve)=>r.jsxs("div",{className:"flex items-center bg-muted/50 px-3 py-1 rounded-md",children:[r.jsx("span",{className:"mr-2",children:me}),r.jsx(ae,{type:"button",variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>te(me),children:r.jsx(oa,{className:"h-3 w-3"})})]},ve)),R.length===0&&r.jsx("div",{className:"text-sm text-muted-foreground",children:"No origins added yet"})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(ae,{onClick:oe,disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Integrations"]})})})]})}function mI(){const{tenant:e,customFields:t,updateTenantSettings:n,addCustomField:a,updateCustomField:s,deleteCustomField:i}=ph(),{toast:o}=Ht(),[l,c]=S.useState("general"),[u,h]=S.useState(!1),f=[{id:"general",name:"General",icon:j0},{id:"branding",name:"Branding",icon:$L},{id:"labels",name:"Labels",icon:vA},{id:"notifications",name:"Notifications",icon:Mn},{id:"integrations",name:"Integrations",icon:Ex},{id:"users",name:"Users",icon:Na},{id:"custom-fields",name:"Custom Fields",icon:Px}],p=["crm","inventory","quotes","agreements","service","delivery","invoices"],v=()=>{setSelectedCustomField(null),h(!0)},g=C=>{setSelectedCustomField(C),h(!0)},y=async C=>{if(window.confirm("Are you sure you want to delete this custom field?"))try{await i(C),o({title:"Success",description:"Custom field deleted successfully"})}catch{o({title:"Error",description:"Failed to delete custom field",variant:"destructive"})}},x=async C=>{try{return selectedCustomField?await s(selectedCustomField.id,C):await a(C),h(!1),!0}catch{return!1}},j=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Company Information"}),r.jsx(tt,{children:"Basic information about your dealership"})]}),r.jsx(be,{className:"space-y-4",children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Company Name"}),r.jsx(Ee,{defaultValue:e?.name,className:"mt-1 shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Domain"}),r.jsx(Ee,{defaultValue:e?.domain,className:"mt-1 shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Timezone"}),r.jsx(Ee,{defaultValue:e?.settings.timezone,className:"mt-1 shadow-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Currency"}),r.jsx(Ee,{defaultValue:e?.settings.currency,className:"mt-1 shadow-sm"})]})]})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Business Hours"}),r.jsx(tt,{children:"Set your dealership operating hours"})]}),r.jsx(be,{children:r.jsx("div",{className:"space-y-4",children:e?.settings.businessHours&&Object.entries(e.settings.businessHours).map(([C,_])=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[r.jsx("div",{className:"w-24 capitalize font-medium",children:C}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ee,{type:"time",defaultValue:_.open,disabled:_.closed,className:"w-32 shadow-sm"}),r.jsx("span",{className:"text-muted-foreground",children:"to"}),r.jsx(Ee,{type:"time",defaultValue:_.close,disabled:_.closed,className:"w-32 shadow-sm"}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",defaultChecked:_.closed,className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Closed"})]})]})]},C))})})]})]}),b=()=>r.jsx(coe,{}),N=()=>r.jsx(uoe,{}),P=()=>r.jsx(doe,{}),I=()=>r.jsx(foe,{}),w=()=>r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"User Management"}),r.jsx(tt,{children:"Manage user accounts and permissions"})]}),r.jsxs(be,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage users, roles, and permissions for your dealership"}),r.jsxs(ae,{className:"shadow-sm",children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Admin User"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"admin@renterinsight.com"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ze,{className:"bg-blue-50 text-blue-700 border-blue-200",children:"Admin"}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",children:r.jsx(bn,{className:"h-3 w-3"})})]})]})})]})]}),E=()=>r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{className:"text-xl",children:"Custom Fields"}),r.jsx(tt,{children:"Add custom fields to capture additional information"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:v,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Custom Field"]})]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[t.map(C=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:C.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.module," - ",C.section," - ",C.type,C.required&&r.jsx(Ze,{className:"ml-2 bg-orange-50 text-orange-700 border-orange-200",variant:"secondary",children:"Required"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>g(C),children:"Edit"}),r.jsx(ae,{variant:"outline",size:"sm",className:"shadow-sm",onClick:()=>y(C.id),children:"Delete"})]})]},C.id)),t.length===0&&r.jsx("div",{className:"text-center py-12 text-muted-foreground bg-muted/30 rounded-lg",children:"No custom fields configured yet"})]})})]});return r.jsxs("div",{className:"space-y-8",children:[u&&r.jsx(loe,{field:selectedCustomField||void 0,onSave:x,onCancel:()=>h(!1),modules:p}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Company Settings"}),r.jsx("p",{className:"ri-page-description",children:"Configure your dealership settings and preferences"})]}),r.jsxs(ae,{onClick:hoe,className:"shadow-sm",children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})}),r.jsx("div",{className:"border-b",children:r.jsx("nav",{className:"-mb-px flex flex-wrap space-x-4 md:space-x-8",children:f.map(C=>r.jsxs("button",{onClick:()=>c(C.id),className:ot("flex items-center space-x-2 py-3 px-1 border-b-2 font-medium text-sm transition-colors",l===C.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-gray-300"),children:[r.jsx(C.icon,{className:"h-4 w-4"}),r.jsx("span",{children:C.name})]},C.id))})}),r.jsxs("div",{children:[l==="general"&&j(),l==="branding"&&b(),l==="labels"&&N(),l==="notifications"&&P(),l==="integrations"&&I(),l==="users"&&w(),l==="custom-fields"&&E()]})]})}const hoe=async()=>{console.log("Saving settings...")};function moe(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(mI,{})}),r.jsx(vr,{path:"/*",element:r.jsx(mI,{})})]})}function poe({onSave:e,onCancel:t}){const{toast:n}=Ht(),[a,s]=S.useState(!1),[i,o]=S.useState({name:"",domain:"",settings:{timezone:"America/New_York",currency:"USD",dateFormat:"MM/dd/yyyy",features:{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},branding:{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"},isActive:!0}),l=async c=>{if(c.preventDefault(),!i.name||!i.domain){n({title:"Validation Error",description:"Tenant name and domain are required",variant:"destructive"});return}s(!0);try{await e(i),n({title:"Success",description:"Tenant created successfully"})}catch{n({title:"Error",description:"Failed to create tenant",variant:"destructive"})}finally{s(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(j0,{className:"h-5 w-5 mr-2 text-primary"}),"Add New Tenant"]}),r.jsx(tt,{children:"Create a new tenant organization"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:t,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:l,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Tenant Information"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Tenant Name *"}),r.jsx(Ee,{id:"name",value:i.name,onChange:c=>o(u=>({...u,name:c.target.value})),placeholder:"e.g., Sunshine RV Dealership"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"domain",children:"Domain *"}),r.jsx(Ee,{id:"domain",value:i.domain,onChange:c=>o(u=>({...u,domain:c.target.value})),placeholder:"e.g., sunshine.renterinsight.com"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will be used for tenant-specific access"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"timezone",children:"Timezone"}),r.jsxs(Xe,{value:i.settings.timezone,onValueChange:c=>o(u=>({...u,settings:{...u.settings,timezone:c}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"America/New_York",children:"Eastern Time (ET)"}),r.jsx(ee,{value:"America/Chicago",children:"Central Time (CT)"}),r.jsx(ee,{value:"America/Denver",children:"Mountain Time (MT)"}),r.jsx(ee,{value:"America/Los_Angeles",children:"Pacific Time (PT)"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"currency",children:"Currency"}),r.jsxs(Xe,{value:i.settings.currency,onValueChange:c=>o(u=>({...u,settings:{...u.settings,currency:c}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"USD",children:"US Dollar (USD)"}),r.jsx(ee,{value:"CAD",children:"Canadian Dollar (CAD)"}),r.jsx(ee,{value:"EUR",children:"Euro (EUR)"}),r.jsx(ee,{value:"GBP",children:"British Pound (GBP)"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"dateFormat",children:"Date Format"}),r.jsxs(Xe,{value:i.settings.dateFormat,onValueChange:c=>o(u=>({...u,settings:{...u.settings,dateFormat:c}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),r.jsx(ee,{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),r.jsx(ee,{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})]})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Enabled Features"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(i.settings.features).map(([c,u])=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:`feature-${c}`,checked:u,onCheckedChange:h=>o(f=>({...f,settings:{...f.settings,features:{...f.settings.features,[c]:!!h}}}))}),r.jsx(ie,{htmlFor:`feature-${c}`,className:"capitalize",children:c==="crm"?"CRM & Prospecting":c==="invoices"?"Invoice & Payments":c})]},c))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Branding"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"primaryColor",children:"Primary Color"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Ee,{type:"color",id:"primaryColor",value:i.branding.primaryColor,onChange:c=>o(u=>({...u,branding:{...u.branding,primaryColor:c.target.value}})),className:"w-16 h-10 shadow-sm"}),r.jsx(Ee,{value:i.branding.primaryColor,onChange:c=>o(u=>({...u,branding:{...u.branding,primaryColor:c.target.value}})),className:"shadow-sm"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"secondaryColor",children:"Secondary Color"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Ee,{type:"color",id:"secondaryColor",value:i.branding.secondaryColor,onChange:c=>o(u=>({...u,branding:{...u.branding,secondaryColor:c.target.value}})),className:"w-16 h-10 shadow-sm"}),r.jsx(Ee,{value:i.branding.secondaryColor,onChange:c=>o(u=>({...u,branding:{...u.branding,secondaryColor:c.target.value}})),className:"shadow-sm"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"fontFamily",children:"Font Family"}),r.jsxs(Xe,{value:i.branding.fontFamily,onValueChange:c=>o(u=>({...u,branding:{...u.branding,fontFamily:c}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"Inter",children:"Inter"}),r.jsx(ee,{value:"Roboto",children:"Roboto"}),r.jsx(ee,{value:"Open Sans",children:"Open Sans"}),r.jsx(ee,{value:"Montserrat",children:"Montserrat"})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isActive",checked:i.isActive,onCheckedChange:c=>o(u=>({...u,isActive:!!c}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active tenant"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:t,disabled:a,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Create Tenant"]})})]})]})})]})})}function voe({tenantId:e,user:t,onSave:n,onCancel:a}){const{toast:s}=Ht(),[i,o]=S.useState(!1),[l,c]=S.useState({name:t?.name||"",email:t?.email||"",role:t?.role||ul.USER,isActive:t?.is_active!==!1,sendInvite:!t}),u=h=>{if(h.preventDefault(),!l.name||!l.email){s({title:"Validation Error",description:"Name and email are required",variant:"destructive"});return}o(!0);try{const f={id:t?.id,...l,tenantId:e,createdAt:t?.created_at||new Date};n(f),s({title:"Success",description:`User ${t?"updated":"added"} successfully`})}catch{s({title:"Error",description:`Failed to ${t?"update":"add"} user`,variant:"destructive"})}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(ye,{className:"w-full max-w-md",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(fs,{className:"h-5 w-5 mr-2 text-primary"}),t?"Edit User":"Add User"]}),r.jsx(tt,{children:t?"Update user details":"Add a new user to this tenant"})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:a,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Full Name *"}),r.jsxs("div",{className:"relative",children:[r.jsx(fs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"name",value:l.name,onChange:h=>c(f=>({...f,name:h.target.value})),placeholder:"John Smith",className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"email",children:"Email Address *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"email",type:"email",value:l.email,onChange:h=>c(f=>({...f,email:h.target.value})),placeholder:"john.smith@example.com",className:"pl-10",disabled:!!t})]}),t&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Email cannot be changed for existing users"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"role",children:"Role"}),r.jsxs("div",{className:"relative",children:[r.jsx(pA,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsxs(Xe,{value:l.role,onValueChange:h=>c(f=>({...f,role:h})),children:[r.jsx(Ke,{className:"pl-10",children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:ul.ADMIN,children:"Admin"}),r.jsx(ee,{value:ul.MANAGER,children:"Manager"}),r.jsx(ee,{value:ul.SALES,children:"Sales"}),r.jsx(ee,{value:ul.SERVICE,children:"Service"}),r.jsx(ee,{value:ul.USER,children:"User"})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isActive",checked:l.isActive,onCheckedChange:h=>c(f=>({...f,isActive:!!h}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active user"})]}),!t&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"sendInvite",checked:l.sendInvite,onCheckedChange:h=>c(f=>({...f,sendInvite:!!h}))}),r.jsx(ie,{htmlFor:"sendInvite",children:"Send invitation email"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(ae,{type:"button",variant:"outline",onClick:a,disabled:i,children:"Cancel"}),r.jsx(ae,{type:"submit",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t?"Updating...":"Adding..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),t?"Update User":"Add User"]})})]})]})})]})})}function xoe({tenant:e,onSave:t,onClose:n}){const{toast:a}=Ht(),[s,i]=S.useState(!1),[o,l]=S.useState("general"),[c,u]=S.useState([]),[h,f]=S.useState(!1),[p,v]=S.useState(!1),[g,y]=S.useState(null),[x,j]=S.useState({...e,settings:{...e.settings,features:e.settings?.features||{crm:!0,inventory:!0,quotes:!0,agreements:!0,service:!0,delivery:!0,commissions:!0,portal:!0,invoices:!0,reports:!0}},branding:e.branding||{primaryColor:"#3b82f6",secondaryColor:"#64748b",fontFamily:"Inter"}}),b=async C=>{if(C.preventDefault(),!x.name||!x.domain){a({title:"Validation Error",description:"Tenant name and domain are required",variant:"destructive"});return}i(!0);try{await t(e.id,{...x,status:x.isActive?"active":"inactive"}),a({title:"Success",description:"Tenant updated successfully"})}catch{a({title:"Error",description:"Failed to update tenant",variant:"destructive"})}finally{i(!1)}},N=C=>{switch(C){case"active":return"bg-green-50 text-green-700 border-green-200";case"inactive":return"bg-gray-50 text-gray-700 border-gray-200";case"suspended":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};S.useEffect(()=>{o==="users"&&P()},[o,e.id]);const P=()=>{f(!0),setTimeout(()=>{u([{id:"user-1",name:"Tenant Admin",email:"admin@tenant.com",role:"admin",is_active:!0},{id:"user-2",name:"Tenant Manager",email:"manager@tenant.com",role:"manager",is_active:!0},{id:"user-3",name:"Sales Rep",email:"sales@tenant.com",role:"sales",is_active:!1}]),f(!1)},500)},I=C=>{if(console.log(g?"Updating user:":"Adding user:",C),g)u(_=>_.map(M=>M.id===C.id?{...M,...C}:M)),a({title:"User Updated",description:`${C.name} has been updated successfully.`});else{const _={...C,id:C.id||Math.random().toString(36).substr(2,9)};u(M=>[...M,_]),a({title:"User Added",description:`${C.name} has been added successfully.`})}v(!1),y(null)},w=C=>{y(C),v(!0)},E=(C,_)=>{window.confirm(`Are you sure you want to delete user ${_}?`)&&(console.log("Deleting user:",C),u(M=>M.filter(k=>k.id!==C)),a({title:"User Deleted",description:`${_} has been deleted successfully.`}))};return r.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[p&&r.jsx(voe,{tenantId:e.id,user:g,onSave:I,onCancel:()=>{v(!1),y(null)}}),r.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Te,{className:"text-xl",children:e.name}),r.jsx(Ze,{className:ot("ri-badge-status",N(e.status)),children:e.status.toUpperCase()})]}),r.jsx(tt,{children:e.domain})]}),r.jsx(ae,{variant:"ghost",size:"sm",onClick:n,children:r.jsx(cr,{className:"h-4 w-4"})})]})}),r.jsxs(be,{children:[r.jsxs(Or,{value:o,onValueChange:l,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-5",children:[r.jsx(ut,{value:"general",children:"General"}),r.jsx(ut,{value:"features",children:"Features"}),r.jsx(ut,{value:"branding",children:"Branding"}),r.jsx(ut,{value:"users",children:"Users"}),r.jsx(ut,{value:"activity",children:"Activity"})]}),r.jsxs(ft,{value:"general",className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"name",children:"Tenant Name *"}),r.jsx(Ee,{id:"name",value:x.name,onChange:C=>j(_=>({..._,name:C.target.value})),placeholder:"e.g., Sunshine RV Dealership"})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"domain",children:"Domain *"}),r.jsx(Ee,{id:"domain",value:x.domain,onChange:C=>j(_=>({..._,domain:C.target.value})),placeholder:"e.g., sunshine.renterinsight.com"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This will be used for tenant-specific access"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"timezone",children:"Timezone"}),r.jsxs(Xe,{value:x.settings.timezone,onValueChange:C=>j(_=>({..._,settings:{..._.settings,timezone:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"America/New_York",children:"Eastern Time (ET)"}),r.jsx(ee,{value:"America/Chicago",children:"Central Time (CT)"}),r.jsx(ee,{value:"America/Denver",children:"Mountain Time (MT)"}),r.jsx(ee,{value:"America/Los_Angeles",children:"Pacific Time (PT)"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"currency",children:"Currency"}),r.jsxs(Xe,{value:x.settings.currency,onValueChange:C=>j(_=>({..._,settings:{..._.settings,currency:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"USD",children:"US Dollar (USD)"}),r.jsx(ee,{value:"CAD",children:"Canadian Dollar (CAD)"}),r.jsx(ee,{value:"EUR",children:"Euro (EUR)"}),r.jsx(ee,{value:"GBP",children:"British Pound (GBP)"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"dateFormat",children:"Date Format"}),r.jsxs(Xe,{value:x.settings.dateFormat,onValueChange:C=>j(_=>({..._,settings:{..._.settings,dateFormat:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"MM/dd/yyyy",children:"MM/DD/YYYY"}),r.jsx(ee,{value:"dd/MM/yyyy",children:"DD/MM/YYYY"}),r.jsx(ee,{value:"yyyy-MM-dd",children:"YYYY-MM-DD"})]})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:"isActive",checked:x.isActive,onCheckedChange:C=>j(_=>({..._,isActive:!!C}))}),r.jsx(ie,{htmlFor:"isActive",children:"Active tenant"})]})]}),r.jsxs(ft,{value:"features",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Enabled Features"}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(x.settings.features).map(([C,_])=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ut,{id:`feature-${C}`,checked:_,onCheckedChange:M=>j(k=>({...k,settings:{...k.settings,features:{...k.settings.features,[C]:!!M}}}))}),r.jsx(ie,{htmlFor:`feature-${C}`,className:"capitalize",children:C==="crm"?"CRM & Prospecting":C==="invoices"?"Invoice & Payments":C})]},C))})]}),r.jsxs(ft,{value:"branding",className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Branding"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"primaryColor",children:"Primary Color"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Ee,{type:"color",id:"primaryColor",value:x.branding.primaryColor,onChange:C=>j(_=>({..._,branding:{..._.branding,primaryColor:C.target.value}})),className:"w-16 h-10 shadow-sm"}),r.jsx(Ee,{value:x.branding.primaryColor,onChange:C=>j(_=>({..._,branding:{..._.branding,primaryColor:C.target.value}})),className:"shadow-sm"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"secondaryColor",children:"Secondary Color"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx(Ee,{type:"color",id:"secondaryColor",value:x.branding.secondaryColor,onChange:C=>j(_=>({..._,branding:{..._.branding,secondaryColor:C.target.value}})),className:"w-16 h-10 shadow-sm"}),r.jsx(Ee,{value:x.branding.secondaryColor,onChange:C=>j(_=>({..._,branding:{..._.branding,secondaryColor:C.target.value}})),className:"shadow-sm"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"fontFamily",children:"Font Family"}),r.jsxs(Xe,{value:x.branding.fontFamily,onValueChange:C=>j(_=>({..._,branding:{..._.branding,fontFamily:C}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"Inter",children:"Inter"}),r.jsx(ee,{value:"Roboto",children:"Roboto"}),r.jsx(ee,{value:"Open Sans",children:"Open Sans"}),r.jsx(ee,{value:"Montserrat",children:"Montserrat"})]})]})]})]}),r.jsxs("div",{className:"border rounded-lg p-6 mt-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Preview"}),r.jsxs("div",{className:"space-y-4 p-4 rounded-lg border",style:{fontFamily:x.branding.fontFamily},children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:"Text Preview"}),r.jsx("p",{children:"This is how your text will appear with the selected font."})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:"Color Preview"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("div",{className:"w-20 h-10 rounded-md flex items-center justify-center text-white",style:{backgroundColor:x.branding.primaryColor},children:"Primary"}),r.jsx("div",{className:"w-20 h-10 rounded-md flex items-center justify-center text-white",style:{backgroundColor:x.branding.secondaryColor},children:"Secondary"})]})]})]})]})]}),r.jsxs(ft,{value:"users",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Users"}),r.jsxs(ae,{size:"sm",onClick:()=>v(!0),children:[r.jsx(Na,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),h?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading users..."})]}):c.length>0?r.jsx("div",{className:"space-y-3",children:c.map(C=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:C.name}),r.jsx("p",{className:"text-sm text-muted-foreground",children:C.email})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ze,{className:C.is_active?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:C.is_active?"ACTIVE":"INACTIVE"}),r.jsx(Ze,{variant:"outline",children:C.role.toUpperCase()}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>w(C),children:[r.jsx(bn,{className:"h-3 w-3 mr-1"}),"Edit"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>E(C.id,C.name),children:[r.jsx(oa,{className:"h-3 w-3 mr-1"}),"Delete"]})]})]})]},C.id))}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Na,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No users found for this tenant"}),r.jsx("p",{className:"text-sm",children:"Add users to provide access to this tenant"})]})]}),r.jsxs(ft,{value:"activity",className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Activity Log"}),r.jsxs(ae,{variant:"outline",size:"sm",children:[r.jsx(Ff,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),r.jsxs("div",{className:"text-center py-8 text-muted-foreground border-2 border-dashed rounded-lg",children:[r.jsx(Ff,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),r.jsx("p",{children:"No activity recorded yet"}),r.jsx("p",{className:"text-sm",children:"Activity will be logged as users interact with the system"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t mt-6",children:[r.jsx(ae,{variant:"outline",onClick:n,disabled:s,children:"Cancel"}),r.jsx(ae,{onClick:b,disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(dn,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})]})}const goe=[{id:"1",name:"Demo RV Dealership",domain:"demo.renterinsight.com",status:"active",users:5,createdAt:new Date("2024-01-01"),lastActivity:new Date("2024-01-20")},{id:"2",name:"Sunshine RV Center",domain:"sunshine.renterinsight.com",status:"active",users:12,createdAt:new Date("2023-12-15"),lastActivity:new Date("2024-01-19")}],lm={totalTenants:2,activeTenants:2,totalUsers:17,systemUptime:"99.9%",avgResponseTime:"120ms",errorRate:"0.1%"};function yoe(){const{hasRole:e}=lp(),{toast:t}=Ht(),[n,a]=S.useState(goe),[s,i]=S.useState(""),[o,l]=S.useState(null),[c,u]=S.useState(!1),[h,f]=S.useState(!1);if(!e(ul.ADMIN))return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx(ye,{className:"w-full max-w-md shadow-sm",children:r.jsxs(Pe,{className:"text-center",children:[r.jsx(Vi,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),r.jsx(Te,{children:"Access Denied"}),r.jsx(tt,{children:"You don't have permission to access the Platform Admin area."})]})})});n.filter(y=>y.name.toLowerCase().includes(s.toLowerCase())||y.domain.toLowerCase().includes(s.toLowerCase()));const p=()=>{u(!0)},v=y=>{try{const x={id:Math.random().toString(36).substring(2,9),...y,status:y.isActive?"active":"inactive",users:0,createdAt:new Date,lastActivity:new Date};a(j=>[...j,x]),u(!1),t({title:"Tenant Created",description:`${y.name} has been created successfully.`})}catch{t({title:"Error",description:"Failed to create tenant",variant:"destructive"})}},g=(y,x)=>{try{const j=n.map(b=>b.id===y?{...b,...x}:b);a(j),f(!1),t({title:"Tenant Updated",description:`${x.name} has been updated successfully.`})}catch{t({title:"Error",description:"Failed to update tenant",variant:"destructive"})}};return r.jsxs("div",{className:"space-y-8",children:[c&&r.jsx(poe,{onSave:v,onCancel:()=>u(!1)}),h&&o&&r.jsx(xoe,{tenant:o,onSave:g,onClose:()=>{f(!1),l(null)}}),r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Platform Admin"}),r.jsx("p",{className:"ri-page-description",children:"System administration and tenant management"})]}),r.jsxs("div",{children:[r.jsxs(ae,{className:"shadow-sm",onClick:p,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Add Tenant"]}),r.jsxs(ae,{onClick:()=>window.location.href="/admin/settings",className:"shadow-sm ml-2",children:[r.jsx(Px,{className:"h-4 w-4 mr-2"}),"Platform Settings"]})]})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Tenants"}),r.jsx(j0,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:lm.totalTenants}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"All tenants"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Active Tenants"}),r.jsx(j0,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:lm.activeTenants}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(Ff,{className:"h-3 w-3 mr-1"}),"Currently active"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-purple-50 to-purple-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-purple-900",children:"Total Users"}),r.jsx(Na,{className:"h-4 w-4 text-purple-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-purple-900",children:lm.totalUsers}),r.jsxs("p",{className:"text-xs text-purple-600 flex items-center mt-1",children:[r.jsx(Na,{className:"h-3 w-3 mr-1"}),"All users"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"System Uptime"}),r.jsx(Ff,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:lm.systemUptime}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(Ff,{className:"h-3 w-3 mr-1"}),"Excellent"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Avg Response"}),r.jsx(Ff,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:lm.avgResponseTime}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Fast response"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"Error Rate"}),r.jsx(Vi,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:lm.errorRate}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Very low"]})]})]})]})]})}function boe({initialReportConfig:e,onGenerate:t,onExportCSV:n,isGenerating:a,hasData:s}){const{toast:i}=Ht(),[o,l]=S.useState({type:vn.SALES,name:"Sales Report",dateRange:{startDate:"2023-01-01",endDate:new Date().toISOString().split("T")[0]},filters:{}}),c=h=>{if(h.preventDefault(),console.log("handleSubmit called from ReportGeneratorForm"),!o.name){i({title:"Validation Error",description:"Report name is required",variant:"destructive"});return}console.log("Calling onGenerate with config:",o),t(o)},u=h=>{let f="Custom Report";switch(h){case vn.SALES:f="Sales Report";break;case vn.INVENTORY:f="Inventory Report";break;case vn.SERVICE:f="Service Report";break;case vn.FINANCIAL:f="Financial Report";break}l(p=>({...p,type:h,name:f}))};return S.useEffect(()=>{e&&(console.log("ReportGeneratorForm useEffect triggered with initialReportConfig:",e),l(e))},[e]),r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Oa,{className:"h-5 w-5 mr-2 text-primary"}),"Generate Report"]}),r.jsx(tt,{children:"Configure and generate custom reports"})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:n,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})}),r.jsx(be,{children:r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"reportType",children:"Report Type"}),r.jsxs(Xe,{value:o.type,onValueChange:h=>u(h),children:[r.jsx(Ke,{children:r.jsx(Qe,{})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:vn.SALES,children:"Sales Report"}),r.jsx(ee,{value:vn.INVENTORY,children:"Inventory Report"}),r.jsx(ee,{value:vn.SERVICE,children:"Service Report"}),r.jsx(ee,{value:vn.FINANCIAL,children:"Financial Report"}),r.jsx(ee,{value:vn.CUSTOM,children:"Custom Report"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"reportName",children:"Report Name"}),r.jsx(Ee,{id:"reportName",value:o.name,onChange:h=>l(f=>({...f,name:h.target.value})),placeholder:"Enter report name"})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"startDate",children:"Start Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(gn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"startDate",type:"date",value:o.dateRange.startDate,onChange:h=>l(f=>({...f,dateRange:{...f.dateRange,startDate:h.target.value}})),className:"pl-10"})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"endDate",children:"End Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(gn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{id:"endDate",type:"date",value:o.dateRange.endDate,onChange:h=>l(f=>({...f,dateRange:{...f.dateRange,endDate:h.target.value}})),className:"pl-10"})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"salesRep",children:"Sales Rep"}),r.jsxs(Xe,{value:o.filters.salesRep||"",onValueChange:h=>l(f=>({...f,filters:{...f.filters,salesRep:h||void 0}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"All Sales Reps"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"All Sales Reps"}),r.jsx(ee,{value:"rep-001",children:"John Smith"}),r.jsx(ee,{value:"rep-002",children:"Sarah Johnson"}),r.jsx(ee,{value:"rep-003",children:"Mike Davis"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"status",children:"Status"}),r.jsxs(Xe,{value:o.filters.status||"",onValueChange:h=>l(f=>({...f,filters:{...f.filters,status:h||void 0}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"All Statuses"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"All Statuses"}),r.jsx(ee,{value:"active",children:"Active"}),r.jsx(ee,{value:"completed",children:"Completed"}),r.jsx(ee,{value:"cancelled",children:"Cancelled"})]})]})]}),r.jsxs("div",{children:[r.jsx(ie,{htmlFor:"location",children:"Location"}),r.jsxs(Xe,{value:o.filters.location||"",onValueChange:h=>l(f=>({...f,filters:{...f.filters,location:h||void 0}})),children:[r.jsx(Ke,{children:r.jsx(Qe,{placeholder:"All Locations"})}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"",children:"All Locations"}),r.jsx(ee,{value:"north",children:"North Region"}),r.jsx(ee,{value:"south",children:"South Region"}),r.jsx(ee,{value:"east",children:"East Region"}),r.jsx(ee,{value:"west",children:"West Region"})]})]})]})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsxs(ae,{type:"button",variant:"outline",children:[r.jsx(ji,{className:"h-4 w-4 mr-2"}),"More Filters"]}),r.jsxs("div",{className:"flex space-x-2",children:[s&&r.jsxs(ae,{type:"button",variant:"outline",onClick:n,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),r.jsx(ae,{type:"submit",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})]})})]})}const G8=S.forwardRef(({className:e,...t},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:ot("w-full caption-bottom text-sm",e),...t})}));G8.displayName="Table";const K8=S.forwardRef(({className:e,...t},n)=>r.jsx("thead",{ref:n,className:ot("[&_tr]:border-b",e),...t}));K8.displayName="TableHeader";const Y8=S.forwardRef(({className:e,...t},n)=>r.jsx("tbody",{ref:n,className:ot("[&_tr:last-child]:border-0",e),...t}));Y8.displayName="TableBody";const joe=S.forwardRef(({className:e,...t},n)=>r.jsx("tfoot",{ref:n,className:ot("bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));joe.displayName="TableFooter";const y0=S.forwardRef(({className:e,...t},n)=>r.jsx("tr",{ref:n,className:ot("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));y0.displayName="TableRow";const X8=S.forwardRef(({className:e,...t},n)=>r.jsx("th",{ref:n,className:ot("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));X8.displayName="TableHead";const $S=S.forwardRef(({className:e,...t},n)=>r.jsx("td",{ref:n,className:ot("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));$S.displayName="TableCell";const woe=S.forwardRef(({className:e,...t},n)=>r.jsx("caption",{ref:n,className:ot("mt-4 text-sm text-muted-foreground",e),...t}));woe.displayName="TableCaption";function Noe({reportType:e,reportName:t,data:n,columns:a,onExportCSV:s}){const[i,o]=S.useState(""),[l,c]=S.useState(null),[u,h]=S.useState("asc"),[f,p]=S.useState(1),v=10,y=[...n.filter(P=>Object.values(P).some(I=>I&&I.toString().toLowerCase().includes(i.toLowerCase())))].sort((P,I)=>{if(!l)return 0;const w=P[l],E=I[l];if(w===void 0||E===void 0)return 0;if(typeof w=="number"&&typeof E=="number")return u==="asc"?w-E:E-w;if(w instanceof Date&&E instanceof Date)return u==="asc"?w.getTime()-E.getTime():E.getTime()-w.getTime();const C=w.toString().toLowerCase(),_=E.toString().toLowerCase();return u==="asc"?C.localeCompare(_):_.localeCompare(C)}),x=Math.ceil(y.length/v),j=y.slice((f-1)*v,f*v),b=P=>{l===P?h(u==="asc"?"desc":"asc"):(c(P),h("asc"))},N=(P,I)=>{if(P==null)return"-";switch(I){case"currency":return Me(P);case"date":return Et(P);case"boolean":return P?"Yes":"No";default:return P.toString()}};return r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Te,{children:t}),r.jsxs(tt,{children:[n.length," records found"]})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:s,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})}),r.jsx(be,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(La,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(Ee,{placeholder:"Search results...",value:i,onChange:P=>{o(P.target.value),p(1)},className:"pl-10"})]})}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(G8,{children:[r.jsx(K8,{children:r.jsx(y0,{children:a.map(P=>r.jsx(X8,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>b(P.key),children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:P.label}),l===P.key&&(u==="asc"?r.jsx(Ql,{className:"h-3 w-3"}):r.jsx(Xl,{className:"h-3 w-3"}))]})},P.key))})}),r.jsx(Y8,{children:j.length>0?j.map((P,I)=>r.jsx(y0,{children:a.map(w=>r.jsx($S,{children:N(P[w.key],w.type)},w.key))},I)):r.jsx(y0,{children:r.jsx($S,{colSpan:a.length,className:"h-24 text-center",children:"No results found."})})})]})}),x>1&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(f-1)*v+1," to ",Math.min(f*v,y.length)," of ",y.length," results"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>p(P=>Math.max(P-1,1)),disabled:f===1,children:"Previous"}),r.jsx(ae,{variant:"outline",size:"sm",onClick:()=>p(P=>Math.min(P+1,x)),disabled:f===x,children:"Next"})]})]})]})})]})}function Soe(){const[e,t]=S.useState([]),[n,a]=S.useState([]),[s,i]=S.useState(!1),[o,l]=S.useState(null),{leads:c,salesReps:u}=bl(),{vehicles:h}=vu(),{tickets:f}=w8(),{invoices:p,payments:v}=H8(),g=async P=>{i(!0),l(P);try{const I=new Date(P.dateRange.startDate),w=new Date(P.dateRange.endDate);let E=[],C=[];switch(P.type){case vn.SALES:E=y(I,w,P.filters),C=[{key:"id",label:"ID"},{key:"customerName",label:"Customer"},{key:"date",label:"Date",type:"date"},{key:"product",label:"Product"},{key:"salesRep",label:"Sales Rep"},{key:"amount",label:"Amount",type:"currency"},{key:"status",label:"Status"}];break;case vn.INVENTORY:E=x(P.filters),C=[{key:"id",label:"ID"},{key:"vin",label:"VIN"},{key:"make",label:"Make"},{key:"model",label:"Model"},{key:"year",label:"Year",type:"number"},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"price",label:"Price",type:"currency"},{key:"cost",label:"Cost",type:"currency"},{key:"location",label:"Location"}];break;case vn.SERVICE:E=j(I,w,P.filters),C=[{key:"id",label:"Ticket ID"},{key:"title",label:"Title"},{key:"customer",label:"Customer"},{key:"vehicle",label:"Vehicle"},{key:"status",label:"Status"},{key:"createdAt",label:"Created",type:"date"},{key:"completedAt",label:"Completed",type:"date"},{key:"partsTotal",label:"Parts Total",type:"currency"},{key:"laborTotal",label:"Labor Total",type:"currency"},{key:"total",label:"Total",type:"currency"}];break;case vn.FINANCIAL:E=b(I,w,P.filters),C=[{key:"date",label:"Date",type:"date"},{key:"type",label:"Type"},{key:"reference",label:"Reference"},{key:"customer",label:"Customer"},{key:"description",label:"Description"},{key:"income",label:"Income",type:"currency"},{key:"expense",label:"Expense",type:"currency"},{key:"balance",label:"Balance",type:"currency"}];break;default:E=[],C=[]}t(E),a(C)}catch(I){console.error("Error generating report:",I)}finally{i(!1)}},y=(P,I,w)=>c.filter(C=>{const _=new Date(C.createdAt),M=_>=P&&_<=I,k=!w.salesRep||C.assignedTo===w.salesRep,D=!w.status||C.status===w.status;return M&&k&&D}).map(C=>{const _=u.find(M=>M.id===C.assignedTo);return{id:C.id,customerName:`${C.firstName} ${C.lastName}`,date:C.createdAt,product:C.customFields?.interests||"N/A",salesRep:_?.name||"Unassigned",amount:C.customFields?.budget&&parseFloat(C.customFields.budget.replace(/[^0-9.]/g,""))||0,status:C.status}}),x=P=>h.filter(w=>{const E=!P.location||w.location.toLowerCase().includes(P.location.toLowerCase()),C=!P.status||w.status===P.status;return E&&C}).map(w=>({id:w.id,vin:w.vin,make:w.make,model:w.model,year:w.year,type:w.type,status:w.status,price:w.price,cost:w.cost,location:w.location})),j=(P,I,w)=>f.filter(C=>{const _=new Date(C.createdAt),M=_>=P&&_<=I,k=!w.status||C.status===w.status;return M&&k}).map(C=>{const _=C.parts.reduce((k,D)=>k+D.total,0),M=C.labor.reduce((k,D)=>k+D.total,0);return{id:C.id,title:C.title,customer:C.customerId,vehicle:C.vehicleId||"N/A",status:C.status,createdAt:C.createdAt,completedAt:C.completedDate,partsTotal:_,laborTotal:M,total:_+M}}),b=(P,I,w)=>{const E=[];return p.forEach(C=>{const _=new Date(C.createdAt);_>=P&&_<=I&&E.push({date:C.createdAt,type:"Invoice",reference:C.number,customer:C.customerId,description:`Invoice #${C.number}`,income:C.total,expense:0,balance:C.total})}),v.forEach(C=>{const _=new Date(C.processedDate);_>=P&&_<=I&&E.push({date:C.processedDate,type:"Payment",reference:C.id,customer:p.find(M=>M.id===C.invoiceId)?.customerId||"Unknown",description:`Payment for Invoice #${C.invoiceId}`,income:0,expense:C.amount,balance:-C.amount})}),E.sort((C,_)=>new Date(C.date).getTime()-new Date(_.date).getTime())};return{reportData:e,reportColumns:n,loading:s,currentReportConfig:o,generateReport:g,exportToCSV:()=>{if(!e.length||!n.length)return;const P=n.map(M=>M.label),I=e.map(M=>n.map(k=>{const D=M[k.key];switch(k.type){case"currency":return typeof D=="number"?D.toFixed(2):D;case"date":return D instanceof Date?D.toISOString().split("T")[0]:D;default:return D}})),w=Tm.unparse({fields:P,data:I}),E=new Blob([w],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(E),_=document.createElement("a");_.href=C,_.setAttribute("download",`${o?.name||"report"}.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_)}}}function Q8(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Q8(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Hr(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Q8(e))&&(a&&(a+=" "),a+=t);return a}var Mj,pI;function Ni(){if(pI)return Mj;pI=1;var e=Array.isArray;return Mj=e,Mj}var $j,vI;function J8(){if(vI)return $j;vI=1;var e=typeof hv=="object"&&hv&&hv.Object===Object&&hv;return $j=e,$j}var Bj,xI;function vc(){if(xI)return Bj;xI=1;var e=J8(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Bj=n,Bj}var qj,gI;function Fx(){if(gI)return qj;gI=1;var e=vc(),t=e.Symbol;return qj=t,qj}var zj,yI;function Coe(){if(yI)return zj;yI=1;var e=Fx(),t=Object.prototype,n=t.hasOwnProperty,a=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=n.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var h=a.call(o);return u&&(l?o[s]=c:delete o[s]),h}return zj=i,zj}var Uj,bI;function Aoe(){if(bI)return Uj;bI=1;var e=Object.prototype,t=e.toString;function n(a){return t.call(a)}return Uj=n,Uj}var Vj,jI;function xu(){if(jI)return Vj;jI=1;var e=Fx(),t=Coe(),n=Aoe(),a="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:a:i&&i in Object(l)?t(l):n(l)}return Vj=o,Vj}var Wj,wI;function gu(){if(wI)return Wj;wI=1;function e(t){return t!=null&&typeof t=="object"}return Wj=e,Wj}var Hj,NI;function gp(){if(NI)return Hj;NI=1;var e=xu(),t=gu(),n="[object Symbol]";function a(s){return typeof s=="symbol"||t(s)&&e(s)==n}return Hj=a,Hj}var Gj,SI;function f4(){if(SI)return Gj;SI=1;var e=Ni(),t=gp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:a.test(i)||!n.test(i)||o!=null&&i in Object(o)}return Gj=s,Gj}var Kj,CI;function Wd(){if(CI)return Kj;CI=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Kj=e,Kj}var Yj,AI;function h4(){if(AI)return Yj;AI=1;var e=xu(),t=Wd(),n="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==a||c==s||c==n||c==i}return Yj=o,Yj}var Xj,EI;function Eoe(){if(EI)return Xj;EI=1;var e=vc(),t=e["__core-js_shared__"];return Xj=t,Xj}var Qj,PI;function Poe(){if(PI)return Qj;PI=1;var e=Eoe(),t=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function n(a){return!!t&&t in a}return Qj=n,Qj}var Jj,TI;function Z8(){if(TI)return Jj;TI=1;var e=Function.prototype,t=e.toString;function n(a){if(a!=null){try{return t.call(a)}catch{}try{return a+""}catch{}}return""}return Jj=n,Jj}var Zj,II;function Toe(){if(II)return Zj;II=1;var e=h4(),t=Poe(),n=Wd(),a=Z8(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,h=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||t(p))return!1;var v=e(p)?h:i;return v.test(a(p))}return Zj=f,Zj}var ew,DI;function Ioe(){if(DI)return ew;DI=1;function e(t,n){return t?.[n]}return ew=e,ew}var tw,_I;function jh(){if(_I)return tw;_I=1;var e=Toe(),t=Ioe();function n(a,s){var i=t(a,s);return e(i)?i:void 0}return tw=n,tw}var rw,kI;function vb(){if(kI)return rw;kI=1;var e=jh(),t=e(Object,"create");return rw=t,rw}var nw,OI;function Doe(){if(OI)return nw;OI=1;var e=vb();function t(){this.__data__=e?e(null):{},this.size=0}return nw=t,nw}var aw,RI;function _oe(){if(RI)return aw;RI=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return aw=e,aw}var sw,LI;function koe(){if(LI)return sw;LI=1;var e=vb(),t="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return a.call(o,i)?o[i]:void 0}return sw=s,sw}var iw,FI;function Ooe(){if(FI)return iw;FI=1;var e=vb(),t=Object.prototype,n=t.hasOwnProperty;function a(s){var i=this.__data__;return e?i[s]!==void 0:n.call(i,s)}return iw=a,iw}var ow,MI;function Roe(){if(MI)return ow;MI=1;var e=vb(),t="__lodash_hash_undefined__";function n(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=e&&s===void 0?t:s,this}return ow=n,ow}var lw,$I;function Loe(){if($I)return lw;$I=1;var e=Doe(),t=_oe(),n=koe(),a=Ooe(),s=Roe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,lw=i,lw}var cw,BI;function Foe(){if(BI)return cw;BI=1;function e(){this.__data__=[],this.size=0}return cw=e,cw}var uw,qI;function m4(){if(qI)return uw;qI=1;function e(t,n){return t===n||t!==t&&n!==n}return uw=e,uw}var dw,zI;function xb(){if(zI)return dw;zI=1;var e=m4();function t(n,a){for(var s=n.length;s--;)if(e(n[s][0],a))return s;return-1}return dw=t,dw}var fw,UI;function Moe(){if(UI)return fw;UI=1;var e=xb(),t=Array.prototype,n=t.splice;function a(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return fw=a,fw}var hw,VI;function $oe(){if(VI)return hw;VI=1;var e=xb();function t(n){var a=this.__data__,s=e(a,n);return s<0?void 0:a[s][1]}return hw=t,hw}var mw,WI;function Boe(){if(WI)return mw;WI=1;var e=xb();function t(n){return e(this.__data__,n)>-1}return mw=t,mw}var pw,HI;function qoe(){if(HI)return pw;HI=1;var e=xb();function t(n,a){var s=this.__data__,i=e(s,n);return i<0?(++this.size,s.push([n,a])):s[i][1]=a,this}return pw=t,pw}var vw,GI;function gb(){if(GI)return vw;GI=1;var e=Foe(),t=Moe(),n=$oe(),a=Boe(),s=qoe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,vw=i,vw}var xw,KI;function p4(){if(KI)return xw;KI=1;var e=jh(),t=vc(),n=e(t,"Map");return xw=n,xw}var gw,YI;function zoe(){if(YI)return gw;YI=1;var e=Loe(),t=gb(),n=p4();function a(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return gw=a,gw}var yw,XI;function Uoe(){if(XI)return yw;XI=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return yw=e,yw}var bw,QI;function yb(){if(QI)return bw;QI=1;var e=Uoe();function t(n,a){var s=n.__data__;return e(a)?s[typeof a=="string"?"string":"hash"]:s.map}return bw=t,bw}var jw,JI;function Voe(){if(JI)return jw;JI=1;var e=yb();function t(n){var a=e(this,n).delete(n);return this.size-=a?1:0,a}return jw=t,jw}var ww,ZI;function Woe(){if(ZI)return ww;ZI=1;var e=yb();function t(n){return e(this,n).get(n)}return ww=t,ww}var Nw,eD;function Hoe(){if(eD)return Nw;eD=1;var e=yb();function t(n){return e(this,n).has(n)}return Nw=t,Nw}var Sw,tD;function Goe(){if(tD)return Sw;tD=1;var e=yb();function t(n,a){var s=e(this,n),i=s.size;return s.set(n,a),this.size+=s.size==i?0:1,this}return Sw=t,Sw}var Cw,rD;function v4(){if(rD)return Cw;rD=1;var e=zoe(),t=Voe(),n=Woe(),a=Hoe(),s=Goe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,Cw=i,Cw}var Aw,nD;function e$(){if(nD)return Aw;nD=1;var e=v4(),t="Expected a function";function n(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=a.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(n.Cache||e),i}return n.Cache=e,Aw=n,Aw}var Ew,aD;function Koe(){if(aD)return Ew;aD=1;var e=e$(),t=500;function n(a){var s=e(a,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return Ew=n,Ew}var Pw,sD;function Yoe(){if(sD)return Pw;sD=1;var e=Koe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,c,u){i.push(c?u.replace(n,"$1"):l||o)}),i});return Pw=a,Pw}var Tw,iD;function x4(){if(iD)return Tw;iD=1;function e(t,n){for(var a=-1,s=t==null?0:t.length,i=Array(s);++a<s;)i[a]=n(t[a],a,t);return i}return Tw=e,Tw}var Iw,oD;function Xoe(){if(oD)return Iw;oD=1;var e=Fx(),t=x4(),n=Ni(),a=gp(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return t(l,o)+"";if(a(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Iw=o,Iw}var Dw,lD;function t$(){if(lD)return Dw;lD=1;var e=Xoe();function t(n){return n==null?"":e(n)}return Dw=t,Dw}var _w,cD;function r$(){if(cD)return _w;cD=1;var e=Ni(),t=f4(),n=Yoe(),a=t$();function s(i,o){return e(i)?i:t(i,o)?[i]:n(a(i))}return _w=s,_w}var kw,uD;function bb(){if(uD)return kw;uD=1;var e=gp();function t(n){if(typeof n=="string"||e(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return kw=t,kw}var Ow,dD;function g4(){if(dD)return Ow;dD=1;var e=r$(),t=bb();function n(a,s){s=e(s,a);for(var i=0,o=s.length;a!=null&&i<o;)a=a[t(s[i++])];return i&&i==o?a:void 0}return Ow=n,Ow}var Rw,fD;function n$(){if(fD)return Rw;fD=1;var e=g4();function t(n,a,s){var i=n==null?void 0:e(n,a);return i===void 0?s:i}return Rw=t,Rw}var Qoe=n$();const Po=rn(Qoe);var Lw,hD;function Joe(){if(hD)return Lw;hD=1;function e(t){return t==null}return Lw=e,Lw}var Zoe=Joe();const _r=rn(Zoe);var Fw,mD;function ele(){if(mD)return Fw;mD=1;var e=xu(),t=Ni(),n=gu(),a="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==a}return Fw=s,Fw}var tle=ele();const ch=rn(tle);var rle=h4();const Cr=rn(rle);var nle=Wd();const yp=rn(nle);var Mw={exports:{}},on={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD;function ale(){if(pD)return on;pD=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function y(x){if(typeof x=="object"&&x!==null){var j=x.$$typeof;switch(j){case e:switch(x=x.type,x){case n:case s:case a:case u:case h:return x;default:switch(x=x&&x.$$typeof,x){case l:case o:case c:case p:case f:case i:return x;default:return j}}case t:return j}}}return on.ContextConsumer=o,on.ContextProvider=i,on.Element=e,on.ForwardRef=c,on.Fragment=n,on.Lazy=p,on.Memo=f,on.Portal=t,on.Profiler=s,on.StrictMode=a,on.Suspense=u,on.SuspenseList=h,on.isAsyncMode=function(){return!1},on.isConcurrentMode=function(){return!1},on.isContextConsumer=function(x){return y(x)===o},on.isContextProvider=function(x){return y(x)===i},on.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===e},on.isForwardRef=function(x){return y(x)===c},on.isFragment=function(x){return y(x)===n},on.isLazy=function(x){return y(x)===p},on.isMemo=function(x){return y(x)===f},on.isPortal=function(x){return y(x)===t},on.isProfiler=function(x){return y(x)===s},on.isStrictMode=function(x){return y(x)===a},on.isSuspense=function(x){return y(x)===u},on.isSuspenseList=function(x){return y(x)===h},on.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===s||x===a||x===u||x===h||x===v||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===f||x.$$typeof===i||x.$$typeof===o||x.$$typeof===c||x.$$typeof===g||x.getModuleId!==void 0)},on.typeOf=y,on}var vD;function sle(){return vD||(vD=1,Mw.exports=ale()),Mw.exports}var ile=sle(),$w,xD;function a$(){if(xD)return $w;xD=1;var e=xu(),t=gu(),n="[object Number]";function a(s){return typeof s=="number"||t(s)&&e(s)==n}return $w=a,$w}var Bw,gD;function ole(){if(gD)return Bw;gD=1;var e=a$();function t(n){return e(n)&&n!=+n}return Bw=t,Bw}var lle=ole();const bp=rn(lle);var cle=a$();const ule=rn(cle);var ml=function(t){return t===0?0:t>0?1:-1},Vf=function(t){return ch(t)&&t.indexOf("%")===t.length-1},Pt=function(t){return ule(t)&&!bp(t)},dle=function(t){return _r(t)},Ra=function(t){return Pt(t)||ch(t)},fle=0,Mx=function(t){var n=++fle;return"".concat(t||"").concat(n)},uh=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pt(t)&&!ch(t))return a;var i;if(Vf(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return bp(i)&&(i=a),s&&i>n&&(i=n),i},hm=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},hle=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,a={},s=0;s<n;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},No=function(t,n){return Pt(t)&&Pt(n)?function(a){return t+a*(n-t)}:function(){return n}};function W0(e,t,n){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Po(a,t))===n})}var mle=function(t,n){return Pt(t)&&Pt(n)?t-n:ch(t)&&ch(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function jm(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function BS(e){"@babel/helpers - typeof";return BS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BS(e)}var ple=["viewBox","children"],vle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yD=["points","pathLength"],qw={svg:ple,polygon:yD,polyline:yD},y4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],H0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(S.isValidElement(t)&&(a=t.props),!yp(a))return null;var s={};return Object.keys(a).forEach(function(i){y4.includes(i)&&(s[i]=n||function(o){return a[i](a,o)})}),s},xle=function(t,n,a){return function(s){return t(n,a,s),null}},G0=function(t,n,a){if(!yp(t)||BS(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];y4.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=xle(o,n,a))}),s},gle=["children"],yle=["children"];function bD(e,t){if(e==null)return{};var n=ble(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ble(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function qS(e){"@babel/helpers - typeof";return qS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qS(e)}var jD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},au=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},wD=null,zw=null,b4=function e(t){if(t===wD&&Array.isArray(zw))return zw;var n=[];return S.Children.forEach(t,function(a){_r(a)||(ile.isFragment(a)?n=n.concat(e(a.props.children)):n.push(a))}),zw=n,wD=t,n};function pl(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(function(s){return au(s)}):a=[au(t)],b4(e).forEach(function(s){var i=Po(s,"type.displayName")||Po(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function Bi(e,t){var n=pl(e,t);return n&&n[0]}var ND=function(t){if(!t||!t.props)return!1;var n=t.props,a=n.width,s=n.height;return!(!Pt(a)||a<=0||!Pt(s)||s<=0)},jle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wle=function(t){return t&&t.type&&ch(t.type)&&jle.indexOf(t.type)>=0},Nle=function(t){return t&&qS(t)==="object"&&"clipDot"in t},Sle=function(t,n,a,s){var i,o=(i=qw?.[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Cr(t)&&(s&&o.includes(n)||vle.includes(n))||a&&y4.includes(n)},Dr=function(t,n,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(S.isValidElement(t)&&(s=t.props),!yp(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Sle((l=s)===null||l===void 0?void 0:l[o],o,n,a)&&(i[o]=s[o])}),i},zS=function e(t,n){if(t===n)return!0;var a=S.Children.count(t);if(a!==S.Children.count(n))return!1;if(a===0)return!0;if(a===1)return SD(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=t[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!SD(i,o))return!1}return!0},SD=function(t,n){if(_r(t)&&_r(n))return!0;if(!_r(t)&&!_r(n)){var a=t.props||{},s=a.children,i=bD(a,gle),o=n.props||{},l=o.children,c=bD(o,yle);return s&&l?jm(i,c)&&zS(s,l):!s&&!l?jm(i,c):!1}return!1},CD=function(t,n){var a=[],s={};return b4(t).forEach(function(i,o){if(wle(i))a.push(i);else if(i){var l=au(i.type),c=n[l]||{},u=c.handler,h=c.once;if(u&&(!h||!s[l])){var f=u(i,l,o);a.push(f),s[l]=!0}}}),a},Cle=function(t){var n=t&&t.type;return n&&jD[n]?jD[n]:null},Ale=function(t,n){return b4(n).indexOf(t)},Ele=["children","width","height","viewBox","className","style","title","desc"];function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},US.apply(this,arguments)}function Ple(e,t){if(e==null)return{};var n=Tle(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Tle(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function VS(e){var t=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Ple(e,Ele),h=s||{width:n,height:a,x:0,y:0},f=Hr("recharts-surface",i);return Ne.createElement("svg",US({},Dr(u,!0,"svg"),{className:f,width:n,height:a,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Ne.createElement("title",null,l),Ne.createElement("desc",null,c),t)}var Ile=["children","className"];function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},WS.apply(this,arguments)}function Dle(e,t){if(e==null)return{};var n=_le(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _le(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var Jn=Ne.forwardRef(function(e,t){var n=e.children,a=e.className,s=Dle(e,Ile),i=Hr("recharts-layer",a);return Ne.createElement("g",WS({className:i},Dr(s,!0),{ref:t}),n)}),th=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},Uw,AD;function kle(){if(AD)return Uw;AD=1;function e(t,n,a){var s=-1,i=t.length;n<0&&(n=-n>i?0:i+n),a=a>i?i:a,a<0&&(a+=i),i=n>a?0:a-n>>>0,n>>>=0;for(var o=Array(i);++s<i;)o[s]=t[s+n];return o}return Uw=e,Uw}var Vw,ED;function Ole(){if(ED)return Vw;ED=1;var e=kle();function t(n,a,s){var i=n.length;return s=s===void 0?i:s,!a&&s>=i?n:e(n,a,s)}return Vw=t,Vw}var Ww,PD;function s$(){if(PD)return Ww;PD=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function c(u){return l.test(u)}return Ww=c,Ww}var Hw,TD;function Rle(){if(TD)return Hw;TD=1;function e(t){return t.split("")}return Hw=e,Hw}var Gw,ID;function Lle(){if(ID)return Gw;ID=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=t+n+a,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",h="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",g=u+"?",y="["+i+"]?",x="(?:"+v+"(?:"+[h,f,p].join("|")+")"+y+g+")*",j=y+g+x,b="(?:"+[h+l+"?",l,f,p,o].join("|")+")",N=RegExp(c+"(?="+c+")|"+b+j,"g");function P(I){return I.match(N)||[]}return Gw=P,Gw}var Kw,DD;function Fle(){if(DD)return Kw;DD=1;var e=Rle(),t=s$(),n=Lle();function a(s){return t(s)?n(s):e(s)}return Kw=a,Kw}var Yw,_D;function Mle(){if(_D)return Yw;_D=1;var e=Ole(),t=s$(),n=Fle(),a=t$();function s(i){return function(o){o=a(o);var l=t(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[i]()+u}}return Yw=s,Yw}var Xw,kD;function $le(){if(kD)return Xw;kD=1;var e=Mle(),t=e("toUpperCase");return Xw=t,Xw}var Ble=$le();const jb=rn(Ble);function Nn(e){return function(){return e}}const i$=Math.cos,K0=Math.sin,Nl=Math.sqrt,Y0=Math.PI,wb=2*Y0,HS=Math.PI,GS=2*HS,kf=1e-6,qle=GS-kf;function o$(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function zle(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return o$;const n=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class Ule{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?o$:zle(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,i,o){this._append`C${+t},${+n},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,a,s,i){if(t=+t,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-t,u=s-n,h=o-t,f=l-n,p=h*h+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>kf)if(!(Math.abs(f*c-u*h)>kf)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let v=a-o,g=s-l,y=c*c+u*u,x=v*v+g*g,j=Math.sqrt(y),b=Math.sqrt(p),N=i*Math.tan((HS-Math.acos((y+p-x)/(2*j*b)))/2),P=N/b,I=N/j;Math.abs(P-1)>kf&&this._append`L${t+P*h},${n+P*f}`,this._append`A${i},${i},0,0,${+(f*v>h*g)},${this._x1=t+I*c},${this._y1=n+I*u}`}}arc(t,n,a,s,i,o){if(t=+t,n=+n,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),c=a*Math.sin(s),u=t+l,h=n+c,f=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>kf||Math.abs(this._y1-h)>kf)&&this._append`L${u},${h}`,a&&(p<0&&(p=p%GS+GS),p>qle?this._append`A${a},${a},0,1,${f},${t-l},${n-c}A${a},${a},0,1,${f},${this._x1=u},${this._y1=h}`:p>kf&&this._append`A${a},${a},0,${+(p>=HS)},${f},${this._x1=t+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function j4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new Ule(t)}function w4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function l$(e){this._context=e}l$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nb(e){return new l$(e)}function c$(e){return e[0]}function u$(e){return e[1]}function d$(e,t){var n=Nn(!0),a=null,s=Nb,i=null,o=j4(l);e=typeof e=="function"?e:e===void 0?c$:Nn(e),t=typeof t=="function"?t:t===void 0?u$:Nn(t);function l(c){var u,h=(c=w4(c)).length,f,p=!1,v;for(a==null&&(i=s(v=o())),u=0;u<=h;++u)!(u<h&&n(f=c[u],u,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,c),+t(f,u,c));if(v)return i=null,v+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Nn(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),l):s},l.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),l):a},l}function Yg(e,t,n){var a=null,s=Nn(!0),i=null,o=Nb,l=null,c=j4(u);e=typeof e=="function"?e:e===void 0?c$:Nn(+e),t=typeof t=="function"?t:Nn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?u$:Nn(+n);function u(f){var p,v,g,y=(f=w4(f)).length,x,j=!1,b,N=new Array(y),P=new Array(y);for(i==null&&(l=o(b=c())),p=0;p<=y;++p){if(!(p<y&&s(x=f[p],p,f))===j)if(j=!j)v=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=p-1;g>=v;--g)l.point(N[g],P[g]);l.lineEnd(),l.areaEnd()}j&&(N[p]=+e(x,p,f),P[p]=+t(x,p,f),l.point(a?+a(x,p,f):N[p],n?+n(x,p,f):P[p]))}if(b)return l=null,b+""||null}function h(){return d$().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nn(+f),a=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nn(+f),u):e},u.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Nn(+f),u):a},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nn(+f),u):n},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(n)},u.lineX1=function(){return h().x(a).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Nn(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class f${constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Vle(e){return new f$(e,!0)}function Wle(e){return new f$(e,!1)}const N4={draw(e,t){const n=Nl(t/Y0);e.moveTo(n,0),e.arc(0,0,n,0,wb)}},Hle={draw(e,t){const n=Nl(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},h$=Nl(1/3),Gle=h$*2,Kle={draw(e,t){const n=Nl(t/Gle),a=n*h$;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},Yle={draw(e,t){const n=Nl(t),a=-n/2;e.rect(a,a,n,n)}},Xle=.8908130915292852,m$=K0(Y0/10)/K0(7*Y0/10),Qle=K0(wb/10)*m$,Jle=-i$(wb/10)*m$,Zle={draw(e,t){const n=Nl(t*Xle),a=Qle*n,s=Jle*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const o=wb*i/5,l=i$(o),c=K0(o);e.lineTo(c*n,-l*n),e.lineTo(l*a-c*s,c*a+l*s)}e.closePath()}},Qw=Nl(3),ece={draw(e,t){const n=-Nl(t/(Qw*3));e.moveTo(0,n*2),e.lineTo(-Qw*n,-n),e.lineTo(Qw*n,-n),e.closePath()}},xo=-.5,go=Nl(3)/2,KS=1/Nl(12),tce=(KS/2+1)*3,rce={draw(e,t){const n=Nl(t/tce),a=n/2,s=n*KS,i=a,o=n*KS+n,l=-i,c=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(xo*a-go*s,go*a+xo*s),e.lineTo(xo*i-go*o,go*i+xo*o),e.lineTo(xo*l-go*c,go*l+xo*c),e.lineTo(xo*a+go*s,xo*s-go*a),e.lineTo(xo*i+go*o,xo*o-go*i),e.lineTo(xo*l+go*c,xo*c-go*l),e.closePath()}};function nce(e,t){let n=null,a=j4(s);e=typeof e=="function"?e:Nn(e||N4),t=typeof t=="function"?t:Nn(t===void 0?64:+t);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Nn(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Nn(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function X0(){}function Q0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function p$(e){this._context=e}p$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Q0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ace(e){return new p$(e)}function v$(e){this._context=e}v$.prototype={areaStart:X0,areaEnd:X0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sce(e){return new v$(e)}function x$(e){this._context=e}x$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Q0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ice(e){return new x$(e)}function g$(e){this._context=e}g$.prototype={areaStart:X0,areaEnd:X0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oce(e){return new g$(e)}function OD(e){return e<0?-1:1}function RD(e,t,n){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(n-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(OD(i)+OD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function LD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Jw(e,t,n){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*t,i-l,o-l*n,i,o)}function J0(e){this._context=e}J0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jw(this,this._t0,LD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jw(this,LD(this,n=RD(this,e,t)),n);break;default:Jw(this,this._t0,n=RD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function y$(e){this._context=new b$(e)}(y$.prototype=Object.create(J0.prototype)).point=function(e,t){J0.prototype.point.call(this,t,e)};function b$(e){this._context=e}b$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,i){this._context.bezierCurveTo(t,e,a,n,i,s)}};function lce(e){return new J0(e)}function cce(e){return new y$(e)}function j$(e){this._context=e}j$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=FD(e),s=FD(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function FD(e){var t,n=e.length-1,a,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function uce(e){return new j$(e)}function Sb(e,t){this._context=e,this._t=t}Sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function dce(e){return new Sb(e,.5)}function fce(e){return new Sb(e,0)}function hce(e){return new Sb(e,1)}function Om(e,t){if((o=e.length)>1)for(var n=1,a,s,i=e[t[0]],o,l=i.length;n<o;++n)for(s=i,i=e[t[n]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function YS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function mce(e,t){return e[t]}function pce(e){const t=[];return t.key=e,t}function vce(){var e=Nn([]),t=YS,n=Om,a=mce;function s(i){var o=Array.from(e.apply(this,arguments),pce),l,c=o.length,u=-1,h;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+a(f,o[l].key,u,i)]).data=f;for(l=0,h=w4(t(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Nn(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Nn(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?YS:typeof i=="function"?i:Nn(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Om,s):n},s}function xce(e,t){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<a;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<a;++n)e[n][s][1]/=o}Om(e,t)}}function gce(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,i=a.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=e[o][n][1]||0;a[n][1]+=a[n][0]=-l/2}Om(e,t)}}function yce(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,i,o;a<i;++a){for(var l=0,c=0,u=0;l<o;++l){for(var h=e[t[l]],f=h[a][1]||0,p=h[a-1][1]||0,v=(f-p)/2,g=0;g<l;++g){var y=e[t[g]],x=y[a][1]||0,j=y[a-1][1]||0;v+=x-j}c+=f,u+=v*f}s[a-1][1]+=s[a-1][0]=n,c&&(n-=u/c)}s[a-1][1]+=s[a-1][0]=n,Om(e,t)}}function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}var bce=["type","size","sizeType"];function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},XS.apply(this,arguments)}function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(n),!0).forEach(function(a){jce(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function jce(e,t,n){return t=wce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wce(e){var t=Nce(e,"string");return Vv(t)=="symbol"?t:t+""}function Nce(e,t){if(Vv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Vv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sce(e,t){if(e==null)return{};var n=Cce(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Cce(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var w$={symbolCircle:N4,symbolCross:Hle,symbolDiamond:Kle,symbolSquare:Yle,symbolStar:Zle,symbolTriangle:ece,symbolWye:rce},Ace=Math.PI/180,Ece=function(t){var n="symbol".concat(jb(t));return w$[n]||N4},Pce=function(t,n,a){if(n==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Ace;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Tce=function(t,n){w$["symbol".concat(jb(t))]=n},S4=function(t){var n=t.type,a=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Sce(t,bce),u=$D($D({},c),{},{type:a,size:i,sizeType:l}),h=function(){var x=Ece(a),j=nce().type(x).size(Pce(i,l,a));return j()},f=u.className,p=u.cx,v=u.cy,g=Dr(u,!0);return p===+p&&v===+v&&i===+i?Ne.createElement("path",XS({},g,{className:Hr("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(v,")"),d:h()})):null};S4.registerSymbol=Tce;function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},QS.apply(this,arguments)}function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ice(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(a){Wv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Dce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,S$(a.key),a)}}function kce(e,t,n){return t&&_ce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oce(e,t,n){return t=Z0(t),Rce(e,N$()?Reflect.construct(t,n||[],Z0(e).constructor):t.apply(e,n))}function Rce(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lce(e)}function Lce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!e})()}function Z0(e){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(e)}function Fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JS(e,t)}function JS(e,t){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},JS(e,t)}function Wv(e,t,n){return t=S$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S$(e){var t=Mce(e,"string");return Rm(t)=="symbol"?t:t+""}function Mce(e,t){if(Rm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Rm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yo=32,C4=function(e){function t(){return Dce(this,t),Oce(this,t,arguments)}return Fce(t,e),kce(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=yo/2,o=yo/6,l=yo/3,c=a.inactive?s:a.color;if(a.type==="plainline")return Ne.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:yo,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Ne.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(yo,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Ne.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(yo/8,"h").concat(yo,"v").concat(yo*3/4,"h").concat(-yo,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(a.legendIcon)){var u=Ice({},a);return delete u.legendIcon,Ne.cloneElement(a.legendIcon,u)}return Ne.createElement(S4,{fill:c,cx:i,cy:i,size:yo,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,h={x:0,y:0,width:yo,height:yo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,g){var y=v.formatter||c,x=Hr(Wv(Wv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",v.inactive));if(v.type==="none")return null;var j=Cr(v.value)?null:v.value;th(!Cr(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=v.inactive?u:v.color;return Ne.createElement("li",QS({className:x,style:f,key:"legend-item-".concat(g)},G0(a.props,v,g)),Ne.createElement(VS,{width:o,height:o,viewBox:h,style:p},a.renderIcon(v)),Ne.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(j,v,g):j))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Ne.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(S.PureComponent);Wv(C4,"displayName","Legend");Wv(C4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zw,qD;function $ce(){if(qD)return Zw;qD=1;var e=gb();function t(){this.__data__=new e,this.size=0}return Zw=t,Zw}var e2,zD;function Bce(){if(zD)return e2;zD=1;function e(t){var n=this.__data__,a=n.delete(t);return this.size=n.size,a}return e2=e,e2}var t2,UD;function qce(){if(UD)return t2;UD=1;function e(t){return this.__data__.get(t)}return t2=e,t2}var r2,VD;function zce(){if(VD)return r2;VD=1;function e(t){return this.__data__.has(t)}return r2=e,r2}var n2,WD;function Uce(){if(WD)return n2;WD=1;var e=gb(),t=p4(),n=v4(),a=200;function s(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<a-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(i,o),this.size=l.size,this}return n2=s,n2}var a2,HD;function C$(){if(HD)return a2;HD=1;var e=gb(),t=$ce(),n=Bce(),a=qce(),s=zce(),i=Uce();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=a,o.prototype.has=s,o.prototype.set=i,a2=o,a2}var s2,GD;function Vce(){if(GD)return s2;GD=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return s2=t,s2}var i2,KD;function Wce(){if(KD)return i2;KD=1;function e(t){return this.__data__.has(t)}return i2=e,i2}var o2,YD;function A$(){if(YD)return o2;YD=1;var e=v4(),t=Vce(),n=Wce();function a(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return a.prototype.add=a.prototype.push=t,a.prototype.has=n,o2=a,o2}var l2,XD;function E$(){if(XD)return l2;XD=1;function e(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(t[a],a,t))return!0;return!1}return l2=e,l2}var c2,QD;function P$(){if(QD)return c2;QD=1;function e(t,n){return t.has(n)}return c2=e,c2}var u2,JD;function T$(){if(JD)return u2;JD=1;var e=A$(),t=E$(),n=P$(),a=1,s=2;function i(o,l,c,u,h,f){var p=c&a,v=o.length,g=l.length;if(v!=g&&!(p&&g>v))return!1;var y=f.get(o),x=f.get(l);if(y&&x)return y==l&&x==o;var j=-1,b=!0,N=c&s?new e:void 0;for(f.set(o,l),f.set(l,o);++j<v;){var P=o[j],I=l[j];if(u)var w=p?u(I,P,j,l,o,f):u(P,I,j,o,l,f);if(w!==void 0){if(w)continue;b=!1;break}if(N){if(!t(l,function(E,C){if(!n(N,C)&&(P===E||h(P,E,c,u,f)))return N.push(C)})){b=!1;break}}else if(!(P===I||h(P,I,c,u,f))){b=!1;break}}return f.delete(o),f.delete(l),b}return u2=i,u2}var d2,ZD;function Hce(){if(ZD)return d2;ZD=1;var e=vc(),t=e.Uint8Array;return d2=t,d2}var f2,e_;function Gce(){if(e_)return f2;e_=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(s,i){a[++n]=[i,s]}),a}return f2=e,f2}var h2,t_;function A4(){if(t_)return h2;t_=1;function e(t){var n=-1,a=Array(t.size);return t.forEach(function(s){a[++n]=s}),a}return h2=e,h2}var m2,r_;function Kce(){if(r_)return m2;r_=1;var e=Fx(),t=Hce(),n=m4(),a=T$(),s=Gce(),i=A4(),o=1,l=2,c="[object Boolean]",u="[object Date]",h="[object Error]",f="[object Map]",p="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",x="[object Symbol]",j="[object ArrayBuffer]",b="[object DataView]",N=e?e.prototype:void 0,P=N?N.valueOf:void 0;function I(w,E,C,_,M,k,D){switch(C){case b:if(w.byteLength!=E.byteLength||w.byteOffset!=E.byteOffset)return!1;w=w.buffer,E=E.buffer;case j:return!(w.byteLength!=E.byteLength||!k(new t(w),new t(E)));case c:case u:case p:return n(+w,+E);case h:return w.name==E.name&&w.message==E.message;case v:case y:return w==E+"";case f:var R=s;case g:var F=_&o;if(R||(R=i),w.size!=E.size&&!F)return!1;var z=D.get(w);if(z)return z==E;_|=l,D.set(w,E);var V=a(R(w),R(E),_,M,k,D);return D.delete(w),V;case x:if(P)return P.call(w)==P.call(E)}return!1}return m2=I,m2}var p2,n_;function I$(){if(n_)return p2;n_=1;function e(t,n){for(var a=-1,s=n.length,i=t.length;++a<s;)t[i+a]=n[a];return t}return p2=e,p2}var v2,a_;function Yce(){if(a_)return v2;a_=1;var e=I$(),t=Ni();function n(a,s,i){var o=s(a);return t(a)?o:e(o,i(a))}return v2=n,v2}var x2,s_;function Xce(){if(s_)return x2;s_=1;function e(t,n){for(var a=-1,s=t==null?0:t.length,i=0,o=[];++a<s;){var l=t[a];n(l,a,t)&&(o[i++]=l)}return o}return x2=e,x2}var g2,i_;function Qce(){if(i_)return g2;i_=1;function e(){return[]}return g2=e,g2}var y2,o_;function Jce(){if(o_)return y2;o_=1;var e=Xce(),t=Qce(),n=Object.prototype,a=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return a.call(o,l)}))}:t;return y2=i,y2}var b2,l_;function Zce(){if(l_)return b2;l_=1;function e(t,n){for(var a=-1,s=Array(t);++a<t;)s[a]=n(a);return s}return b2=e,b2}var j2,c_;function eue(){if(c_)return j2;c_=1;var e=xu(),t=gu(),n="[object Arguments]";function a(s){return t(s)&&e(s)==n}return j2=a,j2}var w2,u_;function E4(){if(u_)return w2;u_=1;var e=eue(),t=gu(),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return t(o)&&a.call(o,"callee")&&!s.call(o,"callee")};return w2=i,w2}var pv={exports:{}},N2,d_;function tue(){if(d_)return N2;d_=1;function e(){return!1}return N2=e,N2}pv.exports;var f_;function D$(){return f_||(f_=1,function(e,t){var n=vc(),a=tue(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||a;e.exports=u}(pv,pv.exports)),pv.exports}var S2,h_;function P4(){if(h_)return S2;h_=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(a,s){var i=typeof a;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(a))&&a>-1&&a%1==0&&a<s}return S2=n,S2}var C2,m_;function T4(){if(m_)return C2;m_=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return C2=t,C2}var A2,p_;function rue(){if(p_)return A2;p_=1;var e=xu(),t=T4(),n=gu(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",h="[object Number]",f="[object Object]",p="[object RegExp]",v="[object Set]",g="[object String]",y="[object WeakMap]",x="[object ArrayBuffer]",j="[object DataView]",b="[object Float32Array]",N="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",_="[object Uint16Array]",M="[object Uint32Array]",k={};k[b]=k[N]=k[P]=k[I]=k[w]=k[E]=k[C]=k[_]=k[M]=!0,k[a]=k[s]=k[x]=k[i]=k[j]=k[o]=k[l]=k[c]=k[u]=k[h]=k[f]=k[p]=k[v]=k[g]=k[y]=!1;function D(R){return n(R)&&t(R.length)&&!!k[e(R)]}return A2=D,A2}var E2,v_;function _$(){if(v_)return E2;v_=1;function e(t){return function(n){return t(n)}}return E2=e,E2}var vv={exports:{}};vv.exports;var x_;function nue(){return x_||(x_=1,function(e,t){var n=J8(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l}(vv,vv.exports)),vv.exports}var P2,g_;function k$(){if(g_)return P2;g_=1;var e=rue(),t=_$(),n=nue(),a=n&&n.isTypedArray,s=a?t(a):e;return P2=s,P2}var T2,y_;function aue(){if(y_)return T2;y_=1;var e=Zce(),t=E4(),n=Ni(),a=D$(),s=P4(),i=k$(),o=Object.prototype,l=o.hasOwnProperty;function c(u,h){var f=n(u),p=!f&&t(u),v=!f&&!p&&a(u),g=!f&&!p&&!v&&i(u),y=f||p||v||g,x=y?e(u.length,String):[],j=x.length;for(var b in u)(h||l.call(u,b))&&!(y&&(b=="length"||v&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||s(b,j)))&&x.push(b);return x}return T2=c,T2}var I2,b_;function sue(){if(b_)return I2;b_=1;var e=Object.prototype;function t(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||e;return n===s}return I2=t,I2}var D2,j_;function O$(){if(j_)return D2;j_=1;function e(t,n){return function(a){return t(n(a))}}return D2=e,D2}var _2,w_;function iue(){if(w_)return _2;w_=1;var e=O$(),t=e(Object.keys,Object);return _2=t,_2}var k2,N_;function oue(){if(N_)return k2;N_=1;var e=sue(),t=iue(),n=Object.prototype,a=n.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))a.call(i,l)&&l!="constructor"&&o.push(l);return o}return k2=s,k2}var O2,S_;function $x(){if(S_)return O2;S_=1;var e=h4(),t=T4();function n(a){return a!=null&&t(a.length)&&!e(a)}return O2=n,O2}var R2,C_;function Cb(){if(C_)return R2;C_=1;var e=aue(),t=oue(),n=$x();function a(s){return n(s)?e(s):t(s)}return R2=a,R2}var L2,A_;function lue(){if(A_)return L2;A_=1;var e=Yce(),t=Jce(),n=Cb();function a(s){return e(s,n,t)}return L2=a,L2}var F2,E_;function cue(){if(E_)return F2;E_=1;var e=lue(),t=1,n=Object.prototype,a=n.hasOwnProperty;function s(i,o,l,c,u,h){var f=l&t,p=e(i),v=p.length,g=e(o),y=g.length;if(v!=y&&!f)return!1;for(var x=v;x--;){var j=p[x];if(!(f?j in o:a.call(o,j)))return!1}var b=h.get(i),N=h.get(o);if(b&&N)return b==o&&N==i;var P=!0;h.set(i,o),h.set(o,i);for(var I=f;++x<v;){j=p[x];var w=i[j],E=o[j];if(c)var C=f?c(E,w,j,o,i,h):c(w,E,j,i,o,h);if(!(C===void 0?w===E||u(w,E,l,c,h):C)){P=!1;break}I||(I=j=="constructor")}if(P&&!I){var _=i.constructor,M=o.constructor;_!=M&&"constructor"in i&&"constructor"in o&&!(typeof _=="function"&&_ instanceof _&&typeof M=="function"&&M instanceof M)&&(P=!1)}return h.delete(i),h.delete(o),P}return F2=s,F2}var M2,P_;function uue(){if(P_)return M2;P_=1;var e=jh(),t=vc(),n=e(t,"DataView");return M2=n,M2}var $2,T_;function due(){if(T_)return $2;T_=1;var e=jh(),t=vc(),n=e(t,"Promise");return $2=n,$2}var B2,I_;function R$(){if(I_)return B2;I_=1;var e=jh(),t=vc(),n=e(t,"Set");return B2=n,B2}var q2,D_;function fue(){if(D_)return q2;D_=1;var e=jh(),t=vc(),n=e(t,"WeakMap");return q2=n,q2}var z2,__;function hue(){if(__)return z2;__=1;var e=uue(),t=p4(),n=due(),a=R$(),s=fue(),i=xu(),o=Z8(),l="[object Map]",c="[object Object]",u="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",v=o(e),g=o(t),y=o(n),x=o(a),j=o(s),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=p||t&&b(new t)!=l||n&&b(n.resolve())!=u||a&&b(new a)!=h||s&&b(new s)!=f)&&(b=function(N){var P=i(N),I=P==c?N.constructor:void 0,w=I?o(I):"";if(w)switch(w){case v:return p;case g:return l;case y:return u;case x:return h;case j:return f}return P}),z2=b,z2}var U2,k_;function mue(){if(k_)return U2;k_=1;var e=C$(),t=T$(),n=Kce(),a=cue(),s=hue(),i=Ni(),o=D$(),l=k$(),c=1,u="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function g(y,x,j,b,N,P){var I=i(y),w=i(x),E=I?h:s(y),C=w?h:s(x);E=E==u?f:E,C=C==u?f:C;var _=E==f,M=C==f,k=E==C;if(k&&o(y)){if(!o(x))return!1;I=!0,_=!1}if(k&&!_)return P||(P=new e),I||l(y)?t(y,x,j,b,N,P):n(y,x,E,j,b,N,P);if(!(j&c)){var D=_&&v.call(y,"__wrapped__"),R=M&&v.call(x,"__wrapped__");if(D||R){var F=D?y.value():y,z=R?x.value():x;return P||(P=new e),N(F,z,j,b,P)}}return k?(P||(P=new e),a(y,x,j,b,N,P)):!1}return U2=g,U2}var V2,O_;function I4(){if(O_)return V2;O_=1;var e=mue(),t=gu();function n(a,s,i,o,l){return a===s?!0:a==null||s==null||!t(a)&&!t(s)?a!==a&&s!==s:e(a,s,i,o,n,l)}return V2=n,V2}var W2,R_;function pue(){if(R_)return W2;R_=1;var e=C$(),t=I4(),n=1,a=2;function s(i,o,l,c){var u=l.length,h=u,f=!c;if(i==null)return!h;for(i=Object(i);u--;){var p=l[u];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<h;){p=l[u];var v=p[0],g=i[v],y=p[1];if(f&&p[2]){if(g===void 0&&!(v in i))return!1}else{var x=new e;if(c)var j=c(g,y,v,i,o,x);if(!(j===void 0?t(y,g,n|a,c,x):j))return!1}}return!0}return W2=s,W2}var H2,L_;function L$(){if(L_)return H2;L_=1;var e=Wd();function t(n){return n===n&&!e(n)}return H2=t,H2}var G2,F_;function vue(){if(F_)return G2;F_=1;var e=L$(),t=Cb();function n(a){for(var s=t(a),i=s.length;i--;){var o=s[i],l=a[o];s[i]=[o,l,e(l)]}return s}return G2=n,G2}var K2,M_;function F$(){if(M_)return K2;M_=1;function e(t,n){return function(a){return a==null?!1:a[t]===n&&(n!==void 0||t in Object(a))}}return K2=e,K2}var Y2,$_;function xue(){if($_)return Y2;$_=1;var e=pue(),t=vue(),n=F$();function a(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return Y2=a,Y2}var X2,B_;function gue(){if(B_)return X2;B_=1;function e(t,n){return t!=null&&n in Object(t)}return X2=e,X2}var Q2,q_;function yue(){if(q_)return Q2;q_=1;var e=r$(),t=E4(),n=Ni(),a=P4(),s=T4(),i=bb();function o(l,c,u){c=e(c,l);for(var h=-1,f=c.length,p=!1;++h<f;){var v=i(c[h]);if(!(p=l!=null&&u(l,v)))break;l=l[v]}return p||++h!=f?p:(f=l==null?0:l.length,!!f&&s(f)&&a(v,f)&&(n(l)||t(l)))}return Q2=o,Q2}var J2,z_;function bue(){if(z_)return J2;z_=1;var e=gue(),t=yue();function n(a,s){return a!=null&&t(a,s,e)}return J2=n,J2}var Z2,U_;function jue(){if(U_)return Z2;U_=1;var e=I4(),t=n$(),n=bue(),a=f4(),s=L$(),i=F$(),o=bb(),l=1,c=2;function u(h,f){return a(h)&&s(f)?i(o(h),f):function(p){var v=t(p,h);return v===void 0&&v===f?n(p,h):e(f,v,l|c)}}return Z2=u,Z2}var eN,V_;function jp(){if(V_)return eN;V_=1;function e(t){return t}return eN=e,eN}var tN,W_;function wue(){if(W_)return tN;W_=1;function e(t){return function(n){return n?.[t]}}return tN=e,tN}var rN,H_;function Nue(){if(H_)return rN;H_=1;var e=g4();function t(n){return function(a){return e(a,n)}}return rN=t,rN}var nN,G_;function Sue(){if(G_)return nN;G_=1;var e=wue(),t=Nue(),n=f4(),a=bb();function s(i){return n(i)?e(a(i)):t(i)}return nN=s,nN}var aN,K_;function Hd(){if(K_)return aN;K_=1;var e=xue(),t=jue(),n=jp(),a=Ni(),s=Sue();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?a(o)?t(o[0],o[1]):e(o):s(o)}return aN=i,aN}var sN,Y_;function M$(){if(Y_)return sN;Y_=1;function e(t,n,a,s){for(var i=t.length,o=a+(s?1:-1);s?o--:++o<i;)if(n(t[o],o,t))return o;return-1}return sN=e,sN}var iN,X_;function Cue(){if(X_)return iN;X_=1;function e(t){return t!==t}return iN=e,iN}var oN,Q_;function Aue(){if(Q_)return oN;Q_=1;function e(t,n,a){for(var s=a-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return oN=e,oN}var lN,J_;function Eue(){if(J_)return lN;J_=1;var e=M$(),t=Cue(),n=Aue();function a(s,i,o){return i===i?n(s,i,o):e(s,t,o)}return lN=a,lN}var cN,Z_;function Pue(){if(Z_)return cN;Z_=1;var e=Eue();function t(n,a){var s=n==null?0:n.length;return!!s&&e(n,a,0)>-1}return cN=t,cN}var uN,ek;function Tue(){if(ek)return uN;ek=1;function e(t,n,a){for(var s=-1,i=t==null?0:t.length;++s<i;)if(a(n,t[s]))return!0;return!1}return uN=e,uN}var dN,tk;function Iue(){if(tk)return dN;tk=1;function e(){}return dN=e,dN}var fN,rk;function Due(){if(rk)return fN;rk=1;var e=R$(),t=Iue(),n=A4(),a=1/0,s=e&&1/n(new e([,-0]))[1]==a?function(i){return new e(i)}:t;return fN=s,fN}var hN,nk;function _ue(){if(nk)return hN;nk=1;var e=A$(),t=Pue(),n=Tue(),a=P$(),s=Due(),i=A4(),o=200;function l(c,u,h){var f=-1,p=t,v=c.length,g=!0,y=[],x=y;if(h)g=!1,p=n;else if(v>=o){var j=u?null:s(c);if(j)return i(j);g=!1,p=a,x=new e}else x=u?[]:y;e:for(;++f<v;){var b=c[f],N=u?u(b):b;if(b=h||b!==0?b:0,g&&N===N){for(var P=x.length;P--;)if(x[P]===N)continue e;u&&x.push(N),y.push(b)}else p(x,N,h)||(x!==y&&x.push(N),y.push(b))}return y}return hN=l,hN}var mN,ak;function kue(){if(ak)return mN;ak=1;var e=Hd(),t=_ue();function n(a,s){return a&&a.length?t(a,e(s,2)):[]}return mN=n,mN}var Oue=kue();const sk=rn(Oue);function $$(e,t,n){return t===!0?sk(e,n):Cr(t)?sk(e,t):e}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}var Rue=["ref"];function ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(n),!0).forEach(function(a){Ab(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Lue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ok(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,q$(a.key),a)}}function Fue(e,t,n){return t&&ok(e.prototype,t),n&&ok(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mue(e,t,n){return t=ey(t),$ue(e,B$()?Reflect.construct(t,n||[],ey(e).constructor):t.apply(e,n))}function $ue(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bue(e)}function Bue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!e})()}function ey(e){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(e)}function que(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZS(e,t)}function ZS(e,t){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ZS(e,t)}function Ab(e,t,n){return t=q$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q$(e){var t=zue(e,"string");return Lm(t)=="symbol"?t:t+""}function zue(e,t){if(Lm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Lm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Uue(e,t){if(e==null)return{};var n=Vue(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Vue(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Wue(e){return e.value}function Hue(e,t){if(Ne.isValidElement(e))return Ne.cloneElement(e,t);if(typeof e=="function")return Ne.createElement(e,t);t.ref;var n=Uue(t,Rue);return Ne.createElement(C4,n)}var lk=1,wm=function(e){function t(){var n;Lue(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=Mue(this,t,[].concat(s)),Ab(n,"lastBoundingBox",{width:-1,height:-1}),n}return que(t,e),Fue(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>lk||Math.abs(s.height-this.lastBoundingBox.height)>lk)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,h=s.chartHeight,f,p;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();f={left:((u||0)-v.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();p={top:((h||0)-g.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Qc(Qc({},f),p)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,h=s.payload,f=Qc(Qc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(v){a.wrapperNode=v}},Hue(i,Qc(Qc({},this.props),{},{payload:$$(h,u,Wue)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Qc(Qc({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Pt(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(S.PureComponent);Ab(wm,"displayName","Legend");Ab(wm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pN,ck;function Gue(){if(ck)return pN;ck=1;var e=Fx(),t=E4(),n=Ni(),a=e?e.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(a&&i&&i[a])}return pN=s,pN}var vN,uk;function z$(){if(uk)return vN;uk=1;var e=I$(),t=Gue();function n(a,s,i,o,l){var c=-1,u=a.length;for(i||(i=t),l||(l=[]);++c<u;){var h=a[c];s>0&&i(h)?s>1?n(h,s-1,i,o,l):e(l,h):o||(l[l.length]=h)}return l}return vN=n,vN}var xN,dk;function Kue(){if(dk)return xN;dk=1;function e(t){return function(n,a,s){for(var i=-1,o=Object(n),l=s(n),c=l.length;c--;){var u=l[t?c:++i];if(a(o[u],u,o)===!1)break}return n}}return xN=e,xN}var gN,fk;function Yue(){if(fk)return gN;fk=1;var e=Kue(),t=e();return gN=t,gN}var yN,hk;function U$(){if(hk)return yN;hk=1;var e=Yue(),t=Cb();function n(a,s){return a&&e(a,s,t)}return yN=n,yN}var bN,mk;function Xue(){if(mk)return bN;mk=1;var e=$x();function t(n,a){return function(s,i){if(s==null)return s;if(!e(s))return n(s,i);for(var o=s.length,l=a?o:-1,c=Object(s);(a?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return bN=t,bN}var jN,pk;function D4(){if(pk)return jN;pk=1;var e=U$(),t=Xue(),n=t(e);return jN=n,jN}var wN,vk;function V$(){if(vk)return wN;vk=1;var e=D4(),t=$x();function n(a,s){var i=-1,o=t(a)?Array(a.length):[];return e(a,function(l,c,u){o[++i]=s(l,c,u)}),o}return wN=n,wN}var NN,xk;function Que(){if(xk)return NN;xk=1;function e(t,n){var a=t.length;for(t.sort(n);a--;)t[a]=t[a].value;return t}return NN=e,NN}var SN,gk;function Jue(){if(gk)return SN;gk=1;var e=gp();function t(n,a){if(n!==a){var s=n!==void 0,i=n===null,o=n===n,l=e(n),c=a!==void 0,u=a===null,h=a===a,f=e(a);if(!u&&!f&&!l&&n>a||l&&c&&h&&!u&&!f||i&&c&&h||!s&&h||!o)return 1;if(!i&&!l&&!f&&n<a||f&&s&&o&&!i&&!l||u&&s&&o||!c&&o||!h)return-1}return 0}return SN=t,SN}var CN,yk;function Zue(){if(yk)return CN;yk=1;var e=Jue();function t(n,a,s){for(var i=-1,o=n.criteria,l=a.criteria,c=o.length,u=s.length;++i<c;){var h=e(o[i],l[i]);if(h){if(i>=u)return h;var f=s[i];return h*(f=="desc"?-1:1)}}return n.index-a.index}return CN=t,CN}var AN,bk;function ede(){if(bk)return AN;bk=1;var e=x4(),t=g4(),n=Hd(),a=V$(),s=Que(),i=_$(),o=Zue(),l=jp(),c=Ni();function u(h,f,p){f.length?f=e(f,function(y){return c(y)?function(x){return t(x,y.length===1?y[0]:y)}:y}):f=[l];var v=-1;f=e(f,i(n));var g=a(h,function(y,x,j){var b=e(f,function(N){return N(y)});return{criteria:b,index:++v,value:y}});return s(g,function(y,x){return o(y,x,p)})}return AN=u,AN}var EN,jk;function tde(){if(jk)return EN;jk=1;function e(t,n,a){switch(a.length){case 0:return t.call(n);case 1:return t.call(n,a[0]);case 2:return t.call(n,a[0],a[1]);case 3:return t.call(n,a[0],a[1],a[2])}return t.apply(n,a)}return EN=e,EN}var PN,wk;function rde(){if(wk)return PN;wk=1;var e=tde(),t=Math.max;function n(a,s,i){return s=t(s===void 0?a.length-1:s,0),function(){for(var o=arguments,l=-1,c=t(o.length-s,0),u=Array(c);++l<c;)u[l]=o[s+l];l=-1;for(var h=Array(s+1);++l<s;)h[l]=o[l];return h[s]=i(u),e(a,this,h)}}return PN=n,PN}var TN,Nk;function nde(){if(Nk)return TN;Nk=1;function e(t){return function(){return t}}return TN=e,TN}var IN,Sk;function W$(){if(Sk)return IN;Sk=1;var e=jh(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return IN=t,IN}var DN,Ck;function ade(){if(Ck)return DN;Ck=1;var e=nde(),t=W$(),n=jp(),a=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return DN=a,DN}var _N,Ak;function sde(){if(Ak)return _N;Ak=1;var e=800,t=16,n=Date.now;function a(s){var i=0,o=0;return function(){var l=n(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return _N=a,_N}var kN,Ek;function ide(){if(Ek)return kN;Ek=1;var e=ade(),t=sde(),n=t(e);return kN=n,kN}var ON,Pk;function ode(){if(Pk)return ON;Pk=1;var e=jp(),t=rde(),n=ide();function a(s,i){return n(t(s,i,e),s+"")}return ON=a,ON}var RN,Tk;function Eb(){if(Tk)return RN;Tk=1;var e=m4(),t=$x(),n=P4(),a=Wd();function s(i,o,l){if(!a(l))return!1;var c=typeof o;return(c=="number"?t(l)&&n(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return RN=s,RN}var LN,Ik;function lde(){if(Ik)return LN;Ik=1;var e=z$(),t=ede(),n=ode(),a=Eb(),s=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&a(i,o[0],o[1])?o=[]:l>2&&a(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return LN=s,LN}var cde=lde();const _4=rn(cde);function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eC.apply(this,arguments)}function ude(e,t){return mde(e)||hde(e,t)||fde(e,t)||dde()}function dde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fde(e,t){if(e){if(typeof e=="string")return Dk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dk(e,t)}}function Dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function hde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function mde(e){if(Array.isArray(e))return e}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(a){pde(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pde(e,t,n){return t=vde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vde(e){var t=xde(e,"string");return Hv(t)=="symbol"?t:t+""}function xde(e,t){if(Hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Hv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gde(e){return Array.isArray(e)&&Ra(e[0])&&Ra(e[1])?e.join(" ~ "):e}var yde=function(t){var n=t.separator,a=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,h=t.payload,f=t.formatter,p=t.itemSorter,v=t.wrapperClassName,g=t.labelClassName,y=t.label,x=t.labelFormatter,j=t.accessibilityLayer,b=j===void 0?!1:j,N=function(){if(h&&h.length){var D={padding:0,margin:0},R=(p?_4(h,p):h).map(function(F,z){if(F.type==="none")return null;var V=FN({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),B=F.formatter||f||gde,H=F.value,G=F.name,Z=H,Q=G;if(B&&Z!=null&&Q!=null){var $=B(H,G,F,z,h);if(Array.isArray($)){var K=ude($,2);Z=K[0],Q=K[1]}else Z=$}return Ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:V},Ra(Q)?Ne.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Ra(Q)?Ne.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Ne.createElement("span",{className:"recharts-tooltip-item-value"},Z),Ne.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return Ne.createElement("ul",{className:"recharts-tooltip-item-list",style:D},R)}return null},P=FN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),I=FN({margin:0},u),w=!_r(y),E=w?y:"",C=Hr("recharts-default-tooltip",v),_=Hr("recharts-tooltip-label",g);w&&x&&h!==void 0&&h!==null&&(E=x(y,h));var M=b?{role:"status","aria-live":"assertive"}:{};return Ne.createElement("div",eC({className:C,style:P},M),Ne.createElement("p",{className:_,style:I},Ne.isValidElement(E)?E:"".concat(E)),N())};function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function Xg(e,t,n){return t=bde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bde(e){var t=jde(e,"string");return Gv(t)=="symbol"?t:t+""}function jde(e,t){if(Gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Gv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var av="recharts-tooltip-wrapper",wde={visibility:"hidden"};function Nde(e){var t=e.coordinate,n=e.translateX,a=e.translateY;return Hr(av,Xg(Xg(Xg(Xg({},"".concat(av,"-right"),Pt(n)&&t&&Pt(t.x)&&n>=t.x),"".concat(av,"-left"),Pt(n)&&t&&Pt(t.x)&&n<t.x),"".concat(av,"-bottom"),Pt(a)&&t&&Pt(t.y)&&a>=t.y),"".concat(av,"-top"),Pt(a)&&t&&Pt(t.y)&&a<t.y))}function kk(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Pt(i[a]))return i[a];var h=n[a]-l-s,f=n[a]+s;if(t[a])return o[a]?h:f;if(o[a]){var p=h,v=c[a];return p<v?Math.max(f,c[a]):Math.max(h,c[a])}var g=f+l,y=c[a]+u;return g>y?Math.max(h,c[a]):Math.max(f,c[a])}function Sde(e){var t=e.translateX,n=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Cde(e){var t=e.allowEscapeViewBox,n=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,h,f;return o.height>0&&o.width>0&&n?(h=kk({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=kk({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Sde({translateX:h,translateY:f,useTranslate3d:l})):u=wde,{cssProperties:u,cssClasses:Nde({translateX:h,translateY:f,coordinate:n})}}function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Rk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(a){rC(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ade(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ede(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,G$(a.key),a)}}function Pde(e,t,n){return t&&Ede(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tde(e,t,n){return t=ty(t),Ide(e,H$()?Reflect.construct(t,n||[],ty(e).constructor):t.apply(e,n))}function Ide(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dde(e)}function Dde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H$=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(e)}function _de(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tC(e,t)}function tC(e,t){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},tC(e,t)}function rC(e,t,n){return t=G$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G$(e){var t=kde(e,"string");return Fm(t)=="symbol"?t:t+""}function kde(e,t){if(Fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lk=1,Ode=function(e){function t(){var n;Ade(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=Tde(this,t,[].concat(s)),rC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),rC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return _de(t,e),Pde(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>Lk||Math.abs(a.height-this.state.lastBoundingBox.height)>Lk)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,h=s.coordinate,f=s.hasPayload,p=s.isAnimationActive,v=s.offset,g=s.position,y=s.reverseDirection,x=s.useTranslate3d,j=s.viewBox,b=s.wrapperStyle,N=Cde({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:v,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:j}),P=N.cssClasses,I=N.cssProperties,w=Rk(Rk({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return Ne.createElement("div",{tabIndex:-1,className:P,style:w,ref:function(C){a.wrapperNode=C}},u)}}])}(S.PureComponent),Rde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wp={isSsr:Rde()};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(a){k4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Lde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fde(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Y$(a.key),a)}}function Mde(e,t,n){return t&&Fde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $de(e,t,n){return t=ry(t),Bde(e,K$()?Reflect.construct(t,n||[],ry(e).constructor):t.apply(e,n))}function Bde(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qde(e)}function qde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(e)}function zde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nC(e,t)}function nC(e,t){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nC(e,t)}function k4(e,t,n){return t=Y$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y$(e){var t=Ude(e,"string");return Mm(t)=="symbol"?t:t+""}function Ude(e,t){if(Mm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Vde(e){return e.dataKey}function Wde(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):typeof e=="function"?Ne.createElement(e,t):Ne.createElement(yde,t)}var ll=function(e){function t(){return Lde(this,t),$de(this,t,arguments)}return zde(t,e),Mde(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,h=s.coordinate,f=s.filterNull,p=s.isAnimationActive,v=s.offset,g=s.payload,y=s.payloadUniqBy,x=s.position,j=s.reverseDirection,b=s.useTranslate3d,N=s.viewBox,P=s.wrapperStyle,I=g??[];f&&I.length&&(I=$$(g.filter(function(E){return E.value!=null&&(E.hide!==!0||a.props.includeHidden)}),y,Vde));var w=I.length>0;return Ne.createElement(Ode,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:h,hasPayload:w,offset:v,position:x,reverseDirection:j,useTranslate3d:b,viewBox:N,wrapperStyle:P},Wde(u,Mk(Mk({},this.props),{},{payload:I})))}}])}(S.PureComponent);k4(ll,"displayName","Tooltip");k4(ll,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var MN,$k;function Hde(){if($k)return MN;$k=1;var e=vc(),t=function(){return e.Date.now()};return MN=t,MN}var $N,Bk;function Gde(){if(Bk)return $N;Bk=1;var e=/\s/;function t(n){for(var a=n.length;a--&&e.test(n.charAt(a)););return a}return $N=t,$N}var BN,qk;function Kde(){if(qk)return BN;qk=1;var e=Gde(),t=/^\s+/;function n(a){return a&&a.slice(0,e(a)+1).replace(t,"")}return BN=n,BN}var qN,zk;function X$(){if(zk)return qN;zk=1;var e=Kde(),t=Wd(),n=gp(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return a;if(t(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=t(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):s.test(u)?a:+u}return qN=c,qN}var zN,Uk;function Yde(){if(Uk)return zN;Uk=1;var e=Wd(),t=Hde(),n=X$(),a="Expected a function",s=Math.max,i=Math.min;function o(l,c,u){var h,f,p,v,g,y,x=0,j=!1,b=!1,N=!0;if(typeof l!="function")throw new TypeError(a);c=n(c)||0,e(u)&&(j=!!u.leading,b="maxWait"in u,p=b?s(n(u.maxWait)||0,c):p,N="trailing"in u?!!u.trailing:N);function P(R){var F=h,z=f;return h=f=void 0,x=R,v=l.apply(z,F),v}function I(R){return x=R,g=setTimeout(C,c),j?P(R):v}function w(R){var F=R-y,z=R-x,V=c-F;return b?i(V,p-z):V}function E(R){var F=R-y,z=R-x;return y===void 0||F>=c||F<0||b&&z>=p}function C(){var R=t();if(E(R))return _(R);g=setTimeout(C,w(R))}function _(R){return g=void 0,N&&h?P(R):(h=f=void 0,v)}function M(){g!==void 0&&clearTimeout(g),x=0,h=y=f=g=void 0}function k(){return g===void 0?v:_(t())}function D(){var R=t(),F=E(R);if(h=arguments,f=this,y=R,F){if(g===void 0)return I(y);if(b)return clearTimeout(g),g=setTimeout(C,c),P(y)}return g===void 0&&(g=setTimeout(C,c)),v}return D.cancel=M,D.flush=k,D}return zN=o,zN}var UN,Vk;function Xde(){if(Vk)return UN;Vk=1;var e=Yde(),t=Wd(),n="Expected a function";function a(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(n);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(s,i,{leading:l,maxWait:i,trailing:c})}return UN=a,UN}var Qde=Xde();const Q$=rn(Qde);function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function Wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Qg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(n),!0).forEach(function(a){Jde(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Jde(e,t,n){return t=Zde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zde(e){var t=efe(e,"string");return Kv(t)=="symbol"?t:t+""}function efe(e,t){if(Kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Kv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tfe(e,t){return sfe(e)||afe(e,t)||nfe(e,t)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(e,t){if(e){if(typeof e=="string")return Hk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hk(e,t)}}function Hk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function afe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sfe(e){if(Array.isArray(e))return e}var Gk=S.forwardRef(function(e,t){var n=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,h=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,v=e.children,g=e.debounce,y=g===void 0?0:g,x=e.id,j=e.className,b=e.onResize,N=e.style,P=N===void 0?{}:N,I=S.useRef(null),w=S.useRef();w.current=b,S.useImperativeHandle(t,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var E=S.useState({containerWidth:s.width,containerHeight:s.height}),C=tfe(E,2),_=C[0],M=C[1],k=S.useCallback(function(R,F){M(function(z){var V=Math.round(R),B=Math.round(F);return z.containerWidth===V&&z.containerHeight===B?z:{containerWidth:V,containerHeight:B}})},[]);S.useEffect(function(){var R=function(G){var Z,Q=G[0].contentRect,$=Q.width,K=Q.height;k($,K),(Z=w.current)===null||Z===void 0||Z.call(w,$,K)};y>0&&(R=Q$(R,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(R),z=I.current.getBoundingClientRect(),V=z.width,B=z.height;return k(V,B),F.observe(I.current),function(){F.disconnect()}},[k,y]);var D=S.useMemo(function(){var R=_.containerWidth,F=_.containerHeight;if(R<0||F<0)return null;th(Vf(o)||Vf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),th(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Vf(o)?R:o,V=Vf(c)?F:c;n&&n>0&&(z?V=z/n:V&&(z=V*n),p&&V>p&&(V=p)),th(z>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,V,o,c,h,f,n);var B=!Array.isArray(v)&&au(v.type).endsWith("Chart");return Ne.Children.map(v,function(H){return Ne.isValidElement(H)?S.cloneElement(H,Qg({width:z,height:V},B?{style:Qg({height:"100%",width:"100%",maxHeight:V,maxWidth:z},H.props.style)}:{})):H})},[n,v,c,p,f,h,_,o]);return Ne.createElement("div",{id:x?"".concat(x):void 0,className:Hr("recharts-responsive-container",j),style:Qg(Qg({},P),{},{width:o,height:c,minWidth:h,minHeight:f,maxHeight:p}),ref:I},D)}),J$=function(t){return null};J$.displayName="Cell";function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function Kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function aC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(n),!0).forEach(function(a){ife(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ife(e,t,n){return t=ofe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ofe(e){var t=lfe(e,"string");return Yv(t)=="symbol"?t:t+""}function lfe(e,t){if(Yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Yv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cm={widthCache:{},cacheCount:0},cfe=2e3,ufe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Yk="recharts_measurement_span";function dfe(e){var t=aC({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Av=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wp.isSsr)return{width:0,height:0};var a=dfe(n),s=JSON.stringify({text:t,copyStyle:a});if(cm.widthCache[s])return cm.widthCache[s];try{var i=document.getElementById(Yk);i||(i=document.createElement("span"),i.setAttribute("id",Yk),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=aC(aC({},ufe),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return cm.widthCache[s]=c,++cm.cacheCount>cfe&&(cm.cacheCount=0,cm.widthCache={}),c}catch{return{width:0,height:0}}},ffe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function ny(e,t){return vfe(e)||pfe(e,t)||mfe(e,t)||hfe()}function hfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(e,t){if(e){if(typeof e=="string")return Xk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xk(e,t)}}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function pfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vfe(e){if(Array.isArray(e))return e}function xfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qk(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yfe(a.key),a)}}function gfe(e,t,n){return t&&Qk(e.prototype,t),n&&Qk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yfe(e){var t=bfe(e,"string");return Xv(t)=="symbol"?t:t+""}function bfe(e,t){if(Xv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Xv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Z$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nfe=Object.keys(Z$),mm="NaN";function Sfe(e,t){return e*Z$[t]}var Jg=function(){function e(t,n){xfe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!jfe.test(n)&&(this.num=NaN,this.unit=""),Nfe.includes(n)&&(this.num=Sfe(t,n),this.unit="px")}return gfe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=wfe.exec(n))!==null&&a!==void 0?a:[],i=ny(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function e9(e){if(e.includes(mm))return mm;for(var t=e;t.includes("*")||t.includes("/");){var n,a=(n=Jk.exec(t))!==null&&n!==void 0?n:[],s=ny(a,4),i=s[1],o=s[2],l=s[3],c=Jg.parse(i??""),u=Jg.parse(l??""),h=o==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return mm;t=t.replace(Jk,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=Zk.exec(t))!==null&&f!==void 0?f:[],v=ny(p,4),g=v[1],y=v[2],x=v[3],j=Jg.parse(g??""),b=Jg.parse(x??""),N=y==="+"?j.add(b):j.subtract(b);if(N.isNaN())return mm;t=t.replace(Zk,N.toString())}return t}var eO=/\(([^()]*)\)/;function Cfe(e){for(var t=e;t.includes("(");){var n=eO.exec(t),a=ny(n,2),s=a[1];t=t.replace(eO,e9(s))}return t}function Afe(e){var t=e.replace(/\s+/g,"");return t=Cfe(t),t=e9(t),t}function Efe(e){try{return Afe(e)}catch{return mm}}function VN(e){var t=Efe(e.slice(5,-1));return t===mm?"":t}var Pfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tfe=["dx","dy","angle","className","breakAll"];function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sC.apply(this,arguments)}function tO(e,t){if(e==null)return{};var n=Ife(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ife(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function rO(e,t){return Ofe(e)||kfe(e,t)||_fe(e,t)||Dfe()}function Dfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _fe(e,t){if(e){if(typeof e=="string")return nO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(e,t)}}function nO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function kfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ofe(e){if(Array.isArray(e))return e}var t9=/[ \f\n\r\t\v\u2028\u2029]+/,r9=function(t){var n=t.children,a=t.breakAll,s=t.style;try{var i=[];_r(n)||(a?i=n.toString().split(""):i=n.toString().split(t9));var o=i.map(function(c){return{word:c,width:Av(c,s).width}}),l=a?0:Av(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Rfe=function(t,n,a,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,h=Pt(o),f=l,p=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(V,B){var H=B.word,G=B.width,Z=V[V.length-1];if(Z&&(s==null||i||Z.width+G+a<Number(s)))Z.words.push(H),Z.width+=G+a;else{var Q={words:[H],width:G};V.push(Q)}return V},[])},v=p(n),g=function(z){return z.reduce(function(V,B){return V.width>B.width?V:B})};if(!h)return v;for(var y="…",x=function(z){var V=f.slice(0,z),B=r9({breakAll:u,style:c,children:V+y}).wordsWithComputedWidth,H=p(B),G=H.length>o||g(H).width>Number(s);return[G,H]},j=0,b=f.length-1,N=0,P;j<=b&&N<=f.length-1;){var I=Math.floor((j+b)/2),w=I-1,E=x(w),C=rO(E,2),_=C[0],M=C[1],k=x(I),D=rO(k,1),R=D[0];if(!_&&!R&&(j=I+1),_&&R&&(b=I-1),!_&&R){P=M;break}N++}return P||v},aO=function(t){var n=_r(t)?[]:t.toString().split(t9);return[{words:n}]},Lfe=function(t){var n=t.width,a=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||a)&&!wp.isSsr){var c,u,h=r9({breakAll:o,children:s,style:i});if(h){var f=h.wordsWithComputedWidth,p=h.spaceWidth;c=f,u=p}else return aO(s);return Rfe({breakAll:o,children:s,maxLines:l,style:i},c,u,n,a)}return aO(s)},sO="#808080",ay=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,h=t.scaleToFit,f=h===void 0?!1:h,p=t.textAnchor,v=p===void 0?"start":p,g=t.verticalAnchor,y=g===void 0?"end":g,x=t.fill,j=x===void 0?sO:x,b=tO(t,Pfe),N=S.useMemo(function(){return Lfe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),P=b.dx,I=b.dy,w=b.angle,E=b.className,C=b.breakAll,_=tO(b,Tfe);if(!Ra(a)||!Ra(i))return null;var M=a+(Pt(P)?P:0),k=i+(Pt(I)?I:0),D;switch(y){case"start":D=VN("calc(".concat(u,")"));break;case"middle":D=VN("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:D=VN("calc(".concat(N.length-1," * -").concat(l,")"));break}var R=[];if(f){var F=N[0].width,z=b.width;R.push("scale(".concat((Pt(z)?z/F:1)/F,")"))}return w&&R.push("rotate(".concat(w,", ").concat(M,", ").concat(k,")")),R.length&&(_.transform=R.join(" ")),Ne.createElement("text",sC({},Dr(_,!0),{x:M,y:k,className:Hr("recharts-text",E),textAnchor:v,fill:j.includes("url")?sO:j}),N.map(function(V,B){var H=V.words.join(C?"":" ");return Ne.createElement("tspan",{x:M,dy:B===0?D:l,key:"".concat(H,"-").concat(B)},H)}))};function _d(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ffe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O4(e){let t,n,a;e.length!==2?(t=_d,n=(l,c)=>_d(e(l),c),a=(l,c)=>e(l)-c):(t=e===_d||e===Ffe?e:Mfe,n=e,a=e);function s(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const f=u+h>>>1;n(l[f],c)<0?u=f+1:h=f}while(u<h)}return u}function i(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const f=u+h>>>1;n(l[f],c)<=0?u=f+1:h=f}while(u<h)}return u}function o(l,c,u=0,h=l.length){const f=s(l,c,u,h-1);return f>u&&a(l[f-1],c)>-a(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Mfe(){return 0}function n9(e){return e===null?NaN:+e}function*$fe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Bfe=O4(_d),Bx=Bfe.right;O4(n9).center;class iO extends Map{constructor(t,n=Ufe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(oO(this,t))}has(t){return super.has(oO(this,t))}set(t,n){return super.set(qfe(this,t),n)}delete(t){return super.delete(zfe(this,t))}}function oO({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function qfe({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function zfe({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function Ufe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Vfe(e=_d){if(e===_d)return a9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function a9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Wfe=Math.sqrt(50),Hfe=Math.sqrt(10),Gfe=Math.sqrt(2);function sy(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=Wfe?10:i>=Hfe?5:i>=Gfe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?sy(e,t,n*2):[l,c,u]}function iC(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?sy(t,e,n):sy(e,t,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(a)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function oC(e,t,n){return t=+t,e=+e,n=+n,sy(e,t,n)[2]}function lC(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?oC(t,e,n):oC(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function lO(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function cO(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function s9(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?a9:Vfe(s);a>n;){if(a-n>600){const c=a-n+1,u=t-n+1,h=Math.log(c),f=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*f*(c-f)/c)*(u-c/2<0?-1:1),v=Math.max(n,Math.floor(t-u*f/c+p)),g=Math.min(a,Math.floor(t+(c-u)*f/c+p));s9(e,t,v,g,s)}const i=e[t];let o=n,l=a;for(sv(e,n,t),s(e[a],i)>0&&sv(e,n,a);o<l;){for(sv(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[n],i)===0?sv(e,n,l):(++l,sv(e,l,a)),l<=t&&(n=l+1),t<=l&&(a=l-1)}return e}function sv(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function Kfe(e,t,n){if(e=Float64Array.from($fe(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return cO(e);if(t>=1)return lO(e);var a,s=(a-1)*t,i=Math.floor(s),o=lO(s9(e,i).subarray(0,i+1)),l=cO(e.subarray(i+1));return o+(l-o)*(s-i)}}function Yfe(e,t,n=n9){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Xfe(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function ko(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const cC=Symbol("implicit");function R4(){var e=new iO,t=[],n=[],a=cC;function s(i){let o=e.get(i);if(o===void 0){if(a!==cC)return a;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new iO;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return R4(t,n).unknown(a)},ko.apply(s,arguments),s}function Qv(){var e=R4().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,i,o,l=!1,c=0,u=0,h=.5;delete e.unknown;function f(){var p=t().length,v=s<a,g=v?s:a,y=v?a:s;i=(y-g)/Math.max(1,p-c+u*2),l&&(i=Math.floor(i)),g+=(y-g-i*(p-c))*h,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=Xfe(p).map(function(j){return g+i*j});return n(v?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([a,s]=p,a=+a,s=+s,f()):[a,s]},e.rangeRound=function(p){return[a,s]=p,a=+a,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),f()):h},e.copy=function(){return Qv(t(),[a,s]).round(l).paddingInner(c).paddingOuter(u).align(h)},ko.apply(f(),arguments)}function i9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i9(t())},e}function Ev(){return i9(Qv.apply(null,arguments).paddingInner(1))}function L4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function o9(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function qx(){}var Jv=.7,iy=1/Jv,Nm="\\s*([+-]?\\d+)\\s*",Zv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qfe=/^#([0-9a-f]{3,8})$/,Jfe=new RegExp(`^rgb\\(${Nm},${Nm},${Nm}\\)$`),Zfe=new RegExp(`^rgb\\(${lc},${lc},${lc}\\)$`),ehe=new RegExp(`^rgba\\(${Nm},${Nm},${Nm},${Zv}\\)$`),the=new RegExp(`^rgba\\(${lc},${lc},${lc},${Zv}\\)$`),rhe=new RegExp(`^hsl\\(${Zv},${lc},${lc}\\)$`),nhe=new RegExp(`^hsla\\(${Zv},${lc},${lc},${Zv}\\)$`),uO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L4(qx,ex,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dO,formatHex:dO,formatHex8:ahe,formatHsl:she,formatRgb:fO,toString:fO});function dO(){return this.rgb().formatHex()}function ahe(){return this.rgb().formatHex8()}function she(){return l9(this).formatHsl()}function fO(){return this.rgb().formatRgb()}function ex(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Qfe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?hO(t):n===3?new gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Jfe.exec(e))?new gi(t[1],t[2],t[3],1):(t=Zfe.exec(e))?new gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ehe.exec(e))?Zg(t[1],t[2],t[3],t[4]):(t=the.exec(e))?Zg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rhe.exec(e))?vO(t[1],t[2]/100,t[3]/100,1):(t=nhe.exec(e))?vO(t[1],t[2]/100,t[3]/100,t[4]):uO.hasOwnProperty(e)?hO(uO[e]):e==="transparent"?new gi(NaN,NaN,NaN,0):null}function hO(e){return new gi(e>>16&255,e>>8&255,e&255,1)}function Zg(e,t,n,a){return a<=0&&(e=t=n=NaN),new gi(e,t,n,a)}function ihe(e){return e instanceof qx||(e=ex(e)),e?(e=e.rgb(),new gi(e.r,e.g,e.b,e.opacity)):new gi}function uC(e,t,n,a){return arguments.length===1?ihe(e):new gi(e,t,n,a??1)}function gi(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}L4(gi,uC,o9(qx,{brighter(e){return e=e==null?iy:Math.pow(iy,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jv:Math.pow(Jv,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gi(rh(this.r),rh(this.g),rh(this.b),oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mO,formatHex:mO,formatHex8:ohe,formatRgb:pO,toString:pO}));function mO(){return`#${Wf(this.r)}${Wf(this.g)}${Wf(this.b)}`}function ohe(){return`#${Wf(this.r)}${Wf(this.g)}${Wf(this.b)}${Wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function pO(){const e=oy(this.opacity);return`${e===1?"rgb(":"rgba("}${rh(this.r)}, ${rh(this.g)}, ${rh(this.b)}${e===1?")":`, ${e})`}`}function oy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wf(e){return e=rh(e),(e<16?"0":"")+e.toString(16)}function vO(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new dl(e,t,n,a)}function l9(e){if(e instanceof dl)return new dl(e.h,e.s,e.l,e.opacity);if(e instanceof qx||(e=ex(e)),!e)return new dl;if(e instanceof dl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(n-a)/l+(n<a)*6:n===i?o=(a-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new dl(o,l,c,e.opacity)}function lhe(e,t,n,a){return arguments.length===1?l9(e):new dl(e,t,n,a??1)}function dl(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}L4(dl,lhe,o9(qx,{brighter(e){return e=e==null?iy:Math.pow(iy,e),new dl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jv:Math.pow(Jv,e),new dl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new gi(WN(e>=240?e-240:e+120,s,a),WN(e,s,a),WN(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new dl(xO(this.h),e0(this.s),e0(this.l),oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=oy(this.opacity);return`${e===1?"hsl(":"hsla("}${xO(this.h)}, ${e0(this.s)*100}%, ${e0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xO(e){return e=(e||0)%360,e<0?e+360:e}function e0(e){return Math.max(0,Math.min(1,e||0))}function WN(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const F4=e=>()=>e;function che(e,t){return function(n){return e+n*t}}function uhe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function dhe(e){return(e=+e)==1?c9:function(t,n){return n-t?uhe(t,n,e):F4(isNaN(t)?n:t)}}function c9(e,t){var n=t-e;return n?che(e,n):F4(isNaN(e)?t:e)}const gO=function e(t){var n=dhe(t);function a(s,i){var o=n((s=uC(s)).r,(i=uC(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),u=c9(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=c(h),s.opacity=u(h),s+""}}return a.gamma=e,a}(1);function fhe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function hhe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mhe(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),o;for(o=0;o<a;++o)s[o]=Np(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function phe(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function ly(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vhe(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Np(e[s],t[s]):a[s]=t[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var dC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HN=new RegExp(dC.source,"g");function xhe(e){return function(){return e}}function ghe(e){return function(t){return e(t)+""}}function yhe(e,t){var n=dC.lastIndex=HN.lastIndex=0,a,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=dC.exec(e))&&(s=HN.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:ly(a,s)})),n=HN.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?ghe(c[0].x):xhe(t):(t=c.length,function(u){for(var h=0,f;h<t;++h)l[(f=c[h]).i]=f.x(u);return l.join("")})}function Np(e,t){var n=typeof t,a;return t==null||n==="boolean"?F4(t):(n==="number"?ly:n==="string"?(a=ex(t))?(t=a,gO):yhe:t instanceof ex?gO:t instanceof Date?phe:hhe(t)?fhe:Array.isArray(t)?mhe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vhe:ly)(e,t)}function M4(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bhe(e,t){t===void 0&&(t=e,e=Np);for(var n=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=t[++n]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function jhe(e){return function(){return e}}function cy(e){return+e}var yO=[0,1];function Js(e){return e}function fC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jhe(isNaN(t)?NaN:.5)}function whe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function Nhe(e,t,n){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=fC(s,a),i=n(o,i)):(a=fC(a,s),i=n(i,o)),function(l){return i(a(l))}}function She(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=fC(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Bx(e,l,1,a)-1;return i[c](s[c](l))}}function zx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pb(){var e=yO,t=yO,n=Np,a,s,i,o=Js,l,c,u;function h(){var p=Math.min(e.length,t.length);return o!==Js&&(o=whe(e[0],e[p-1])),l=p>2?She:Nhe,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(c||(c=l(e.map(a),t,n)))(a(o(p)))}return f.invert=function(p){return o(s((u||(u=l(t,e.map(a),ly)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,cy),h()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=M4,h()},f.clamp=function(p){return arguments.length?(o=p?!0:Js,h()):o!==Js},f.interpolate=function(p){return arguments.length?(n=p,h()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,v){return a=p,s=v,h()}}function $4(){return Pb()(Js,Js)}function Che(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function uy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function $m(e){return e=uy(Math.abs(e)),e?e[1]:NaN}function Ahe(e,t){return function(n,a){for(var s=n.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Ehe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Phe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tx(e){if(!(t=Phe.exec(e)))throw new Error("invalid format: "+e);var t;return new B4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tx.prototype=B4.prototype;function B4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}B4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function The(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var u9;function Ihe(e,t){var n=uy(e,t);if(!n)return e+"";var a=n[0],s=n[1],i=s-(u9=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+uy(e,Math.max(0,t+i-1))[0]}function bO(e,t){var n=uy(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const jO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Che,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bO(e*100,t),r:bO,s:Ihe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wO(e){return e}var NO=Array.prototype.map,SO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Dhe(e){var t=e.grouping===void 0||e.thousands===void 0?wO:Ahe(NO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?wO:Ehe(NO.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=tx(f);var p=f.fill,v=f.align,g=f.sign,y=f.symbol,x=f.zero,j=f.width,b=f.comma,N=f.precision,P=f.trim,I=f.type;I==="n"?(b=!0,I="g"):jO[I]||(N===void 0&&(N=12),P=!0,I="g"),(x||p==="0"&&v==="=")&&(x=!0,p="0",v="=");var w=y==="$"?n:y==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",E=y==="$"?a:/[%p]/.test(I)?o:"",C=jO[I],_=/[defgprs%]/.test(I);N=N===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function M(k){var D=w,R=E,F,z,V;if(I==="c")R=C(k)+R,k="";else{k=+k;var B=k<0||1/k<0;if(k=isNaN(k)?c:C(Math.abs(k),N),P&&(k=The(k)),B&&+k==0&&g!=="+"&&(B=!1),D=(B?g==="("?g:l:g==="-"||g==="("?"":g)+D,R=(I==="s"?SO[8+u9/3]:"")+R+(B&&g==="("?")":""),_){for(F=-1,z=k.length;++F<z;)if(V=k.charCodeAt(F),48>V||V>57){R=(V===46?s+k.slice(F+1):k.slice(F))+R,k=k.slice(0,F);break}}}b&&!x&&(k=t(k,1/0));var H=D.length+k.length+R.length,G=H<j?new Array(j-H+1).join(p):"";switch(b&&x&&(k=t(G+k,G.length?j-R.length:1/0),G=""),v){case"<":k=D+k+R+G;break;case"=":k=D+G+k+R;break;case"^":k=G.slice(0,H=G.length>>1)+D+k+R+G.slice(H);break;default:k=G+D+k+R;break}return i(k)}return M.toString=function(){return f+""},M}function h(f,p){var v=u((f=tx(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor($m(p)/3)))*3,y=Math.pow(10,-g),x=SO[8+g/3];return function(j){return v(y*j)+x}}return{format:u,formatPrefix:h}}var t0,q4,d9;_he({thousands:",",grouping:[3],currency:["$",""]});function _he(e){return t0=Dhe(e),q4=t0.format,d9=t0.formatPrefix,t0}function khe(e){return Math.max(0,-$m(Math.abs(e)))}function Ohe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($m(t)/3)))*3-$m(Math.abs(e)))}function Rhe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$m(t)-$m(e))+1}function f9(e,t,n,a){var s=lC(e,t,n),i;switch(a=tx(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=Ohe(s,o))&&(a.precision=i),d9(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Rhe(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=khe(s))&&(a.precision=i-(a.type==="%")*2);break}}return q4(a)}function Gd(e){var t=e.domain;return e.ticks=function(n){var a=t();return iC(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return f9(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,i=a.length-1,o=a[s],l=a[i],c,u,h=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);h-- >0;){if(u=oC(o,l,n),u===c)return a[s]=o,a[i]=l,t(a);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function dy(){var e=$4();return e.copy=function(){return zx(e,dy())},ko.apply(e,arguments),Gd(e)}function h9(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,cy),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return h9(e).unknown(t)},e=arguments.length?Array.from(e,cy):[0,1],Gd(n)}function m9(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],o;return i<s&&(o=n,n=a,a=o,o=s,s=i,i=o),e[n]=t.floor(s),e[a]=t.ceil(i),e}function CO(e){return Math.log(e)}function AO(e){return Math.exp(e)}function Lhe(e){return-Math.log(-e)}function Fhe(e){return-Math.exp(-e)}function Mhe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $he(e){return e===10?Mhe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Bhe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function EO(e){return(t,n)=>-e(-t,n)}function z4(e){const t=e(CO,AO),n=t.domain;let a=10,s,i;function o(){return s=Bhe(a),i=$he(a),n()[0]<0?(s=EO(s),i=EO(i),e(Lhe,Fhe)):e(CO,AO),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],h=c[c.length-1];const f=h<u;f&&([u,h]=[h,u]);let p=s(u),v=s(h),g,y;const x=l==null?10:+l;let j=[];if(!(a%1)&&v-p<x){if(p=Math.floor(p),v=Math.ceil(v),u>0){for(;p<=v;++p)for(g=1;g<a;++g)if(y=p<0?g/i(-p):g*i(p),!(y<u)){if(y>h)break;j.push(y)}}else for(;p<=v;++p)for(g=a-1;g>=1;--g)if(y=p>0?g/i(-p):g*i(p),!(y<u)){if(y>h)break;j.push(y)}j.length*2<x&&(j=iC(u,h,x))}else j=iC(p,v,Math.min(v-p,x)).map(i);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=tx(c)).precision==null&&(c.trim=!0),c=q4(c)),l===1/0)return c;const u=Math.max(1,a*l/t.ticks().length);return h=>{let f=h/i(Math.round(s(h)));return f*a<a-.5&&(f*=a),f<=u?c(h):""}},t.nice=()=>n(m9(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function p9(){const e=z4(Pb()).domain([1,10]);return e.copy=()=>zx(e,p9()).base(e.base()),ko.apply(e,arguments),e}function PO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function U4(e){var t=1,n=e(PO(t),TO(t));return n.constant=function(a){return arguments.length?e(PO(t=+a),TO(t)):t},Gd(n)}function v9(){var e=U4(Pb());return e.copy=function(){return zx(e,v9()).constant(e.constant())},ko.apply(e,arguments)}function IO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zhe(e){return e<0?-e*e:e*e}function V4(e){var t=e(Js,Js),n=1;function a(){return n===1?e(Js,Js):n===.5?e(qhe,zhe):e(IO(n),IO(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},Gd(t)}function W4(){var e=V4(Pb());return e.copy=function(){return zx(e,W4()).exponent(e.exponent())},ko.apply(e,arguments),e}function Uhe(){return W4.apply(null,arguments).exponent(.5)}function DO(e){return Math.sign(e)*e*e}function Vhe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function x9(){var e=$4(),t=[0,1],n=!1,a;function s(i){var o=Vhe(e(i));return isNaN(o)?a:n?Math.round(o):o}return s.invert=function(i){return e.invert(DO(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,cy)).map(DO)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return x9(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},ko.apply(s,arguments),Gd(s)}function g9(){var e=[],t=[],n=[],a;function s(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=Yfe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[Bx(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(_d),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return g9().domain(e).range(t).unknown(a)},ko.apply(i,arguments)}function y9(){var e=0,t=1,n=1,a=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Bx(a,c,0,n)]:i}function l(){var c=-1;for(a=new Array(n);++c<n;)a[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=n?[a[n-1],t]:[a[u-1],a[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return y9().domain([e,t]).range(s).unknown(i)},ko.apply(Gd(o),arguments)}function b9(){var e=[.5],t=[0,1],n,a=1;function s(i){return i!=null&&i<=i?t[Bx(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return b9().domain(e).range(t).unknown(n)},ko.apply(s,arguments)}const GN=new Date,KN=new Date;function Fa(e,t,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Fa(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(s.count=(i,o)=>(GN.setTime(+i),KN.setTime(+o),e(GN),e(KN),Math.floor(n(GN,KN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const fy=Fa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fa(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fy);fy.range;const eu=1e3,Co=eu*60,tu=Co*60,du=tu*24,H4=du*7,_O=du*30,YN=du*365,Hf=Fa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*eu)},(e,t)=>(t-e)/eu,e=>e.getUTCSeconds());Hf.range;const G4=Fa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eu)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getMinutes());G4.range;const K4=Fa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getUTCMinutes());K4.range;const Y4=Fa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*eu-e.getMinutes()*Co)},(e,t)=>{e.setTime(+e+t*tu)},(e,t)=>(t-e)/tu,e=>e.getHours());Y4.range;const X4=Fa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*tu)},(e,t)=>(t-e)/tu,e=>e.getUTCHours());X4.range;const Ux=Fa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Co)/du,e=>e.getDate()-1);Ux.range;const Tb=Fa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/du,e=>e.getUTCDate()-1);Tb.range;const j9=Fa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/du,e=>Math.floor(e/du));j9.range;function wh(e){return Fa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Co)/H4)}const Ib=wh(0),hy=wh(1),Whe=wh(2),Hhe=wh(3),Bm=wh(4),Ghe=wh(5),Khe=wh(6);Ib.range;hy.range;Whe.range;Hhe.range;Bm.range;Ghe.range;Khe.range;function Nh(e){return Fa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/H4)}const Db=Nh(0),my=Nh(1),Yhe=Nh(2),Xhe=Nh(3),qm=Nh(4),Qhe=Nh(5),Jhe=Nh(6);Db.range;my.range;Yhe.range;Xhe.range;qm.range;Qhe.range;Jhe.range;const Q4=Fa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Q4.range;const J4=Fa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());J4.range;const fu=Fa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fu.range;const hu=Fa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});hu.range;function w9(e,t,n,a,s,i){const o=[[Hf,1,eu],[Hf,5,5*eu],[Hf,15,15*eu],[Hf,30,30*eu],[i,1,Co],[i,5,5*Co],[i,15,15*Co],[i,30,30*Co],[s,1,tu],[s,3,3*tu],[s,6,6*tu],[s,12,12*tu],[a,1,du],[a,2,2*du],[n,1,H4],[t,1,_O],[t,3,3*_O],[e,1,YN]];function l(u,h,f){const p=h<u;p&&([u,h]=[h,u]);const v=f&&typeof f.range=="function"?f:c(u,h,f),g=v?v.range(u,+h+1):[];return p?g.reverse():g}function c(u,h,f){const p=Math.abs(h-u)/f,v=O4(([,,x])=>x).right(o,p);if(v===o.length)return e.every(lC(u/YN,h/YN,f));if(v===0)return fy.every(Math.max(lC(u,h,f),1));const[g,y]=o[p/o[v-1][2]<o[v][2]/p?v-1:v];return g.every(y)}return[l,c]}const[Zhe,eme]=w9(hu,J4,Db,j9,X4,K4),[tme,rme]=w9(fu,Q4,Ib,Ux,Y4,G4);function XN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function QN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function iv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nme(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ov(s),h=lv(s),f=ov(i),p=lv(i),v=ov(o),g=lv(o),y=ov(l),x=lv(l),j=ov(c),b=lv(c),N={a:B,A:H,b:G,B:Z,c:null,d:MO,e:MO,f:Ame,g:Lme,G:Mme,H:Nme,I:Sme,j:Cme,L:N9,m:Eme,M:Pme,p:Q,q:$,Q:qO,s:zO,S:Tme,u:Ime,U:Dme,V:_me,w:kme,W:Ome,x:null,X:null,y:Rme,Y:Fme,Z:$me,"%":BO},P={a:K,A:te,b:se,B:oe,c:null,d:$O,e:$O,f:Ume,g:Zme,G:tpe,H:Bme,I:qme,j:zme,L:C9,m:Vme,M:Wme,p:me,q:ve,Q:qO,s:zO,S:Hme,u:Gme,U:Kme,V:Yme,w:Xme,W:Qme,x:null,X:null,y:Jme,Y:epe,Z:rpe,"%":BO},I={a:M,A:k,b:D,B:R,c:F,d:LO,e:LO,f:yme,g:RO,G:OO,H:FO,I:FO,j:pme,L:gme,m:mme,M:vme,p:_,q:hme,Q:jme,s:wme,S:xme,u:lme,U:cme,V:ume,w:ome,W:dme,x:z,X:V,y:RO,Y:OO,Z:fme,"%":bme};N.x=w(n,N),N.X=w(a,N),N.c=w(t,N),P.x=w(n,P),P.X=w(a,P),P.c=w(t,P);function w(pe,we){return function(Se){var Ce=[],ze=-1,He=0,ge=pe.length,le,st,Ie;for(Se instanceof Date||(Se=new Date(+Se));++ze<ge;)pe.charCodeAt(ze)===37&&(Ce.push(pe.slice(He,ze)),(st=kO[le=pe.charAt(++ze)])!=null?le=pe.charAt(++ze):st=le==="e"?" ":"0",(Ie=we[le])&&(le=Ie(Se,st)),Ce.push(le),He=ze+1);return Ce.push(pe.slice(He,ze)),Ce.join("")}}function E(pe,we){return function(Se){var Ce=iv(1900,void 0,1),ze=C(Ce,pe,Se+="",0),He,ge;if(ze!=Se.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(Ce.s*1e3+("L"in Ce?Ce.L:0));if(we&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+Ce.p*12),Ce.m===void 0&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(He=QN(iv(Ce.y,0,1)),ge=He.getUTCDay(),He=ge>4||ge===0?my.ceil(He):my(He),He=Tb.offset(He,(Ce.V-1)*7),Ce.y=He.getUTCFullYear(),Ce.m=He.getUTCMonth(),Ce.d=He.getUTCDate()+(Ce.w+6)%7):(He=XN(iv(Ce.y,0,1)),ge=He.getDay(),He=ge>4||ge===0?hy.ceil(He):hy(He),He=Ux.offset(He,(Ce.V-1)*7),Ce.y=He.getFullYear(),Ce.m=He.getMonth(),Ce.d=He.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),ge="Z"in Ce?QN(iv(Ce.y,0,1)).getUTCDay():XN(iv(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+Ce.W*7-(ge+5)%7:Ce.w+Ce.U*7-(ge+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,QN(Ce)):XN(Ce)}}function C(pe,we,Se,Ce){for(var ze=0,He=we.length,ge=Se.length,le,st;ze<He;){if(Ce>=ge)return-1;if(le=we.charCodeAt(ze++),le===37){if(le=we.charAt(ze++),st=I[le in kO?we.charAt(ze++):le],!st||(Ce=st(pe,Se,Ce))<0)return-1}else if(le!=Se.charCodeAt(Ce++))return-1}return Ce}function _(pe,we,Se){var Ce=u.exec(we.slice(Se));return Ce?(pe.p=h.get(Ce[0].toLowerCase()),Se+Ce[0].length):-1}function M(pe,we,Se){var Ce=v.exec(we.slice(Se));return Ce?(pe.w=g.get(Ce[0].toLowerCase()),Se+Ce[0].length):-1}function k(pe,we,Se){var Ce=f.exec(we.slice(Se));return Ce?(pe.w=p.get(Ce[0].toLowerCase()),Se+Ce[0].length):-1}function D(pe,we,Se){var Ce=j.exec(we.slice(Se));return Ce?(pe.m=b.get(Ce[0].toLowerCase()),Se+Ce[0].length):-1}function R(pe,we,Se){var Ce=y.exec(we.slice(Se));return Ce?(pe.m=x.get(Ce[0].toLowerCase()),Se+Ce[0].length):-1}function F(pe,we,Se){return C(pe,t,we,Se)}function z(pe,we,Se){return C(pe,n,we,Se)}function V(pe,we,Se){return C(pe,a,we,Se)}function B(pe){return o[pe.getDay()]}function H(pe){return i[pe.getDay()]}function G(pe){return c[pe.getMonth()]}function Z(pe){return l[pe.getMonth()]}function Q(pe){return s[+(pe.getHours()>=12)]}function $(pe){return 1+~~(pe.getMonth()/3)}function K(pe){return o[pe.getUTCDay()]}function te(pe){return i[pe.getUTCDay()]}function se(pe){return c[pe.getUTCMonth()]}function oe(pe){return l[pe.getUTCMonth()]}function me(pe){return s[+(pe.getUTCHours()>=12)]}function ve(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var we=w(pe+="",N);return we.toString=function(){return pe},we},parse:function(pe){var we=E(pe+="",!1);return we.toString=function(){return pe},we},utcFormat:function(pe){var we=w(pe+="",P);return we.toString=function(){return pe},we},utcParse:function(pe){var we=E(pe+="",!0);return we.toString=function(){return pe},we}}}var kO={"-":"",_:" ",0:"0"},Ja=/^\s*\d+/,ame=/^%/,sme=/[\\^$*+?|[\]().{}]/g;function Jr(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(t)+s:s)}function ime(e){return e.replace(sme,"\\$&")}function ov(e){return new RegExp("^(?:"+e.map(ime).join("|")+")","i")}function lv(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ome(e,t,n){var a=Ja.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function lme(e,t,n){var a=Ja.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function cme(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function ume(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function dme(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function OO(e,t,n){var a=Ja.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function RO(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function fme(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function hme(e,t,n){var a=Ja.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function mme(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function LO(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function pme(e,t,n){var a=Ja.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function FO(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function vme(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function xme(e,t,n){var a=Ja.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function gme(e,t,n){var a=Ja.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function yme(e,t,n){var a=Ja.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function bme(e,t,n){var a=ame.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function jme(e,t,n){var a=Ja.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function wme(e,t,n){var a=Ja.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function MO(e,t){return Jr(e.getDate(),t,2)}function Nme(e,t){return Jr(e.getHours(),t,2)}function Sme(e,t){return Jr(e.getHours()%12||12,t,2)}function Cme(e,t){return Jr(1+Ux.count(fu(e),e),t,3)}function N9(e,t){return Jr(e.getMilliseconds(),t,3)}function Ame(e,t){return N9(e,t)+"000"}function Eme(e,t){return Jr(e.getMonth()+1,t,2)}function Pme(e,t){return Jr(e.getMinutes(),t,2)}function Tme(e,t){return Jr(e.getSeconds(),t,2)}function Ime(e){var t=e.getDay();return t===0?7:t}function Dme(e,t){return Jr(Ib.count(fu(e)-1,e),t,2)}function S9(e){var t=e.getDay();return t>=4||t===0?Bm(e):Bm.ceil(e)}function _me(e,t){return e=S9(e),Jr(Bm.count(fu(e),e)+(fu(e).getDay()===4),t,2)}function kme(e){return e.getDay()}function Ome(e,t){return Jr(hy.count(fu(e)-1,e),t,2)}function Rme(e,t){return Jr(e.getFullYear()%100,t,2)}function Lme(e,t){return e=S9(e),Jr(e.getFullYear()%100,t,2)}function Fme(e,t){return Jr(e.getFullYear()%1e4,t,4)}function Mme(e,t){var n=e.getDay();return e=n>=4||n===0?Bm(e):Bm.ceil(e),Jr(e.getFullYear()%1e4,t,4)}function $me(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jr(t/60|0,"0",2)+Jr(t%60,"0",2)}function $O(e,t){return Jr(e.getUTCDate(),t,2)}function Bme(e,t){return Jr(e.getUTCHours(),t,2)}function qme(e,t){return Jr(e.getUTCHours()%12||12,t,2)}function zme(e,t){return Jr(1+Tb.count(hu(e),e),t,3)}function C9(e,t){return Jr(e.getUTCMilliseconds(),t,3)}function Ume(e,t){return C9(e,t)+"000"}function Vme(e,t){return Jr(e.getUTCMonth()+1,t,2)}function Wme(e,t){return Jr(e.getUTCMinutes(),t,2)}function Hme(e,t){return Jr(e.getUTCSeconds(),t,2)}function Gme(e){var t=e.getUTCDay();return t===0?7:t}function Kme(e,t){return Jr(Db.count(hu(e)-1,e),t,2)}function A9(e){var t=e.getUTCDay();return t>=4||t===0?qm(e):qm.ceil(e)}function Yme(e,t){return e=A9(e),Jr(qm.count(hu(e),e)+(hu(e).getUTCDay()===4),t,2)}function Xme(e){return e.getUTCDay()}function Qme(e,t){return Jr(my.count(hu(e)-1,e),t,2)}function Jme(e,t){return Jr(e.getUTCFullYear()%100,t,2)}function Zme(e,t){return e=A9(e),Jr(e.getUTCFullYear()%100,t,2)}function epe(e,t){return Jr(e.getUTCFullYear()%1e4,t,4)}function tpe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qm(e):qm.ceil(e),Jr(e.getUTCFullYear()%1e4,t,4)}function rpe(){return"+0000"}function BO(){return"%"}function qO(e){return+e}function zO(e){return Math.floor(+e/1e3)}var um,E9,P9;npe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function npe(e){return um=nme(e),E9=um.format,um.parse,P9=um.utcFormat,um.utcParse,um}function ape(e){return new Date(e)}function spe(e){return e instanceof Date?+e:+new Date(+e)}function Z4(e,t,n,a,s,i,o,l,c,u){var h=$4(),f=h.invert,p=h.domain,v=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),j=u("%a %d"),b=u("%b %d"),N=u("%B"),P=u("%Y");function I(w){return(c(w)<w?v:l(w)<w?g:o(w)<w?y:i(w)<w?x:a(w)<w?s(w)<w?j:b:n(w)<w?N:P)(w)}return h.invert=function(w){return new Date(f(w))},h.domain=function(w){return arguments.length?p(Array.from(w,spe)):p().map(ape)},h.ticks=function(w){var E=p();return e(E[0],E[E.length-1],w??10)},h.tickFormat=function(w,E){return E==null?I:u(E)},h.nice=function(w){var E=p();return(!w||typeof w.range!="function")&&(w=t(E[0],E[E.length-1],w??10)),w?p(m9(E,w)):h},h.copy=function(){return zx(h,Z4(e,t,n,a,s,i,o,l,c,u))},h}function ipe(){return ko.apply(Z4(tme,rme,fu,Q4,Ib,Ux,Y4,G4,Hf,E9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ope(){return ko.apply(Z4(Zhe,eme,hu,J4,Db,Tb,X4,K4,Hf,P9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _b(){var e=0,t=1,n,a,s,i,o=Js,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),a=i(t=+t),s=n===a?0:1/(a-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function h(f){return function(p){var v,g;return arguments.length?([v,g]=p,o=f(v,g),u):[o(0),o(1)]}}return u.range=h(Np),u.rangeRound=h(M4),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(e),a=f(t),s=n===a?0:1/(a-n),u}}function Kd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function T9(){var e=Gd(_b()(Js));return e.copy=function(){return Kd(e,T9())},yu.apply(e,arguments)}function I9(){var e=z4(_b()).domain([1,10]);return e.copy=function(){return Kd(e,I9()).base(e.base())},yu.apply(e,arguments)}function D9(){var e=U4(_b());return e.copy=function(){return Kd(e,D9()).constant(e.constant())},yu.apply(e,arguments)}function eE(){var e=V4(_b());return e.copy=function(){return Kd(e,eE()).exponent(e.exponent())},yu.apply(e,arguments)}function lpe(){return eE.apply(null,arguments).exponent(.5)}function _9(){var e=[],t=Js;function n(a){if(a!=null&&!isNaN(a=+a))return t((Bx(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(_d),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>Kfe(e,i/a))},n.copy=function(){return _9(t).domain(e)},yu.apply(n,arguments)}function kb(){var e=0,t=.5,n=1,a=1,s,i,o,l,c,u=Js,h,f=!1,p;function v(y){return isNaN(y=+y)?p:(y=.5+((y=+h(y))-i)*(a*y<a*i?l:c),u(f?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,n]=y,s=h(e=+e),i=h(t=+t),o=h(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,v):[e,t,n]},v.clamp=function(y){return arguments.length?(f=!!y,v):f},v.interpolator=function(y){return arguments.length?(u=y,v):u};function g(y){return function(x){var j,b,N;return arguments.length?([j,b,N]=x,u=bhe(y,[j,b,N]),v):[u(0),u(.5),u(1)]}}return v.range=g(Np),v.rangeRound=g(M4),v.unknown=function(y){return arguments.length?(p=y,v):p},function(y){return h=y,s=y(e),i=y(t),o=y(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,v}}function k9(){var e=Gd(kb()(Js));return e.copy=function(){return Kd(e,k9())},yu.apply(e,arguments)}function O9(){var e=z4(kb()).domain([.1,1,10]);return e.copy=function(){return Kd(e,O9()).base(e.base())},yu.apply(e,arguments)}function R9(){var e=U4(kb());return e.copy=function(){return Kd(e,R9()).constant(e.constant())},yu.apply(e,arguments)}function tE(){var e=V4(kb());return e.copy=function(){return Kd(e,tE()).exponent(e.exponent())},yu.apply(e,arguments)}function cpe(){return tE.apply(null,arguments).exponent(.5)}const UO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qv,scaleDiverging:k9,scaleDivergingLog:O9,scaleDivergingPow:tE,scaleDivergingSqrt:cpe,scaleDivergingSymlog:R9,scaleIdentity:h9,scaleImplicit:cC,scaleLinear:dy,scaleLog:p9,scaleOrdinal:R4,scalePoint:Ev,scalePow:W4,scaleQuantile:g9,scaleQuantize:y9,scaleRadial:x9,scaleSequential:T9,scaleSequentialLog:I9,scaleSequentialPow:eE,scaleSequentialQuantile:_9,scaleSequentialSqrt:lpe,scaleSequentialSymlog:D9,scaleSqrt:Uhe,scaleSymlog:v9,scaleThreshold:b9,scaleTime:ipe,scaleUtc:ope,tickFormat:f9},Symbol.toStringTag,{value:"Module"}));var JN,VO;function L9(){if(VO)return JN;VO=1;var e=gp();function t(n,a,s){for(var i=-1,o=n.length;++i<o;){var l=n[i],c=a(l);if(c!=null&&(u===void 0?c===c&&!e(c):s(c,u)))var u=c,h=l}return h}return JN=t,JN}var ZN,WO;function upe(){if(WO)return ZN;WO=1;function e(t,n){return t>n}return ZN=e,ZN}var e5,HO;function dpe(){if(HO)return e5;HO=1;var e=L9(),t=upe(),n=jp();function a(s){return s&&s.length?e(s,n,t):void 0}return e5=a,e5}var fpe=dpe();const Sd=rn(fpe);var t5,GO;function hpe(){if(GO)return t5;GO=1;function e(t,n){return t<n}return t5=e,t5}var r5,KO;function mpe(){if(KO)return r5;KO=1;var e=L9(),t=hpe(),n=jp();function a(s){return s&&s.length?e(s,n,t):void 0}return r5=a,r5}var ppe=mpe();const Ob=rn(ppe);var n5,YO;function vpe(){if(YO)return n5;YO=1;var e=x4(),t=Hd(),n=V$(),a=Ni();function s(i,o){var l=a(i)?e:n;return l(i,t(o,3))}return n5=s,n5}var a5,XO;function xpe(){if(XO)return a5;XO=1;var e=z$(),t=vpe();function n(a,s){return e(t(a,s),1)}return a5=n,a5}var gpe=xpe();const ype=rn(gpe);var s5,QO;function bpe(){if(QO)return s5;QO=1;var e=I4();function t(n,a){return e(n,a)}return s5=t,s5}var jpe=bpe();const rx=rn(jpe);var Sp=1e9,wpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nE,Wn=!0,Do="[DecimalError] ",nh=Do+"Invalid argument: ",rE=Do+"Exponent out of range: ",Cp=Math.floor,Of=Math.pow,Npe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ui,Ya=1e7,Rn=7,F9=9007199254740991,py=Cp(F9/Rn),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Rn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Mt.dividedBy=Mt.div=function(e){return su(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,n=t.constructor;return xn(su(t,new n(e),0,1),n.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return Sa(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Ui))throw Error(Do+"NaN");if(n.s<1)throw Error(Do+(n.s?"NaN":"-Infinity"));return n.eq(Ui)?new a(0):(Wn=!1,t=su(nx(n,i),nx(e,i),i),Wn=!0,xn(t,s))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B9(t,e):M9(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Do+"NaN");return n.s?(Wn=!1,t=su(n,e,0,1).times(e),Wn=!0,n.minus(t)):xn(new a(n),s)};Mt.naturalExponential=Mt.exp=function(){return $9(this)};Mt.naturalLogarithm=Mt.ln=function(){return nx(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M9(t,e):B9(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(nh+e);if(t=Sa(s)+1,a=s.d.length-1,n=a*Rn+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};Mt.squareRoot=Mt.sqrt=function(){var e,t,n,a,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Do+"NaN")}for(e=Sa(l),Wn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=nc(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Cp((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=a,a=i.plus(su(l,i,o+2)).times(.5),nc(i.d).slice(0,o)===(t=nc(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(xn(i,n+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return Wn=!0,xn(a,n)};Mt.times=Mt.mul=function(e){var t,n,a,s,i,o,l,c,u,h=this,f=h.constructor,p=h.d,v=(e=new f(e)).d;if(!h.s||!e.s)return new f(0);for(e.s*=h.s,n=h.e+e.e,c=p.length,u=v.length,c<u&&(i=p,p=v,v=i,o=c,c=u,u=o),i=[],o=c+u,a=o;a--;)i.push(0);for(a=u;--a>=0;){for(t=0,s=c+a;s>a;)l=i[s]+v[a]*p[s-a-1]+t,i[s--]=l%Ya|0,t=l/Ya|0;i[s]=(i[s]+t)%Ya|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Wn?xn(e,f.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(fc(e,0,Sp),t===void 0?t=a.rounding:fc(t,0,8),xn(n,e+Sa(n)+1,t))};Mt.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=dh(a,!0):(fc(e,0,Sp),t===void 0?t=s.rounding:fc(t,0,8),a=xn(new s(a),e+1,t),n=dh(a,!0,e+1)),n};Mt.toFixed=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?dh(s):(fc(e,0,Sp),t===void 0?t=i.rounding:fc(t,0,8),a=xn(new i(s),e+Sa(s)+1,t),n=dh(a.abs(),!1,e+Sa(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return xn(new t(e),Sa(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,n,a,s,i,o,l=this,c=l.constructor,u=12,h=+(e=new c(e));if(!e.s)return new c(Ui);if(l=new c(l),!l.s){if(e.s<1)throw Error(Do+"Infinity");return l}if(l.eq(Ui))return l;if(a=c.precision,e.eq(Ui))return xn(l,a);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=h<0?-h:h)<=F9){for(s=new c(Ui),t=Math.ceil(a/Rn+4),Wn=!1;n%2&&(s=s.times(l),ZO(s.d,t)),n=Cp(n/2),n!==0;)l=l.times(l),ZO(l.d,t);return Wn=!0,e.s<0?new c(Ui).div(s):xn(s,a)}}else if(i<0)throw Error(Do+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Wn=!1,s=e.times(nx(l,a+u)),Wn=!0,s=$9(s),s.s=i,s};Mt.toPrecision=function(e,t){var n,a,s=this,i=s.constructor;return e===void 0?(n=Sa(s),a=dh(s,n<=i.toExpNeg||n>=i.toExpPos)):(fc(e,1,Sp),t===void 0?t=i.rounding:fc(t,0,8),s=xn(new i(s),e,t),n=Sa(s),a=dh(s,e<=n||n<=i.toExpNeg,e)),a};Mt.toSignificantDigits=Mt.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(fc(e,1,Sp),t===void 0?t=a.rounding:fc(t,0,8)),xn(new a(n),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sa(e),n=e.constructor;return dh(e,t<=n.toExpNeg||t>=n.toExpPos)};function M9(e,t){var n,a,s,i,o,l,c,u,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Wn?xn(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(a=c,i=-i,l=u.length):(a=u,s=o,l=c.length),o=Math.ceil(f/Rn),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,a=u,u=c,c=a),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Ya|0,c[i]%=Ya;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,Wn?xn(t,f):t}function fc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(nh+e)}function nc(e){var t,n,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",n=Rn-a.length,n&&(i+=gd(n)),i+=a;o=e[t],a=o+"",n=Rn-a.length,n&&(i+=gd(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var su=function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%Ya|0,o=i/Ya|0;return o&&a.unshift(o),a}function t(a,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=s[l]){c=a[l]>s[l]?1:-1;break}return c}function n(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*Ya+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,c,u,h,f,p,v,g,y,x,j,b,N,P,I,w,E,C,_=a.constructor,M=a.s==s.s?1:-1,k=a.d,D=s.d;if(!a.s)return new _(a);if(!s.s)throw Error(Do+"Division by zero");for(c=a.e-s.e,E=D.length,I=k.length,v=new _(M),g=v.d=[],u=0;D[u]==(k[u]||0);)++u;if(D[u]>(k[u]||0)&&--c,i==null?b=i=_.precision:o?b=i+(Sa(a)-Sa(s))+1:b=i,b<0)return new _(0);if(b=b/Rn+2|0,u=0,E==1)for(h=0,D=D[0],b++;(u<I||h)&&b--;u++)N=h*Ya+(k[u]||0),g[u]=N/D|0,h=N%D|0;else{for(h=Ya/(D[0]+1)|0,h>1&&(D=e(D,h),k=e(k,h),E=D.length,I=k.length),P=E,y=k.slice(0,E),x=y.length;x<E;)y[x++]=0;C=D.slice(),C.unshift(0),w=D[0],D[1]>=Ya/2&&++w;do h=0,l=t(D,y,E,x),l<0?(j=y[0],E!=x&&(j=j*Ya+(y[1]||0)),h=j/w|0,h>1?(h>=Ya&&(h=Ya-1),f=e(D,h),p=f.length,x=y.length,l=t(f,y,p,x),l==1&&(h--,n(f,E<p?C:D,p))):(h==0&&(l=h=1),f=D.slice()),p=f.length,p<x&&f.unshift(0),n(y,f,x),l==-1&&(x=y.length,l=t(D,y,E,x),l<1&&(h++,n(y,E<x?C:D,x))),x=y.length):l===0&&(h++,y=[0]),g[u++]=h,l&&y[0]?y[x++]=k[P]||0:(y=[k[P]],x=1);while((P++<I||y[0]!==void 0)&&b--)}return g[0]||g.shift(),v.e=c,xn(v,o?i+Sa(v)+1:i)}}();function $9(e,t){var n,a,s,i,o,l,c=0,u=0,h=e.constructor,f=h.precision;if(Sa(e)>16)throw Error(rE+Sa(e));if(!e.s)return new h(Ui);for(Wn=!1,l=f,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(a=Math.log(Of(2,u))/Math.LN10*2+5|0,l+=a,n=s=i=new h(Ui),h.precision=l;;){if(s=xn(s.times(e),l),n=n.times(++c),o=i.plus(su(s,n,l)),nc(o.d).slice(0,l)===nc(i.d).slice(0,l)){for(;u--;)i=xn(i.times(i),l);return h.precision=f,t==null?(Wn=!0,xn(i,f)):i}i=o}}function Sa(e){for(var t=e.e*Rn,n=e.d[0];n>=10;n/=10)t++;return t}function i5(e,t,n){if(t>e.LN10.sd())throw Wn=!0,n&&(e.precision=n),Error(Do+"LN10 precision limit exceeded");return xn(new e(e.LN10),t)}function gd(e){for(var t="";e--;)t+="0";return t}function nx(e,t){var n,a,s,i,o,l,c,u,h,f=1,p=10,v=e,g=v.d,y=v.constructor,x=y.precision;if(v.s<1)throw Error(Do+(v.s?"NaN":"-Infinity"));if(v.eq(Ui))return new y(0);if(t==null?(Wn=!1,u=x):u=t,v.eq(10))return t==null&&(Wn=!0),i5(y,u);if(u+=p,y.precision=u,n=nc(g),a=n.charAt(0),i=Sa(v),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)v=v.times(e),n=nc(v.d),a=n.charAt(0),f++;i=Sa(v),a>1?(v=new y("0."+n),i++):v=new y(a+"."+n.slice(1))}else return c=i5(y,u+2,x).times(i+""),v=nx(new y(a+"."+n.slice(1)),u-p).plus(c),y.precision=x,t==null?(Wn=!0,xn(v,x)):v;for(l=o=v=su(v.minus(Ui),v.plus(Ui),u),h=xn(v.times(v),u),s=3;;){if(o=xn(o.times(h),u),c=l.plus(su(o,new y(s),u)),nc(c.d).slice(0,u)===nc(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(i5(y,u+2,x).times(i+""))),l=su(l,new y(f),u),y.precision=x,t==null?(Wn=!0,xn(l,x)):l;l=c,s+=2}}function JO(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=Cp(n/Rn),e.d=[],a=(n+1)%Rn,n<0&&(a+=Rn),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Rn;a<s;)e.d.push(+t.slice(a,a+=Rn));t=t.slice(a),a=Rn-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Wn&&(e.e>py||e.e<-py))throw Error(rE+n)}else e.s=0,e.e=0,e.d=[0];return e}function xn(e,t,n){var a,s,i,o,l,c,u,h,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=Rn,s=t,u=f[h=0];else{if(h=Math.ceil((a+1)/Rn),i=f.length,h>=i)return e;for(u=i=f[h],o=1;i>=10;i/=10)o++;a%=Rn,s=a-Rn+o}if(n!==void 0&&(i=Of(10,o-s-1),l=u/i%10|0,c=t<0||f[h+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(a>0?s>0?u/Of(10,o-s):0:f[h-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(i=Sa(e),f.length=1,t=t-i-1,f[0]=Of(10,(Rn-t%Rn)%Rn),e.e=Cp(-t/Rn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=h,i=1,h--):(f.length=h+1,i=Of(10,Rn-a),f[h]=s>0?(u/Of(10,o-s)%Of(10,s)|0)*i:0),c)for(;;)if(h==0){(f[0]+=i)==Ya&&(f[0]=1,++e.e);break}else{if(f[h]+=i,f[h]!=Ya)break;f[h--]=0,i=1}for(a=f.length;f[--a]===0;)f.pop();if(Wn&&(e.e>py||e.e<-py))throw Error(rE+Sa(e));return e}function B9(e,t){var n,a,s,i,o,l,c,u,h,f,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Wn?xn(t,v):t;if(c=e.d,f=t.d,a=t.e,u=e.e,c=c.slice(),o=u-a,o){for(h=o<0,h?(n=c,o=-o,l=f.length):(n=f,a=u,l=c.length),s=Math.max(Math.ceil(v/Rn),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,h=s<l,h&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){h=c[s]<f[s];break}o=0}for(h&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Ya-1;--c[i],c[s]+=Ya}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,Wn?xn(t,v):t):new p(0)}function dh(e,t,n){var a,s=Sa(e),i=nc(e.d),o=i.length;return t?(n&&(a=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+gd(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+gd(-s-1)+i,n&&(a=n-o)>0&&(i+=gd(a))):s>=o?(i+=gd(s+1-o),n&&(a=n-s-1)>0&&(i=i+"."+gd(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-o)>0&&(s+1===o&&(i+="."),i+=gd(a))),e.s<0?"-"+i:i}function ZO(e,t){if(e.length>t)return e.length=t,!0}function q9(e){var t,n,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(nh+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return JO(o,i.toString())}else if(typeof i!="string")throw Error(nh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Npe.test(i))JO(o,i);else throw Error(nh+i)}if(s.prototype=Mt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=q9,s.config=s.set=Spe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function Spe(e){if(!e||typeof e!="object")throw Error(Do+"Object expected");var t,n,a,s=["precision",1,Sp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(Cp(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(nh+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(nh+n+": "+a);return this}var nE=q9(wpe);Ui=new nE(1);const hn=nE;function Cpe(e){return Tpe(e)||Ppe(e)||Epe(e)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Epe(e,t){if(e){if(typeof e=="string")return hC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hC(e,t)}}function Ppe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Tpe(e){if(Array.isArray(e))return hC(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ipe=function(t){return t},z9={},U9=function(t){return t===z9},e6=function(t){return function n(){return arguments.length===0||arguments.length===1&&U9(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Dpe=function e(t,n){return t===1?n:e6(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==z9}).length;return o>=t?n.apply(void 0,s):e(t-o,e6(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=s.map(function(f){return U9(f)?c.shift():f});return n.apply(void 0,Cpe(h).concat(c))}))})},Rb=function(t){return Dpe(t.length,t)},mC=function(t,n){for(var a=[],s=t;s<n;++s)a[s-t]=s;return a},_pe=Rb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),kpe=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return Ipe;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},pC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},V9=function(t){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,a=t.apply(void 0,i)),a}};function Ope(e){var t;return e===0?t=1:t=Math.floor(new hn(e).abs().log(10).toNumber())+1,t}function Rpe(e,t,n){for(var a=new hn(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var Lpe=Rb(function(e,t,n){var a=+e,s=+t;return a+n*(s-a)}),Fpe=Rb(function(e,t,n){var a=t-+e;return a=a||1/0,(n-e)/a}),Mpe=Rb(function(e,t,n){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const Lb={rangeStep:Rpe,getDigitCount:Ope,interpolateNumber:Lpe,uninterpolateNumber:Fpe,uninterpolateTruncation:Mpe};function vC(e){return qpe(e)||Bpe(e)||W9(e)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qpe(e){if(Array.isArray(e))return xC(e)}function ax(e,t){return Vpe(e)||Upe(e,t)||W9(e,t)||zpe()}function zpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(e,t){if(e){if(typeof e=="string")return xC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xC(e,t)}}function xC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Upe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(c){s=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function Vpe(e){if(Array.isArray(e))return e}function H9(e){var t=ax(e,2),n=t[0],a=t[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function G9(e,t,n){if(e.lte(0))return new hn(0);var a=Lb.getDigitCount(e.toNumber()),s=new hn(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new hn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return t?c:new hn(Math.ceil(c))}function Wpe(e,t,n){var a=1,s=new hn(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new hn(10).pow(Lb.getDigitCount(e)-1),s=new hn(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new hn(Math.floor(e)))}else e===0?s=new hn(Math.floor((t-1)/2)):n||(s=new hn(Math.floor(e)));var o=Math.floor((t-1)/2),l=kpe(_pe(function(c){return s.add(new hn(c-o).mul(a)).toNumber()}),mC);return l(0,t)}function K9(e,t,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new hn(0),tickMin:new hn(0),tickMax:new hn(0)};var i=G9(new hn(t).sub(e).div(n-1),a,s),o;e<=0&&t>=0?o=new hn(0):(o=new hn(e).add(t).div(2),o=o.sub(new hn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new hn(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?K9(e,t,n,a,s+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new hn(l).mul(i)),tickMax:o.add(new hn(c).mul(i))})}function Hpe(e){var t=ax(e,2),n=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=H9([n,a]),c=ax(l,2),u=c[0],h=c[1];if(u===-1/0||h===1/0){var f=h===1/0?[u].concat(vC(mC(0,s-1).map(function(){return 1/0}))):[].concat(vC(mC(0,s-1).map(function(){return-1/0})),[h]);return n>a?pC(f):f}if(u===h)return Wpe(u,s,i);var p=K9(u,h,o,i),v=p.step,g=p.tickMin,y=p.tickMax,x=Lb.rangeStep(g,y.add(new hn(.1).mul(v)),v);return n>a?pC(x):x}function Gpe(e,t){var n=ax(e,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=H9([a,s]),l=ax(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[a,s];if(c===u)return[c];var h=Math.max(t,2),f=G9(new hn(u).sub(c).div(h-1),i,0),p=[].concat(vC(Lb.rangeStep(new hn(c),new hn(u).sub(new hn(.99).mul(f)),f)),[u]);return a>s?pC(p):p}var Kpe=V9(Hpe),Ype=V9(Gpe),Xpe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vy.apply(this,arguments)}function Qpe(e,t){return tve(e)||eve(e,t)||Zpe(e,t)||Jpe()}function Jpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zpe(e,t){if(e){if(typeof e=="string")return t6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t6(e,t)}}function t6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function eve(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tve(e){if(Array.isArray(e))return e}function rve(e,t){if(e==null)return{};var n=nve(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function nve(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function ave(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Q9(a.key),a)}}function ive(e,t,n){return t&&sve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ove(e,t,n){return t=xy(t),lve(e,Y9()?Reflect.construct(t,n||[],xy(e).constructor):t.apply(e,n))}function lve(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cve(e)}function cve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y9=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(e)}function uve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gC(e,t)}function gC(e,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},gC(e,t)}function X9(e,t,n){return t=Q9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q9(e){var t=dve(e,"string");return zm(t)=="symbol"?t:t+""}function dve(e,t){if(zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(zm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fb=function(e){function t(){return ave(this,t),ove(this,t,arguments)}return uve(t,e),ive(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,u=a.dataPointFormatter,h=a.xAxis,f=a.yAxis,p=rve(a,Xpe),v=Dr(p,!1);this.props.direction==="x"&&h.type!=="number"&&Md();var g=c.map(function(y){var x=u(y,l),j=x.x,b=x.y,N=x.value,P=x.errorVal;if(!P)return null;var I=[],w,E;if(Array.isArray(P)){var C=Qpe(P,2);w=C[0],E=C[1]}else w=E=P;if(i==="vertical"){var _=h.scale,M=b+s,k=M+o,D=M-o,R=_(N-w),F=_(N+E);I.push({x1:F,y1:k,x2:F,y2:D}),I.push({x1:R,y1:M,x2:F,y2:M}),I.push({x1:R,y1:k,x2:R,y2:D})}else if(i==="horizontal"){var z=f.scale,V=j+s,B=V-o,H=V+o,G=z(N-w),Z=z(N+E);I.push({x1:B,y1:Z,x2:H,y2:Z}),I.push({x1:V,y1:G,x2:V,y2:Z}),I.push({x1:B,y1:G,x2:H,y2:G})}return Ne.createElement(Jn,vy({className:"recharts-errorBar",key:"bar-".concat(I.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},v),I.map(function(Q){return Ne.createElement("line",vy({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return Ne.createElement(Jn,{className:"recharts-errorBars"},g)}}])}(Ne.Component);X9(Fb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});X9(Fb,"displayName","ErrorBar");function sx(e){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sx(e)}function r6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(n),!0).forEach(function(a){fve(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function fve(e,t,n){return t=hve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hve(e){var t=mve(e,"string");return sx(t)=="symbol"?t:t+""}function mve(e,t){if(sx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(sx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J9=function(t){var n=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Bi(n,wm);if(!o)return null;var l=wm.defaultProps,c=l!==void 0?If(If({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(a||[]).reduce(function(h,f){var p=f.item,v=f.props,g=v.sectors||v.data||[];return h.concat(g.map(function(y){return{type:o.props.iconType||p.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(a||[]).map(function(h){var f=h.item,p=f.type.defaultProps,v=p!==void 0?If(If({},p),f.props):{},g=v.dataKey,y=v.name,x=v.legendType,j=v.hide;return{inactive:j,dataKey:g,type:c.iconType||x||"square",color:aE(f),value:y||g,payload:v}}),If(If(If({},c),wm.getWithHeight(o,s)),{},{payload:u,item:o})};function ix(e){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ix(e)}function n6(e){return gve(e)||xve(e)||vve(e)||pve()}function pve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vve(e,t){if(e){if(typeof e=="string")return yC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(e,t)}}function xve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gve(e){if(Array.isArray(e))return yC(e)}function yC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function a6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(n),!0).forEach(function(a){Sm(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Sm(e,t,n){return t=yve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yve(e){var t=bve(e,"string");return ix(t)=="symbol"?t:t+""}function bve(e,t){if(ix(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ix(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xi(e,t,n){return _r(e)||_r(t)?n:Ra(t)?Po(e,t,n):Cr(t)?t(e):n}function Pv(e,t,n,a){var s=ype(e,function(l){return Xi(l,t)});if(n==="number"){var i=s.filter(function(l){return Pt(l)||parseFloat(l)});return i.length?[Ob(i),Sd(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!_r(l)}):s;return o.map(function(l){return Ra(l)||l instanceof Date?l:""})}var jve=function(t){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=a?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var h=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,p=u>=l-1?s[0].coordinate:s[u+1].coordinate,v=void 0;if(ml(f-h)!==ml(p-f)){var g=[];if(ml(p-f)===ml(c[1]-c[0])){v=p;var y=f+c[1]-c[0];g[0]=Math.min(y,(y+h)/2),g[1]=Math.max(y,(y+h)/2)}else{v=h;var x=p+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var j=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(t>j[0]&&t<=j[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var b=Math.min(h,p),N=Math.max(h,p);if(t>(b+f)/2&&t<=(N+f)/2){o=s[u].index;break}}}else for(var P=0;P<l;P++)if(P===0&&t<=(a[P].coordinate+a[P+1].coordinate)/2||P>0&&P<l-1&&t>(a[P].coordinate+a[P-1].coordinate)/2&&t<=(a[P].coordinate+a[P+1].coordinate)/2||P===l-1&&t>(a[P].coordinate+a[P-1].coordinate)/2){o=a[P].index;break}return o},aE=function(t){var n,a=t,s=a.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ia(ia({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},wve=function(t){var n=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var h=i[l[c]].stackGroups,f=Object.keys(h),p=0,v=f.length;p<v;p++){var g=h[f[p]],y=g.items,x=g.cateAxisId,j=y.filter(function(E){return au(E.type).indexOf("Bar")>=0});if(j&&j.length){var b=j[0].type.defaultProps,N=b!==void 0?ia(ia({},b),j[0].props):j[0].props,P=N.barSize,I=N[x];o[I]||(o[I]=[]);var w=_r(P)?n:P;o[I].push({item:j[0],stackList:j.slice(1),barSize:_r(w)?void 0:uh(w,a,0)})}}return o},Nve=function(t){var n=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=uh(n,s,0,!0),h,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,v=s/c,g=o.reduce(function(P,I){return P+I.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&v>0&&(p=!0,v*=.9,g=c*v);var y=(s-g)/2>>0,x={offset:y-u,size:0};h=o.reduce(function(P,I){var w={item:I.item,position:{offset:x.offset+x.size+u,size:p?v:I.barSize}},E=[].concat(n6(P),[w]);return x=E[E.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(C){E.push({item:C,position:x})}),E},f)}else{var j=uh(a,s,0,!0);s-2*j-(c-1)*u<=0&&(u=0);var b=(s-2*j-(c-1)*u)/c;b>1&&(b>>=0);var N=l===+l?Math.min(b,l):b;h=o.reduce(function(P,I,w){var E=[].concat(n6(P),[{item:I.item,position:{offset:j+(b+u)*w+(b-N)/2,size:N}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},f)}return h},Sve=function(t,n,a,s){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),u=J9({children:i,legendWidth:c});if(u){var h=s||{},f=h.width,p=h.height,v=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&v!=="center"&&Pt(t[v]))return ia(ia({},t),{},Sm({},v,t[v]+(f||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&g!=="middle"&&Pt(t[g]))return ia(ia({},t),{},Sm({},g,t[g]+(p||0)))}return t},Cve=function(t,n,a){return _r(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},Z9=function(t,n,a,s,i){var o=n.props.children,l=pl(o,Fb).filter(function(u){return Cve(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,h){var f=Xi(h,a);if(_r(f))return u;var p=Array.isArray(f)?[Ob(f),Sd(f)]:[f,f],v=c.reduce(function(g,y){var x=Xi(h,y,0),j=p[0]-Math.abs(Array.isArray(x)?x[0]:x),b=p[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(j,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},Ave=function(t,n,a,s,i){var o=n.map(function(l){return Z9(t,l,a,i,s)}).filter(function(l){return!_r(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},eB=function(t,n,a,s,i){var o=n.map(function(c){var u=c.props.dataKey;return a==="number"&&u&&Z9(t,c,u,s)||Pv(t,u,a,i)});if(a==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var h=0,f=u.length;h<f;h++)l[u[h]]||(l[u[h]]=!0,c.push(u[h]));return c},[])},tB=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Gf=function(t,n,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||a)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?ml(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(f){var p=i?i.indexOf(f):f;return{coordinate:s(p)+u,value:f,offset:u}});return h.filter(function(f){return!bp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:s(f)+u,value:f,index:p,offset:u}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,p){return{coordinate:s(f)+u,value:i?i[f]:f,index:p,offset:u}})},o5=new WeakMap,r0=function(t,n){if(typeof n!="function")return t;o5.has(t)||o5.set(t,new WeakMap);var a=o5.get(t);if(a.has(n))return a.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},Eve=function(t,n,a){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Qv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:dy(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:Ev(),realScaleType:"point"}:i==="category"?{scale:Qv(),realScaleType:"band"}:{scale:dy(),realScaleType:"linear"};if(ch(s)){var c="scale".concat(jb(s));return{scale:(UO[c]||Ev)(),realScaleType:UO[c]?c:"point"}}return Cr(s)?{scale:s}:{scale:Ev(),realScaleType:"point"}},s6=1e-4,Pve=function(t){var n=t.domain();if(!(!n||n.length<=2)){var a=n.length,s=t.range(),i=Math.min(s[0],s[1])-s6,o=Math.max(s[0],s[1])+s6,l=t(n[0]),c=t(n[a-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[a-1]])}},Tve=function(t,n){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===n)return t[a].position;return null},Ive=function(t,n){if(!n||n.length!==2||!Pt(n[0])||!Pt(n[1]))return t;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Pt(t[0])||t[0]<a)&&(i[0]=a),(!Pt(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},Dve=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0,l=0;l<n;++l){var c=bp(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=i,t[l][a][1]=i+c,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},_ve=function(t){var n=t.length;if(!(n<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0;o<n;++o){var l=bp(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},kve={sign:Dve,expand:xce,none:Om,silhouette:gce,wiggle:yce,positive:_ve},Ove=function(t,n,a){var s=n.map(function(l){return l.props.dataKey}),i=kve[a],o=vce().keys(s).value(function(l,c){return+Xi(l,c,0)}).order(YS).offset(i);return o(t)},Rve=function(t,n,a,s,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,p){var v,g=(v=p.type)!==null&&v!==void 0&&v.defaultProps?ia(ia({},p.type.defaultProps),p.props):p.props,y=g.stackId,x=g.hide;if(x)return f;var j=g[a],b=f[j]||{hasStack:!1,stackGroups:{}};if(Ra(y)){var N=b.stackGroups[y]||{numericAxisId:a,cateAxisId:s,items:[]};N.items.push(p),b.hasStack=!0,b.stackGroups[y]=N}else b.stackGroups[Mx("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[p]};return ia(ia({},f),{},Sm({},j,b))},c),h={};return Object.keys(u).reduce(function(f,p){var v=u[p];if(v.hasStack){var g={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,x){var j=v.stackGroups[x];return ia(ia({},y),{},Sm({},x,{numericAxisId:a,cateAxisId:s,items:j.items,stackedData:Ove(t,j.items,i)}))},g)}return ia(ia({},f),{},Sm({},p,v))},h)},Lve=function(t,n){var a=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=a||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var h=Kpe(u,i,l);return t.domain([Ob(h),Sd(h)]),{niceTicks:h}}if(i&&s==="number"){var f=t.domain(),p=Ype(f,i,l);return{niceTicks:p}}return null};function i6(e){var t=e.axis,n=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_r(s[t.dataKey])){var l=W0(n,"value",s[t.dataKey]);if(l)return l.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var c=Xi(s,_r(o)?t.dataKey:o);return _r(c)?null:t.scale(c)}var o6=function(t){var n=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return a[l]?a[l].coordinate+s:null;var c=Xi(o,n.dataKey,n.domain[l]);return _r(c)?null:n.scale(c)-i/2+s},Fve=function(t){var n=t.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},Mve=function(t,n){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?ia(ia({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Ra(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},$ve=function(t){return t.reduce(function(n,a){return[Ob(a.concat([n[0]]).filter(Pt)),Sd(a.concat([n[1]]).filter(Pt))]},[1/0,-1/0])},rB=function(t,n,a){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,h){var f=$ve(h.slice(n,a+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},l6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bC=function(t,n,a){if(Cr(t))return t(n,a);if(!Array.isArray(t))return n;var s=[];if(Pt(t[0]))s[0]=a?t[0]:Math.min(t[0],n[0]);else if(l6.test(t[0])){var i=+l6.exec(t[0])[1];s[0]=n[0]-i}else Cr(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(Pt(t[1]))s[1]=a?t[1]:Math.max(t[1],n[1]);else if(c6.test(t[1])){var o=+c6.exec(t[1])[1];s[1]=n[1]+o}else Cr(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},gy=function(t,n,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&n&&n.length>=2){for(var i=_4(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],h=i[l-1];o=Math.min((u.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},u6=function(t,n,a){return!t||!t.length||rx(t,Po(a,"type.defaultProps.domain"))?n:t},nB=function(t,n){var a=t.type.defaultProps?ia(ia({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,u=a.chartType,h=a.hide;return ia(ia({},Dr(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:aE(t),value:Xi(n,s),type:c,payload:n,chartType:u,hide:h})};function ox(e){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ox(e)}function d6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function f6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(n),!0).forEach(function(a){Bve(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Bve(e,t,n){return t=qve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qve(e){var t=zve(e,"string");return ox(t)=="symbol"?t:t+""}function zve(e,t){if(ox(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ox(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yy=Math.PI/180,Uve=function(t){return t*180/Math.PI},ds=function(t,n,a,s){return{x:t+Math.cos(-yy*s)*a,y:n+Math.sin(-yy*s)*a}},Vve=function(t,n){var a=t.x,s=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},Wve=function(t,n){var a=t.x,s=t.y,i=n.cx,o=n.cy,l=Vve({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Uve(u),angleInRadian:u}},Hve=function(t){var n=t.startAngle,a=t.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:a-o*360}},Gve=function(t,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},h6=function(t,n){var a=t.x,s=t.y,i=Wve({x:a,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var h=Hve(n),f=h.startAngle,p=h.endAngle,v=l,g;if(f<=p){for(;v>p;)v-=360;for(;v<f;)v+=360;g=v>=f&&v<=p}else{for(;v>f;)v-=360;for(;v<p;)v+=360;g=v>=p&&v<=f}return g?f6(f6({},n),{},{radius:o,angle:Gve(v,n)}):null};function lx(e){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(e)}var Kve=["offset"];function Yve(e){return Zve(e)||Jve(e)||Qve(e)||Xve()}function Xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qve(e,t){if(e){if(typeof e=="string")return jC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jC(e,t)}}function Jve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zve(e){if(Array.isArray(e))return jC(e)}function jC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function exe(e,t){if(e==null)return{};var n=txe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function txe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function m6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(n),!0).forEach(function(a){rxe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rxe(e,t,n){return t=nxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nxe(e){var t=axe(e,"string");return lx(t)=="symbol"?t:t+""}function axe(e,t){if(lx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(lx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cx.apply(this,arguments)}var sxe=function(t){var n=t.value,a=t.formatter,s=_r(t.children)?n:t.children;return Cr(a)?a(s):s},ixe=function(t,n){var a=ml(n-t),s=Math.min(Math.abs(n-t),360);return a*s},oxe=function(t,n,a){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,h=c.cy,f=c.innerRadius,p=c.outerRadius,v=c.startAngle,g=c.endAngle,y=c.clockWise,x=(f+p)/2,j=ixe(v,g),b=j>=0?1:-1,N,P;s==="insideStart"?(N=v+b*o,P=y):s==="insideEnd"?(N=g-b*o,P=!y):s==="end"&&(N=g+b*o,P=y),P=j<=0?P:!P;var I=ds(u,h,x,N),w=ds(u,h,x,N+(P?1:-1)*359),E="M".concat(I.x,",").concat(I.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(w.x,",").concat(w.y),C=_r(t.id)?Mx("recharts-radial-line-"):t.id;return Ne.createElement("text",cx({},a,{dominantBaseline:"central",className:Hr("recharts-radial-bar-label",l)}),Ne.createElement("defs",null,Ne.createElement("path",{id:C,d:E})),Ne.createElement("textPath",{xlinkHref:"#".concat(C)},n))},lxe=function(t){var n=t.viewBox,a=t.offset,s=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,h=i.startAngle,f=i.endAngle,p=(h+f)/2;if(s==="outside"){var v=ds(o,l,u+a,p),g=v.x,y=v.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,j=ds(o,l,x,p),b=j.x,N=j.y;return{x:b,y:N,textAnchor:"middle",verticalAnchor:"middle"}},cxe=function(t){var n=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,h=o.height,f=h>=0?1:-1,p=f*s,v=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,x=y*s,j=y>0?"end":"start",b=y>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:v};return Da(Da({},N),a?{height:Math.max(c-a.y,0),width:u}:{})}if(i==="bottom"){var P={x:l+u/2,y:c+h+p,textAnchor:"middle",verticalAnchor:g};return Da(Da({},P),a?{height:Math.max(a.y+a.height-(c+h),0),width:u}:{})}if(i==="left"){var I={x:l-x,y:c+h/2,textAnchor:j,verticalAnchor:"middle"};return Da(Da({},I),a?{width:Math.max(I.x-a.x,0),height:h}:{})}if(i==="right"){var w={x:l+u+x,y:c+h/2,textAnchor:b,verticalAnchor:"middle"};return Da(Da({},w),a?{width:Math.max(a.x+a.width-w.x,0),height:h}:{})}var E=a?{width:u,height:h}:{};return i==="insideLeft"?Da({x:l+x,y:c+h/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideRight"?Da({x:l+u-x,y:c+h/2,textAnchor:j,verticalAnchor:"middle"},E):i==="insideTop"?Da({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?Da({x:l+u/2,y:c+h-p,textAnchor:"middle",verticalAnchor:v},E):i==="insideTopLeft"?Da({x:l+x,y:c+p,textAnchor:b,verticalAnchor:g},E):i==="insideTopRight"?Da({x:l+u-x,y:c+p,textAnchor:j,verticalAnchor:g},E):i==="insideBottomLeft"?Da({x:l+x,y:c+h-p,textAnchor:b,verticalAnchor:v},E):i==="insideBottomRight"?Da({x:l+u-x,y:c+h-p,textAnchor:j,verticalAnchor:v},E):yp(i)&&(Pt(i.x)||Vf(i.x))&&(Pt(i.y)||Vf(i.y))?Da({x:l+uh(i.x,u),y:c+uh(i.y,h),textAnchor:"end",verticalAnchor:"end"},E):Da({x:l+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},E)},uxe=function(t){return"cx"in t&&Pt(t.cx)};function _s(e){var t=e.offset,n=t===void 0?5:t,a=exe(e,Kve),s=Da({offset:n},a),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,h=s.className,f=h===void 0?"":h,p=s.textBreakAll;if(!i||_r(l)&&_r(c)&&!S.isValidElement(u)&&!Cr(u))return null;if(S.isValidElement(u))return S.cloneElement(u,s);var v;if(Cr(u)){if(v=S.createElement(u,s),S.isValidElement(v))return v}else v=sxe(s);var g=uxe(i),y=Dr(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return oxe(s,v,y);var x=g?lxe(s):cxe(s);return Ne.createElement(ay,cx({className:Hr("recharts-label",f)},y,x,{breakAll:p}),v)}_s.displayName="Label";var aB=function(t){var n=t.cx,a=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,h=t.outerRadius,f=t.x,p=t.y,v=t.top,g=t.left,y=t.width,x=t.height,j=t.clockWise,b=t.labelViewBox;if(b)return b;if(Pt(y)&&Pt(x)){if(Pt(f)&&Pt(p))return{x:f,y:p,width:y,height:x};if(Pt(v)&&Pt(g))return{x:v,y:g,width:y,height:x}}return Pt(f)&&Pt(p)?{x:f,y:p,width:0,height:0}:Pt(n)&&Pt(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:h||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},dxe=function(t,n){return t?t===!0?Ne.createElement(_s,{key:"label-implicit",viewBox:n}):Ra(t)?Ne.createElement(_s,{key:"label-implicit",viewBox:n,value:t}):S.isValidElement(t)?t.type===_s?S.cloneElement(t,{key:"label-implicit",viewBox:n}):Ne.createElement(_s,{key:"label-implicit",content:t,viewBox:n}):Cr(t)?Ne.createElement(_s,{key:"label-implicit",content:t,viewBox:n}):yp(t)?Ne.createElement(_s,cx({viewBox:n},t,{key:"label-implicit"})):null:null},fxe=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=aB(t),o=pl(s,_s).map(function(c,u){return S.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!a)return o;var l=dxe(t.label,n||i);return[l].concat(Yve(o))};_s.parseViewBox=aB;_s.renderCallByParent=fxe;var l5,p6;function hxe(){if(p6)return l5;p6=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return l5=e,l5}var mxe=hxe();const pxe=rn(mxe);function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}var vxe=["valueAccessor"],xxe=["data","dataKey","clockWise","id","textBreakAll"];function gxe(e){return wxe(e)||jxe(e)||bxe(e)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bxe(e,t){if(e){if(typeof e=="string")return wC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wC(e,t)}}function jxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wxe(e){if(Array.isArray(e))return wC(e)}function wC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},by.apply(this,arguments)}function v6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function x6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(n),!0).forEach(function(a){Nxe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Nxe(e,t,n){return t=Sxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sxe(e){var t=Cxe(e,"string");return ux(t)=="symbol"?t:t+""}function Cxe(e,t){if(ux(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ux(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g6(e,t){if(e==null)return{};var n=Axe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Axe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var Exe=function(t){return Array.isArray(t.value)?pxe(t.value):t.value};function kd(e){var t=e.valueAccessor,n=t===void 0?Exe:t,a=g6(e,vxe),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,u=g6(a,xxe);return!s||!s.length?null:Ne.createElement(Jn,{className:"recharts-label-list"},s.map(function(h,f){var p=_r(i)?n(h,f):Xi(h&&h.payload,i),v=_r(l)?{}:{id:"".concat(l,"-").concat(f)};return Ne.createElement(_s,by({},Dr(h,!0),u,v,{parentViewBox:h.parentViewBox,value:p,textBreakAll:c,viewBox:_s.parseViewBox(_r(o)?h:x6(x6({},h),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}kd.displayName="LabelList";function Pxe(e,t){return e?e===!0?Ne.createElement(kd,{key:"labelList-implicit",data:t}):Ne.isValidElement(e)||Cr(e)?Ne.createElement(kd,{key:"labelList-implicit",data:t,content:e}):yp(e)?Ne.createElement(kd,by({data:t},e,{key:"labelList-implicit"})):null:null}function Txe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=pl(a,kd).map(function(o,l){return S.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return s;var i=Pxe(e.label,t);return[i].concat(gxe(s))}kd.renderCallByParent=Txe;function dx(e){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dx(e)}function NC(){return NC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},NC.apply(this,arguments)}function y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function b6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(n),!0).forEach(function(a){Ixe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ixe(e,t,n){return t=Dxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dxe(e){var t=_xe(e,"string");return dx(t)=="symbol"?t:t+""}function _xe(e,t){if(dx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(dx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kxe=function(t,n){var a=ml(n-t),s=Math.min(Math.abs(n-t),359.999);return a*s},n0=function(t){var n=t.cx,a=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,h=c*(l?1:-1)+s,f=Math.asin(c/h)/yy,p=u?i:i+o*f,v=ds(n,a,h,p),g=ds(n,a,s,p),y=u?i-o*f:i,x=ds(n,a,h*Math.cos(f*yy),y);return{center:v,circleTangency:g,lineTangency:x,theta:f}},sB=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=kxe(o,l),u=o+c,h=ds(n,a,i,o),f=ds(n,a,i,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var v=ds(n,a,s,o),g=ds(n,a,s,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(n,",").concat(a," Z");return p},Oxe=function(t){var n=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,h=t.endAngle,f=ml(h-u),p=n0({cx:n,cy:a,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),v=p.circleTangency,g=p.lineTangency,y=p.theta,x=n0({cx:n,cy:a,radius:i,angle:h,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=x.circleTangency,b=x.lineTangency,N=x.theta,P=c?Math.abs(u-h):Math.abs(u-h)-y-N;if(P<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sB({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:h});var I="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var w=n0({cx:n,cy:a,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=w.circleTangency,C=w.lineTangency,_=w.theta,M=n0({cx:n,cy:a,radius:s,angle:h,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=M.circleTangency,D=M.lineTangency,R=M.theta,F=c?Math.abs(u-h):Math.abs(u-h)-_-R;if(F<0&&o===0)return"".concat(I,"L").concat(n,",").concat(a,"Z");I+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else I+="L".concat(n,",").concat(a,"Z");return I},Rxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iB=function(t){var n=b6(b6({},Rxe),t),a=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,f=n.endAngle,p=n.className;if(o<i||h===f)return null;var v=Hr("recharts-sector",p),g=o-i,y=uh(l,g,0,!0),x;return y>0&&Math.abs(h-f)<360?x=Oxe({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f}):x=sB({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:h,endAngle:f}),Ne.createElement("path",NC({},Dr(n,!0),{className:v,d:x,role:"img"}))};function fx(e){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fx(e)}function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},SC.apply(this,arguments)}function j6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function w6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j6(Object(n),!0).forEach(function(a){Lxe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Lxe(e,t,n){return t=Fxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fxe(e){var t=Mxe(e,"string");return fx(t)=="symbol"?t:t+""}function Mxe(e,t){if(fx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(fx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N6={curveBasisClosed:sce,curveBasisOpen:ice,curveBasis:ace,curveBumpX:Vle,curveBumpY:Wle,curveLinearClosed:oce,curveLinear:Nb,curveMonotoneX:lce,curveMonotoneY:cce,curveNatural:uce,curveStep:dce,curveStepAfter:hce,curveStepBefore:fce},a0=function(t){return t.x===+t.x&&t.y===+t.y},cv=function(t){return t.x},uv=function(t){return t.y},$xe=function(t,n){if(Cr(t))return t;var a="curve".concat(jb(t));return(a==="curveMonotone"||a==="curveBump")&&n?N6["".concat(a).concat(n==="vertical"?"Y":"X")]:N6[a]||Nb},Bxe=function(t){var n=t.type,a=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,h=$xe(a,l),f=u?i.filter(function(y){return a0(y)}):i,p;if(Array.isArray(o)){var v=u?o.filter(function(y){return a0(y)}):o,g=f.map(function(y,x){return w6(w6({},y),{},{base:v[x]})});return l==="vertical"?p=Yg().y(uv).x1(cv).x0(function(y){return y.base.x}):p=Yg().x(cv).y1(uv).y0(function(y){return y.base.y}),p.defined(a0).curve(h),p(g)}return l==="vertical"&&Pt(o)?p=Yg().y(uv).x1(cv).x0(o):Pt(o)?p=Yg().x(cv).y1(uv).y0(o):p=d$().x(cv).y(uv),p.defined(a0).curve(h),p(f)},Tv=function(t){var n=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?Bxe(t):s;return S.createElement("path",SC({},Dr(t,!1),H0(t),{className:Hr("recharts-curve",n),d:o,ref:i}))},qxe=Object.getOwnPropertyNames,zxe=Object.getOwnPropertySymbols,Uxe=Object.prototype.hasOwnProperty;function S6(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function s0(e){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return e(n,a,s);var i=s.cache,o=i.get(n),l=i.get(a);if(o&&l)return o===a&&l===n;i.set(n,a),i.set(a,n);var c=e(n,a,s);return i.delete(n),i.delete(a),c}}function C6(e){return qxe(e).concat(zxe(e))}var Vxe=Object.hasOwn||function(e,t){return Uxe.call(e,t)};function Sh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Wxe="__v",Hxe="__o",Gxe="_owner",A6=Object.getOwnPropertyDescriptor,E6=Object.keys;function Kxe(e,t,n){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],t[a],a,a,e,t,n))return!1;return!0}function Yxe(e,t){return Sh(e.getTime(),t.getTime())}function Xxe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Qxe(e,t){return e===t}function P6(e,t,n){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),h=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var p=o.value,v=l.value;if(n.equals(p[0],v[0],c,f,e,t,n)&&n.equals(p[1],v[1],p[0],v[0],e,t,n)){h=s[f]=!0;break}f++}if(!h)return!1;c++}return!0}var Jxe=Sh;function Zxe(e,t,n){var a=E6(e),s=a.length;if(E6(t).length!==s)return!1;for(;s-- >0;)if(!oB(e,t,n,a[s]))return!1;return!0}function dv(e,t,n){var a=C6(e),s=a.length;if(C6(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!oB(e,t,n,i)||(o=A6(e,i),l=A6(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ege(e,t){return Sh(e.valueOf(),t.valueOf())}function tge(e,t){return e.source===t.source&&e.flags===t.flags}function T6(e,t,n){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,h=0;(l=c.next())&&!l.done;){if(!s[h]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=s[h]=!0;break}h++}if(!u)return!1}return!0}function rge(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function nge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function oB(e,t,n,a){return(a===Gxe||a===Hxe||a===Wxe)&&(e.$$typeof||t.$$typeof)?!0:Vxe(t,a)&&n.equals(e[a],t[a],a,a,e,t,n)}var age="[object Arguments]",sge="[object Boolean]",ige="[object Date]",oge="[object Error]",lge="[object Map]",cge="[object Number]",uge="[object Object]",dge="[object RegExp]",fge="[object Set]",hge="[object String]",mge="[object URL]",pge=Array.isArray,I6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,D6=Object.assign,vge=Object.prototype.toString.call.bind(Object.prototype.toString);function xge(e){var t=e.areArraysEqual,n=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,h=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(g,y,x){if(g===y)return!0;if(g==null||y==null)return!1;var j=typeof g;if(j!==typeof y)return!1;if(j!=="object")return j==="number"?o(g,y,x):j==="function"?s(g,y,x):!1;var b=g.constructor;if(b!==y.constructor)return!1;if(b===Object)return l(g,y,x);if(pge(g))return t(g,y,x);if(I6!=null&&I6(g))return f(g,y,x);if(b===Date)return n(g,y,x);if(b===RegExp)return u(g,y,x);if(b===Map)return i(g,y,x);if(b===Set)return h(g,y,x);var N=vge(g);return N===ige?n(g,y,x):N===dge?u(g,y,x):N===lge?i(g,y,x):N===fge?h(g,y,x):N===uge?typeof g.then!="function"&&typeof y.then!="function"&&l(g,y,x):N===mge?p(g,y,x):N===oge?a(g,y,x):N===age?l(g,y,x):N===sge||N===cge||N===hge?c(g,y,x):!1}}function gge(e){var t=e.circular,n=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?dv:Kxe,areDatesEqual:Yxe,areErrorsEqual:Xxe,areFunctionsEqual:Qxe,areMapsEqual:a?S6(P6,dv):P6,areNumbersEqual:Jxe,areObjectsEqual:a?dv:Zxe,arePrimitiveWrappersEqual:ege,areRegExpsEqual:tge,areSetsEqual:a?S6(T6,dv):T6,areTypedArraysEqual:a?dv:rge,areUrlsEqual:nge};if(n&&(s=D6({},s,n(s))),t){var i=s0(s.areArraysEqual),o=s0(s.areMapsEqual),l=s0(s.areObjectsEqual),c=s0(s.areSetsEqual);s=D6({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function yge(e){return function(t,n,a,s,i,o,l){return e(t,n,l)}}function bge(e){var t=e.circular,n=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(c,u){var h=a(),f=h.cache,p=f===void 0?t?new WeakMap:void 0:f,v=h.meta;return n(c,u,{cache:p,equals:s,meta:v,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var jge=Yd();Yd({strict:!0});Yd({circular:!0});Yd({circular:!0,strict:!0});Yd({createInternalComparator:function(){return Sh}});Yd({strict:!0,createInternalComparator:function(){return Sh}});Yd({circular:!0,createInternalComparator:function(){return Sh}});Yd({circular:!0,createInternalComparator:function(){return Sh},strict:!0});function Yd(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=gge(e),c=xge(l),u=a?a(c):yge(c);return bge({circular:n,comparator:c,createState:s,equals:u,strict:o})}function wge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):wge(s)};requestAnimationFrame(a)}function CC(e){"@babel/helpers - typeof";return CC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CC(e)}function Nge(e){return Ege(e)||Age(e)||Cge(e)||Sge()}function Sge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cge(e,t){if(e){if(typeof e=="string")return k6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k6(e,t)}}function k6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Age(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ege(e){if(Array.isArray(e))return e}function Pge(){var e={},t=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Nge(o),c=l[0],u=l.slice(1);if(typeof c=="number"){_6(s.bind(null,u),c);return}s(c),_6(s.bind(null,u));return}CC(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function hx(e){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hx(e)}function O6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function R6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(n),!0).forEach(function(a){lB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lB(e,t,n){return t=Tge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tge(e){var t=Ige(e,"string");return hx(t)==="symbol"?t:String(t)}function Ige(e,t){if(hx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(hx(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dge=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},_ge=function(t){return t},kge=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Iv=function(t,n){return Object.keys(n).reduce(function(a,s){return R6(R6({},a),{},lB({},s,t(s,n[s])))},{})},L6=function(t,n,a){return t.map(function(s){return"".concat(kge(s)," ").concat(n,"ms ").concat(a)}).join(",")};function Oge(e,t){return Fge(e)||Lge(e,t)||cB(e,t)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lge(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Fge(e){if(Array.isArray(e))return e}function Mge(e){return qge(e)||Bge(e)||cB(e)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cB(e,t){if(e){if(typeof e=="string")return AC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AC(e,t)}}function Bge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qge(e){if(Array.isArray(e))return AC(e)}function AC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var jy=1e-4,uB=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},dB=function(t,n){return t.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},F6=function(t,n){return function(a){var s=uB(t,n);return dB(s,a)}},zge=function(t,n){return function(a){var s=uB(t,n),i=[].concat(Mge(s.map(function(o,l){return o*l}).slice(1)),[0]);return dB(i,a)}},M6=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=Oge(u,4);s=h[0],i=h[1],o=h[2],l=h[3]}}}var f=F6(s,o),p=F6(i,l),v=zge(s,o),g=function(j){return j>1?1:j<0?0:j},y=function(j){for(var b=j>1?1:j,N=b,P=0;P<8;++P){var I=f(N)-b,w=v(N);if(Math.abs(I-b)<jy||w<jy)return p(N);N=g(N-I/w)}return p(N)};return y.isStepper=!1,y},Uge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,a=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(h,f,p){var v=-(h-f)*a,g=p*i,y=p+(v-g)*l/1e3,x=p*l/1e3+h;return Math.abs(x-f)<jy&&Math.abs(y)<jy?[f,0]:[x,y]};return c.isStepper=!0,c.dt=l,c},Vge=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M6(s);case"spring":return Uge();default:if(s.split("(")[0]==="cubic-bezier")return M6(s)}return typeof s=="function"?s:null};function mx(e){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mx(e)}function $6(e){return Gge(e)||Hge(e)||fB(e)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gge(e){if(Array.isArray(e))return PC(e)}function B6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(n),!0).forEach(function(a){EC(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function EC(e,t,n){return t=Kge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kge(e){var t=Yge(e,"string");return mx(t)==="symbol"?t:String(t)}function Yge(e,t){if(mx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(mx(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xge(e,t){return Zge(e)||Jge(e,t)||fB(e,t)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fB(e,t){if(e){if(typeof e=="string")return PC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(e,t)}}function PC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Jge(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Zge(e){if(Array.isArray(e))return e}var wy=function(t,n,a){return t+(n-t)*a},TC=function(t){var n=t.from,a=t.to;return n!==a},e0e=function e(t,n,a){var s=Iv(function(i,o){if(TC(o)){var l=t(o.from,o.to,o.velocity),c=Xge(l,2),u=c[0],h=c[1];return ls(ls({},o),{},{from:u,velocity:h})}return o},n);return a<1?Iv(function(i,o){return TC(o)?ls(ls({},o),{},{velocity:wy(o.velocity,s[i].velocity,a),from:wy(o.from,s[i].from,a)}):o},n):e(t,s,a-1)};const t0e=function(e,t,n,a,s){var i=Dge(e,t),o=i.reduce(function(x,j){return ls(ls({},x),{},EC({},j,[e[j],t[j]]))},{}),l=i.reduce(function(x,j){return ls(ls({},x),{},EC({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,h,f=function(){return null},p=function(){return Iv(function(j,b){return b.from},l)},v=function(){return!Object.values(l).filter(TC).length},g=function(j){u||(u=j);var b=j-u,N=b/n.dt;l=e0e(n,l,N),s(ls(ls(ls({},e),t),p())),u=j,v()||(c=requestAnimationFrame(f))},y=function(j){h||(h=j);var b=(j-h)/a,N=Iv(function(I,w){return wy.apply(void 0,$6(w).concat([n(b)]))},o);if(s(ls(ls(ls({},e),t),N)),b<1)c=requestAnimationFrame(f);else{var P=Iv(function(I,w){return wy.apply(void 0,$6(w).concat([n(1)]))},o);s(ls(ls(ls({},e),t),P))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var r0e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function n0e(e,t){if(e==null)return{};var n=a0e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function a0e(e,t){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function c5(e){return l0e(e)||o0e(e)||i0e(e)||s0e()}function s0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(e,t){if(e){if(typeof e=="string")return IC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(e,t)}}function o0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l0e(e){if(Array.isArray(e))return IC(e)}function IC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function sl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(n),!0).forEach(function(a){xv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xv(e,t,n){return t=hB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u0e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,hB(a.key),a)}}function d0e(e,t,n){return t&&u0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hB(e){var t=f0e(e,"string");return Um(t)==="symbol"?t:String(t)}function f0e(e,t){if(Um(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Um(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},DC(e,t)}function m0e(e){var t=p0e();return function(){var a=Ny(e),s;if(t){var i=Ny(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return _C(this,s)}}function _C(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kC(e)}function kC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ny(e)}var mu=function(e){h0e(n,e);var t=m0e(n);function n(a,s){var i;c0e(this,n),i=t.call(this,a,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,h=o.to,f=o.steps,p=o.children,v=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(kC(i)),i.changeStyle=i.changeStyle.bind(kC(i)),!l||v<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:h}),_C(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof p=="function")return i.state={style:u},_C(i);i.state={style:c?xv({},c,u):u}}else i.state={style:{}};return i}return d0e(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,h=i.to,f=i.from,p=this.state.style;if(l){if(!o){var v={style:c?xv({},c,h):h};this.state&&p&&(c&&p[c]!==h||!c&&p!==h)&&this.setState(v);return}if(!(jge(s.to,h)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:s.to;if(this.state&&p){var x={style:c?xv({},c,y):y};(c&&p[c]!==y||!c&&p!==y)&&this.setState(x)}this.runAnimation(sl(sl({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,h=s.begin,f=s.onAnimationEnd,p=s.onAnimationStart,v=t0e(o,l,Vge(u),c,this.changeStyle),g=function(){i.stopJSAnimation=v()};this.manager.start([p,h,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],h=u.style,f=u.duration,p=f===void 0?0:f,v=function(y,x,j){if(j===0)return y;var b=x.duration,N=x.easing,P=N===void 0?"ease":N,I=x.style,w=x.properties,E=x.onAnimationEnd,C=j>0?o[j-1]:x,_=w||Object.keys(I);if(typeof P=="function"||P==="spring")return[].concat(c5(y),[i.runJSAnimation.bind(i,{from:C.style,to:I,duration:b,easing:P}),b]);var M=L6(_,b,P),k=sl(sl(sl({},C.style),I),{},{transition:M});return[].concat(c5(y),[k,b,E]).filter(_ge)};return this.manager.start([c].concat(c5(o.reduce(v,[h,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Pge());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,h=s.onAnimationStart,f=s.onAnimationEnd,p=s.steps,v=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var y=l?xv({},l,c):c,x=L6(Object.keys(y),o,u);g.start([h,i,sl(sl({},y),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=n0e(s,r0e),u=S.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||u===0||o<=0)return i;var f=function(v){var g=v.props,y=g.style,x=y===void 0?{}:y,j=g.className,b=S.cloneElement(v,sl(sl({},c),{},{style:sl(sl({},x),h),className:j}));return b};return u===1?f(S.Children.only(i)):Ne.createElement("div",null,S.Children.map(i,function(p){return f(p)}))}}]),n}(S.PureComponent);mu.displayName="Animate";mu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};mu.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};function px(e){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},px(e)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sy.apply(this,arguments)}function v0e(e,t){return b0e(e)||y0e(e,t)||g0e(e,t)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(e,t){if(e){if(typeof e=="string")return z6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z6(e,t)}}function z6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function b0e(e){if(Array.isArray(e))return e}function U6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function V6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(n),!0).forEach(function(a){j0e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function j0e(e,t,n){return t=w0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w0e(e){var t=N0e(e,"string");return px(t)=="symbol"?t:t+""}function N0e(e,t){if(px(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(px(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W6=function(t,n,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,h;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,v=4;p<v;p++)f[p]=i[p]>o?o:i[p];h="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),h+="L ".concat(t+a-c*f[1],",").concat(n),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+a,",").concat(n+l*f[1])),h+="L ".concat(t+a,",").concat(n+s-l*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+a-c*f[2],",").concat(n+s)),h+="L ".concat(t+c*f[3],",").concat(n+s),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+s-l*f[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);h="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+a-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+a,",").concat(n+l*g,`
            L `).concat(t+a,",").concat(n+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+a-c*g,",").concat(n+s,`
            L `).concat(t+c*g,",").concat(n+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+s-l*g," Z")}else h="M ".concat(t,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return h},S0e=function(t,n){if(!t||!n)return!1;var a=t.x,s=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),h=Math.max(i,i+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return a>=u&&a<=h&&s>=f&&s<=p}return!1},C0e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sE=function(t){var n=V6(V6({},C0e),t),a=S.useRef(),s=S.useState(-1),i=v0e(s,2),o=i[0],l=i[1];S.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var P=a.current.getTotalLength();P&&l(P)}catch{}},[]);var c=n.x,u=n.y,h=n.width,f=n.height,p=n.radius,v=n.className,g=n.animationEasing,y=n.animationDuration,x=n.animationBegin,j=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||f!==+f||h===0||f===0)return null;var N=Hr("recharts-rectangle",v);return b?Ne.createElement(mu,{canBegin:o>0,from:{width:h,height:f,x:c,y:u},to:{width:h,height:f,x:c,y:u},duration:y,animationEasing:g,isActive:b},function(P){var I=P.width,w=P.height,E=P.x,C=P.y;return Ne.createElement(mu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:j,easing:g},Ne.createElement("path",Sy({},Dr(n,!0),{className:N,d:W6(E,C,I,w,p),ref:a})))}):Ne.createElement("path",Sy({},Dr(n,!0),{className:N,d:W6(c,u,h,f,p)}))};function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},OC.apply(this,arguments)}var iE=function(t){var n=t.cx,a=t.cy,s=t.r,i=t.className,o=Hr("recharts-dot",i);return n===+n&&a===+a&&s===+s?S.createElement("circle",OC({},Dr(t,!1),H0(t),{className:o,cx:n,cy:a,r:s})):null};function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}var A0e=["x","y","top","left","width","height","className"];function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},RC.apply(this,arguments)}function H6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function E0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(n),!0).forEach(function(a){P0e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function P0e(e,t,n){return t=T0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T0e(e){var t=I0e(e,"string");return vx(t)=="symbol"?t:t+""}function I0e(e,t){if(vx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(vx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D0e(e,t){if(e==null)return{};var n=_0e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function _0e(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}var k0e=function(t,n,a,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(a)},O0e=function(t){var n=t.x,a=n===void 0?0:n,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,h=t.width,f=h===void 0?0:h,p=t.height,v=p===void 0?0:p,g=t.className,y=D0e(t,A0e),x=E0e({x:a,y:i,top:l,left:u,width:f,height:v},y);return!Pt(a)||!Pt(i)||!Pt(f)||!Pt(v)||!Pt(l)||!Pt(u)?null:Ne.createElement("path",RC({},Dr(x,!0),{className:Hr("recharts-cross",g),d:k0e(a,i,f,v,l,u)}))},u5,G6;function R0e(){if(G6)return u5;G6=1;var e=O$(),t=e(Object.getPrototypeOf,Object);return u5=t,u5}var d5,K6;function L0e(){if(K6)return d5;K6=1;var e=xu(),t=R0e(),n=gu(),a="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function u(h){if(!n(h)||e(h)!=a)return!1;var f=t(h);if(f===null)return!0;var p=l.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return d5=u,d5}var F0e=L0e();const M0e=rn(F0e);var f5,Y6;function $0e(){if(Y6)return f5;Y6=1;var e=xu(),t=gu(),n="[object Boolean]";function a(s){return s===!0||s===!1||t(s)&&e(s)==n}return f5=a,f5}var B0e=$0e();const q0e=rn(B0e);function xx(e){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cy.apply(this,arguments)}function z0e(e,t){return H0e(e)||W0e(e,t)||V0e(e,t)||U0e()}function U0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0e(e,t){if(e){if(typeof e=="string")return X6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X6(e,t)}}function X6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function W0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function H0e(e){if(Array.isArray(e))return e}function Q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function J6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(n),!0).forEach(function(a){G0e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q6(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function G0e(e,t,n){return t=K0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K0e(e){var t=Y0e(e,"string");return xx(t)=="symbol"?t:t+""}function Y0e(e,t){if(xx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(xx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z6=function(t,n,a,s,i){var o=a-s,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+a,",").concat(n),l+="L ".concat(t+a-o/2,",").concat(n+i),l+="L ".concat(t+a-o/2-s,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},X0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q0e=function(t){var n=J6(J6({},X0e),t),a=S.useRef(),s=S.useState(-1),i=z0e(s,2),o=i[0],l=i[1];S.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,h=n.upperWidth,f=n.lowerWidth,p=n.height,v=n.className,g=n.animationEasing,y=n.animationDuration,x=n.animationBegin,j=n.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||f!==+f||p!==+p||h===0&&f===0||p===0)return null;var b=Hr("recharts-trapezoid",v);return j?Ne.createElement(mu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:h,lowerWidth:f,height:p,x:c,y:u},duration:y,animationEasing:g,isActive:j},function(N){var P=N.upperWidth,I=N.lowerWidth,w=N.height,E=N.x,C=N.y;return Ne.createElement(mu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:g},Ne.createElement("path",Cy({},Dr(n,!0),{className:b,d:Z6(E,C,P,I,w),ref:a})))}):Ne.createElement("g",null,Ne.createElement("path",Cy({},Dr(n,!0),{className:b,d:Z6(c,u,h,f,p)})))},J0e=["option","shapeType","propTransformer","activeClassName","isActive"];function gx(e){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gx(e)}function Z0e(e,t){if(e==null)return{};var n=eye(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function eye(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(a){tye(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function tye(e,t,n){return t=rye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rye(e){var t=nye(e,"string");return gx(t)=="symbol"?t:t+""}function nye(e,t){if(gx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(gx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aye(e,t){return Ay(Ay({},t),e)}function sye(e,t){return e==="symbols"}function tR(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Ne.createElement(sE,n);case"trapezoid":return Ne.createElement(Q0e,n);case"sector":return Ne.createElement(iB,n);case"symbols":if(sye(t))return Ne.createElement(S4,n);break;default:return null}}function iye(e){return S.isValidElement(e)?e.props:e}function oye(e){var t=e.option,n=e.shapeType,a=e.propTransformer,s=a===void 0?aye:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Z0e(e,J0e),u;if(S.isValidElement(t))u=S.cloneElement(t,Ay(Ay({},c),iye(t)));else if(Cr(t))u=t(c);else if(M0e(t)&&!q0e(t)){var h=s(t,c);u=Ne.createElement(tR,{shapeType:n,elementProps:h})}else{var f=c;u=Ne.createElement(tR,{shapeType:n,elementProps:f})}return l?Ne.createElement(Jn,{className:o},u):u}function Mb(e,t){return t!=null&&"trapezoids"in e.props}function $b(e,t){return t!=null&&"sectors"in e.props}function yx(e,t){return t!=null&&"points"in e.props}function lye(e,t){var n,a,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function cye(e,t){var n=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return n&&a}function uye(e,t){var n=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return n&&a&&s}function dye(e,t){var n;return Mb(e,t)?n=lye:$b(e,t)?n=cye:yx(e,t)&&(n=uye),n}function fye(e,t){var n;return Mb(e,t)?n="trapezoids":$b(e,t)?n="sectors":yx(e,t)&&(n="points"),n}function hye(e,t){if(Mb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if($b(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return yx(e,t)?t.payload:{}}function mye(e){var t=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,s=fye(n,t),i=hye(n,t),o=a.filter(function(c,u){var h=rx(i,c),f=n.props[s].filter(function(g){var y=dye(n,t);return y(g,t)}),p=n.props[s].indexOf(f[f.length-1]),v=u===p;return h&&v}),l=a.indexOf(o[o.length-1]);return l}var h5,rR;function pye(){if(rR)return h5;rR=1;var e=Math.ceil,t=Math.max;function n(a,s,i,o){for(var l=-1,c=t(e((s-a)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=a,a+=i;return u}return h5=n,h5}var m5,nR;function mB(){if(nR)return m5;nR=1;var e=X$(),t=1/0,n=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return m5=a,m5}var p5,aR;function vye(){if(aR)return p5;aR=1;var e=pye(),t=Eb(),n=mB();function a(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),e(i,o,l,s)}}return p5=a,p5}var v5,sR;function xye(){if(sR)return v5;sR=1;var e=vye(),t=e();return v5=t,v5}var gye=xye();const Ey=rn(gye);function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}function iR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(n),!0).forEach(function(a){pB(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pB(e,t,n){return t=yye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yye(e){var t=bye(e,"string");return bx(t)=="symbol"?t:t+""}function bye(e,t){if(bx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(bx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jye=["Webkit","Moz","O","ms"],wye=function(t,n){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=jye.reduce(function(i,o){return oR(oR({},i),{},pB({},o+a,n))},{});return s[t]=n,s};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Py.apply(this,arguments)}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function x5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(a){$i(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cR(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xB(a.key),a)}}function Sye(e,t,n){return t&&cR(e.prototype,t),n&&cR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cye(e,t,n){return t=Ty(t),Aye(e,vB()?Reflect.construct(t,n||[],Ty(e).constructor):t.apply(e,n))}function Aye(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eye(e)}function Eye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ty(e)}function Pye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LC(e,t)}function LC(e,t){return LC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},LC(e,t)}function $i(e,t,n){return t=xB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xB(e){var t=Tye(e,"string");return Vm(t)=="symbol"?t:t+""}function Tye(e,t){if(Vm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Iye=function(t){var n=t.data,a=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Ev().domain(Ey(0,c)).range([i,i+o-l]),h=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(a),endX:u(s),scale:u,scaleValues:h}},uR=function(t){return t.changedTouches&&!!t.changedTouches.length},Wm=function(e){function t(n){var a;return Nye(this,t),a=Cye(this,t,[n]),$i(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),$i(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),$i(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o?.({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),$i(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),$i(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),$i(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),$i(a,"handleSlideDragStart",function(s){var i=uR(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return Pye(t,e),Sye(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,h=u.length-1,f=Math.min(s,i),p=Math.max(s,i),v=t.getIndexInRange(o,f),g=t.getIndexInRange(o,p);return{startIndex:v-v%c,endIndex:g===h?h:g-g%c}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Xi(i[a],l,a);return Cr(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,h=c.width,f=c.travellerWidth,p=c.startIndex,v=c.endIndex,g=c.onChange,y=a.pageX-i;y>0?y=Math.min(y,u+h-f-l,u+h-f-o):y<0&&(y=Math.max(y,u-o,u-l));var x=this.getIndex({startX:o+y,endX:l+y});(x.startIndex!==p||x.endIndex!==v)&&g&&g(x),this.setState({startX:o+y,endX:l+y,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=uR(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],h=this.props,f=h.x,p=h.width,v=h.travellerWidth,g=h.onChange,y=h.gap,x=h.data,j={startX:this.state.startX,endX:this.state.endX},b=a.pageX-i;b>0?b=Math.min(b,f+p-v-u):b<0&&(b=Math.max(b,f-u)),j[o]=u+b;var N=this.getIndex(j),P=N.startIndex,I=N.endIndex,w=function(){var C=x.length-1;return o==="startX"&&(l>c?P%y===0:I%y===0)||l<c&&I===C||o==="endX"&&(l>c?I%y===0:P%y===0)||l>c&&I===C};this.setState($i($i({},o,u+b),"brushMoveStartX",a.pageX),function(){g&&w()&&g(N)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,h=this.state[s],f=l.indexOf(h);if(f!==-1){var p=f+a;if(!(p===-1||p>=l.length)){var v=l[p];s==="startX"&&v>=u||s==="endX"&&v<=c||this.setState($i({},s,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,u=a.stroke;return Ne.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.data,u=a.children,h=a.padding,f=S.Children.only(u);return f?Ne.cloneElement(f,{x:s,y:i,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,l=this,c=this.props,u=c.y,h=c.travellerWidth,f=c.height,p=c.traveller,v=c.ariaLabel,g=c.data,y=c.startIndex,x=c.endIndex,j=Math.max(a,this.props.x),b=x5(x5({},Dr(this.props,!1)),{},{x:j,y:u,width:h,height:f}),N=v||"Min value: ".concat((i=g[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return Ne.createElement(Jn,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),l.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,b))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,h=Math.min(a,s)+u,f=Math.max(Math.abs(s-a)-u,0);return Ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:f,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,u=a.stroke,h=this.state,f=h.startX,p=h.endX,v=5,g={pointerEvents:"none",fill:u};return Ne.createElement(Jn,{className:"recharts-brush-texts"},Ne.createElement(ay,Py({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-v,y:o+l/2},g),this.getTextOfTick(s)),Ne.createElement(ay,Py({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+v,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,l=a.x,c=a.y,u=a.width,h=a.height,f=a.alwaysShowText,p=this.state,v=p.startX,g=p.endX,y=p.isTextActive,x=p.isSlideMoving,j=p.isTravellerMoving,b=p.isTravellerFocused;if(!s||!s.length||!Pt(l)||!Pt(c)||!Pt(u)||!Pt(h)||u<=0||h<=0)return null;var N=Hr("recharts-brush",i),P=Ne.Children.count(o)===1,I=wye("userSelect","none");return Ne.createElement(Jn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(v,g),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(g,"endX"),(y||x||j||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,u=Math.floor(i+l/2)-1;return Ne.createElement(Ne.Fragment,null,Ne.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),Ne.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),Ne.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Ne.isValidElement(a)?i=Ne.cloneElement(a,s):Cr(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,u=a.updateId,h=a.startIndex,f=a.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return x5({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Iye({data:i,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>s?l=c:o=c}return s>=a[l]?l:o}}])}(S.PureComponent);$i(Wm,"displayName","Brush");$i(Wm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var g5,dR;function Dye(){if(dR)return g5;dR=1;var e=D4();function t(n,a){var s;return e(n,function(i,o,l){return s=a(i,o,l),!s}),!!s}return g5=t,g5}var y5,fR;function _ye(){if(fR)return y5;fR=1;var e=E$(),t=Hd(),n=Dye(),a=Ni(),s=Eb();function i(o,l,c){var u=a(o)?e:n;return c&&s(o,l,c)&&(l=void 0),u(o,t(l,3))}return y5=i,y5}var kye=_ye();const Oye=rn(kye);var cc=function(t,n){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===n},b5,hR;function Rye(){if(hR)return b5;hR=1;var e=W$();function t(n,a,s){a=="__proto__"&&e?e(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}return b5=t,b5}var j5,mR;function Lye(){if(mR)return j5;mR=1;var e=Rye(),t=U$(),n=Hd();function a(s,i){var o={};return i=n(i,3),t(s,function(l,c,u){e(o,c,i(l,c,u))}),o}return j5=a,j5}var Fye=Lye();const Mye=rn(Fye);var w5,pR;function $ye(){if(pR)return w5;pR=1;function e(t,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(!n(t[a],a,t))return!1;return!0}return w5=e,w5}var N5,vR;function Bye(){if(vR)return N5;vR=1;var e=D4();function t(n,a){var s=!0;return e(n,function(i,o,l){return s=!!a(i,o,l),s}),s}return N5=t,N5}var S5,xR;function qye(){if(xR)return S5;xR=1;var e=$ye(),t=Bye(),n=Hd(),a=Ni(),s=Eb();function i(o,l,c){var u=a(o)?e:t;return c&&s(o,l,c)&&(l=void 0),u(o,n(l,3))}return S5=i,S5}var zye=qye();const Uye=rn(zye);var Vye=["x","y"];function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function FC(){return FC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},FC.apply(this,arguments)}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(a){Wye(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Wye(e,t,n){return t=Hye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hye(e){var t=Gye(e,"string");return jx(t)=="symbol"?t:t+""}function Gye(e,t){if(jx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(jx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kye(e,t){if(e==null)return{};var n=Yye(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Yye(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Xye(e,t){var n=e.x,a=e.y,s=Kye(e,Vye),i="".concat(n),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),u="".concat(t.height||s.height),h=parseInt(u,10),f="".concat(t.width||s.width),p=parseInt(f,10);return fv(fv(fv(fv(fv({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function yR(e){return Ne.createElement(oye,FC({shapeType:"rectangle",propTransformer:Xye,activeClassName:"recharts-active-bar"},e))}var Qye=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=Pt(a)||dle(a);return i?t(a,s):(i||Md(),n)}},Jye=["value","background"],gB;function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function Zye(e,t){if(e==null)return{};var n=ebe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ebe(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Iy.apply(this,arguments)}function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(n),!0).forEach(function(a){Cd(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function tbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,bB(a.key),a)}}function rbe(e,t,n){return t&&jR(e.prototype,t),n&&jR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nbe(e,t,n){return t=Dy(t),abe(e,yB()?Reflect.construct(t,n||[],Dy(e).constructor):t.apply(e,n))}function abe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbe(e)}function sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yB=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dy(e)}function ibe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MC(e,t)}function MC(e,t){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},MC(e,t)}function Cd(e,t,n){return t=bB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bB(e){var t=obe(e,"string");return Hm(t)=="symbol"?t:t+""}function obe(e,t){if(Hm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Hm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ch=function(e){function t(){var n;tbe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=nbe(this,t,[].concat(s)),Cd(n,"state",{isAnimationFinished:!1}),Cd(n,"id",Mx("recharts-bar-")),Cd(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Cd(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return ibe(t,e),rbe(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,h=Dr(this.props,!1);return a&&a.map(function(f,p){var v=p===c,g=v?u:o,y=wa(wa(wa({},h),f),{},{isActive:v,option:g,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Ne.createElement(Jn,Iy({className:"recharts-bar-rectangle"},G0(s.props,f,p),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(p)}),Ne.createElement(yR,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,h=s.animationEasing,f=s.animationId,p=this.state.prevData;return Ne.createElement(mu,{begin:c,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var g=v.t,y=i.map(function(x,j){var b=p&&p[j];if(b){var N=No(b.x,x.x),P=No(b.y,x.y),I=No(b.width,x.width),w=No(b.height,x.height);return wa(wa({},x),{},{x:N(g),y:P(g),width:I(g),height:w(g)})}if(o==="horizontal"){var E=No(0,x.height),C=E(g);return wa(wa({},x),{},{y:x.y+x.height-C,height:C})}var _=No(0,x.width),M=_(g);return wa(wa({},x),{},{width:M})});return Ne.createElement(Jn,null,a.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!rx(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Dr(this.props.background,!1);return i.map(function(u,h){u.value;var f=u.background,p=Zye(u,Jye);if(!f)return null;var v=wa(wa(wa(wa(wa({},p),{},{fill:"#eee"},f),c),G0(a.props,u,h)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return Ne.createElement(yR,Iy({key:"background-bar-".concat(h),option:a.props.background,isActive:h===l},v))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,h=i.children,f=pl(h,Fb);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,v=function(x,j){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Xi(x,j)}},g={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Ne.createElement(Jn,g,f.map(function(y){return Ne.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,u=a.left,h=a.top,f=a.width,p=a.height,v=a.isAnimationActive,g=a.background,y=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,j=Hr("recharts-bar",o),b=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,P=b||N,I=_r(y)?this.id:y;return Ne.createElement(Jn,{className:j},b||N?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(I)},Ne.createElement("rect",{x:b?u:u-f/2,y:N?h:h-p/2,width:b?f:f*2,height:N?p:p*2}))):null,Ne.createElement(Jn,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(I,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,I),(!v||x)&&kd.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(S.PureComponent);gB=Ch;Cd(Ch,"displayName","Bar");Cd(Ch,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Cd(Ch,"getComposedData",function(e){var t=e.props,n=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,h=e.dataStartIndex,f=e.displayedData,p=e.offset,v=Tve(a,n);if(!v)return null;var g=t.layout,y=n.type.defaultProps,x=y!==void 0?wa(wa({},y),n.props):n.props,j=x.dataKey,b=x.children,N=x.minPointSize,P=g==="horizontal"?o:i,I=u?P.scale.domain():null,w=Fve({numericAxis:P}),E=pl(b,J$),C=f.map(function(_,M){var k,D,R,F,z,V;u?k=Ive(u[h+M],I):(k=Xi(_,j),Array.isArray(k)||(k=[w,k]));var B=Qye(N,gB.defaultProps.minPointSize)(k[1],M);if(g==="horizontal"){var H,G=[o.scale(k[0]),o.scale(k[1])],Z=G[0],Q=G[1];D=o6({axis:i,ticks:l,bandSize:s,offset:v.offset,entry:_,index:M}),R=(H=Q??Z)!==null&&H!==void 0?H:void 0,F=v.size;var $=Z-Q;if(z=Number.isNaN($)?0:$,V={x:D,y:o.y,width:F,height:o.height},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var K=ml(z||B)*(Math.abs(B)-Math.abs(z));R-=K,z+=K}}else{var te=[i.scale(k[0]),i.scale(k[1])],se=te[0],oe=te[1];if(D=se,R=o6({axis:o,ticks:c,bandSize:s,offset:v.offset,entry:_,index:M}),F=oe-se,z=v.size,V={x:i.x,y:R,width:i.width,height:z},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var me=ml(F||B)*(Math.abs(B)-Math.abs(F));F+=me}}return wa(wa(wa({},_),{},{x:D,y:R,width:F,height:z,value:u?k:k[1],payload:_,background:V},E&&E[M]&&E[M].props),{},{tooltipPayload:[nB(n,_)],tooltipPosition:{x:D+F/2,y:R+z/2}})});return wa({data:C,layout:g},p)});function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}function lbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jB(a.key),a)}}function cbe(e,t,n){return t&&wR(e.prototype,t),n&&wR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function NR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(n),!0).forEach(function(a){Bb(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Bb(e,t,n){return t=jB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jB(e){var t=ube(e,"string");return wx(t)=="symbol"?t:t+""}function ube(e,t){if(wx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(wx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wB=function(t,n,a,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,h=Object.keys(n),f={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},p=!!Bi(u,Ch);return h.reduce(function(v,g){var y=n[g],x=y.orientation,j=y.domain,b=y.padding,N=b===void 0?{}:b,P=y.mirror,I=y.reversed,w="".concat(x).concat(P?"Mirror":""),E,C,_,M,k;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=j[1]-j[0],R=1/0,F=y.categoricalDomain.sort(mle);if(F.forEach(function(te,se){se>0&&(R=Math.min((te||0)-(F[se-1]||0),R))}),Number.isFinite(R)){var z=R/D,V=y.layout==="vertical"?a.height:a.width;if(y.padding==="gap"&&(E=z*V/2),y.padding==="no-gap"){var B=uh(t.barCategoryGap,z*V),H=z*V/2;E=H-B-(H-B)/V*B}}}s==="xAxis"?C=[a.left+(N.left||0)+(E||0),a.left+a.width-(N.right||0)-(E||0)]:s==="yAxis"?C=c==="horizontal"?[a.top+a.height-(N.bottom||0),a.top+(N.top||0)]:[a.top+(N.top||0)+(E||0),a.top+a.height-(N.bottom||0)-(E||0)]:C=y.range,I&&(C=[C[1],C[0]]);var G=Eve(y,i,p),Z=G.scale,Q=G.realScaleType;Z.domain(j).range(C),Pve(Z);var $=Lve(Z,cl(cl({},y),{},{realScaleType:Q}));s==="xAxis"?(k=x==="top"&&!P||x==="bottom"&&P,_=a.left,M=f[w]-k*y.height):s==="yAxis"&&(k=x==="left"&&!P||x==="right"&&P,_=f[w]-k*y.width,M=a.top);var K=cl(cl(cl({},y),$),{},{realScaleType:Q,x:_,y:M,scale:Z,width:s==="xAxis"?a.width:y.width,height:s==="yAxis"?a.height:y.height});return K.bandSize=gy(K,$),!y.hide&&s==="xAxis"?f[w]+=(k?-1:1)*K.height:y.hide||(f[w]+=(k?-1:1)*K.width),cl(cl({},v),{},Bb({},g,K))},{})},NB=function(t,n){var a=t.x,s=t.y,i=n.x,o=n.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},dbe=function(t){var n=t.x1,a=t.y1,s=t.x2,i=t.y2;return NB({x:n,y:a},{x:s,y:i})},SB=function(){function e(t){lbe(this,e),this.scale=t}return cbe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();Bb(SB,"EPS",1e-4);var oE=function(t){var n=Object.keys(t).reduce(function(a,s){return cl(cl({},a),{},Bb({},s,SB.create(t[s])))},{});return cl(cl({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Mye(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Uye(s,function(i,o){return n[o].isInRange(i)})}})};function fbe(e){return(e%180+180)%180}var hbe=function(t){var n=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=fbe(s),o=i*Math.PI/180,l=Math.atan(a/n),c=o>l&&o<Math.PI-l?a/Math.sin(o):n/Math.cos(o);return Math.abs(c)},C5,SR;function mbe(){if(SR)return C5;SR=1;var e=Hd(),t=$x(),n=Cb();function a(s){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=n(i),o=function(f){return u(c[f],f,c)}}var h=s(i,o,l);return h>-1?c[u?i[h]:h]:void 0}}return C5=a,C5}var A5,CR;function pbe(){if(CR)return A5;CR=1;var e=mB();function t(n){var a=e(n),s=a%1;return a===a?s?a-s:a:0}return A5=t,A5}var E5,AR;function vbe(){if(AR)return E5;AR=1;var e=M$(),t=Hd(),n=pbe(),a=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=a(c+u,0)),e(i,t(o,3),u)}return E5=s,E5}var P5,ER;function xbe(){if(ER)return P5;ER=1;var e=mbe(),t=vbe(),n=e(t);return P5=n,P5}xbe();var gbe=e$();const ybe=rn(gbe);var bbe=ybe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),CB=S.createContext(void 0),AB=S.createContext(void 0),EB=S.createContext(void 0),jbe=S.createContext({}),PB=S.createContext(void 0),TB=S.createContext(0),IB=S.createContext(0),PR=function(t){var n=t.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,h=bbe(i);return Ne.createElement(CB.Provider,{value:a},Ne.createElement(AB.Provider,{value:s},Ne.createElement(jbe.Provider,{value:i},Ne.createElement(EB.Provider,{value:h},Ne.createElement(PB.Provider,{value:o},Ne.createElement(TB.Provider,{value:u},Ne.createElement(IB.Provider,{value:c},l)))))))},wbe=function(){return S.useContext(PB)},DB=function(t){var n=S.useContext(CB);n==null&&Md();var a=n[t];return a==null&&Md(),a},_B=function(t){var n=S.useContext(AB);n==null&&Md();var a=n[t];return a==null&&Md(),a},Nbe=function(){var t=S.useContext(EB);return t},kB=function(){return S.useContext(IB)},OB=function(){return S.useContext(TB)};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function Sbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cbe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LB(a.key),a)}}function Abe(e,t,n){return t&&Cbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ebe(e,t,n){return t=_y(t),Pbe(e,RB()?Reflect.construct(t,n||[],_y(e).constructor):t.apply(e,n))}function Pbe(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tbe(e)}function Tbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_y(e)}function Ibe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$C(e,t)}function $C(e,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$C(e,t)}function TR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function IR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(n),!0).forEach(function(a){lE(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lE(e,t,n){return t=LB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LB(e){var t=Dbe(e,"string");return Gm(t)=="symbol"?t:t+""}function Dbe(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Gm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _be(e,t){return Lbe(e)||Rbe(e,t)||Obe(e,t)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(e,t){if(e){if(typeof e=="string")return DR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DR(e,t)}}function DR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Rbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Lbe(e){if(Array.isArray(e))return e}function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},BC.apply(this,arguments)}var Fbe=function(t,n){var a;return Ne.isValidElement(t)?a=Ne.cloneElement(t,n):Cr(t)?a=t(n):a=Ne.createElement("line",BC({},n,{className:"recharts-reference-line-line"})),a},Mbe=function(t,n,a,s,i,o,l,c,u){var h=i.x,f=i.y,p=i.width,v=i.height;if(a){var g=u.y,y=t.y.apply(g,{position:o});if(cc(u,"discard")&&!t.y.isInRange(y))return null;var x=[{x:h+p,y},{x:h,y}];return c==="left"?x.reverse():x}if(n){var j=u.x,b=t.x.apply(j,{position:o});if(cc(u,"discard")&&!t.x.isInRange(b))return null;var N=[{x:b,y:f+v},{x:b,y:f}];return l==="top"?N.reverse():N}if(s){var P=u.segment,I=P.map(function(w){return t.apply(w,{position:o})});return cc(u,"discard")&&Oye(I,function(w){return!t.isInRange(w)})?null:I}return null};function $be(e){var t=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=wbe(),h=DB(s),f=_B(i),p=Nbe();if(!u||!p)return null;th(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=oE({x:h.scale,y:f.scale}),g=Ra(t),y=Ra(n),x=a&&a.length===2,j=Mbe(v,g,y,x,p,e.position,h.orientation,f.orientation,e);if(!j)return null;var b=_be(j,2),N=b[0],P=N.x,I=N.y,w=b[1],E=w.x,C=w.y,_=cc(e,"hidden")?"url(#".concat(u,")"):void 0,M=IR(IR({clipPath:_},Dr(e,!0)),{},{x1:P,y1:I,x2:E,y2:C});return Ne.createElement(Jn,{className:Hr("recharts-reference-line",l)},Fbe(o,M),_s.renderCallByParent(e,dbe({x1:P,y1:I,x2:E,y2:C})))}var cE=function(e){function t(){return Sbe(this,t),Ebe(this,t,arguments)}return Ibe(t,e),Abe(t,[{key:"render",value:function(){return Ne.createElement($be,this.props)}}])}(Ne.Component);lE(cE,"displayName","ReferenceLine");lE(cE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qC.apply(this,arguments)}function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function kR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(n),!0).forEach(function(a){qb(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Bbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qbe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MB(a.key),a)}}function zbe(e,t,n){return t&&qbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ube(e,t,n){return t=ky(t),Vbe(e,FB()?Reflect.construct(t,n||[],ky(e).constructor):t.apply(e,n))}function Vbe(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wbe(e)}function Wbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FB=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ky(e)}function Hbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zC(e,t)}function zC(e,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},zC(e,t)}function qb(e,t,n){return t=MB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MB(e){var t=Gbe(e,"string");return Km(t)=="symbol"?t:t+""}function Gbe(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Km(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kbe=function(t){var n=t.x,a=t.y,s=t.xAxis,i=t.yAxis,o=oE({x:s.scale,y:i.scale}),l=o.apply({x:n,y:a},{bandAware:!0});return cc(t,"discard")&&!o.isInRange(l)?null:l},zb=function(e){function t(){return Bbe(this,t),Ube(this,t,arguments)}return Hbe(t,e),zbe(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,u=Ra(s),h=Ra(i);if(th(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var f=Kbe(this.props);if(!f)return null;var p=f.x,v=f.y,g=this.props,y=g.shape,x=g.className,j=cc(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=kR(kR({clipPath:j},Dr(this.props,!0)),{},{cx:p,cy:v});return Ne.createElement(Jn,{className:Hr("recharts-reference-dot",x)},t.renderDot(y,b),_s.renderCallByParent(this.props,{x:p-o,y:v-o,width:2*o,height:2*o}))}}])}(Ne.Component);qb(zb,"displayName","ReferenceDot");qb(zb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qb(zb,"renderDot",function(e,t){var n;return Ne.isValidElement(e)?n=Ne.cloneElement(e,t):Cr(e)?n=e(t):n=Ne.createElement(iE,qC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},UC.apply(this,arguments)}function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(a){Ub(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ybe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xbe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,BB(a.key),a)}}function Qbe(e,t,n){return t&&Xbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jbe(e,t,n){return t=Oy(t),Zbe(e,$B()?Reflect.construct(t,n||[],Oy(e).constructor):t.apply(e,n))}function Zbe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e1e(e)}function e1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oy(e)}function t1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VC(e,t)}function VC(e,t){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},VC(e,t)}function Ub(e,t,n){return t=BB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BB(e){var t=r1e(e,"string");return Ym(t)=="symbol"?t:t+""}function r1e(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n1e=function(t,n,a,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,h=i.xAxis,f=i.yAxis;if(!h||!f)return null;var p=oE({x:h.scale,y:f.scale}),v={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:a?p.y.apply(c,{position:"start"}):p.y.rangeMin},g={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(u,{position:"end"}):p.y.rangeMax};return cc(i,"discard")&&(!p.isInRange(v)||!p.isInRange(g))?null:NB(v,g)},Vb=function(e){function t(){return Ybe(this,t),Jbe(this,t,arguments)}return t1e(t,e),Qbe(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,u=a.alwaysShow,h=a.clipPathId;th(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ra(s),p=Ra(i),v=Ra(o),g=Ra(l),y=this.props.shape;if(!f&&!p&&!v&&!g&&!y)return null;var x=n1e(f,p,v,g,this.props);if(!x&&!y)return null;var j=cc(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Ne.createElement(Jn,{className:Hr("recharts-reference-area",c)},t.renderRect(y,RR(RR({clipPath:j},Dr(this.props,!0)),x)),_s.renderCallByParent(this.props,x))}}])}(Ne.Component);Ub(Vb,"displayName","ReferenceArea");Ub(Vb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ub(Vb,"renderRect",function(e,t){var n;return Ne.isValidElement(e)?n=Ne.cloneElement(e,t):Cr(e)?n=e(t):n=Ne.createElement(sE,UC({},t,{className:"recharts-reference-area-rect"})),n});function qB(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function a1e(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return hbe(a,n)}function s1e(e,t,n){var a=n==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function Ry(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function i1e(e,t){return qB(e,t+1)}function o1e(e,t,n,a,s){for(var i=(a||[]).slice(),o=t.start,l=t.end,c=0,u=1,h=o,f=function(){var g=a?.[c];if(g===void 0)return{v:qB(a,u)};var y=c,x,j=function(){return x===void 0&&(x=n(g,y)),x},b=g.coordinate,N=c===0||Ry(e,b,j,h,l);N||(c=0,h=o,u+=1),N&&(h=b+e*(j()/2+s),c+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nx(e)}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(a){l1e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function l1e(e,t,n){return t=c1e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c1e(e){var t=u1e(e,"string");return Nx(t)=="symbol"?t:t+""}function u1e(e,t){if(Nx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Nx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d1e(e,t,n,a,s){for(var i=(a||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(p){var v=i[p],g,y=function(){return g===void 0&&(g=n(v,p)),g};if(p===o-1){var x=e*(v.coordinate+e*y()/2-c);i[p]=v=Ds(Ds({},v),{},{tickCoord:x>0?v.coordinate-x*e:v.coordinate})}else i[p]=v=Ds(Ds({},v),{},{tickCoord:v.coordinate});var j=Ry(e,v.tickCoord,y,l,c);j&&(c=v.tickCoord-e*(y()/2+s),i[p]=Ds(Ds({},v),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return i}function f1e(e,t,n,a,s,i){var o=(a||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var h=a[l-1],f=n(h,l-1),p=e*(h.coordinate+e*f/2-u);o[l-1]=h=Ds(Ds({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var v=Ry(e,h.tickCoord,function(){return f},c,u);v&&(u=h.tickCoord-e*(f/2+s),o[l-1]=Ds(Ds({},h),{},{isShow:!0}))}for(var g=i?l-1:l,y=function(b){var N=o[b],P,I=function(){return P===void 0&&(P=n(N,b)),P};if(b===0){var w=e*(N.coordinate-e*I()/2-c);o[b]=N=Ds(Ds({},N),{},{tickCoord:w<0?N.coordinate-w*e:N.coordinate})}else o[b]=N=Ds(Ds({},N),{},{tickCoord:N.coordinate});var E=Ry(e,N.tickCoord,I,c,u);E&&(c=N.tickCoord+e*(I()/2+s),o[b]=Ds(Ds({},N),{},{isShow:!0}))},x=0;x<g;x++)y(x);return o}function h1e(e,t,n){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,h=e.unit,f=e.angle;if(!s||!s.length||!a)return[];if(Pt(c)||wp.isSsr)return i1e(s,typeof c=="number"&&Pt(c)?c:0);var p=[],v=l==="top"||l==="bottom"?"width":"height",g=h&&v==="width"?Av(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(N,P){var I=Cr(u)?u(N.value,P):N.value;return v==="width"?a1e(Av(I,{fontSize:t,letterSpacing:n}),g,f):Av(I,{fontSize:t,letterSpacing:n})[v]},x=s.length>=2?ml(s[1].coordinate-s[0].coordinate):1,j=s1e(i,x,v);return c==="equidistantPreserveStart"?o1e(x,j,y,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=f1e(x,j,y,s,o,c==="preserveStartEnd"):p=d1e(x,j,y,s,o),p.filter(function(b){return b.isShow}))}var m1e=["viewBox"],p1e=["viewBox"],v1e=["ticks"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pm.apply(this,arguments)}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(a){uE(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function T5(e,t){if(e==null)return{};var n=x1e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function x1e(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function g1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MR(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,UB(a.key),a)}}function y1e(e,t,n){return t&&MR(e.prototype,t),n&&MR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b1e(e,t,n){return t=Ly(t),j1e(e,zB()?Reflect.construct(t,n||[],Ly(e).constructor):t.apply(e,n))}function j1e(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w1e(e)}function w1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zB=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ly(e)}function N1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WC(e,t)}function WC(e,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},WC(e,t)}function uE(e,t,n){return t=UB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UB(e){var t=S1e(e,"string");return Xm(t)=="symbol"?t:t+""}function S1e(e,t){if(Xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Xm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wb=function(e){function t(n){var a;return g1e(this,t),a=b1e(this,t,[n]),a.state={fontSize:"",letterSpacing:""},a}return N1e(t,e),y1e(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=T5(a,m1e),l=this.props,c=l.viewBox,u=T5(l,p1e);return!jm(i,c)||!jm(o,u)||!jm(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,h=s.tickSize,f=s.mirror,p=s.tickMargin,v,g,y,x,j,b,N=f?-1:1,P=a.tickSize||h,I=Pt(a.tickCoord)?a.tickCoord:a.coordinate;switch(u){case"top":v=g=a.coordinate,x=o+ +!f*c,y=x-N*P,b=y-N*p,j=I;break;case"left":y=x=a.coordinate,g=i+ +!f*l,v=g-N*P,j=v-N*p,b=I;break;case"right":y=x=a.coordinate,g=i+ +f*l,v=g+N*P,j=v+N*p,b=I;break;default:v=g=a.coordinate,x=o+ +f*c,y=x+N*P,b=y+N*p,j=I;break}return{line:{x1:v,y1:y,x2:g,y2:x},tick:{x:j,y:b}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,u=a.mirror,h=a.axisLine,f=Ia(Ia(Ia({},Dr(this.props,!1)),Dr(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=Ia(Ia({},f),{},{x1:s,y1:i+p*l,x2:s+o,y2:i+p*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);f=Ia(Ia({},f),{},{x1:s+v*o,y1:i,x2:s+v*o,y2:i+l})}return Ne.createElement("line",pm({},f,{className:Hr("recharts-cartesian-axis-line",Po(h,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,h=l.tick,f=l.tickFormatter,p=l.unit,v=h1e(Ia(Ia({},this.props),{},{ticks:a}),s,i),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=Dr(this.props,!1),j=Dr(h,!1),b=Ia(Ia({},x),{},{fill:"none"},Dr(c,!1)),N=v.map(function(P,I){var w=o.getTickLineCoord(P),E=w.line,C=w.tick,_=Ia(Ia(Ia(Ia({textAnchor:g,verticalAnchor:y},x),{},{stroke:"none",fill:u},j),C),{},{index:I,payload:P,visibleTicksCount:v.length,tickFormatter:f});return Ne.createElement(Jn,pm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},G0(o.props,P,I)),c&&Ne.createElement("line",pm({},b,E,{className:Hr("recharts-cartesian-axis-tick-line",Po(c,"className"))})),h&&t.renderTickItem(h,_,"".concat(Cr(f)?f(P.value,I):P.value).concat(p||"")))});return Ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,h=s.hide;if(h)return null;var f=this.props,p=f.ticks,v=T5(f,v1e),g=p;return Cr(c)&&(g=p&&p.length>0?c(this.props):c(v)),o<=0||l<=0||!g||!g.length?null:Ne.createElement(Jn,{className:Hr("recharts-cartesian-axis",u),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),_s.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o,l=Hr(s.className,"recharts-cartesian-axis-tick-value");return Ne.isValidElement(a)?o=Ne.cloneElement(a,Ia(Ia({},s),{},{className:l})):Cr(a)?o=a(Ia(Ia({},s),{},{className:l})):o=Ne.createElement(ay,pm({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(S.Component);uE(Wb,"displayName","CartesianAxis");uE(Wb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var C1e=["layout","type","stroke","connectNulls","isRange","ref"],A1e=["key"],VB;function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function WB(e,t){if(e==null)return{};var n=E1e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function E1e(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kf.apply(this,arguments)}function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(n),!0).forEach(function(a){ac(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function P1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GB(a.key),a)}}function T1e(e,t,n){return t&&BR(e.prototype,t),n&&BR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I1e(e,t,n){return t=Fy(t),D1e(e,HB()?Reflect.construct(t,n||[],Fy(e).constructor):t.apply(e,n))}function D1e(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _1e(e)}function _1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!e})()}function Fy(e){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fy(e)}function k1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HC(e,t)}function HC(e,t){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},HC(e,t)}function ac(e,t,n){return t=GB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GB(e){var t=O1e(e,"string");return Qm(t)=="symbol"?t:t+""}function O1e(e,t){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Qm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xd=function(e){function t(){var n;P1e(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=I1e(this,t,[].concat(s)),ac(n,"state",{isAnimationFinished:!0}),ac(n,"id",Mx("recharts-area-")),ac(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Cr(o)&&o()}),ac(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Cr(o)&&o()}),n}return k1e(t,e),T1e(t,[{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,h=c.points,f=c.dataKey,p=Dr(this.props,!1),v=Dr(u,!0),g=h.map(function(x,j){var b=xd(xd(xd({key:"dot-".concat(j),r:3},p),v),{},{index:j,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:h});return t.renderDotItem(u,b)}),y={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return Ne.createElement(Jn,Kf({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(a){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,h=a*Math.abs(c-u),f=Sd(o.map(function(p){return p.y||0}));return Pt(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Sd(i.map(function(p){return p.y||0})),f)),Pt(f)?Ne.createElement("rect",{x:c<u?c:c-h,y:0,width:h,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,h=a*Math.abs(c-u),f=Sd(o.map(function(p){return p.x||0}));return Pt(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Sd(i.map(function(p){return p.x||0})),f)),Pt(f)?Ne.createElement("rect",{x:0,y:c<u?c:c-h,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(a){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,s,i,o){var l=this.props,c=l.layout,u=l.type,h=l.stroke,f=l.connectNulls,p=l.isRange;l.ref;var v=WB(l,C1e);return Ne.createElement(Jn,{clipPath:i?"url(#clipPath-".concat(o,")"):null},Ne.createElement(Tv,Kf({},Dr(v,!0),{points:a,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&Ne.createElement(Tv,Kf({},Dr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})),h!=="none"&&p&&Ne.createElement(Tv,Kf({},Dr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(a,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,h=o.animationBegin,f=o.animationDuration,p=o.animationEasing,v=o.animationId,g=this.state,y=g.prevPoints,x=g.prevBaseLine;return Ne.createElement(mu,{begin:h,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var b=j.t;if(y){var N=y.length/l.length,P=l.map(function(C,_){var M=Math.floor(_*N);if(y[M]){var k=y[M],D=No(k.x,C.x),R=No(k.y,C.y);return xd(xd({},C),{},{x:D(b),y:R(b)})}return C}),I;if(Pt(c)&&typeof c=="number"){var w=No(x,c);I=w(b)}else if(_r(c)||bp(c)){var E=No(x,0);I=E(b)}else I=c.map(function(C,_){var M=Math.floor(_*N);if(x[M]){var k=x[M],D=No(k.x,C.x),R=No(k.y,C.y);return xd(xd({},C),{},{x:D(b),y:R(b)})}return C});return i.renderAreaStatically(P,I,a,s)}return Ne.createElement(Jn,null,Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(b))),Ne.createElement(Jn,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,a,s)))})}},{key:"renderArea",value:function(a,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,h=u.prevPoints,f=u.prevBaseLine,p=u.totalLength;return c&&o&&o.length&&(!h&&p>0||!rx(h,o)||!rx(f,l))?this.renderAreaWithAnimation(a,s):this.renderAreaStatically(o,l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,h=s.left,f=s.xAxis,p=s.yAxis,v=s.width,g=s.height,y=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,b=l.length===1,N=Hr("recharts-area",c),P=f&&f.allowDataOverflow,I=p&&p.allowDataOverflow,w=P||I,E=_r(x)?this.id:x,C=(a=Dr(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},_=C.r,M=_===void 0?3:_,k=C.strokeWidth,D=k===void 0?2:k,R=Nle(o)?o:{},F=R.clipDot,z=F===void 0?!0:F,V=M*2+D;return Ne.createElement(Jn,{className:N},P||I?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(E)},Ne.createElement("rect",{x:P?h:h-v/2,y:I?u:u-g/2,width:P?v:v*2,height:I?g:g*2})),!z&&Ne.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Ne.createElement("rect",{x:h-V/2,y:u-V/2,width:v+V,height:g+V}))):null,b?null:this.renderArea(w,E),(o||b)&&this.renderDots(w,z,E),(!y||j)&&kd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:a.points!==s.curPoints||a.baseLine!==s.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(S.PureComponent);VB=Xd;ac(Xd,"displayName","Area");ac(Xd,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wp.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ac(Xd,"getBaseValue",function(e,t,n,a){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Pt(l)&&typeof l=="number")return l;var c=s==="horizontal"?a:n,u=c.scale.domain();if(c.type==="number"){var h=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ac(Xd,"getComposedData",function(e){var t=e.props,n=e.item,a=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,h=e.dataStartIndex,f=e.displayedData,p=e.offset,v=t.layout,g=u&&u.length,y=VB.getBaseValue(t,n,a,s),x=v==="horizontal",j=!1,b=f.map(function(P,I){var w;g?w=u[h+I]:(w=Xi(P,c),Array.isArray(w)?j=!0:w=[y,w]);var E=w[1]==null||g&&Xi(P,c)==null;return x?{x:i6({axis:a,ticks:i,bandSize:l,entry:P,index:I}),y:E?null:s.scale(w[1]),value:w,payload:P}:{x:E?null:a.scale(w[1]),y:i6({axis:s,ticks:o,bandSize:l,entry:P,index:I}),value:w,payload:P}}),N;return g||j?N=b.map(function(P){var I=Array.isArray(P.value)?P.value[0]:null;return x?{x:P.x,y:I!=null&&P.y!=null?s.scale(I):null}:{x:I!=null?a.scale(I):null,y:P.y}}):N=x?s.scale(y):a.scale(y),xd({points:b,baseLine:N,layout:v,isRange:j},p)});ac(Xd,"renderDotItem",function(e,t){var n;if(Ne.isValidElement(e))n=Ne.cloneElement(e,t);else if(Cr(e))n=e(t);else{var a=Hr("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=WB(t,A1e);n=Ne.createElement(iE,Kf({},i,{key:s,className:a}))}return n});function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function R1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L1e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XB(a.key),a)}}function F1e(e,t,n){return t&&L1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function M1e(e,t,n){return t=My(t),$1e(e,KB()?Reflect.construct(t,n||[],My(e).constructor):t.apply(e,n))}function $1e(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B1e(e)}function B1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KB=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},My(e)}function q1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GC(e,t)}function GC(e,t){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GC(e,t)}function YB(e,t,n){return t=XB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XB(e){var t=z1e(e,"string");return Jm(t)=="symbol"?t:t+""}function z1e(e,t){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},KC.apply(this,arguments)}function U1e(e){var t=e.xAxisId,n=kB(),a=OB(),s=DB(t);return s==null?null:S.createElement(Wb,KC({},s,{className:Hr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Gf(o,!0)}}))}var Zm=function(e){function t(){return R1e(this,t),M1e(this,t,arguments)}return q1e(t,e),F1e(t,[{key:"render",value:function(){return S.createElement(U1e,this.props)}}])}(S.Component);YB(Zm,"displayName","XAxis");YB(Zm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function V1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W1e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ZB(a.key),a)}}function H1e(e,t,n){return t&&W1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G1e(e,t,n){return t=$y(t),K1e(e,QB()?Reflect.construct(t,n||[],$y(e).constructor):t.apply(e,n))}function K1e(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1e(e)}function Y1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$y(e)}function X1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},YC(e,t)}function JB(e,t,n){return t=ZB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZB(e){var t=Q1e(e,"string");return ep(t)=="symbol"?t:t+""}function Q1e(e,t){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(ep(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},XC.apply(this,arguments)}var J1e=function(t){var n=t.yAxisId,a=kB(),s=OB(),i=_B(n);return i==null?null:S.createElement(Wb,XC({},i,{className:Hr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return Gf(l,!0)}}))},tp=function(e){function t(){return V1e(this,t),G1e(this,t,arguments)}return X1e(t,e),H1e(t,[{key:"render",value:function(){return S.createElement(J1e,this.props)}}])}(S.Component);JB(tp,"displayName","YAxis");JB(tp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qR(e){return rje(e)||tje(e)||eje(e)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eje(e,t){if(e){if(typeof e=="string")return QC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(e,t)}}function tje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rje(e){if(Array.isArray(e))return QC(e)}function QC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var JC=function(t,n,a,s,i){var o=pl(t,cE),l=pl(t,zb),c=[].concat(qR(o),qR(l)),u=pl(t,Vb),h="".concat(s,"Id"),f=s[0],p=n;if(c.length&&(p=c.reduce(function(y,x){if(x.props[h]===a&&cc(x.props,"extendDomain")&&Pt(x.props[f])){var j=x.props[f];return[Math.min(y[0],j),Math.max(y[1],j)]}return y},p)),u.length){var v="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(y,x){if(x.props[h]===a&&cc(x.props,"extendDomain")&&Pt(x.props[v])&&Pt(x.props[g])){var j=x.props[v],b=x.props[g];return[Math.min(y[0],j,b),Math.max(y[1],j,b)]}return y},p)}return i&&i.length&&(p=i.reduce(function(y,x){return Pt(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},p)),p},I5={exports:{}},zR;function nje(){return zR||(zR=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function i(c,u,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new s(h,f||c,p),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],v]:c._events[g].push(v):(c._events[g]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new a:delete c._events[u]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)t.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,v=f.length,g=new Array(v);p<v;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,h,f,p,v,g){var y=n?n+u:u;if(!this._events[y])return!1;var x=this._events[y],j=arguments.length,b,N;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),j){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,p),!0;case 5:return x.fn.call(x.context,h,f,p,v),!0;case 6:return x.fn.call(x.context,h,f,p,v,g),!0}for(N=1,b=new Array(j-1);N<j;N++)b[N-1]=arguments[N];x.fn.apply(x.context,b)}else{var P=x.length,I;for(N=0;N<P;N++)switch(x[N].once&&this.removeListener(u,x[N].fn,void 0,!0),j){case 1:x[N].fn.call(x[N].context);break;case 2:x[N].fn.call(x[N].context,h);break;case 3:x[N].fn.call(x[N].context,h,f);break;case 4:x[N].fn.call(x[N].context,h,f,p);break;default:if(!b)for(I=1,b=new Array(j-1);I<j;I++)b[I-1]=arguments[I];x[N].fn.apply(x[N].context,b)}}return!0},l.prototype.on=function(u,h,f){return i(this,u,h,f,!1)},l.prototype.once=function(u,h,f){return i(this,u,h,f,!0)},l.prototype.removeListener=function(u,h,f,p){var v=n?n+u:u;if(!this._events[v])return this;if(!h)return o(this,v),this;var g=this._events[v];if(g.fn)g.fn===h&&(!p||g.once)&&(!f||g.context===f)&&o(this,v);else{for(var y=0,x=[],j=g.length;y<j;y++)(g[y].fn!==h||p&&!g[y].once||f&&g[y].context!==f)&&x.push(g[y]);x.length?this._events[v]=x.length===1?x[0]:x:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l}(I5)),I5.exports}var aje=nje();const sje=rn(aje);var D5=new sje,_5="recharts.syncMouseEvents";function Sx(e){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sx(e)}function ije(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oje(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eq(a.key),a)}}function lje(e,t,n){return t&&oje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k5(e,t,n){return t=eq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eq(e){var t=cje(e,"string");return Sx(t)=="symbol"?t:t+""}function cje(e,t){if(Sx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Sx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uje=function(){function e(){ije(this,e),k5(this,"activeIndex",0),k5(this,"coordinateList",[]),k5(this,"layout","horizontal")}return lje(e,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,h=n.offset,f=h===void 0?null:h,p=n.mouseHandlerCallback,v=p===void 0?null:p;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((a=window)===null||a===void 0?void 0:a.scrollY)||0,f=i+c+u,p=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function dje(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var a=e?.[0],s=e?.[1];if(a&&s&&Pt(a)&&Pt(s))return!0}return!1}function fje(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function tq(e){var t=e.cx,n=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=ds(t,n,a,s),l=ds(t,n,a,i);return{points:[o,l],cx:t,cy:n,radius:a,startAngle:s,endAngle:i}}function hje(e,t,n){var a,s,i,o;if(e==="horizontal")a=t.x,i=a,s=n.top,o=n.top+n.height;else if(e==="vertical")s=t.y,o=s,a=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,h=t.outerRadius,f=t.angle,p=ds(l,c,u,f),v=ds(l,c,h,f);a=p.x,s=p.y,i=v.x,o=v.y}else return tq(t);return[{x:a,y:s},{x:i,y:o}]}function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function i0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(a){mje(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mje(e,t,n){return t=pje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pje(e){var t=vje(e,"string");return Cx(t)=="symbol"?t:t+""}function vje(e,t){if(Cx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Cx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xje(e){var t,n,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,v=(t=a.props.cursor)!==null&&t!==void 0?t:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!v||!i||!o||p!=="ScatterChart"&&s!=="axis")return null;var g,y=Tv;if(p==="ScatterChart")g=o,y=O0e;else if(p==="BarChart")g=fje(f,o,c,h),y=sE;else if(f==="radial"){var x=tq(o),j=x.cx,b=x.cy,N=x.radius,P=x.startAngle,I=x.endAngle;g={cx:j,cy:b,startAngle:P,endAngle:I,innerRadius:N,outerRadius:N},y=iB}else g={points:hje(f,o,c)},y=Tv;var w=i0(i0(i0(i0({stroke:"#ccc",pointerEvents:"none"},c),g),Dr(v,!1)),{},{payload:l,payloadIndex:u,className:Hr("recharts-tooltip-cursor",v.className)});return S.isValidElement(v)?S.cloneElement(v,w):S.createElement(y,w)}var gje=["item"],yje=["children","className","width","height","style","compact","title","desc"];function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vm.apply(this,arguments)}function VR(e,t){return wje(e)||jje(e,t)||nq(e,t)||bje()}function bje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(h){u=!0,s=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function wje(e){if(Array.isArray(e))return e}function WR(e,t){if(e==null)return{};var n=Nje(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Nje(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Sje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cje(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aq(a.key),a)}}function Aje(e,t,n){return t&&Cje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eje(e,t,n){return t=By(t),Pje(e,rq()?Reflect.construct(t,n||[],By(e).constructor):t.apply(e,n))}function Pje(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tje(e)}function Tje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},By(e)}function Ije(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZC(e,t)}function ZC(e,t){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ZC(e,t)}function np(e){return kje(e)||_je(e)||nq(e)||Dje()}function Dje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(e,t){if(e){if(typeof e=="string")return eA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(e,t)}}function _je(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kje(e){if(Array.isArray(e))return eA(e)}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(a){sr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sr(e,t,n){return t=aq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=Oje(e,"string");return rp(t)=="symbol"?t:t+""}function Oje(e,t){if(rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(rp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rje={xAxis:["bottom","top"],yAxis:["left","right"]},Lje={width:"100%",height:"100%"},sq={x:0,y:0};function o0(e){return e}var Fje=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Mje=function(t,n,a,s){var i=n.find(function(h){return h&&h.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return lt(lt(lt({},s),ds(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return lt(lt(lt({},s),ds(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return sq},Hb=function(t,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(a??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(np(l),np(u)):l},[]);return o.length>0?o:t&&t.length&&Pt(s)&&Pt(i)?t.slice(s,i+1):[]};function iq(e){return e==="number"?[0,"auto"]:void 0}var tA=function(t,n,a,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Hb(n,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,u){var h,f=(h=u.props.data)!==null&&h!==void 0?h:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var v=f===void 0?l:f;p=W0(v,o.dataKey,s)}else p=f&&f[a]||l[a];return p?[].concat(np(c),[nB(u,p)]):c},[])},GR=function(t,n,a,s){var i=s||{x:t.chartX,y:t.chartY},o=Fje(i,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,h=jve(o,l,u,c);if(h>=0&&u){var f=u[h]&&u[h].value,p=tA(t,n,h,f),v=Mje(a,l,h,i);return{activeTooltipIndex:h,activeLabel:f,activePayload:p,activeCoordinate:v}}return null},$je=function(t,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,f=t.children,p=t.stackOffset,v=tB(h,i);return a.reduce(function(g,y){var x,j=y.type.defaultProps!==void 0?lt(lt({},y.type.defaultProps),y.props):y.props,b=j.type,N=j.dataKey,P=j.allowDataOverflow,I=j.allowDuplicatedCategory,w=j.scale,E=j.ticks,C=j.includeHidden,_=j[o];if(g[_])return g;var M=Hb(t.data,{graphicalItems:s.filter(function($){var K,te=o in $.props?$.props[o]:(K=$.type.defaultProps)===null||K===void 0?void 0:K[o];return te===_}),dataStartIndex:c,dataEndIndex:u}),k=M.length,D,R,F;dje(j.domain,P,b)&&(D=bC(j.domain,null,P),v&&(b==="number"||w!=="auto")&&(F=Pv(M,N,"category")));var z=iq(b);if(!D||D.length===0){var V,B=(V=j.domain)!==null&&V!==void 0?V:z;if(N){if(D=Pv(M,N,b),b==="category"&&v){var H=hle(D);I&&H?(R=D,D=Ey(0,k)):I||(D=u6(B,D,y).reduce(function($,K){return $.indexOf(K)>=0?$:[].concat(np($),[K])},[]))}else if(b==="category")I?D=D.filter(function($){return $!==""&&!_r($)}):D=u6(B,D,y).reduce(function($,K){return $.indexOf(K)>=0||K===""||_r(K)?$:[].concat(np($),[K])},[]);else if(b==="number"){var G=Ave(M,s.filter(function($){var K,te,se=o in $.props?$.props[o]:(K=$.type.defaultProps)===null||K===void 0?void 0:K[o],oe="hide"in $.props?$.props.hide:(te=$.type.defaultProps)===null||te===void 0?void 0:te.hide;return se===_&&(C||!oe)}),N,i,h);G&&(D=G)}v&&(b==="number"||w!=="auto")&&(F=Pv(M,N,"category"))}else v?D=Ey(0,k):l&&l[_]&&l[_].hasStack&&b==="number"?D=p==="expand"?[0,1]:rB(l[_].stackGroups,c,u):D=eB(M,s.filter(function($){var K=o in $.props?$.props[o]:$.type.defaultProps[o],te="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return K===_&&(C||!te)}),b,h,!0);if(b==="number")D=JC(f,D,_,i,E),B&&(D=bC(B,D,P));else if(b==="category"&&B){var Z=B,Q=D.every(function($){return Z.indexOf($)>=0});Q&&(D=Z)}}return lt(lt({},g),{},sr({},_,lt(lt({},j),{},{axisType:i,domain:D,categoricalDomain:F,duplicateDomain:R,originalDomain:(x=j.domain)!==null&&x!==void 0?x:z,isCategorical:v,layout:h})))},{})},Bje=function(t,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,f=t.children,p=Hb(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:u}),v=p.length,g=tB(h,i),y=-1;return a.reduce(function(x,j){var b=j.type.defaultProps!==void 0?lt(lt({},j.type.defaultProps),j.props):j.props,N=b[o],P=iq("number");if(!x[N]){y++;var I;return g?I=Ey(0,v):l&&l[N]&&l[N].hasStack?(I=rB(l[N].stackGroups,c,u),I=JC(f,I,N,i)):(I=bC(P,eB(p,a.filter(function(w){var E,C,_=o in w.props?w.props[o]:(E=w.type.defaultProps)===null||E===void 0?void 0:E[o],M="hide"in w.props?w.props.hide:(C=w.type.defaultProps)===null||C===void 0?void 0:C.hide;return _===N&&!M}),"number",h),s.defaultProps.allowDataOverflow),I=JC(f,I,N,i)),lt(lt({},x),{},sr({},N,lt(lt({axisType:i},s.defaultProps),{},{hide:!0,orientation:Po(Rje,"".concat(i,".").concat(y%2),null),domain:I,originalDomain:P,isCategorical:g,layout:h})))}return x},{})},qje=function(t,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.children,f="".concat(s,"Id"),p=pl(h,i),v={};return p&&p.length?v=$je(t,{axes:p,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=Bje(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},zje=function(t){var n=hm(t),a=Gf(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:_4(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:gy(n,a)}},KR=function(t){var n=t.children,a=t.defaultShowTooltip,s=Bi(n,Wm),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},Uje=function(t){return!t||!t.length?!1:t.some(function(n){var a=au(n&&n.type);return a&&a.indexOf("Bar")>=0})},YR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vje=function(t,n){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=a.width,h=a.height,f=a.children,p=a.margin||{},v=Bi(f,Wm),g=Bi(f,wm),y=Object.keys(c).reduce(function(I,w){var E=c[w],C=E.orientation;return!E.mirror&&!E.hide?lt(lt({},I),{},sr({},C,I[C]+E.width)):I},{left:p.left||0,right:p.right||0}),x=Object.keys(o).reduce(function(I,w){var E=o[w],C=E.orientation;return!E.mirror&&!E.hide?lt(lt({},I),{},sr({},C,Po(I,"".concat(C))+E.height)):I},{top:p.top||0,bottom:p.bottom||0}),j=lt(lt({},x),y),b=j.bottom;v&&(j.bottom+=v.props.height||Wm.defaultProps.height),g&&n&&(j=Sve(j,s,a,n));var N=u-j.left-j.right,P=h-j.top-j.bottom;return lt(lt({brushBottom:b},j),{},{width:Math.max(N,0),height:Math.max(P,0)})},Wje=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},oq=function(t){var n=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,f=t.defaultProps,p=function(j,b){var N=b.graphicalItems,P=b.stackGroups,I=b.offset,w=b.updateId,E=b.dataStartIndex,C=b.dataEndIndex,_=j.barSize,M=j.layout,k=j.barGap,D=j.barCategoryGap,R=j.maxBarSize,F=YR(M),z=F.numericAxisName,V=F.cateAxisName,B=Uje(N),H=[];return N.forEach(function(G,Z){var Q=Hb(j.data,{graphicalItems:[G],dataStartIndex:E,dataEndIndex:C}),$=G.type.defaultProps!==void 0?lt(lt({},G.type.defaultProps),G.props):G.props,K=$.dataKey,te=$.maxBarSize,se=$["".concat(z,"Id")],oe=$["".concat(V,"Id")],me={},ve=c.reduce(function(xt,gt){var kt=b["".concat(gt.axisType,"Map")],et=$["".concat(gt.axisType,"Id")];kt&&kt[et]||gt.axisType==="zAxis"||Md();var ht=kt[et];return lt(lt({},xt),{},sr(sr({},gt.axisType,ht),"".concat(gt.axisType,"Ticks"),Gf(ht)))},me),pe=ve[V],we=ve["".concat(V,"Ticks")],Se=P&&P[se]&&P[se].hasStack&&Mve(G,P[se].stackGroups),Ce=au(G.type).indexOf("Bar")>=0,ze=gy(pe,we),He=[],ge=B&&wve({barSize:_,stackGroups:P,totalSize:Wje(ve,V)});if(Ce){var le,st,Ie=_r(te)?R:te,Ue=(le=(st=gy(pe,we,!0))!==null&&st!==void 0?st:Ie)!==null&&le!==void 0?le:0;He=Nve({barGap:k,barCategoryGap:D,bandSize:Ue!==ze?Ue:ze,sizeList:ge[oe],maxBarSize:Ie}),Ue!==ze&&(He=He.map(function(xt){return lt(lt({},xt),{},{position:lt(lt({},xt.position),{},{offset:xt.position.offset-Ue/2})})}))}var ct=G&&G.type&&G.type.getComposedData;ct&&H.push({props:lt(lt({},ct(lt(lt({},ve),{},{displayedData:Q,props:j,dataKey:K,item:G,bandSize:ze,barPosition:He,offset:I,stackedData:Se,layout:M,dataStartIndex:E,dataEndIndex:C}))),{},sr(sr(sr({key:G.key||"item-".concat(Z)},z,ve[z]),V,ve[V]),"animationId",w)),childIndex:Ale(G,j.children),item:G})}),H},v=function(j,b){var N=j.props,P=j.dataStartIndex,I=j.dataEndIndex,w=j.updateId;if(!ND({props:N}))return null;var E=N.children,C=N.layout,_=N.stackOffset,M=N.data,k=N.reverseStackOrder,D=YR(C),R=D.numericAxisName,F=D.cateAxisName,z=pl(E,a),V=Rve(M,z,"".concat(R,"Id"),"".concat(F,"Id"),_,k),B=c.reduce(function($,K){var te="".concat(K.axisType,"Map");return lt(lt({},$),{},sr({},te,qje(N,lt(lt({},K),{},{graphicalItems:z,stackGroups:K.axisType===R&&V,dataStartIndex:P,dataEndIndex:I}))))},{}),H=Vje(lt(lt({},B),{},{props:N,graphicalItems:z}),b?.legendBBox);Object.keys(B).forEach(function($){B[$]=h(N,B[$],H,$.replace("Map",""),n)});var G=B["".concat(F,"Map")],Z=zje(G),Q=p(N,lt(lt({},B),{},{dataStartIndex:P,dataEndIndex:I,updateId:w,graphicalItems:z,stackGroups:V,offset:H}));return lt(lt({formattedGraphicalItems:Q,graphicalItems:z,offset:H,stackGroups:V},Z),B)},g=function(x){function j(b){var N,P,I;return Sje(this,j),I=Eje(this,j,[b]),sr(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),sr(I,"accessibilityManager",new uje),sr(I,"handleLegendBBoxUpdate",function(w){if(w){var E=I.state,C=E.dataStartIndex,_=E.dataEndIndex,M=E.updateId;I.setState(lt({legendBBox:w},v({props:I.props,dataStartIndex:C,dataEndIndex:_,updateId:M},lt(lt({},I.state),{},{legendBBox:w}))))}}),sr(I,"handleReceiveSyncEvent",function(w,E,C){if(I.props.syncId===w){if(C===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(E)}}),sr(I,"handleBrushChange",function(w){var E=w.startIndex,C=w.endIndex;if(E!==I.state.dataStartIndex||C!==I.state.dataEndIndex){var _=I.state.updateId;I.setState(function(){return lt({dataStartIndex:E,dataEndIndex:C},v({props:I.props,dataStartIndex:E,dataEndIndex:C,updateId:_},I.state))}),I.triggerSyncEvent({dataStartIndex:E,dataEndIndex:C})}}),sr(I,"handleMouseEnter",function(w){var E=I.getMouseInfo(w);if(E){var C=lt(lt({},E),{},{isTooltipActive:!0});I.setState(C),I.triggerSyncEvent(C);var _=I.props.onMouseEnter;Cr(_)&&_(C,w)}}),sr(I,"triggeredAfterMouseMove",function(w){var E=I.getMouseInfo(w),C=E?lt(lt({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(C),I.triggerSyncEvent(C);var _=I.props.onMouseMove;Cr(_)&&_(C,w)}),sr(I,"handleItemMouseEnter",function(w){I.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),sr(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),sr(I,"handleMouseMove",function(w){w.persist(),I.throttleTriggeredAfterMouseMove(w)}),sr(I,"handleMouseLeave",function(w){I.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};I.setState(E),I.triggerSyncEvent(E);var C=I.props.onMouseLeave;Cr(C)&&C(E,w)}),sr(I,"handleOuterEvent",function(w){var E=Cle(w),C=Po(I.props,"".concat(E));if(E&&Cr(C)){var _,M;/.*touch.*/i.test(E)?M=I.getMouseInfo(w.changedTouches[0]):M=I.getMouseInfo(w),C((_=M)!==null&&_!==void 0?_:{},w)}}),sr(I,"handleClick",function(w){var E=I.getMouseInfo(w);if(E){var C=lt(lt({},E),{},{isTooltipActive:!0});I.setState(C),I.triggerSyncEvent(C);var _=I.props.onClick;Cr(_)&&_(C,w)}}),sr(I,"handleMouseDown",function(w){var E=I.props.onMouseDown;if(Cr(E)){var C=I.getMouseInfo(w);E(C,w)}}),sr(I,"handleMouseUp",function(w){var E=I.props.onMouseUp;if(Cr(E)){var C=I.getMouseInfo(w);E(C,w)}}),sr(I,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),sr(I,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&I.handleMouseDown(w.changedTouches[0])}),sr(I,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&I.handleMouseUp(w.changedTouches[0])}),sr(I,"handleDoubleClick",function(w){var E=I.props.onDoubleClick;if(Cr(E)){var C=I.getMouseInfo(w);E(C,w)}}),sr(I,"handleContextMenu",function(w){var E=I.props.onContextMenu;if(Cr(E)){var C=I.getMouseInfo(w);E(C,w)}}),sr(I,"triggerSyncEvent",function(w){I.props.syncId!==void 0&&D5.emit(_5,I.props.syncId,w,I.eventEmitterSymbol)}),sr(I,"applySyncEvent",function(w){var E=I.props,C=E.layout,_=E.syncMethod,M=I.state.updateId,k=w.dataStartIndex,D=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)I.setState(lt({dataStartIndex:k,dataEndIndex:D},v({props:I.props,dataStartIndex:k,dataEndIndex:D,updateId:M},I.state)));else if(w.activeTooltipIndex!==void 0){var R=w.chartX,F=w.chartY,z=w.activeTooltipIndex,V=I.state,B=V.offset,H=V.tooltipTicks;if(!B)return;if(typeof _=="function")z=_(H,w);else if(_==="value"){z=-1;for(var G=0;G<H.length;G++)if(H[G].value===w.activeLabel){z=G;break}}var Z=lt(lt({},B),{},{x:B.left,y:B.top}),Q=Math.min(R,Z.x+Z.width),$=Math.min(F,Z.y+Z.height),K=H[z]&&H[z].value,te=tA(I.state,I.props.data,z),se=H[z]?{x:C==="horizontal"?H[z].coordinate:Q,y:C==="horizontal"?$:H[z].coordinate}:sq;I.setState(lt(lt({},w),{},{activeLabel:K,activeCoordinate:se,activePayload:te,activeTooltipIndex:z}))}else I.setState(w)}),sr(I,"renderCursor",function(w){var E,C=I.state,_=C.isTooltipActive,M=C.activeCoordinate,k=C.activePayload,D=C.offset,R=C.activeTooltipIndex,F=C.tooltipAxisBandSize,z=I.getTooltipEventType(),V=(E=w.props.active)!==null&&E!==void 0?E:_,B=I.props.layout,H=w.key||"_recharts-cursor";return Ne.createElement(xje,{key:H,activeCoordinate:M,activePayload:k,activeTooltipIndex:R,chartName:n,element:w,isActive:V,layout:B,offset:D,tooltipAxisBandSize:F,tooltipEventType:z})}),sr(I,"renderPolarAxis",function(w,E,C){var _=Po(w,"type.axisType"),M=Po(I.state,"".concat(_,"Map")),k=w.type.defaultProps,D=k!==void 0?lt(lt({},k),w.props):w.props,R=M&&M[D["".concat(_,"Id")]];return S.cloneElement(w,lt(lt({},R),{},{className:Hr(_,R.className),key:w.key||"".concat(E,"-").concat(C),ticks:Gf(R,!0)}))}),sr(I,"renderPolarGrid",function(w){var E=w.props,C=E.radialLines,_=E.polarAngles,M=E.polarRadius,k=I.state,D=k.radiusAxisMap,R=k.angleAxisMap,F=hm(D),z=hm(R),V=z.cx,B=z.cy,H=z.innerRadius,G=z.outerRadius;return S.cloneElement(w,{polarAngles:Array.isArray(_)?_:Gf(z,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(M)?M:Gf(F,!0).map(function(Z){return Z.coordinate}),cx:V,cy:B,innerRadius:H,outerRadius:G,key:w.key||"polar-grid",radialLines:C})}),sr(I,"renderLegend",function(){var w=I.state.formattedGraphicalItems,E=I.props,C=E.children,_=E.width,M=E.height,k=I.props.margin||{},D=_-(k.left||0)-(k.right||0),R=J9({children:C,formattedGraphicalItems:w,legendWidth:D,legendContent:u});if(!R)return null;var F=R.item,z=WR(R,gje);return S.cloneElement(F,lt(lt({},z),{},{chartWidth:_,chartHeight:M,margin:k,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),sr(I,"renderTooltip",function(){var w,E=I.props,C=E.children,_=E.accessibilityLayer,M=Bi(C,ll);if(!M)return null;var k=I.state,D=k.isTooltipActive,R=k.activeCoordinate,F=k.activePayload,z=k.activeLabel,V=k.offset,B=(w=M.props.active)!==null&&w!==void 0?w:D;return S.cloneElement(M,{viewBox:lt(lt({},V),{},{x:V.left,y:V.top}),active:B,label:z,payload:B?F:[],coordinate:R,accessibilityLayer:_})}),sr(I,"renderBrush",function(w){var E=I.props,C=E.margin,_=E.data,M=I.state,k=M.offset,D=M.dataStartIndex,R=M.dataEndIndex,F=M.updateId;return S.cloneElement(w,{key:w.key||"_recharts-brush",onChange:r0(I.handleBrushChange,w.props.onChange),data:_,x:Pt(w.props.x)?w.props.x:k.left,y:Pt(w.props.y)?w.props.y:k.top+k.height+k.brushBottom-(C.bottom||0),width:Pt(w.props.width)?w.props.width:k.width,startIndex:D,endIndex:R,updateId:"brush-".concat(F)})}),sr(I,"renderReferenceElement",function(w,E,C){if(!w)return null;var _=I,M=_.clipPathId,k=I.state,D=k.xAxisMap,R=k.yAxisMap,F=k.offset,z=w.type.defaultProps||{},V=w.props,B=V.xAxisId,H=B===void 0?z.xAxisId:B,G=V.yAxisId,Z=G===void 0?z.yAxisId:G;return S.cloneElement(w,{key:w.key||"".concat(E,"-").concat(C),xAxis:D[H],yAxis:R[Z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:M})}),sr(I,"renderActivePoints",function(w){var E=w.item,C=w.activePoint,_=w.basePoint,M=w.childIndex,k=w.isRange,D=[],R=E.props.key,F=E.item.type.defaultProps!==void 0?lt(lt({},E.item.type.defaultProps),E.item.props):E.item.props,z=F.activeDot,V=F.dataKey,B=lt(lt({index:M,dataKey:V,cx:C.x,cy:C.y,r:4,fill:aE(E.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Dr(z,!1)),H0(z));return D.push(j.renderActiveDot(z,B,"".concat(R,"-activePoint-").concat(M))),_?D.push(j.renderActiveDot(z,lt(lt({},B),{},{cx:_.x,cy:_.y}),"".concat(R,"-basePoint-").concat(M))):k&&D.push(null),D}),sr(I,"renderGraphicChild",function(w,E,C){var _=I.filterFormatItem(w,E,C);if(!_)return null;var M=I.getTooltipEventType(),k=I.state,D=k.isTooltipActive,R=k.tooltipAxis,F=k.activeTooltipIndex,z=k.activeLabel,V=I.props.children,B=Bi(V,ll),H=_.props,G=H.points,Z=H.isRange,Q=H.baseLine,$=_.item.type.defaultProps!==void 0?lt(lt({},_.item.type.defaultProps),_.item.props):_.item.props,K=$.activeDot,te=$.hide,se=$.activeBar,oe=$.activeShape,me=!!(!te&&D&&B&&(K||se||oe)),ve={};M!=="axis"&&B&&B.props.trigger==="click"?ve={onClick:r0(I.handleItemMouseEnter,w.props.onClick)}:M!=="axis"&&(ve={onMouseLeave:r0(I.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:r0(I.handleItemMouseEnter,w.props.onMouseEnter)});var pe=S.cloneElement(w,lt(lt({},_.props),ve));function we(gt){return typeof R.dataKey=="function"?R.dataKey(gt.payload):null}if(me)if(F>=0){var Se,Ce;if(R.dataKey&&!R.allowDuplicatedCategory){var ze=typeof R.dataKey=="function"?we:"payload.".concat(R.dataKey.toString());Se=W0(G,ze,z),Ce=Z&&Q&&W0(Q,ze,z)}else Se=G?.[F],Ce=Z&&Q&&Q[F];if(oe||se){var He=w.props.activeIndex!==void 0?w.props.activeIndex:F;return[S.cloneElement(w,lt(lt(lt({},_.props),ve),{},{activeIndex:He})),null,null]}if(!_r(Se))return[pe].concat(np(I.renderActivePoints({item:_,activePoint:Se,basePoint:Ce,childIndex:F,isRange:Z})))}else{var ge,le=(ge=I.getItemByXY(I.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:pe},st=le.graphicalItem,Ie=st.item,Ue=Ie===void 0?w:Ie,ct=st.childIndex,xt=lt(lt(lt({},_.props),ve),{},{activeIndex:ct});return[S.cloneElement(Ue,xt),null,null]}return Z?[pe,null,null]:[pe,null]}),sr(I,"renderCustomized",function(w,E,C){return S.cloneElement(w,lt(lt({key:"recharts-customized-".concat(C)},I.props),I.state))}),sr(I,"renderMap",{CartesianGrid:{handler:o0,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:o0},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:o0},YAxis:{handler:o0},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((N=b.id)!==null&&N!==void 0?N:Mx("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=Q$(I.triggeredAfterMouseMove,(P=b.throttleDelay)!==null&&P!==void 0?P:1e3/60),I.state={},I}return Ije(j,x),Aje(j,[{key:"componentDidMount",value:function(){var N,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,P=N.children,I=N.data,w=N.height,E=N.layout,C=Bi(P,ll);if(C){var _=C.props.defaultIndex;if(!(typeof _!="number"||_<0||_>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[_]&&this.state.tooltipTicks[_].value,k=tA(this.state,I,_,M),D=this.state.tooltipTicks[_].coordinate,R=(this.state.offset.top+w)/2,F=E==="horizontal",z=F?{x:D,y:R}:{y:D,x:R},V=this.state.formattedGraphicalItems.find(function(H){var G=H.item;return G.type.name==="Scatter"});V&&(z=lt(lt({},z),V.props.points[_].tooltipPosition),k=V.props.points[_].tooltipPayload);var B={activeTooltipIndex:_,isTooltipActive:!0,activeLabel:M,activePayload:k,activeCoordinate:z};this.setState(B),this.renderCursor(C),this.accessibilityManager.setIndex(_)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var I,w;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(N){zS([Bi(N.children,ll)],[Bi(this.props.children,ll)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Bi(this.props.children,ll);if(N&&typeof N.props.shared=="boolean"){var P=N.props.shared?"axis":"item";return l.indexOf(P)>=0?P:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var P=this.container,I=P.getBoundingClientRect(),w=ffe(I),E={chartX:Math.round(N.pageX-w.left),chartY:Math.round(N.pageY-w.top)},C=I.width/P.offsetWidth||1,_=this.inRange(E.chartX,E.chartY,C);if(!_)return null;var M=this.state,k=M.xAxisMap,D=M.yAxisMap,R=this.getTooltipEventType(),F=GR(this.state,this.props.data,this.props.layout,_);if(R!=="axis"&&k&&D){var z=hm(k).scale,V=hm(D).scale,B=z&&z.invert?z.invert(E.chartX):null,H=V&&V.invert?V.invert(E.chartY):null;return lt(lt({},E),{},{xValue:B,yValue:H},F)}return F?lt(lt({},E),F):null}},{key:"inRange",value:function(N,P){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,E=N/I,C=P/I;if(w==="horizontal"||w==="vertical"){var _=this.state.offset,M=E>=_.left&&E<=_.left+_.width&&C>=_.top&&C<=_.top+_.height;return M?{x:E,y:C}:null}var k=this.state,D=k.angleAxisMap,R=k.radiusAxisMap;if(D&&R){var F=hm(D);return h6({x:E,y:C},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,P=this.getTooltipEventType(),I=Bi(N,ll),w={};I&&P==="axis"&&(I.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=H0(this.props,this.handleOuterEvent);return lt(lt({},E),w)}},{key:"addListener",value:function(){D5.on(_5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){D5.removeListener(_5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,P,I){for(var w=this.state.formattedGraphicalItems,E=0,C=w.length;E<C;E++){var _=w[E];if(_.item===N||_.props.key===N.key||P===au(_.item.type)&&I===_.childIndex)return _}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,P=this.state.offset,I=P.left,w=P.top,E=P.height,C=P.width;return Ne.createElement("defs",null,Ne.createElement("clipPath",{id:N},Ne.createElement("rect",{x:I,y:w,height:E,width:C})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(P,I){var w=VR(I,2),E=w[0],C=w[1];return lt(lt({},P),{},sr({},E,C.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(P,I){var w=VR(I,2),E=w[0],C=w[1];return lt(lt({},P),{},sr({},E,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[N])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(N){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[N])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(N){var P=this.state,I=P.formattedGraphicalItems,w=P.activeItem;if(I&&I.length)for(var E=0,C=I.length;E<C;E++){var _=I[E],M=_.props,k=_.item,D=k.type.defaultProps!==void 0?lt(lt({},k.type.defaultProps),k.props):k.props,R=au(k.type);if(R==="Bar"){var F=(M.data||[]).find(function(H){return S0e(N,H)});if(F)return{graphicalItem:_,payload:F}}else if(R==="RadialBar"){var z=(M.data||[]).find(function(H){return h6(N,H)});if(z)return{graphicalItem:_,payload:z}}else if(Mb(_,w)||$b(_,w)||yx(_,w)){var V=mye({graphicalItem:_,activeTooltipItem:w,itemData:D.data}),B=D.activeIndex===void 0?V:D.activeIndex;return{graphicalItem:lt(lt({},_),{},{childIndex:B}),payload:yx(_,w)?D.data[V]:_.props.data[V]}}}return null}},{key:"render",value:function(){var N=this;if(!ND(this))return null;var P=this.props,I=P.children,w=P.className,E=P.width,C=P.height,_=P.style,M=P.compact,k=P.title,D=P.desc,R=WR(P,yje),F=Dr(R,!1);if(M)return Ne.createElement(PR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement(VS,vm({},F,{width:E,height:C,title:k,desc:D}),this.renderClipPath(),CD(I,this.renderMap)));if(this.props.accessibilityLayer){var z,V;F.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,F.role=(V=this.props.role)!==null&&V!==void 0?V:"application",F.onKeyDown=function(H){N.accessibilityManager.keyboardEvent(H)},F.onFocus=function(){N.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return Ne.createElement(PR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement("div",vm({className:Hr("recharts-wrapper",w),style:lt({position:"relative",cursor:"default",width:E,height:C},_)},B,{ref:function(G){N.container=G}}),Ne.createElement(VS,vm({},F,{width:E,height:C,title:k,desc:D,style:Lje}),this.renderClipPath(),CD(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(S.Component);sr(g,"displayName",n),sr(g,"defaultProps",lt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),sr(g,"getDerivedStateFromProps",function(x,j){var b=x.dataKey,N=x.data,P=x.children,I=x.width,w=x.height,E=x.layout,C=x.stackOffset,_=x.margin,M=j.dataStartIndex,k=j.dataEndIndex;if(j.updateId===void 0){var D=KR(x);return lt(lt(lt({},D),{},{updateId:0},v(lt(lt({props:x},D),{},{updateId:0}),j)),{},{prevDataKey:b,prevData:N,prevWidth:I,prevHeight:w,prevLayout:E,prevStackOffset:C,prevMargin:_,prevChildren:P})}if(b!==j.prevDataKey||N!==j.prevData||I!==j.prevWidth||w!==j.prevHeight||E!==j.prevLayout||C!==j.prevStackOffset||!jm(_,j.prevMargin)){var R=KR(x),F={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},z=lt(lt({},GR(j,N,E)),{},{updateId:j.updateId+1}),V=lt(lt(lt({},R),F),z);return lt(lt(lt({},V),v(lt({props:x},V),j)),{},{prevDataKey:b,prevData:N,prevWidth:I,prevHeight:w,prevLayout:E,prevStackOffset:C,prevMargin:_,prevChildren:P})}if(!zS(P,j.prevChildren)){var B,H,G,Z,Q=Bi(P,Wm),$=Q&&(B=(H=Q.props)===null||H===void 0?void 0:H.startIndex)!==null&&B!==void 0?B:M,K=Q&&(G=(Z=Q.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&G!==void 0?G:k,te=$!==M||K!==k,se=!_r(N),oe=se&&!te?j.updateId:j.updateId+1;return lt(lt({updateId:oe},v(lt(lt({props:x},j),{},{updateId:oe,dataStartIndex:$,dataEndIndex:K}),j)),{},{prevChildren:P,dataStartIndex:$,dataEndIndex:K})}return null}),sr(g,"renderActiveDot",function(x,j,b){var N;return S.isValidElement(x)?N=S.cloneElement(x,j):Cr(x)?N=x(j):N=Ne.createElement(iE,j),Ne.createElement(Jn,{className:"recharts-active-dot",key:b},N)});var y=S.forwardRef(function(j,b){return Ne.createElement(g,vm({},j,{ref:b}))});return y.displayName=g.displayName,y},Hje=oq({chartName:"BarChart",GraphicalChild:Ch,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Zm},{axisType:"yAxis",AxisComp:tp}],formatAxisMap:wB}),Gje=oq({chartName:"AreaChart",GraphicalChild:Xd,axisComponents:[{axisType:"xAxis",AxisComp:Zm},{axisType:"yAxis",AxisComp:tp}],formatAxisMap:wB});function Kje(){const{toast:e}=Ht(),[t,n]=S.useState("30d"),[a,s]=S.useState(!1),[i,o]=S.useState("overview"),[l,c]=S.useState([{metric:"Total Leads",value:"2,651",change:"+4.75%",changePercent:"4.75%",category:"leads",trend:"up"},{metric:"Qualified Leads",value:"892",change:"+12.3%",changePercent:"12.3%",category:"leads",trend:"up"},{metric:"Conversion Rate",value:"24.5%",change:"-1.2%",changePercent:"1.2%",category:"leads",trend:"down"},{metric:"Avg Response Time",value:"3.2 hrs",change:"-0.8 hrs",changePercent:"20%",category:"leads",trend:"up"},{metric:"Total Revenue",value:"$1,245,890",change:"+8.3%",changePercent:"8.3%",category:"sales",trend:"up"},{metric:"Units Sold",value:"87",change:"+12.4%",changePercent:"12.4%",category:"sales",trend:"up"},{metric:"Avg Deal Size",value:"$14,320",change:"-2.1%",changePercent:"2.1%",category:"sales",trend:"down"},{metric:"Gross Profit Margin",value:"22.4%",change:"+1.5%",changePercent:"1.5%",category:"sales",trend:"up"}]),[u,h]=S.useState([{name:"Website",value:1245},{name:"Referral",value:654},{name:"Social Media",value:432},{name:"Trade Show",value:320}]),[f,p]=S.useState([{name:"Motorhomes",value:52e4},{name:"Travel Trailers",value:38e4},{name:"Fifth Wheels",value:245e3},{name:"Toy Haulers",value:1e5}]),v=async()=>{s(!0);try{await new Promise(x=>setTimeout(x,1500)),e({title:"Dashboard Refreshed",description:"Latest data has been loaded."})}catch{e({title:"Error",description:"Failed to refresh dashboard data.",variant:"destructive"})}finally{s(!1)}},g=()=>{e({title:"Export Started",description:"Your dashboard report is being prepared for download."}),setTimeout(()=>{e({title:"Export Complete",description:"Your dashboard report has been downloaded."})},2e3)},y=x=>{n(x),s(!0),setTimeout(()=>{s(!1)},1e3)};return r.jsx("div",{className:"space-y-6",children:r.jsxs(ye,{className:"shadow-sm",children:[r.jsx(Pe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Te,{className:"flex items-center",children:[r.jsx(Oa,{className:"h-5 w-5 mr-2 text-primary"}),"Dashboard Report"]}),r.jsx(tt,{children:"Key performance indicators and business metrics"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Xe,{value:t,onValueChange:y,children:[r.jsxs(Ke,{className:"w-[150px]",children:[r.jsx(gn,{className:"h-4 w-4 mr-2"}),r.jsx(Qe,{})]}),r.jsxs(Ye,{children:[r.jsx(ee,{value:"7d",children:"Last 7 Days"}),r.jsx(ee,{value:"30d",children:"Last 30 Days"}),r.jsx(ee,{value:"90d",children:"Last 90 Days"}),r.jsx(ee,{value:"ytd",children:"Year to Date"}),r.jsx(ee,{value:"1y",children:"Last Year"})]})]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:v,disabled:a,children:[a?r.jsx(z5,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(z5,{className:"h-4 w-4 mr-2"}),"Refresh"]}),r.jsxs(ae,{variant:"outline",size:"sm",onClick:g,children:[r.jsx(bi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),r.jsx(be,{children:r.jsxs(Or,{value:i,onValueChange:o,className:"space-y-4",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"overview",children:"Overview"}),r.jsx(ut,{value:"leads",children:"Leads & Marketing"}),r.jsx(ut,{value:"sales",children:"Sales & Revenue"})]}),r.jsxs(ft,{value:"overview",className:"space-y-4",children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:l.filter(x=>x.category==="leads"||x.category==="sales").slice(0,4).map((x,j)=>r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:x.metric}),x.trend==="up"?r.jsx(ar,{className:"h-4 w-4 text-green-500"}):r.jsx(gm,{className:"h-4 w-4 text-red-500"})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-2xl font-bold",children:x.value}),r.jsxs("p",{className:ot("text-xs",x.trend==="up"?"text-green-600":"text-red-600"),children:[x.change," from last period"]})]})]})},j))}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Leads by Source"}),r.jsx(tt,{children:"Distribution of leads across different sources"})]}),r.jsx(be,{className:"h-64",children:r.jsx(Gk,{width:"100%",height:"100%",children:r.jsxs(Hje,{data:u,children:[r.jsx(Zm,{dataKey:"name",tick:{fontSize:10}}),r.jsx(tp,{tickFormatter:x=>x.toLocaleString(),tick:{fontSize:10}}),r.jsx(ll,{formatter:x=>x.toLocaleString()}),r.jsx(Ch,{dataKey:"value",fill:"#8884d8"})]})})})]}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Sales by Product Category"}),r.jsx(tt,{children:"Revenue generated by different product categories"})]}),r.jsx(be,{className:"h-64",children:r.jsx(Gk,{width:"100%",height:"100%",children:r.jsxs(Gje,{data:f,children:[r.jsx(Zm,{dataKey:"name",tick:{fontSize:10}}),r.jsx(tp,{tickFormatter:x=>Me(x),tick:{fontSize:10}}),r.jsx(ll,{formatter:x=>Me(x)}),r.jsx(Xd,{type:"monotone",dataKey:"value",stroke:"#82ca9d",fill:"#82ca9d"})]})})})]})]})]}),r.jsxs(ft,{value:"leads",className:"space-y-4",children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:l.filter(x=>x.category==="leads").map((x,j)=>r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:x.metric}),x.trend==="up"?r.jsx(ar,{className:"h-4 w-4 text-green-500"}):r.jsx(gm,{className:"h-4 w-4 text-red-500"})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-2xl font-bold",children:x.value}),r.jsxs("p",{className:ot("text-xs",x.trend==="up"?"text-green-600":"text-red-600"),children:[x.change," from last period"]})]})]})},j))}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Lead Conversion Funnel"}),r.jsx(tt,{children:"Visual representation of lead progression"})]}),r.jsx(be,{children:r.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-md",children:r.jsx("p",{className:"text-muted-foreground",children:"Funnel Chart Placeholder"})})})]})]}),r.jsxs(ft,{value:"sales",className:"space-y-4",children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:l.filter(x=>x.category==="sales").map((x,j)=>r.jsx(ye,{className:"shadow-sm",children:r.jsxs(be,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:x.metric}),x.trend==="up"?r.jsx(ar,{className:"h-4 w-4 text-green-500"}):r.jsx(gm,{className:"h-4 w-4 text-red-500"})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-2xl font-bold",children:x.value}),r.jsxs("p",{className:ot("text-xs",x.trend==="up"?"text-green-600":"text-red-600"),children:[x.change," from last period"]})]})]})},j))}),r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{children:"Revenue Trend"}),r.jsx(tt,{children:"Monthly revenue over the selected timeframe"})]}),r.jsx(be,{children:r.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-md",children:r.jsx("p",{className:"text-muted-foreground",children:"Revenue Trend Chart Placeholder"})})})]})]})]})})]})})}const Yje=[{id:"1",name:"Monthly Sales Report",type:vn.SALES,module:"sales",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-20"),generatedBy:"admin"},{id:"2",name:"Inventory Valuation",type:vn.INVENTORY,module:"inventory",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-19"),generatedBy:"manager"},{id:"3",name:"Service Revenue Analysis",type:vn.SERVICE,module:"service",filters:[],columns:[],data:[],generatedAt:new Date("2024-01-18"),generatedBy:"admin"}],XR=[{id:"sales-summary",name:"Sales Summary",description:"Overview of sales performance and metrics",type:vn.SALES,icon:lr,color:"from-green-50 to-green-100/50"},{id:"inventory-report",name:"Inventory Report",description:"Current inventory levels and valuation",type:vn.INVENTORY,icon:Rs,color:"from-blue-50 to-blue-100/50"},{id:"customer-analysis",name:"Customer Analysis",description:"Customer demographics and behavior insights",type:vn.CUSTOM,icon:Na,color:"from-purple-50 to-purple-100/50"},{id:"financial-overview",name:"Financial Overview",description:"Revenue, expenses, and profitability analysis",type:vn.FINANCIAL,icon:ar,color:"from-orange-50 to-orange-100/50"}];function QR(){const[e,t]=S.useState(Yje),{reportData:n,reportColumns:a,loading:s,currentReportConfig:i,generateReport:o,exportToCSV:l}=Soe(),[c,u]=S.useState("dashboard"),[h,f]=S.useState(null),p=S.useRef(null),[v,g]=S.useState(!1),y=P=>{switch(P){case vn.SALES:return"bg-green-50 text-green-700 border-green-200";case vn.INVENTORY:return"bg-blue-50 text-blue-700 border-blue-200";case vn.SERVICE:return"bg-purple-50 text-purple-700 border-purple-200";case vn.FINANCIAL:return"bg-orange-50 text-orange-700 border-orange-200";case vn.CUSTOM:return"bg-gray-50 text-gray-700 border-gray-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},x=P=>{o(P)},j=()=>{l()},b=P=>{const I={type:P.type,name:P.name,dateRange:{startDate:new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]},filters:{}};console.log("handleGenerateTemplateReport called with config:",I),f(I),u("generator"),o(I)},N=()=>{u("generator"),f(null),g(!0),console.log("Create Report button clicked!")};return S.useEffect(()=>{v&&p.current&&(p.current.scrollIntoView({behavior:"smooth",block:"start"}),g(!1))},[v,p]),r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"ri-page-header",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"ri-page-title",children:"Reporting Suite"}),r.jsx("p",{className:"ri-page-description",children:"Generate insights and analytics for your dealership"})]}),r.jsxs(ae,{className:"shadow-sm",onClick:N,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Create Report"]})]})}),r.jsxs("div",{className:"ri-stats-grid",children:[r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 to-blue-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-blue-900",children:"Total Reports"}),r.jsx(Oa,{className:"h-4 w-4 text-blue-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.length}),r.jsxs("p",{className:"text-xs text-blue-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"All reports"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-green-50 to-green-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-green-900",children:"This Month"}),r.jsx(Oa,{className:"h-4 w-4 text-green-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-green-900",children:e.filter(P=>P.generatedAt.getMonth()===new Date().getMonth()).length}),r.jsxs("p",{className:"text-xs text-green-600 flex items-center mt-1",children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"Generated this month"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-yellow-50 to-yellow-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-yellow-900",children:"Scheduled"}),r.jsx(Oa,{className:"h-4 w-4 text-yellow-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:"5"}),r.jsxs("p",{className:"text-xs text-yellow-600 flex items-center mt-1",children:[r.jsx(Oa,{className:"h-3 w-3 mr-1"}),"Automated reports"]})]})]}),r.jsxs(ye,{className:"shadow-sm border-0 bg-gradient-to-br from-orange-50 to-orange-100/50",children:[r.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Te,{className:"text-sm font-medium text-orange-900",children:"Templates"}),r.jsx(Oa,{className:"h-4 w-4 text-orange-600"})]}),r.jsxs(be,{children:[r.jsx("div",{className:"text-2xl font-bold text-orange-900",children:XR.length}),r.jsxs("p",{className:"text-xs text-orange-600 flex items-center mt-1",children:[r.jsx(Oa,{className:"h-3 w-3 mr-1"}),"Available templates"]})]})]})]}),r.jsxs(Or,{value:c,onValueChange:u,className:"space-y-6",children:[r.jsxs(kr,{className:"grid w-full grid-cols-3",children:[r.jsx(ut,{value:"dashboard",children:"Dashboard"}),r.jsx(ut,{value:"generator",children:"Report Generator"}),r.jsx(ut,{value:"saved",children:"Saved Reports"})]}),r.jsx(ft,{value:"dashboard",children:r.jsx(Kje,{})}),r.jsxs(ft,{value:"generator",children:[r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Report Templates"}),r.jsx(tt,{children:"Quick start templates for common reports"})]}),r.jsx(be,{children:r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:XR.map(P=>r.jsx(ye,{className:ot("overflow-hidden shadow-sm hover:shadow-md transition-shadow cursor-pointer border-0 bg-gradient-to-br",P.color),children:r.jsxs(be,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx(P.icon,{className:"h-8 w-8 text-primary"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-foreground",children:P.name}),r.jsx(Ze,{className:ot("ri-badge-status mt-1",y(P.type)),children:P.type.toUpperCase()})]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:P.description}),r.jsx(ae,{size:"sm",className:"w-full shadow-sm",onClick:()=>b(P),children:"Generate Report"})]})},P.id))})})]}),r.jsxs("div",{ref:p,children:[" ",r.jsx(boe,{onGenerate:x,onExportCSV:j,isGenerating:s,hasData:n.length>0,initialReportConfig:h})]}),n.length>0&&i&&r.jsx(Noe,{reportType:i.type,reportName:i.name,data:n,columns:a,onExportCSV:j})]}),r.jsx(ft,{value:"saved",children:e.length>0&&r.jsxs(ye,{className:"shadow-sm",children:[r.jsxs(Pe,{children:[r.jsx(Te,{className:"text-xl",children:"Saved Reports"}),r.jsx(tt,{children:"Previously generated reports"})]}),r.jsx(be,{children:r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r.jsx("p",{children:"Select a report template above to generate a new report"})})})]})})]})]})}function Xje(){return r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(QR,{})}),r.jsx(vr,{path:"/*",element:r.jsx(QR,{})})]})}function Qje(){return r.jsx(KV,{defaultTheme:"light",storageKey:"renter-insight-theme",children:r.jsx(VV,{children:r.jsx(Kz,{children:r.jsx(WV,{children:r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsxs(ei,{children:[r.jsx(vr,{path:"/login",element:r.jsx(yQ,{})}),r.jsx(vr,{path:"/*",element:r.jsx(bQ,{children:r.jsx(GH,{children:r.jsxs(ei,{children:[r.jsx(vr,{path:"/",element:r.jsx(gQ,{})}),r.jsx(vr,{path:"/crm/*",element:r.jsx(kJ,{})}),r.jsx(vr,{path:"/inventory/*",element:r.jsx(MZ,{})}),r.jsx(vr,{path:"/deals/*",element:r.jsx(xse,{})}),r.jsx(vr,{path:"/finance/*",element:r.jsx(WZ,{})}),r.jsx(vr,{path:"/quotes/*",element:r.jsx(qZ,{})}),r.jsx(vr,{path:"/agreements/*",element:r.jsx(yse,{})}),r.jsx(vr,{path:"/service/*",element:r.jsx(Eie,{})}),r.jsx(vr,{path:"/pdi/*",element:r.jsx(Uie,{})}),r.jsx(vr,{path:"/delivery/*",element:r.jsx(Rie,{})}),r.jsx(vr,{path:"/commissions/*",element:r.jsx(Qie,{})}),r.jsx(vr,{path:"/portal/*",element:r.jsx(roe,{})}),r.jsx(vr,{path:"/invoices/*",element:r.jsx(ooe,{})}),r.jsx(vr,{path:"/settings/*",element:r.jsx(moe,{})}),r.jsx(vr,{path:"/admin/*",element:r.jsx(yoe,{})}),r.jsx(vr,{path:"/admin/settings/*",element:r.jsx(iJ,{})}),r.jsx(vr,{path:"/reports/*",element:r.jsx(Xje,{})})]})})})})]}),r.jsx(UV,{})]})})})})})}Xq.createRoot(document.getElementById("root")).render(r.jsx(Qje,{}));export{YZ as _,hv as c,rn as g};
